head	1.32;
access;
symbols
	suikawiki3-final:1.32
	before-db-leaffile:1.5
	after-upgrade-to-suikawiki-3:1.5
	before-fork-suikawiki3:1.5
	after-restore-20040122:1.5;
locks; strict;
comment	@# @;


1.32
date	2008.10.23.03.19.01;	author wakaba;	state Exp;
branches;
next	1.31;

1.31
date	2008.10.18.03.22.42;	author wakaba;	state Exp;
branches;
next	1.30;

1.30
date	2008.10.13.03.22.22;	author wakaba;	state Exp;
branches;
next	1.29;

1.29
date	2008.09.13.03.01.56;	author wakaba;	state Exp;
branches;
next	1.28;

1.28
date	2008.03.27.02.59.12;	author wakaba;	state Exp;
branches;
next	1.27;

1.27
date	2008.03.03.03.14.29;	author wakaba;	state Exp;
branches;
next	1.26;

1.26
date	2007.10.08.03.50.36;	author wakaba;	state Exp;
branches;
next	1.25;

1.25
date	2007.09.08.03.01.56;	author wakaba;	state Exp;
branches;
next	1.24;

1.24
date	2007.08.31.03.16.35;	author wakaba;	state Exp;
branches;
next	1.23;

1.23
date	2007.03.23.02.54.18;	author wakaba;	state Exp;
branches;
next	1.22;

1.22
date	2006.07.13.02.19.14;	author wakaba;	state Exp;
branches;
next	1.21;

1.21
date	2006.06.08.02.16.51;	author wakaba;	state Exp;
branches;
next	1.20;

1.20
date	2006.05.23.02.19.24;	author wakaba;	state Exp;
branches;
next	1.19;

1.19
date	2006.03.23.02.15.41;	author wakaba;	state Exp;
branches;
next	1.18;

1.18
date	2006.02.23.02.22.02;	author wakaba;	state Exp;
branches;
next	1.17;

1.17
date	2006.02.18.02.18.18;	author wakaba;	state Exp;
branches;
next	1.16;

1.16
date	2006.01.13.02.14.20;	author wakaba;	state Exp;
branches;
next	1.15;

1.15
date	2005.10.03.02.29.06;	author wakaba;	state Exp;
branches;
next	1.14;

1.14
date	2005.09.23.02.11.47;	author wakaba;	state Exp;
branches;
next	1.13;

1.13
date	2005.09.18.02.09.52;	author wakaba;	state Exp;
branches;
next	1.12;

1.12
date	2005.07.18.02.10.42;	author wakaba;	state Exp;
branches;
next	1.11;

1.11
date	2005.07.08.02.07.49;	author wakaba;	state Exp;
branches;
next	1.10;

1.10
date	2005.07.03.02.11.49;	author wakaba;	state Exp;
branches;
next	1.9;

1.9
date	2005.06.23.02.08.29;	author wakaba;	state Exp;
branches;
next	1.8;

1.8
date	2005.03.18.02.06.25;	author wakaba;	state Exp;
branches;
next	1.7;

1.7
date	2005.03.08.02.07.21;	author wakaba;	state Exp;
branches;
next	1.6;

1.6
date	2004.06.03.02.08.01;	author wakaba;	state Exp;
branches;
next	1.5;

1.5
date	2004.01.08.02.03.44;	author wakaba;	state Exp;
branches;
next	1.4;

1.4
date	2003.12.13.02.03.05;	author wakaba;	state Exp;
branches;
next	1.3;

1.3
date	2003.10.27.02.03.14;	author wakaba;	state Exp;
branches;
next	1.2;

1.2
date	2003.10.03.02.02.09;	author wakaba;	state Exp;
branches;
next	1.1;

1.1
date	2003.06.06.12.26.42;	author make;	state Exp;
branches;
next	;


desc
@@


1.32
log
@auto-committed
@
text
@

* SGML での名前

[5] 

>
:名前 (name):
最初の[[文字]]が[[名前開始文字]]である[[名前字句]]。
([[JIS X 4151]]‐1992 3. (194))

[6] 名前の長さは [CODE(SGML)[[[NAMELEN]]]] 以下でなければなりません。 (8.3.1 参照。)

[7] 名前は、 [CODE(SGML)[[[NAMECASE]]]] 
引数の指定によっては対応する[[大文字]]に置換されます。 (8.3 参照。)

[50]
yt
([[名無しさん]] [WEAK[2007-08-27 13:31:41 +00:00]])

[[#comment]]


** XML での名前

- [9] [CODE(ABNF)[[DFN[[RUBYB[名前] [Name]]]] := (Letter / "_" / ":") *名前文字 ;; XML 1.0 [5] ]]
- [8] [CODE(ABNF)[[DFN[[RUBYB[名前文字] [NameChar]]]] := Letter / [RUBYB[数字] [Digit]] / "." / "-" / "_" / ":" / [RUBYB[結合文字] [CombiningChar]] / [RUBYB[拡張子] [Extender]] ;; XML 1.0 [4] ]]

[31]
仕様書:
- [[XML 1]]
-- <IW:XML1:"#dt-name">

[11] [[XML 1]] で[CODE(ABNF)[名前]]が使用される場所
(括弧内は[[XML名前空間]]における制約):
- [[処理指令]]の[[対象名]] (注 >>10) ([CODE@@en[[[NCName]]]])
- [[要素型名]]
-- [[文書型名]] ([CODE@@en[[[QName]]]])
-- [[開始タグ]], [[空要素タグ]], [[終了タグ]]中の[CODE(ABNF)[[[名前]]]]
([[名前空間接頭辞]]が[[宣言]]された[CODE@@en[[[QName]]]])
-- [[要素型宣言]]中の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[QName]]]])
-- [[属性定義並び宣言]]中の[CODE(ABNF)[[[名前]]]] 
([CODE@@en[[[QName]]]])
-- [[モデル群]]中の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[QName]]]])
- [[属性名]]
-- [[属性指定]]中の[CODE(ABNF)[[[名前]]]]
([[名前空間接頭辞]]が[[宣言]]された[CODE@@en[[[QName]]]])
-- [[属性定義]]中の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[QName]]]])
- [[識別子]] ([CODE@@en[[[NCName]]]]なら[[名前空間妥当]])
-- [[識別子属性]] ([CODE(XML)@@en[[[ID]]]]), [[識別子参照属性]]
([CODE(ABNF)@@en[[[IDREF]]]], [CODE(ABNF)@@en[[[IDREFS]]]])
の値 ([[開始タグ]]内, [[空要素タグ]]内,
[[属性定義]]内の[[属性値表記]]の値)
- [[実体名]]
-- [[実体宣言]]内の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[NCName]]]])
-- [[実体参照]]内の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[NCName]]]])
-- [[実体属性]] ([CODE(XML)@@en[[[ENTITY]]]], 
[CODE(XML)@@en[[[ENTITIES]]]]) の値 ([[開始タグ]]内, [[空要素タグ]]内,
[[属性定義]]内の[[属性値表記]]の値)
([CODE@@en[[[NCName]]]]なら[[名前空間妥当]])
- [[記法名]]
-- [[記法宣言]]内の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[NCName]]]])
-- [[記法属性]] ([CODE(XML)@@en[[[NOTATION]]]])
の[[属性定義]]内の[[名前群]]中の[CODE(ABNF)[[[名前]]]] 
([CODE@@en[[[NCName]]]])
-- [[記法属性]] ([CODE(XML)@@en[[[NOTATION]]]])
の値 ([[開始タグ]]内, [[空要素タグ]]内,
[[属性定義]]内の[[属性値表記]]の値)
([CODE@@en[[[NCName]]]]なら[[名前空間妥当]])

[12] コロン [CODE(XML)[:]] を含む[CODE(ABNF)[名前]]は、
普通は [[XML名前空間]]仕様書に従って解釈されます。
しかしながら、 XML 1.0 仕様書は、 
XML 名前空間的に不正な[CODE(ABNF)[名前]]も扱えることを
XML [[処理系]]に要求しています。

実際、稀ではありますが XML 名前空間に従わない
[CODE(XML)[:]] を含む[CODE(ABNF)[名前]]が使われることがあります。[WEAK[そのほとんどは過去の遺物。]]

[[#comment]]


** [CODE@@en[XML]]で始まる名前

[10] 1文字目から3文字目が [CODE(ABNF)["XML"]]
(大文字・小文字を問わない。) である[CODE(ABNF)[名前]]は、
XML 及び関連仕様によって予約されています。
<http://www.w3.org/TR/REC-xml#dt-name> を参照。

この制限は[CODE(ABNF)[名前]]が使われるすべての場面に影響します。
しかし、その使用がまったく禁止されているのではなく、
[[W3C]] が認めていない使用が禁止されているのだということに注意してください。

ただし、[[処理指令]]の[[対象名]]は、 [CODE(ABNF)["XML"]] 
と丁度一致するものを''除く''[CODE(ABNF)[名前]]と定義されています。
よって、[WEAK[大文字・小文字を問わず]] [SAMP(XML)[<?XML?>]] 
のような処理指令に見えるものが [WEAK[XML 宣言以外で]]文書中にあれば、
その文書は[[整形式]]ですらありません。
[WEAK[ですから、 XML 的には [[XML宣言]]は処理指令ではないのです。]]

- [33] [[XML 1.0]]および[[XML 1.1]]は、最初の3文字が[CODE@@en[[[XML]]]] 
([[大文字]]・[[小文字]]を''問いません''。)
であるような'''[[名前]]'''を[[予約]]しています。
- [32] [[XML名前空間 1.0]]および[[XML名前空間 1.1]]は、
最初の3文字が[CODE@@en[[[XML]]]] 
([[大文字]]・[[小文字]]を''問いません''。)
であるような'''[[名前空間接頭辞]]'''を[[予約]]しています。
- [34] [[XML名前空間 1.0]]および[[XML名前空間 1.1]]は、
最初の3文字が[CODE@@en[[[XML]]]] 
([[大文字]]・[[小文字]]を''問いません''。)
であるような'''[[局所名]]'''をすすめられないと述べています。
- [35] [[XML 1.0]]および[[XML 1.1]]は[[処理指令]]のようなものの[[対象名]]のようなものとして[CODE(XML)@@en[[[xml]]]]を定義しています
([[XML宣言]]および[[文宣言]])。
- [41] [[処理指令]]の[[対象名]]として[CODE(XMLa)@@en[[[xml-stylesheet]]]]が定義されています。
- [36] [[XML名前空間 1.0]]および[[XML名前空間 1.1]]は[[名前空間接頭辞]]として[CODE(XML)@@en[[[xml]]]]および[CODE(XML)@@en[[[xmlns]]]]を定義しています。
- [37] [[XML 1.0]]および[[XML 1.1]]は[[属性名]]として[CODE(XMLa)@@en[[[xml]]:[[lang]]]]および[CODE(XMLa)@@en[[[xml]]:[[space]]]]を定義しています。
- [38] [[XML名前空間 1.0]]および[[XML名前空間 1.1]]は[[属性名]]として[CODE(XMLa)@@en[[[xmlns]]]]を定義しています。
- [39] [[XML基底]]は[[属性名]]として[CODE(XMLa)@@en[[[xml]]:[[base]]]]を定義しています。
- [40] [[属性名]]として[CODE(XMLa)@@en[[[xml]]:[[id]]]]が定義されています。

- [13] ''xml で始まる名前 - 2003年12月 - マーク付けノート'' <http://www.satoshii.org/markup/notes/2003/12#date12-4>: >>10 の話
- [14] >>13 には [Q[[CODE[id="XML-foo"]] は OK, [CODE[id="XML"]] は NG]<http://www.satoshii.org/markup/notes/2003/12#date12-4>] と書かれていますけど、どちらも駄目ではありませんか。

[15]
[[XMLspec]] [[DTD]] では [CODE(XML)[xml]] で始まる[[引数実体]]が使われています。
([[名無しさん]] [sage])

[16] 
[[XMPP]] ([[RFC 3920]]) では 
[CODE(XMLe)[[[xml-not-well-formed]]]] という[[要素型]]が定義されており、
[[名前空間接頭辞]]なしで使われています。

[17]
[CODE(XMLe)[[QN[p:[[master]]] [urn:schemas-microsoft-com:office:powerpoint]]]]
[[要素]]には [CODE(XMLa)[[[xmlhref]]]] [[属性]]があります。
[SRC[PP11]]
([[名無しさん]] [sage])

[18]
[[NCName]] や [[QName]] を流用している [[XML名前空間]]以外の規格は多々ありますが、そこにも [Q[[CODE(XML)[xml]] で始まるものは予約]]という規則が継承されているかどうかは、ほとんどの場合極めて微妙なところです。

例として [[XML Schema]] データ型における定義を見てみましょう。

[CITE[XML Schema Part 2: Datatypes Second Edition]] <http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/#QName>

> [Definition:]   QName represents XML qualified names. The &#183;value space&#183; of QName is the set of tuples {namespace name, local part}, where namespace name is an anyURI and local part is an NCName. The &#183;lexical space&#183; of QName is the set of strings that &#183;match&#183; the QName production of [Namespaces in XML].
> Note:  The mapping between literals in the &#183;lexical space&#183; and values in the &#183;value space&#183; of QName requires a namespace declaration to be in scope for the context in which QName is used. 

[Q@@en[QName represents XML qualified names]]
の [Q[XML qualified names]] の部分が引用元では [[XML名前空間 1.0]]
の [Q@@en[qualified name]] という語にリンクされています。
そのリンク先の説明は
[Q@@en[some names (constructs corresponding to the nonterminal Name) may be given as [DFN[qualified names]]]]
で、 [Q@@en[Name]] の部分が [[XML 1.0]] の生成規則の定義へのリンクになっています。
[[XML 1.0]] によれば [Q@@en[names]] は件の予約がなされています。

と結論づけるのが妥当だと思うのですが、普通に [[XML Schema]]
データ型を利用しようと思い立った人は絶対こんなところまでたどりつけませんって(w

同じようなことはたとえば [[XSLT 1.0]] にもいえます。
でも [[XSLT 1.0]] で [[QName]] を使う場所で
[CODE(XML)[xml]] から始まる名前を使っていることは普通にしばしば見かけたりします。

([[名無しさん]] [sage])

[19]
ちょっと微妙なところというのは、予約に関する規定が [[XML名前空間 1.0]]
の仕様書では[[名前空間]]の[[宣言]]のところ
<http://www.w3.org/TR/1999/REC-xml-names-19990114/#ns-decl>
に書いてあって、 [[QName]] とかの定義のところにではないというところです。
[[XML]] [[文書]]で名前空間を使ってる限りは問題ないのですが、
それ以外の似たような名前空間の仕組みがあるところで使うとなると、
予約に関する規定は適用範囲外だという主張もできなくはありません。。。

[20]
[[JAXB]] の [CODE(XMLe)[[[javaType]]]] [[要素]]には
[CODE(XMLa)[[[xmlType]]]] [[属性]]があります。

[23]
[[RDF/XML]] では[[要素型名]]の [[QName]] が予約名
(最初の3文字が大文字・小文字の [CODE(XML)[xml]]) 
の時は無視することになっています。

[CITE[RDF/XML Syntax Specification (Revised)]] <http://www.w3.org/TR/2004/REC-rdf-syntax-grammar-20040210/#section-Data-Model>

([[名無しさん]] [sage])

[24]
[[属性]]も [CODE(XMLa)[[[xml]]:[[lang]]]] と [CODE(XMLa)[[[xml]]:[[base]]]]
を除いて同様です。

[CITE[RDF/XML Syntax Specification (Revised)]] <http://www.w3.org/TR/2004/REC-rdf-syntax-grammar-20040210/#eventterm-element-attributes>
([[名無しさん]] [sage])

[25]
[[OPML]] の [CODE(XMLe)@@en[[[outline]]]] 要素に 
[CODE(XMLa)@@en[[[xmlurl]]]] 属性があります。
([[名無しさん]])

[26]
[[XML]] の[[名前]]じゃなくて [[N3]] の名前なのであれですが、
[CITE@@en[Evaluation and Report Language (EARL) 1.0 Schema]] 
<http://www.w3.org/TR/2005/WD-EARL10-Schema-20050909/#schema-n3>
では [[XML Schema]] の[[データ型]]の[[名前空間URI]]
に [CODE@@en[xmls:]] という[[名前空間接頭辞]]をあてています。
([[名無しさん]] [sage])

[27]
[[MXML]] では [CODE(XMLe)@@en[[[XML]]]] という[[局所名]]の[[要素型]]があります。

[CITE[MXML タグ]] <http://www.macromedia.com/support/documentation/jp/flex/1_5/asdocs_jp/xml.html>

([[名無しさん]] [sage])

[28]
[CODE(XMLe)@@en[[[xml.apache.org]]]]
なる要素型名が使われています。。。
([[名無しさん]] [sage])

[29]
[CITE[Burlap 1.0 Draft V9]] <http://www.caucho.com/burlap/burlap-draft-spec.xtp#xml>

[[Burlap]]の[[XML]][[データ型]]に対応する[[要素型名]]が[CODE(XMLe)@@en[[[xml]]]]になっています。
([[名無しさん]])

[30]
[CODE(URI)@@en[[[urn:ietf:params:xml:ns:xmpp-streams]]]]に[CODE(XMLe)@@en[[QN[[[xml-not-well-formed]]] [urn:ietf:params:xml:ns:xmpp-streams]]]]という[[要素型]]があります。
([[名無しさん]] [sage])

[42]
[[XML]]の仕様書自体も[[XHTML]]版でも[[XML]]版でも[CODE(XML)@@en[xml]]から始まる[[名前]]を[[識別子]]や[[実体名]]に使っています。
([[名無しさん]] [sage])

[43] [[DASE]]の[[DTD]]では[[引数実体]]の[[名前]]として[CODE(XML)@@en[XMLNS]]や[CODE(XML)@@en[xmlns.attrib]]が使われています。

[44]
[[XML11]] には [CODE(XMLe)@@en[[[xml11]]]] という[[要素型]]があります。
([[名無しさん]] [sage])

[45]
[[DC-XML]] には[[局所名]]が [CODE(XMLe)@@en[[[XMLRepresentation]]]]
という[[要素型]]があります。

;; [CITE@@en[Expressing Dublin Core metadata using XML]] 
<http://dublincore.org/documents/2006/05/29/dc-xml/#sec3.5.2.1>

([[名無しさん]] [sage])

[46]
[CITE[[CODE(XMLe)@@en[[[xmlFileAdapter]]]] Element]] <http://msdn.microsoft.com/library/default.asp?url=/library/en-us/ipsdk/html/xsfelmxmlFileAdapter_HV01021518.asp>

([[名無しさん]])

[47]
[CITE[[CODE(XMLe)@@en[[[xmlToEdit]]]] Element]] <http://msdn.microsoft.com/library/default.asp?url=/library/en-us/ipsdk/html/xsfelmxmlToEdit_HV01021519.asp>
([[名無しさん]])

[48]
[CITE[[CODE(XMLa)@@en[[[xmlToEdit]]]] Attribute]] <http://msdn.microsoft.com/library/default.asp?url=/library/en-us/ipsdk/html/xsfatrxmlToEdit_HV01021626.asp>
([[名無しさん]])

[49]
[[XFA]] [CODE(XMLe)@@en[[QN[[[xmlConnection]]] [http://www.xfa.org/schema/xfa-connection-set/2.4/]]]]
([[名無しさん]])

[51]
[CITE@@ja[「XMLのXML要素」@@水無月ばけらのえび日記]] ([CODE[2007-09-07 16:11:57 +09:00]] 版) <http://bakera.jp/ebi/topic/2991>
([[名無しさん]])

[52]
[[XMLCatalog]] の [CODE(XMLe)@@en[[[xmlcatalog]]]] [[要素]]。
([[名無しさん]])

[53]
[CITE@@en[DTD for XML Schemas: Part 1: Structures]] ([CODE[2008-03-01 22:09:23 +09:00]] 版) <http://suika.fam.cx/gate/2007/schema/schema/f3c68550ab309738bfbca89d9dee34cc/cache.html#line-321>
([[名無しさん]])

[54]
[CITE@@en[DTD for XML Schemas: Part 1: Structures]] ([CODE[2008-03-02 11:45:18 +09:00]] 版) <http://suika.fam.cx/gate/2007/schema/schema/47a7ad8e9435f71d8354e514109b7382/cache.html#line-399>
([[名無しさん]])

[55]
[CITE[yhtml 2.1]] ([[80]] 著, [CODE[2008-03-23 19:05:58 +09:00]] 版) <http://www.yhtml.net/yhtml21.html>

[CODE(XML)@@en[%[[xmlattrs]];]] という[[引数実体]]が使われています。
([[名無しさん]])

[56]
[CITE@@en[Representing Content in RDF]] ([CODE[2008-09-06 00:14:30 +09:00]] 版) <http://www.w3.org/TR/Content-in-RDF/#xmlContentClass>
([[名無しさん]])

[57]
[[Ant]] には [CODE(XMLe)@@en[[[xmlproperty]]]] [[要素]]があります。
([[名無しさん]])

[58]
[CITE[Cisco Enhanced Device Interface Programmer's Guide, 2.0 - XML Programmatic Interface  '''['''Cisco Enhanced Device Interface''']''' - Cisco Systems]] ([CODE[2008-04-11 03:34:06 +09:00]] 版) <http://www.cisco.com/en/US/docs/net_mgmt/enhanced_device_interface/2.0/developer/guide/xml_pi.html>

>
[PRE(XML example code)[
<rpc-reply message-id="123" 
xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
<data>
<cpi:xml-config-data 
xmlns:cpi="http://www.cisco.com/cpi_10/schema">
    <DeviceConfiguration 
xmlns="http://www.cisco.com/edi_20/Cisco1700/12.2(15)T14/1.2/" 
xmlns:xc="urn:ietf:params:xml:ns:netconf:base:1.0" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
]PRE]

([[名無しさん]])

[59]
[CITE[OSTwoDevManJavaConfigurationFile - OpenSAML - Internet2 Wiki]] ([CODE[2008-10-13 12:34:17 +09:00]] 版) <https://spaces.internet2.edu/display/OpenSAML/OSTwoDevManJavaConfigurationFile>

>
[PRE(XML example code)[
<XMLTooling xmlns="http://www.opensaml.org/xmltooling-config" 
	 xmlns:saml2p="urn:oasis:names:tc:SAML:2.0:protocol"
	 xmlns:md="urn:oasis:names:tc:SAML:2.0:metadata"
	 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
]PRE]

([[名無しさん]])


[60]
[CITE[DOM XML filter pipeline configuration]] ([TIME[2008-10-11 22:18:57 +09:00]] 版) <http://www.indexdata.dk/zebra/doc/record-model-domxml-pipeline.tkl>

[[要素型名]]として [CODE(XMLe)@@en[[[xmlreader]]]] を使っています。
([[名無しさん]])


[[#comment]]


* XML の名前から Java の名前への変換

[21] [[JAXB]] 1.0 ([[JSR#31]]) の C.2 では [[XML]]
の名前を [[Java]] の名前に変換する方法が規定されています。

[22] [[文字級]]を次のように定義します。
- 句読点 (punctuation character): [CODE(charname)[[[HYPHEN-MINUS]]]],
[CODE(charname)[[[FULL STOP]]]], [CODE(charname)[[[COLON]]]],
[CODE(charname)[[[LOW LINE]]]], [CODE(charname)[[[MIDDLE DOT]]]],
[CODE(charname)[[[GREEK ANO TELELA]]]],
[CODE(charname)[[[ARABIC END OF AYAH]]]],
[CODE(charname)[[[ARABIC START OF RUB EL HIZB]]]]
- Letter: [[Unicode]] の定義によります。
-- 大文字 (upper‐case letter): [[Unicode]] の定義によります。
-- 小文字 (lowercase [INS[(まま)]] letter): [[Unicode]] の定義によります。
-- uncased: 大文字・小文字以外の letter。
- 数字 (digit): [[Unicode]] の定義によります。
- 記号 (mark): [[Java]] の識別子で使える文字のうち、
句読点と letter と数字以外のもの。

この文字分類と次の表に基づき、改語位置 (word break)
を探します。

,前	,分離子	,後	,例
,句読点以外	,1つ以上の句読点	,句読点以外	,"foo--bar → foo, bar"
,数字	,	,数字以外	,"foo22bar → foo22, bar"
,数字以外	,	,数字	,"foo22 → foo, 22"
,小文字	,小文字以外	,"fooBar → foo, Bar"
,大文字	,	,大文字の後に小文字	,"fooBar → FOO, Bar"
,letter	,	,letter 以外	,"Foo〜 → Foo, 〜"
,letter 以外	,	,letter	,"〜Foo → 〜, Foo"
,uncased	,	,uncased 以外	,"あFoo → あ, Foo"
,uncased 以外	,	,uncased	,"Fooあ → Foo, あ"

(前は前の語、後は後ろの語に属しますが、
分離子はどちらにも属しません。)

語分割して、各語頭が小文字なら大文字に替えます。
こうして得られた語をそのまま連結すれば [[Java]]
の[[クラス名]]にできますし、適宜 [CODE(Java)[get]]
や [CODE(Java)[set]] を付けて[[メソッド名]]にできますし、
すべて大文字化して [CODE(Java)[_]] で連結すれば[[定数名]]にもできます。

[[#comment]]


* メモ

- [1] 名前というのは、考えてみれば本当に恐ろしい。名前の指す対象は名前にとらわれてしまう。怖いなあ。
- [2] >>1 もっと広く、[[言葉]]って奴は・・・言葉には[[言霊]]が宿るのですよ。
- [3] 名前の付いていない化け物より名前の付いた化け物の方が手を打ちやすい、という諺(?)もある。それだけ名前の威力は絶大だ。
- [4] [WEAK[2003-10-02 10:56:32 +00:00]] ''[[日渡怜]]'': @


1.31
log
@auto-committed
@
text
@d315 12
d328 3
a330 2
[59]
[CITE[OSTwoDevManJavaConfigurationFile - OpenSAML - Internet2 Wiki]] ([TIME[2008-10-13 12:34:17 +09:00]] 版) <https://spaces.internet2.edu/display/OpenSAML/OSTwoDevManJavaConfigurationFile>
d332 1
a332 8
>
[PRE(XML example code)[
<XMLTooling xmlns="http://www.opensaml.org/xmltooling-config" 
	 xmlns:saml2p="urn:oasis:names:tc:SAML:2.0:protocol"
	 xmlns:md="urn:oasis:names:tc:SAML:2.0:metadata"
	 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
]PRE]

@


1.30
log
@auto-committed
@
text
@d296 19
d316 2
a317 2
[58]
[CITE[Cisco Enhanced Device Interface Programmer's Guide, 2.0 - XML Programmatic Interface  '''['''Cisco Enhanced Device Interface''']''' - Cisco Systems]] ([TIME[2008-04-11 03:34:06 +09:00]] 版) <http://www.cisco.com/en/US/docs/net_mgmt/enhanced_device_interface/2.0/developer/guide/xml_pi.html>
d321 4
a324 13
<rpc-reply message-id="123" 
xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

<data>

<cpi:xml-config-data 
xmlns:cpi="http://www.cisco.com/cpi_10/schema">

    <DeviceConfiguration 
xmlns="http://www.cisco.com/edi_20/Cisco1700/12.2(15)T14/1.2/" 
xmlns:xc="urn:ietf:params:xml:ns:netconf:base:1.0" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
@


1.29
log
@auto-committed
@
text
@d288 28
a316 2
[56]
[CITE@@en[Representing Content in RDF]] ([TIME[2008-09-06 00:14:30 +09:00]] 版) <http://www.w3.org/TR/Content-in-RDF/#xmlContentClass>
@


1.28
log
@auto-committed
@
text
@d282 2
a284 3
[55]
[CITE[yhtml 2.1]] ([[80]] 著, [TIME[2008-03-23 19:05:58 +09:00]] 版) <http://www.yhtml.net/yhtml21.html>

d286 5
@


1.27
log
@auto-committed
@
text
@d278 4
d283 4
a286 2
[54]
[CITE@@en[DTD for XML Schemas: Part 1: Structures]] ([TIME[2008-03-02 11:45:18 +09:00]] 版) <http://suika.fam.cx/gate/2007/schema/schema/47a7ad8e9435f71d8354e514109b7382/cache.html#line-399>
@


1.26
log
@auto-committed
@
text
@a269 1

d272 9
@


1.25
log
@auto-committed
@
text
@d266 4
d271 2
a272 2
[51]
[CITE@@ja[「XMLのXML要素」@@水無月ばけらのえび日記]] ([TIME[2007-09-07 16:11:57 +09:00]] 版) <http://bakera.jp/ebi/topic/2991>
@


1.24
log
@auto-committed
@
text
@a16 1

a20 1

d265 6
@


1.23
log
@auto-committed
@
text
@d17 6
a263 1

d265 1
a265 1
[[XFA]] [CODE(XMLe)@@en[[QN[[[xmlConnection]]][http://www.xfa.org/schema/xfa-connection-set/2.4/]]]]
a266 1

@


1.22
log
@auto-committed
@
text
@a253 1

d256 5
@


1.21
log
@auto-committed
@
text
@d236 3
d240 2
a241 7
[45]
[[DC-XML]] には[[局所名]]が [CODE(XMLe)@@en[[[XMLRepresentation]]]]
という[[要素型]]があります。

;; [CITE@@en[Expressing Dublin Core metadata using XML]] 
<http://dublincore.org/documents/2006/05/29/dc-xml/#sec3.5.2.1>

d244 14
@


1.20
log
@auto-committed
@
text
@a231 1

d234 11
@


1.19
log
@auto-committed
@
text
@d1 291
a291 286

* SGML での名前

[5] 

>
:名前 (name):
最初の[[文字]]が[[名前開始文字]]である[[名前字句]]。
([[JIS X 4151]]‐1992 3. (194))

[6] 名前の長さは [CODE(SGML)[[[NAMELEN]]]] 以下でなければなりません。 (8.3.1 参照。)

[7] 名前は、 [CODE(SGML)[[[NAMECASE]]]] 
引数の指定によっては対応する[[大文字]]に置換されます。 (8.3 参照。)

[[#comment]]


** XML での名前

- [9] [CODE(ABNF)[[DFN[[RUBYB[名前] [Name]]]] := (Letter / "_" / ":") *名前文字 ;; XML 1.0 [5] ]]
- [8] [CODE(ABNF)[[DFN[[RUBYB[名前文字] [NameChar]]]] := Letter / [RUBYB[数字] [Digit]] / "." / "-" / "_" / ":" / [RUBYB[結合文字] [CombiningChar]] / [RUBYB[拡張子] [Extender]] ;; XML 1.0 [4] ]]

[31]
仕様書:
- [[XML 1]]
-- <IW:XML1:"#dt-name">

[11] [[XML 1]] で[CODE(ABNF)[名前]]が使用される場所
(括弧内は[[XML名前空間]]における制約):
- [[処理指令]]の[[対象名]] (注 >>10) ([CODE@@en[[[NCName]]]])
- [[要素型名]]
-- [[文書型名]] ([CODE@@en[[[QName]]]])
-- [[開始タグ]], [[空要素タグ]], [[終了タグ]]中の[CODE(ABNF)[[[名前]]]]
([[名前空間接頭辞]]が[[宣言]]された[CODE@@en[[[QName]]]])
-- [[要素型宣言]]中の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[QName]]]])
-- [[属性定義並び宣言]]中の[CODE(ABNF)[[[名前]]]] 
([CODE@@en[[[QName]]]])
-- [[モデル群]]中の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[QName]]]])
- [[属性名]]
-- [[属性指定]]中の[CODE(ABNF)[[[名前]]]]
([[名前空間接頭辞]]が[[宣言]]された[CODE@@en[[[QName]]]])
-- [[属性定義]]中の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[QName]]]])
- [[識別子]] ([CODE@@en[[[NCName]]]]なら[[名前空間妥当]])
-- [[識別子属性]] ([CODE(XML)@@en[[[ID]]]]), [[識別子参照属性]]
([CODE(ABNF)@@en[[[IDREF]]]], [CODE(ABNF)@@en[[[IDREFS]]]])
の値 ([[開始タグ]]内, [[空要素タグ]]内,
[[属性定義]]内の[[属性値表記]]の値)
- [[実体名]]
-- [[実体宣言]]内の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[NCName]]]])
-- [[実体参照]]内の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[NCName]]]])
-- [[実体属性]] ([CODE(XML)@@en[[[ENTITY]]]], 
[CODE(XML)@@en[[[ENTITIES]]]]) の値 ([[開始タグ]]内, [[空要素タグ]]内,
[[属性定義]]内の[[属性値表記]]の値)
([CODE@@en[[[NCName]]]]なら[[名前空間妥当]])
- [[記法名]]
-- [[記法宣言]]内の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[NCName]]]])
-- [[記法属性]] ([CODE(XML)@@en[[[NOTATION]]]])
の[[属性定義]]内の[[名前群]]中の[CODE(ABNF)[[[名前]]]] 
([CODE@@en[[[NCName]]]])
-- [[記法属性]] ([CODE(XML)@@en[[[NOTATION]]]])
の値 ([[開始タグ]]内, [[空要素タグ]]内,
[[属性定義]]内の[[属性値表記]]の値)
([CODE@@en[[[NCName]]]]なら[[名前空間妥当]])

[12] コロン [CODE(XML)[:]] を含む[CODE(ABNF)[名前]]は、
普通は [[XML名前空間]]仕様書に従って解釈されます。
しかしながら、 XML 1.0 仕様書は、 
XML 名前空間的に不正な[CODE(ABNF)[名前]]も扱えることを
XML [[処理系]]に要求しています。

実際、稀ではありますが XML 名前空間に従わない
[CODE(XML)[:]] を含む[CODE(ABNF)[名前]]が使われることがあります。[WEAK[そのほとんどは過去の遺物。]]

[[#comment]]


** [CODE@@en[XML]]で始まる名前

[10] 1文字目から3文字目が [CODE(ABNF)["XML"]]
(大文字・小文字を問わない。) である[CODE(ABNF)[名前]]は、
XML 及び関連仕様によって予約されています。
<http://www.w3.org/TR/REC-xml#dt-name> を参照。

この制限は[CODE(ABNF)[名前]]が使われるすべての場面に影響します。
しかし、その使用がまったく禁止されているのではなく、
[[W3C]] が認めていない使用が禁止されているのだということに注意してください。

ただし、[[処理指令]]の[[対象名]]は、 [CODE(ABNF)["XML"]] 
と丁度一致するものを''除く''[CODE(ABNF)[名前]]と定義されています。
よって、[WEAK[大文字・小文字を問わず]] [SAMP(XML)[<?XML?>]] 
のような処理指令に見えるものが [WEAK[XML 宣言以外で]]文書中にあれば、
その文書は[[整形式]]ですらありません。
[WEAK[ですから、 XML 的には [[XML宣言]]は処理指令ではないのです。]]

- [33] [[XML 1.0]]および[[XML 1.1]]は、最初の3文字が[CODE@@en[[[XML]]]] 
([[大文字]]・[[小文字]]を''問いません''。)
であるような'''[[名前]]'''を[[予約]]しています。
- [32] [[XML名前空間 1.0]]および[[XML名前空間 1.1]]は、
最初の3文字が[CODE@@en[[[XML]]]] 
([[大文字]]・[[小文字]]を''問いません''。)
であるような'''[[名前空間接頭辞]]'''を[[予約]]しています。
- [34] [[XML名前空間 1.0]]および[[XML名前空間 1.1]]は、
最初の3文字が[CODE@@en[[[XML]]]] 
([[大文字]]・[[小文字]]を''問いません''。)
であるような'''[[局所名]]'''をすすめられないと述べています。
- [35] [[XML 1.0]]および[[XML 1.1]]は[[処理指令]]のようなものの[[対象名]]のようなものとして[CODE(XML)@@en[[[xml]]]]を定義しています
([[XML宣言]]および[[文宣言]])。
- [41] [[処理指令]]の[[対象名]]として[CODE(XMLa)@@en[[[xml-stylesheet]]]]が定義されています。
- [36] [[XML名前空間 1.0]]および[[XML名前空間 1.1]]は[[名前空間接頭辞]]として[CODE(XML)@@en[[[xml]]]]および[CODE(XML)@@en[[[xmlns]]]]を定義しています。
- [37] [[XML 1.0]]および[[XML 1.1]]は[[属性名]]として[CODE(XMLa)@@en[[[xml]]:[[lang]]]]および[CODE(XMLa)@@en[[[xml]]:[[space]]]]を定義しています。
- [38] [[XML名前空間 1.0]]および[[XML名前空間 1.1]]は[[属性名]]として[CODE(XMLa)@@en[[[xmlns]]]]を定義しています。
- [39] [[XML基底]]は[[属性名]]として[CODE(XMLa)@@en[[[xml]]:[[base]]]]を定義しています。
- [40] [[属性名]]として[CODE(XMLa)@@en[[[xml]]:[[id]]]]が定義されています。

- [13] ''xml で始まる名前 - 2003年12月 - マーク付けノート'' <http://www.satoshii.org/markup/notes/2003/12#date12-4>: >>10 の話
- [14] >>13 には [Q[[CODE[id="XML-foo"]] は OK, [CODE[id="XML"]] は NG]<http://www.satoshii.org/markup/notes/2003/12#date12-4>] と書かれていますけど、どちらも駄目ではありませんか。

[15]
[[XMLspec]] [[DTD]] では [CODE(XML)[xml]] で始まる[[引数実体]]が使われています。
([[名無しさん]] [sage])

[16] 
[[XMPP]] ([[RFC 3920]]) では 
[CODE(XMLe)[[[xml-not-well-formed]]]] という[[要素型]]が定義されており、
[[名前空間接頭辞]]なしで使われています。

[17]
[CODE(XMLe)[[QN[p:[[master]]] [urn:schemas-microsoft-com:office:powerpoint]]]]
[[要素]]には [CODE(XMLa)[[[xmlhref]]]] [[属性]]があります。
[SRC[PP11]]
([[名無しさん]] [sage])

[18]
[[NCName]] や [[QName]] を流用している [[XML名前空間]]以外の規格は多々ありますが、そこにも [Q[[CODE(XML)[xml]] で始まるものは予約]]という規則が継承されているかどうかは、ほとんどの場合極めて微妙なところです。

例として [[XML Schema]] データ型における定義を見てみましょう。

[CITE[XML Schema Part 2: Datatypes Second Edition]] <http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/#QName>

> [Definition:]   QName represents XML qualified names. The &#183;value space&#183; of QName is the set of tuples {namespace name, local part}, where namespace name is an anyURI and local part is an NCName. The &#183;lexical space&#183; of QName is the set of strings that &#183;match&#183; the QName production of [Namespaces in XML].
> Note:  The mapping between literals in the &#183;lexical space&#183; and values in the &#183;value space&#183; of QName requires a namespace declaration to be in scope for the context in which QName is used. 

[Q@@en[QName represents XML qualified names]]
の [Q[XML qualified names]] の部分が引用元では [[XML名前空間 1.0]]
の [Q@@en[qualified name]] という語にリンクされています。
そのリンク先の説明は
[Q@@en[some names (constructs corresponding to the nonterminal Name) may be given as [DFN[qualified names]]]]
で、 [Q@@en[Name]] の部分が [[XML 1.0]] の生成規則の定義へのリンクになっています。
[[XML 1.0]] によれば [Q@@en[names]] は件の予約がなされています。

と結論づけるのが妥当だと思うのですが、普通に [[XML Schema]]
データ型を利用しようと思い立った人は絶対こんなところまでたどりつけませんって(w

同じようなことはたとえば [[XSLT 1.0]] にもいえます。
でも [[XSLT 1.0]] で [[QName]] を使う場所で
[CODE(XML)[xml]] から始まる名前を使っていることは普通にしばしば見かけたりします。

([[名無しさん]] [sage])

[19]
ちょっと微妙なところというのは、予約に関する規定が [[XML名前空間 1.0]]
の仕様書では[[名前空間]]の[[宣言]]のところ
<http://www.w3.org/TR/1999/REC-xml-names-19990114/#ns-decl>
に書いてあって、 [[QName]] とかの定義のところにではないというところです。
[[XML]] [[文書]]で名前空間を使ってる限りは問題ないのですが、
それ以外の似たような名前空間の仕組みがあるところで使うとなると、
予約に関する規定は適用範囲外だという主張もできなくはありません。。。

[20]
[[JAXB]] の [CODE(XMLe)[[[javaType]]]] [[要素]]には
[CODE(XMLa)[[[xmlType]]]] [[属性]]があります。

[23]
[[RDF/XML]] では[[要素型名]]の [[QName]] が予約名
(最初の3文字が大文字・小文字の [CODE(XML)[xml]]) 
の時は無視することになっています。

[CITE[RDF/XML Syntax Specification (Revised)]] <http://www.w3.org/TR/2004/REC-rdf-syntax-grammar-20040210/#section-Data-Model>

([[名無しさん]] [sage])

[24]
[[属性]]も [CODE(XMLa)[[[xml]]:[[lang]]]] と [CODE(XMLa)[[[xml]]:[[base]]]]
を除いて同様です。

[CITE[RDF/XML Syntax Specification (Revised)]] <http://www.w3.org/TR/2004/REC-rdf-syntax-grammar-20040210/#eventterm-element-attributes>
([[名無しさん]] [sage])

[25]
[[OPML]] の [CODE(XMLe)@@en[[[outline]]]] 要素に 
[CODE(XMLa)@@en[[[xmlurl]]]] 属性があります。
([[名無しさん]])

[26]
[[XML]] の[[名前]]じゃなくて [[N3]] の名前なのであれですが、
[CITE@@en[Evaluation and Report Language (EARL) 1.0 Schema]] 
<http://www.w3.org/TR/2005/WD-EARL10-Schema-20050909/#schema-n3>
では [[XML Schema]] の[[データ型]]の[[名前空間URI]]
に [CODE@@en[xmls:]] という[[名前空間接頭辞]]をあてています。
([[名無しさん]] [sage])

[27]
[[MXML]] では [CODE(XMLe)@@en[[[XML]]]] という[[局所名]]の[[要素型]]があります。

[CITE[MXML タグ]] <http://www.macromedia.com/support/documentation/jp/flex/1_5/asdocs_jp/xml.html>

([[名無しさん]] [sage])

[28]
[CODE(XMLe)@@en[[[xml.apache.org]]]]
なる要素型名が使われています。。。
([[名無しさん]] [sage])

[29]
[CITE[Burlap 1.0 Draft V9]] <http://www.caucho.com/burlap/burlap-draft-spec.xtp#xml>

[[Burlap]]の[[XML]][[データ型]]に対応する[[要素型名]]が[CODE(XMLe)@@en[[[xml]]]]になっています。
([[名無しさん]])

[30]
[CODE(URI)@@en[[[urn:ietf:params:xml:ns:xmpp-streams]]]]に[CODE(XMLe)@@en[[QN[[[xml-not-well-formed]]] [urn:ietf:params:xml:ns:xmpp-streams]]]]という[[要素型]]があります。
([[名無しさん]] [sage])


[42]
[[XML]]の仕様書自体も[[XHTML]]版でも[[XML]]版でも[CODE(XML)@@en[xml]]から始まる[[名前]]を[[識別子]]や[[実体名]]に使っています。
([[名無しさん]] [sage])

[43] [[DASE]]の[[DTD]]では[[引数実体]]の[[名前]]として[CODE(XML)@@en[XMLNS]]や[CODE(XML)@@en[xmlns.attrib]]が使われています。


[[#comment]]


* XML の名前から Java の名前への変換

[21] [[JAXB]] 1.0 ([[JSR#31]]) の C.2 では [[XML]]
の名前を [[Java]] の名前に変換する方法が規定されています。

[22] [[文字級]]を次のように定義します。
- 句読点 (punctuation character): [CODE(charname)[[[HYPHEN-MINUS]]]],
[CODE(charname)[[[FULL STOP]]]], [CODE(charname)[[[COLON]]]],
[CODE(charname)[[[LOW LINE]]]], [CODE(charname)[[[MIDDLE DOT]]]],
[CODE(charname)[[[GREEK ANO TELELA]]]],
[CODE(charname)[[[ARABIC END OF AYAH]]]],
[CODE(charname)[[[ARABIC START OF RUB EL HIZB]]]]
- Letter: [[Unicode]] の定義によります。
-- 大文字 (upper‐case letter): [[Unicode]] の定義によります。
-- 小文字 (lowercase [INS[(まま)]] letter): [[Unicode]] の定義によります。
-- uncased: 大文字・小文字以外の letter。
- 数字 (digit): [[Unicode]] の定義によります。
- 記号 (mark): [[Java]] の識別子で使える文字のうち、
句読点と letter と数字以外のもの。

この文字分類と次の表に基づき、改語位置 (word break)
を探します。

,前	,分離子	,後	,例
,句読点以外	,1つ以上の句読点	,句読点以外	,"foo--bar → foo, bar"
,数字	,	,数字以外	,"foo22bar → foo22, bar"
,数字以外	,	,数字	,"foo22 → foo, 22"
,小文字	,小文字以外	,"fooBar → foo, Bar"
,大文字	,	,大文字の後に小文字	,"fooBar → FOO, Bar"
,letter	,	,letter 以外	,"Foo〜 → Foo, 〜"
,letter 以外	,	,letter	,"〜Foo → 〜, Foo"
,uncased	,	,uncased 以外	,"あFoo → あ, Foo"
,uncased 以外	,	,uncased	,"Fooあ → Foo, あ"

(前は前の語、後は後ろの語に属しますが、
分離子はどちらにも属しません。)

語分割して、各語頭が小文字なら大文字に替えます。
こうして得られた語をそのまま連結すれば [[Java]]
の[[クラス名]]にできますし、適宜 [CODE(Java)[get]]
や [CODE(Java)[set]] を付けて[[メソッド名]]にできますし、
すべて大文字化して [CODE(Java)[_]] で連結すれば[[定数名]]にもできます。

[[#comment]]


* メモ

- [1] 名前というのは、考えてみれば本当に恐ろしい。名前の指す対象は名前にとらわれてしまう。怖いなあ。
- [2] >>1 もっと広く、[[言葉]]って奴は・・・言葉には[[言霊]]が宿るのですよ。
- [3] 名前の付いていない化け物より名前の付いた化け物の方が手を打ちやすい、という諺(?)もある。それだけ名前の威力は絶大だ。
@


1.18
log
@auto-committed
@
text
@d1 286
a286 285


* SGML での名前

[5] 

>
:名前 (name):
最初の[[文字]]が[[名前開始文字]]である[[名前字句]]。
([[JIS X 4151]]‐1992 3. (194))

[6] 名前の長さは [CODE(SGML)[[[NAMELEN]]]] 以下でなければなりません。 (8.3.1 参照。)

[7] 名前は、 [CODE(SGML)[[[NAMECASE]]]] 
引数の指定によっては対応する[[大文字]]に置換されます。 (8.3 参照。)

[[#comment]]


** XML での名前

- [9] [CODE(ABNF)[[DFN[[RUBYB[名前] [Name]]]] := (Letter / "_" / ":") *名前文字 ;; XML 1.0 [5] ]]
- [8] [CODE(ABNF)[[DFN[[RUBYB[名前文字] [NameChar]]]] := Letter / [RUBYB[数字] [Digit]] / "." / "-" / "_" / ":" / [RUBYB[結合文字] [CombiningChar]] / [RUBYB[拡張子] [Extender]] ;; XML 1.0 [4] ]]

[31]
仕様書:
- [[XML 1]]
-- <IW:XML1:"#dt-name">

[11] [[XML 1]] で[CODE(ABNF)[名前]]が使用される場所
(括弧内は[[XML名前空間]]における制約):
- [[処理指令]]の[[対象名]] (注 >>10) ([CODE@@en[[[NCName]]]])
- [[要素型名]]
-- [[文書型名]] ([CODE@@en[[[QName]]]])
-- [[開始タグ]], [[空要素タグ]], [[終了タグ]]中の[CODE(ABNF)[[[名前]]]]
([[名前空間接頭辞]]が[[宣言]]された[CODE@@en[[[QName]]]])
-- [[要素型宣言]]中の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[QName]]]])
-- [[属性定義並び宣言]]中の[CODE(ABNF)[[[名前]]]] 
([CODE@@en[[[QName]]]])
-- [[モデル群]]中の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[QName]]]])
- [[属性名]]
-- [[属性指定]]中の[CODE(ABNF)[[[名前]]]]
([[名前空間接頭辞]]が[[宣言]]された[CODE@@en[[[QName]]]])
-- [[属性定義]]中の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[QName]]]])
- [[識別子]] ([CODE@@en[[[NCName]]]]なら[[名前空間妥当]])
-- [[識別子属性]] ([CODE(XML)@@en[[[ID]]]]), [[識別子参照属性]]
([CODE(ABNF)@@en[[[IDREF]]]], [CODE(ABNF)@@en[[[IDREFS]]]])
の値 ([[開始タグ]]内, [[空要素タグ]]内,
[[属性定義]]内の[[属性値表記]]の値)
- [[実体名]]
-- [[実体宣言]]内の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[NCName]]]])
-- [[実体参照]]内の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[NCName]]]])
-- [[実体属性]] ([CODE(XML)@@en[[[ENTITY]]]], 
[CODE(XML)@@en[[[ENTITIES]]]]) の値 ([[開始タグ]]内, [[空要素タグ]]内,
[[属性定義]]内の[[属性値表記]]の値)
([CODE@@en[[[NCName]]]]なら[[名前空間妥当]])
- [[記法名]]
-- [[記法宣言]]内の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[NCName]]]])
-- [[記法属性]] ([CODE(XML)@@en[[[NOTATION]]]])
の[[属性定義]]内の[[名前群]]中の[CODE(ABNF)[[[名前]]]] 
([CODE@@en[[[NCName]]]])
-- [[記法属性]] ([CODE(XML)@@en[[[NOTATION]]]])
の値 ([[開始タグ]]内, [[空要素タグ]]内,
[[属性定義]]内の[[属性値表記]]の値)
([CODE@@en[[[NCName]]]]なら[[名前空間妥当]])

[12] コロン [CODE(XML)[:]] を含む[CODE(ABNF)[名前]]は、
普通は [[XML名前空間]]仕様書に従って解釈されます。
しかしながら、 XML 1.0 仕様書は、 
XML 名前空間的に不正な[CODE(ABNF)[名前]]も扱えることを
XML [[処理系]]に要求しています。

実際、稀ではありますが XML 名前空間に従わない
[CODE(XML)[:]] を含む[CODE(ABNF)[名前]]が使われることがあります。[WEAK[そのほとんどは過去の遺物。]]

[[#comment]]


** [CODE@@en[XML]]で始まる名前

[10] 1文字目から3文字目が [CODE(ABNF)["XML"]]
(大文字・小文字を問わない。) である[CODE(ABNF)[名前]]は、
XML 及び関連仕様によって予約されています。
<http://www.w3.org/TR/REC-xml#dt-name> を参照。

この制限は[CODE(ABNF)[名前]]が使われるすべての場面に影響します。
しかし、その使用がまったく禁止されているのではなく、
[[W3C]] が認めていない使用が禁止されているのだということに注意してください。

ただし、[[処理指令]]の[[対象名]]は、 [CODE(ABNF)["XML"]] 
と丁度一致するものを''除く''[CODE(ABNF)[名前]]と定義されています。
よって、[WEAK[大文字・小文字を問わず]] [SAMP(XML)[<?XML?>]] 
のような処理指令に見えるものが [WEAK[XML 宣言以外で]]文書中にあれば、
その文書は[[整形式]]ですらありません。
[WEAK[ですから、 XML 的には [[XML宣言]]は処理指令ではないのです。]]

- [33] [[XML 1.0]]および[[XML 1.1]]は、最初の3文字が[CODE@@en[[[XML]]]] 
([[大文字]]・[[小文字]]を''問いません''。)
であるような'''[[名前]]'''を[[予約]]しています。
- [32] [[XML名前空間 1.0]]および[[XML名前空間 1.1]]は、
最初の3文字が[CODE@@en[[[XML]]]] 
([[大文字]]・[[小文字]]を''問いません''。)
であるような'''[[名前空間接頭辞]]'''を[[予約]]しています。
- [34] [[XML名前空間 1.0]]および[[XML名前空間 1.1]]は、
最初の3文字が[CODE@@en[[[XML]]]] 
([[大文字]]・[[小文字]]を''問いません''。)
であるような'''[[局所名]]'''をすすめられないと述べています。
- [35] [[XML 1.0]]および[[XML 1.1]]は[[処理指令]]のようなものの[[対象名]]のようなものとして[CODE(XML)@@en[[[xml]]]]を定義しています
([[XML宣言]]および[[文宣言]])。
- [41] [[処理指令]]の[[対象名]]として[CODE(XMLa)@@en[[[xml-stylesheet]]]]が定義されています。
- [36] [[XML名前空間 1.0]]および[[XML名前空間 1.1]]は[[名前空間接頭辞]]として[CODE(XML)@@en[[[xml]]]]および[CODE(XML)@@en[[[xmlns]]]]を定義しています。
- [37] [[XML 1.0]]および[[XML 1.1]]は[[属性名]]として[CODE(XMLa)@@en[[[xml]]:[[lang]]]]および[CODE(XMLa)@@en[[[xml]]:[[space]]]]を定義しています。
- [38] [[XML名前空間 1.0]]および[[XML名前空間 1.1]]は[[属性名]]として[CODE(XMLa)@@en[[[xmlns]]]]を定義しています。
- [39] [[XML基底]]は[[属性名]]として[CODE(XMLa)@@en[[[xml]]:[[base]]]]を定義しています。
- [40] [[属性名]]として[CODE(XMLa)@@en[[[xml]]:[[id]]]]が定義されています。

- [13] ''xml で始まる名前 - 2003年12月 - マーク付けノート'' <http://www.satoshii.org/markup/notes/2003/12#date12-4>: >>10 の話
- [14] >>13 には [Q[[CODE[id="XML-foo"]] は OK, [CODE[id="XML"]] は NG]<http://www.satoshii.org/markup/notes/2003/12#date12-4>] と書かれていますけど、どちらも駄目ではありませんか。

[15]
[[XMLspec]] [[DTD]] では [CODE(XML)[xml]] で始まる[[引数実体]]が使われています。
([[名無しさん]] [sage])

[16] 
[[XMPP]] ([[RFC 3920]]) では 
[CODE(XMLe)[[[xml-not-well-formed]]]] という[[要素型]]が定義されており、
[[名前空間接頭辞]]なしで使われています。

[17]
[CODE(XMLe)[[QN[p:[[master]]] [urn:schemas-microsoft-com:office:powerpoint]]]]
[[要素]]には [CODE(XMLa)[[[xmlhref]]]] [[属性]]があります。
[SRC[PP11]]
([[名無しさん]] [sage])

[18]
[[NCName]] や [[QName]] を流用している [[XML名前空間]]以外の規格は多々ありますが、そこにも [Q[[CODE(XML)[xml]] で始まるものは予約]]という規則が継承されているかどうかは、ほとんどの場合極めて微妙なところです。

例として [[XML Schema]] データ型における定義を見てみましょう。

[CITE[XML Schema Part 2: Datatypes Second Edition]] <http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/#QName>

> [Definition:]   QName represents XML qualified names. The &#183;value space&#183; of QName is the set of tuples {namespace name, local part}, where namespace name is an anyURI and local part is an NCName. The &#183;lexical space&#183; of QName is the set of strings that &#183;match&#183; the QName production of [Namespaces in XML].
> Note:  The mapping between literals in the &#183;lexical space&#183; and values in the &#183;value space&#183; of QName requires a namespace declaration to be in scope for the context in which QName is used. 

[Q@@en[QName represents XML qualified names]]
の [Q[XML qualified names]] の部分が引用元では [[XML名前空間 1.0]]
の [Q@@en[qualified name]] という語にリンクされています。
そのリンク先の説明は
[Q@@en[some names (constructs corresponding to the nonterminal Name) may be given as [DFN[qualified names]]]]
で、 [Q@@en[Name]] の部分が [[XML 1.0]] の生成規則の定義へのリンクになっています。
[[XML 1.0]] によれば [Q@@en[names]] は件の予約がなされています。

と結論づけるのが妥当だと思うのですが、普通に [[XML Schema]]
データ型を利用しようと思い立った人は絶対こんなところまでたどりつけませんって(w

同じようなことはたとえば [[XSLT 1.0]] にもいえます。
でも [[XSLT 1.0]] で [[QName]] を使う場所で
[CODE(XML)[xml]] から始まる名前を使っていることは普通にしばしば見かけたりします。

([[名無しさん]] [sage])

[19]
ちょっと微妙なところというのは、予約に関する規定が [[XML名前空間 1.0]]
の仕様書では[[名前空間]]の[[宣言]]のところ
<http://www.w3.org/TR/1999/REC-xml-names-19990114/#ns-decl>
に書いてあって、 [[QName]] とかの定義のところにではないというところです。
[[XML]] [[文書]]で名前空間を使ってる限りは問題ないのですが、
それ以外の似たような名前空間の仕組みがあるところで使うとなると、
予約に関する規定は適用範囲外だという主張もできなくはありません。。。

[20]
[[JAXB]] の [CODE(XMLe)[[[javaType]]]] [[要素]]には
[CODE(XMLa)[[[xmlType]]]] [[属性]]があります。

[23]
[[RDF/XML]] では[[要素型名]]の [[QName]] が予約名
(最初の3文字が大文字・小文字の [CODE(XML)[xml]]) 
の時は無視することになっています。

[CITE[RDF/XML Syntax Specification (Revised)]] <http://www.w3.org/TR/2004/REC-rdf-syntax-grammar-20040210/#section-Data-Model>

([[名無しさん]] [sage])

[24]
[[属性]]も [CODE(XMLa)[[[xml]]:[[lang]]]] と [CODE(XMLa)[[[xml]]:[[base]]]]
を除いて同様です。

[CITE[RDF/XML Syntax Specification (Revised)]] <http://www.w3.org/TR/2004/REC-rdf-syntax-grammar-20040210/#eventterm-element-attributes>
([[名無しさん]] [sage])

[25]
[[OPML]] の [CODE(XMLe)@@en[[[outline]]]] 要素に 
[CODE(XMLa)@@en[[[xmlurl]]]] 属性があります。
([[名無しさん]])

[26]
[[XML]] の[[名前]]じゃなくて [[N3]] の名前なのであれですが、
[CITE@@en[Evaluation and Report Language (EARL) 1.0 Schema]] 
<http://www.w3.org/TR/2005/WD-EARL10-Schema-20050909/#schema-n3>
では [[XML Schema]] の[[データ型]]の[[名前空間URI]]
に [CODE@@en[xmls:]] という[[名前空間接頭辞]]をあてています。
([[名無しさん]] [sage])

[27]
[[MXML]] では [CODE(XMLe)@@en[[[XML]]]] という[[局所名]]の[[要素型]]があります。

[CITE[MXML タグ]] <http://www.macromedia.com/support/documentation/jp/flex/1_5/asdocs_jp/xml.html>

([[名無しさん]] [sage])

[28]
[CODE(XMLe)@@en[[[xml.apache.org]]]]
なる要素型名が使われています。。。
([[名無しさん]] [sage])

[29]
[CITE[Burlap 1.0 Draft V9]] <http://www.caucho.com/burlap/burlap-draft-spec.xtp#xml>

[[Burlap]]の[[XML]][[データ型]]に対応する[[要素型名]]が[CODE(XMLe)@@en[[[xml]]]]になっています。
([[名無しさん]])

[30]
[CODE(URI)@@en[[[urn:ietf:params:xml:ns:xmpp-streams]]]]に[CODE(XMLe)@@en[[QN[[[xml-not-well-formed]]] [urn:ietf:params:xml:ns:xmpp-streams]]]]という[[要素型]]があります。
([[名無しさん]] [sage])


[42]
[[XML]]の仕様書自体も[[XHTML]]版でも[[XML]]版でも[CODE(XML)@@en[xml]]から始まる[[名前]]を[[識別子]]や[[実体名]]に使っています。
([[名無しさん]] [sage])


[[#comment]]


* XML の名前から Java の名前への変換

[21] [[JAXB]] 1.0 ([[JSR#31]]) の C.2 では [[XML]]
の名前を [[Java]] の名前に変換する方法が規定されています。

[22] [[文字級]]を次のように定義します。
- 句読点 (punctuation character): [CODE(charname)[[[HYPHEN-MINUS]]]],
[CODE(charname)[[[FULL STOP]]]], [CODE(charname)[[[COLON]]]],
[CODE(charname)[[[LOW LINE]]]], [CODE(charname)[[[MIDDLE DOT]]]],
[CODE(charname)[[[GREEK ANO TELELA]]]],
[CODE(charname)[[[ARABIC END OF AYAH]]]],
[CODE(charname)[[[ARABIC START OF RUB EL HIZB]]]]
- Letter: [[Unicode]] の定義によります。
-- 大文字 (upper‐case letter): [[Unicode]] の定義によります。
-- 小文字 (lowercase [INS[(まま)]] letter): [[Unicode]] の定義によります。
-- uncased: 大文字・小文字以外の letter。
- 数字 (digit): [[Unicode]] の定義によります。
- 記号 (mark): [[Java]] の識別子で使える文字のうち、
句読点と letter と数字以外のもの。

この文字分類と次の表に基づき、改語位置 (word break)
を探します。

,前	,分離子	,後	,例
,句読点以外	,1つ以上の句読点	,句読点以外	,"foo--bar → foo, bar"
,数字	,	,数字以外	,"foo22bar → foo22, bar"
,数字以外	,	,数字	,"foo22 → foo, 22"
,小文字	,小文字以外	,"fooBar → foo, Bar"
,大文字	,	,大文字の後に小文字	,"fooBar → FOO, Bar"
,letter	,	,letter 以外	,"Foo〜 → Foo, 〜"
,letter 以外	,	,letter	,"〜Foo → 〜, Foo"
,uncased	,	,uncased 以外	,"あFoo → あ, Foo"
,uncased 以外	,	,uncased	,"Fooあ → Foo, あ"

(前は前の語、後は後ろの語に属しますが、
分離子はどちらにも属しません。)

語分割して、各語頭が小文字なら大文字に替えます。
こうして得られた語をそのまま連結すれば [[Java]]
の[[クラス名]]にできますし、適宜 [CODE(Java)[get]]
や [CODE(Java)[set]] を付けて[[メソッド名]]にできますし、
すべて大文字化して [CODE(Java)[_]] で連結すれば[[定数名]]にもできます。

[[#comment]]


* メモ

- [1] 名前というのは、考えてみれば本当に恐ろしい。名前の指す対象は名前にとらわれてしまう。怖いなあ。
- [2] >>1 もっと広く、[[言葉]]って奴は・・・言葉には[[言霊]]が宿るのですよ。
- [3] 名前の付いていない化け物より名前の付いた化け物の方が手を打ちやすい、という諺(?)もある。それだけ名前の威力は絶大だ。
@


1.17
log
@auto-committed
@
text
@d1 285
a285 281
* SGML での名前

[5] 

>
:名前 (name):
最初の[[文字]]が[[名前開始文字]]である[[名前字句]]。
([[JIS X 4151]]‐1992 3. (194))

[6] 名前の長さは [CODE(SGML)[[[NAMELEN]]]] 以下でなければなりません。 (8.3.1 参照。)

[7] 名前は、 [CODE(SGML)[[[NAMECASE]]]] 
引数の指定によっては対応する[[大文字]]に置換されます。 (8.3 参照。)

[[#comment]]


** XML での名前

- [9] [CODE(ABNF)[[DFN[[RUBYB[名前] [Name]]]] := (Letter / "_" / ":") *名前文字 ;; XML 1.0 [5] ]]
- [8] [CODE(ABNF)[[DFN[[RUBYB[名前文字] [NameChar]]]] := Letter / [RUBYB[数字] [Digit]] / "." / "-" / "_" / ":" / [RUBYB[結合文字] [CombiningChar]] / [RUBYB[拡張子] [Extender]] ;; XML 1.0 [4] ]]

[31]
仕様書:
- [[XML 1]]
-- <IW:XML1:"#dt-name">

[11] [[XML 1]] で[CODE(ABNF)[名前]]が使用される場所
(括弧内は[[XML名前空間]]における制約):
- [[処理指令]]の[[対象名]] (注 >>10) ([CODE@@en[[[NCName]]]])
- [[要素型名]]
-- [[文書型名]] ([CODE@@en[[[QName]]]])
-- [[開始タグ]], [[空要素タグ]], [[終了タグ]]中の[CODE(ABNF)[[[名前]]]]
([[名前空間接頭辞]]が[[宣言]]された[CODE@@en[[[QName]]]])
-- [[要素型宣言]]中の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[QName]]]])
-- [[属性定義並び宣言]]中の[CODE(ABNF)[[[名前]]]] 
([CODE@@en[[[QName]]]])
-- [[モデル群]]中の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[QName]]]])
- [[属性名]]
-- [[属性指定]]中の[CODE(ABNF)[[[名前]]]]
([[名前空間接頭辞]]が[[宣言]]された[CODE@@en[[[QName]]]])
-- [[属性定義]]中の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[QName]]]])
- [[識別子]] ([CODE@@en[[[NCName]]]]なら[[名前空間妥当]])
-- [[識別子属性]] ([CODE(XML)@@en[[[ID]]]]), [[識別子参照属性]]
([CODE(ABNF)@@en[[[IDREF]]]], [CODE(ABNF)@@en[[[IDREFS]]]])
の値 ([[開始タグ]]内, [[空要素タグ]]内,
[[属性定義]]内の[[属性値表記]]の値)
- [[実体名]]
-- [[実体宣言]]内の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[NCName]]]])
-- [[実体参照]]内の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[NCName]]]])
-- [[実体属性]] ([CODE(XML)@@en[[[ENTITY]]]], 
[CODE(XML)@@en[[[ENTITIES]]]]) の値 ([[開始タグ]]内, [[空要素タグ]]内,
[[属性定義]]内の[[属性値表記]]の値)
([CODE@@en[[[NCName]]]]なら[[名前空間妥当]])
- [[記法名]]
-- [[記法宣言]]内の[CODE(ABNF)[[[名前]]]] ([CODE@@en[[[NCName]]]])
-- [[記法属性]] ([CODE(XML)@@en[[[NOTATION]]]])
の[[属性定義]]内の[[名前群]]中の[CODE(ABNF)[[[名前]]]] 
([CODE@@en[[[NCName]]]])
-- [[記法属性]] ([CODE(XML)@@en[[[NOTATION]]]])
の値 ([[開始タグ]]内, [[空要素タグ]]内,
[[属性定義]]内の[[属性値表記]]の値)
([CODE@@en[[[NCName]]]]なら[[名前空間妥当]])

[12] コロン [CODE(XML)[:]] を含む[CODE(ABNF)[名前]]は、
普通は [[XML名前空間]]仕様書に従って解釈されます。
しかしながら、 XML 1.0 仕様書は、 
XML 名前空間的に不正な[CODE(ABNF)[名前]]も扱えることを
XML [[処理系]]に要求しています。

実際、稀ではありますが XML 名前空間に従わない
[CODE(XML)[:]] を含む[CODE(ABNF)[名前]]が使われることがあります。[WEAK[そのほとんどは過去の遺物。]]

[[#comment]]

** [CODE@@en[XML]]で始まる名前

[10] 1文字目から3文字目が [CODE(ABNF)["XML"]]
(大文字・小文字を問わない。) である[CODE(ABNF)[名前]]は、
XML 及び関連仕様によって予約されています。
<http://www.w3.org/TR/REC-xml#dt-name> を参照。

この制限は[CODE(ABNF)[名前]]が使われるすべての場面に影響します。
しかし、その使用がまったく禁止されているのではなく、
[[W3C]] が認めていない使用が禁止されているのだということに注意してください。

ただし、[[処理指令]]の[[対象名]]は、 [CODE(ABNF)["XML"]] 
と丁度一致するものを''除く''[CODE(ABNF)[名前]]と定義されています。
よって、[WEAK[大文字・小文字を問わず]] [SAMP(XML)[<?XML?>]] 
のような処理指令に見えるものが [WEAK[XML 宣言以外で]]文書中にあれば、
その文書は[[整形式]]ですらありません。
[WEAK[ですから、 XML 的には [[XML宣言]]は処理指令ではないのです。]]

- [33] [[XML 1.0]]および[[XML 1.1]]は、最初の3文字が[CODE@@en[[[XML]]]] 
([[大文字]]・[[小文字]]を''問いません''。)
であるような'''[[名前]]'''を[[予約]]しています。
- [32] [[XML名前空間 1.0]]および[[XML名前空間 1.1]]は、
最初の3文字が[CODE@@en[[[XML]]]] 
([[大文字]]・[[小文字]]を''問いません''。)
であるような'''[[名前空間接頭辞]]'''を[[予約]]しています。
- [34] [[XML名前空間 1.0]]および[[XML名前空間 1.1]]は、
最初の3文字が[CODE@@en[[[XML]]]] 
([[大文字]]・[[小文字]]を''問いません''。)
であるような'''[[局所名]]'''をすすめられないと述べています。
-[35] [[XML 1.0]]および[[XML 1.1]]は[[処理指令]]のようなものの[[対象名]]のようなものとして[CODE(XML)@@en[[[xml]]]]を定義しています
([[XML宣言]]および[[文宣言]])。
-[41] [[処理指令]]の[[対象名]]として[CODE(XMLa)@@en[[[xml-stylesheet]]]]が定義されています。
-[36] [[XML名前空間 1.0]]および[[XML名前空間 1.1]]は[[名前空間接頭辞]]として[CODE(XML)@@en[[[xml]]]]および[CODE(XML)@@en[[[xmlns]]]]を定義しています。
-[37] [[XML 1.0]]および[[XML 1.1]]は[[属性名]]として[CODE(XMLa)@@en[[[xml]]:[[lang]]]]および[CODE(XMLa)@@en[[[xml]]:[[space]]]]を定義しています。
-[38] [[XML名前空間 1.0]]および[[XML名前空間 1.1]]は[[属性名]]として[CODE(XMLa)@@en[[[xmlns]]]]を定義しています。
-[39] [[XML基底]]は[[属性名]]として[CODE(XMLa)@@en[[[xml]]:[[base]]]]を定義しています。
-[40] [[属性名]]として[CODE(XMLa)@@en[[[xml]]:[[id]]]]が定義されています。




- [13] ''xml で始まる名前 - 2003年12月 - マーク付けノート'' <http://www.satoshii.org/markup/notes/2003/12#date12-4>: >>10 の話
- [14] >>13 には [Q[[CODE[id="XML-foo"]] は OK, [CODE[id="XML"]] は NG]<http://www.satoshii.org/markup/notes/2003/12#date12-4>] と書かれていますけど、どちらも駄目ではありませんか。

[15]
[[XMLspec]] [[DTD]] では [CODE(XML)[xml]] で始まる[[引数実体]]が使われています。
([[名無しさん]] [sage])

[16] 
[[XMPP]] ([[RFC 3920]]) では 
[CODE(XMLe)[[[xml-not-well-formed]]]] という[[要素型]]が定義されており、
[[名前空間接頭辞]]なしで使われています。

[17]
[CODE(XMLe)[[QN[p:[[master]]] [urn:schemas-microsoft-com:office:powerpoint]]]]
[[要素]]には [CODE(XMLa)[[[xmlhref]]]] [[属性]]があります。
[SRC[PP11]]
([[名無しさん]] [sage])

[18]
[[NCName]] や [[QName]] を流用している [[XML名前空間]]以外の規格は多々ありますが、そこにも [Q[[CODE(XML)[xml]] で始まるものは予約]]という規則が継承されているかどうかは、ほとんどの場合極めて微妙なところです。

例として [[XML Schema]] データ型における定義を見てみましょう。

[CITE[XML Schema Part 2: Datatypes Second Edition]] <http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/#QName>

> [Definition:]   QName represents XML qualified names. The &#183;value space&#183; of QName is the set of tuples {namespace name, local part}, where namespace name is an anyURI and local part is an NCName. The &#183;lexical space&#183; of QName is the set of strings that &#183;match&#183; the QName production of [Namespaces in XML].
> Note:  The mapping between literals in the &#183;lexical space&#183; and values in the &#183;value space&#183; of QName requires a namespace declaration to be in scope for the context in which QName is used. 

[Q@@en[QName represents XML qualified names]]
の [Q[XML qualified names]] の部分が引用元では [[XML名前空間 1.0]]
の [Q@@en[qualified name]] という語にリンクされています。
そのリンク先の説明は
[Q@@en[some names (constructs corresponding to the nonterminal Name) may be given as [DFN[qualified names]]]]
で、 [Q@@en[Name]] の部分が [[XML 1.0]] の生成規則の定義へのリンクになっています。
[[XML 1.0]] によれば [Q@@en[names]] は件の予約がなされています。

と結論づけるのが妥当だと思うのですが、普通に [[XML Schema]]
データ型を利用しようと思い立った人は絶対こんなところまでたどりつけませんって(w

同じようなことはたとえば [[XSLT 1.0]] にもいえます。
でも [[XSLT 1.0]] で [[QName]] を使う場所で
[CODE(XML)[xml]] から始まる名前を使っていることは普通にしばしば見かけたりします。

([[名無しさん]] [sage])

[19]
ちょっと微妙なところというのは、予約に関する規定が [[XML名前空間 1.0]]
の仕様書では[[名前空間]]の[[宣言]]のところ
<http://www.w3.org/TR/1999/REC-xml-names-19990114/#ns-decl>
に書いてあって、 [[QName]] とかの定義のところにではないというところです。
[[XML]] [[文書]]で名前空間を使ってる限りは問題ないのですが、
それ以外の似たような名前空間の仕組みがあるところで使うとなると、
予約に関する規定は適用範囲外だという主張もできなくはありません。。。

[20]
[[JAXB]] の [CODE(XMLe)[[[javaType]]]] [[要素]]には
[CODE(XMLa)[[[xmlType]]]] [[属性]]があります。

[23]
[[RDF/XML]] では[[要素型名]]の [[QName]] が予約名
(最初の3文字が大文字・小文字の [CODE(XML)[xml]]) 
の時は無視することになっています。

[CITE[RDF/XML Syntax Specification (Revised)]] <http://www.w3.org/TR/2004/REC-rdf-syntax-grammar-20040210/#section-Data-Model>

([[名無しさん]] [sage])

[24]
[[属性]]も [CODE(XMLa)[[[xml]]:[[lang]]]] と [CODE(XMLa)[[[xml]]:[[base]]]]
を除いて同様です。

[CITE[RDF/XML Syntax Specification (Revised)]] <http://www.w3.org/TR/2004/REC-rdf-syntax-grammar-20040210/#eventterm-element-attributes>
([[名無しさん]] [sage])

[25]
[[OPML]] の [CODE(XMLe)@@en[[[outline]]]] 要素に 
[CODE(XMLa)@@en[[[xmlurl]]]] 属性があります。
([[名無しさん]])

[26]
[[XML]] の[[名前]]じゃなくて [[N3]] の名前なのであれですが、
[CITE@@en[Evaluation and Report Language (EARL) 1.0 Schema]] 
<http://www.w3.org/TR/2005/WD-EARL10-Schema-20050909/#schema-n3>
では [[XML Schema]] の[[データ型]]の[[名前空間URI]]
に [CODE@@en[xmls:]] という[[名前空間接頭辞]]をあてています。
([[名無しさん]] [sage])

[27]
[[MXML]] では [CODE(XMLe)@@en[[[XML]]]] という[[局所名]]の[[要素型]]があります。

[CITE[MXML タグ]] <http://www.macromedia.com/support/documentation/jp/flex/1_5/asdocs_jp/xml.html>

([[名無しさん]] [sage])

[28]
[CODE(XMLe)@@en[[[xml.apache.org]]]]
なる要素型名が使われています。。。
([[名無しさん]] [sage])

[29]
[CITE[Burlap 1.0 Draft V9]] <http://www.caucho.com/burlap/burlap-draft-spec.xtp#xml>

[[Burlap]]の[[XML]][[データ型]]に対応する[[要素型名]]が[CODE(XMLe)@@en[[[xml]]]]になっています。
([[名無しさん]])


[30]
[CODE(URI)@@en[[[urn:ietf:params:xml:ns:xmpp-streams]]]]に[CODE(XMLe)@@en[[QN[[[xml-not-well-formed]]][urn:ietf:params:xml:ns:xmpp-streams]]]]という[[要素型]]があります。
([[名無しさん]] [sage])


[[#comment]]


* XML の名前から Java の名前への変換

[21] [[JAXB]] 1.0 ([[JSR#31]]) の C.2 では [[XML]]
の名前を [[Java]] の名前に変換する方法が規定されています。

[22] [[文字級]]を次のように定義します。
- 句読点 (punctuation character): [CODE(charname)[[[HYPHEN-MINUS]]]],
[CODE(charname)[[[FULL STOP]]]], [CODE(charname)[[[COLON]]]],
[CODE(charname)[[[LOW LINE]]]], [CODE(charname)[[[MIDDLE DOT]]]],
[CODE(charname)[[[GREEK ANO TELELA]]]],
[CODE(charname)[[[ARABIC END OF AYAH]]]],
[CODE(charname)[[[ARABIC START OF RUB EL HIZB]]]]
- Letter: [[Unicode]] の定義によります。
-- 大文字 (upper‐case letter): [[Unicode]] の定義によります。
-- 小文字 (lowercase [INS[(まま)]] letter): [[Unicode]] の定義によります。
-- uncased: 大文字・小文字以外の letter。
- 数字 (digit): [[Unicode]] の定義によります。
- 記号 (mark): [[Java]] の識別子で使える文字のうち、
句読点と letter と数字以外のもの。

この文字分類と次の表に基づき、改語位置 (word break)
を探します。

,前	,分離子	,後	,例
,句読点以外	,1つ以上の句読点	,句読点以外	,"foo--bar → foo, bar"
,数字	,	,数字以外	,"foo22bar → foo22, bar"
,数字以外	,	,数字	,"foo22 → foo, 22"
,小文字	,小文字以外	,"fooBar → foo, Bar"
,大文字	,	,大文字の後に小文字	,"fooBar → FOO, Bar"
,letter	,	,letter 以外	,"Foo〜 → Foo, 〜"
,letter 以外	,	,letter	,"〜Foo → 〜, Foo"
,uncased	,	,uncased 以外	,"あFoo → あ, Foo"
,uncased 以外	,	,uncased	,"Fooあ → Foo, あ"

(前は前の語、後は後ろの語に属しますが、
分離子はどちらにも属しません。)

語分割して、各語頭が小文字なら大文字に替えます。
こうして得られた語をそのまま連結すれば [[Java]]
の[[クラス名]]にできますし、適宜 [CODE(Java)[get]]
や [CODE(Java)[set]] を付けて[[メソッド名]]にできますし、
すべて大文字化して [CODE(Java)[_]] で連結すれば[[定数名]]にもできます。

[[#comment]]


* メモ

- [1] 名前というのは、考えてみれば本当に恐ろしい。名前の指す対象は名前にとらわれてしまう。怖いなあ。
- [2] >>1 もっと広く、[[言葉]]って奴は・・・言葉には[[言霊]]が宿るのですよ。
- [3] 名前の付いていない化け物より名前の付いた化け物の方が手を打ちやすい、という諺(?)もある。それだけ名前の威力は絶大だ。
@


1.16
log
@auto-committed
@
text
@d1 216
a216 159


* SGML での名前

[5] 

>
:名前 (name):
最初の[[文字]]が[[名前開始文字]]である[[名前字句]]。
([[JIS X 4151]]‐1992 3. (194))

[6] 名前の長さは [CODE(SGML)[[[NAMELEN]]]] 以下でなければなりません。 (8.3.1 参照。)

[7] 名前は、 [CODE(SGML)[[[NAMECASE]]]] 
引数の指定によっては対応する[[大文字]]に置換されます。 (8.3 参照。)

[[#comment]]


** XML での名前

- [9] [CODE(ABNF)[[DFN[[RUBYB[名前] [Name]]]] := (Letter / "_" / ":") *名前文字 ;; XML 1.0 [5] ]]
- [8] [CODE(ABNF)[[DFN[[RUBYB[名前文字] [NameChar]]]] := Letter / [RUBYB[数字] [Digit]] / "." / "-" / "_" / ":" / [RUBYB[結合文字] [CombiningChar]] / [RUBYB[拡張子] [Extender]] ;; XML 1.0 [4] ]]

[10] 1文字目から3文字目が [CODE(ABNF)["XML"]]
(大文字・小文字を問わない。) である[CODE(ABNF)[名前]]は、
XML 及び関連仕様によって予約されています。
<http://www.w3.org/TR/REC-xml#dt-name> を参照。

この制限は[CODE(ABNF)[名前]]が使われるすべての場面に影響します。
しかし、その使用がまったく禁止されているのではなく、
[[W3C]] が認めていない使用が禁止されているのだということに注意してください。

ただし、[[処理指令]]の[[対象名]]は、 [CODE(ABNF)["XML"]] 
と丁度一致するものを''除く''[CODE(ABNF)[名前]]と定義されています。
よって、[WEAK[大文字・小文字を問わず]] [SAMP(XML)[<?XML?>]] 
のような処理指令に見えるものが [WEAK[XML 宣言以外で]]文書中にあれば、
その文書は[[整形式]]ですらありません。
[WEAK[ですから、 XML 的には [[XML宣言]]は処理指令ではないのです。]]

[11] XML 1.0 で[CODE(ABNF)[名前]]が使用される場所:
- [[名前並び]] (属性型 [CODE(XML)[[[IDREFS]]]], [CODE(XML)[[[ENTITIES]]]])
- 処理指令の対象名
- [[要素型名]] ([[文書型名]], [[タグ]]の[CODE(ABNF)[名前]], [[要素型宣言]]の[CODE(ABNF)[名前]], [[属性定義並び宣言]]の[CODE(ABNF)[名前]], [[内容モデル]]中の[CODE(ABNF)[名前]])
- [[属性名]]
- 属性型 [CODE(XML)[[[ID]]]], [CODE(XML)[[[IDREF]]]], [CODE(XML)[[[ENTITY]]]], [CODE(XML)[[[NOTATION]]]] の[[属性値]] ([[開始タグ]]中の[[属性値表記]]内, [[属性定義]]中の属性値表記内)
- [[実体名]] ([[実体参照]]の[CODE(ABNF)[名前]], [[実体宣言]]の[CODE(ABNF)[名前]])
- [[記法名]] (実体宣言内, 属性定義内, [[記法宣言]]の[CODE(ABNF)[名前]])

[12] コロン [CODE(XML)[:]] を含む[CODE(ABNF)[名前]]は、
普通は [[XML名前空間]]仕様書に従って解釈されます。
しかしながら、 XML 1.0 仕様書は、 
XML 名前空間的に不正な[CODE(ABNF)[名前]]も扱えることを
XML [[処理系]]に要求しています。

実際、稀ではありますが XML 名前空間に従わない
[CODE(XML)[:]] を含む[CODE(ABNF)[名前]]が使われることがあります。[WEAK[そのほとんどは過去の遺物。]]

- [13] ''xml で始まる名前 - 2003年12月 - マーク付けノート'' <http://www.satoshii.org/markup/notes/2003/12#date12-4>: >>10 の話
- [14] >>13 には [Q[[CODE[id="XML-foo"]] は OK, [CODE[id="XML"]] は NG]<http://www.satoshii.org/markup/notes/2003/12#date12-4>] と書かれていますけど、どちらも駄目ではありませんか。

[15]
[[XMLspec]] [[DTD]] では [CODE(XML)[xml]] で始まる[[引数実体]]が使われています。
([[名無しさん]] [sage])

[16] 
[[XMPP]] ([[RFC 3920]]) では 
[CODE(XMLe)[[[xml-not-well-formed]]]] という[[要素型]]が定義されており、
[[名前空間接頭辞]]なしで使われています。

[17]
[CODE(XMLe)[[QN[p:[[master]]] [urn:schemas-microsoft-com:office:powerpoint]]]]
[[要素]]には [CODE(XMLa)[[[xmlhref]]]] [[属性]]があります。
[SRC[PP11]]
([[名無しさん]] [sage])

[18]
[[NCName]] や [[QName]] を流用している [[XML名前空間]]以外の規格は多々ありますが、そこにも [Q[[CODE(XML)[xml]] で始まるものは予約]]という規則が継承されているかどうかは、ほとんどの場合極めて微妙なところです。

例として [[XML Schema]] データ型における定義を見てみましょう。

[CITE[XML Schema Part 2: Datatypes Second Edition]] <http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/#QName>

> [Definition:]   QName represents XML qualified names. The &#183;value space&#183; of QName is the set of tuples {namespace name, local part}, where namespace name is an anyURI and local part is an NCName. The &#183;lexical space&#183; of QName is the set of strings that &#183;match&#183; the QName production of [Namespaces in XML].
> Note:  The mapping between literals in the &#183;lexical space&#183; and values in the &#183;value space&#183; of QName requires a namespace declaration to be in scope for the context in which QName is used. 

[Q@@en[QName represents XML qualified names]]
の [Q[XML qualified names]] の部分が引用元では [[XML名前空間 1.0]]
の [Q@@en[qualified name]] という語にリンクされています。
そのリンク先の説明は
[Q@@en[some names (constructs corresponding to the nonterminal Name) may be given as [DFN[qualified names]]]]
で、 [Q@@en[Name]] の部分が [[XML 1.0]] の生成規則の定義へのリンクになっています。
[[XML 1.0]] によれば [Q@@en[names]] は件の予約がなされています。

と結論づけるのが妥当だと思うのですが、普通に [[XML Schema]]
データ型を利用しようと思い立った人は絶対こんなところまでたどりつけませんって(w

同じようなことはたとえば [[XSLT 1.0]] にもいえます。
でも [[XSLT 1.0]] で [[QName]] を使う場所で
[CODE(XML)[xml]] から始まる名前を使っていることは普通にしばしば見かけたりします。

([[名無しさん]] [sage])

[19]
ちょっと微妙なところというのは、予約に関する規定が [[XML名前空間 1.0]]
の仕様書では[[名前空間]]の[[宣言]]のところ
<http://www.w3.org/TR/1999/REC-xml-names-19990114/#ns-decl>
に書いてあって、 [[QName]] とかの定義のところにではないというところです。
[[XML]] [[文書]]で名前空間を使ってる限りは問題ないのですが、
それ以外の似たような名前空間の仕組みがあるところで使うとなると、
予約に関する規定は適用範囲外だという主張もできなくはありません。。。

[20]
[[JAXB]] の [CODE(XMLe)[[[javaType]]]] [[要素]]には
[CODE(XMLa)[[[xmlType]]]] [[属性]]があります。

[23]
[[RDF/XML]] では[[要素型名]]の [[QName]] が予約名
(最初の3文字が大文字・小文字の [CODE(XML)[xml]]) 
の時は無視することになっています。

[CITE[RDF/XML Syntax Specification (Revised)]] <http://www.w3.org/TR/2004/REC-rdf-syntax-grammar-20040210/#section-Data-Model>

([[名無しさん]] [sage])

[24]
[[属性]]も [CODE(XMLa)[[[xml]]:[[lang]]]] と [CODE(XMLa)[[[xml]]:[[base]]]]
を除いて同様です。

[CITE[RDF/XML Syntax Specification (Revised)]] <http://www.w3.org/TR/2004/REC-rdf-syntax-grammar-20040210/#eventterm-element-attributes>
([[名無しさん]] [sage])

[25]
[[OPML]] の [CODE(XMLe)@@en[[[outline]]]] 要素に 
[CODE(XMLa)@@en[[[xmlurl]]]] 属性があります。
([[名無しさん]])

[26]
[[XML]] の[[名前]]じゃなくて [[N3]] の名前なのであれですが、
[CITE@@en[Evaluation and Report Language (EARL) 1.0 Schema]] 
<http://www.w3.org/TR/2005/WD-EARL10-Schema-20050909/#schema-n3>
では [[XML Schema]] の[[データ型]]の[[名前空間URI]]
に [CODE@@en[xmls:]] という[[名前空間接頭辞]]をあてています。
([[名無しさん]] [sage])

[27]
[[MXML]] では [CODE(XMLe)@@en[[[XML]]]] という[[局所名]]の[[要素型]]があります。

[CITE[MXML タグ]] <http://www.macromedia.com/support/documentation/jp/flex/1_5/asdocs_jp/xml.html>

([[名無しさん]] [sage])

[28]
[CODE(XMLe)@@en[[[xml.apache.org]]]]
なる要素型名が使われています。。。
([[名無しさん]] [sage])


[29]
d219 63
a281 58
[[Burlap]]の[[XML]][[データ型]]に対応する[[要素型名]]が[CODE(XMLe)@@en[[[xml]]]]になっています。
([[名無しさん]])


[[#comment]]


* XML の名前から Java の名前への変換

[21] [[JAXB]] 1.0 ([[JSR#31]]) の C.2 では [[XML]]
の名前を [[Java]] の名前に変換する方法が規定されています。

[22] [[文字級]]を次のように定義します。
- 句読点 (punctuation character): [CODE(charname)[[[HYPHEN-MINUS]]]],
[CODE(charname)[[[FULL STOP]]]], [CODE(charname)[[[COLON]]]],
[CODE(charname)[[[LOW LINE]]]], [CODE(charname)[[[MIDDLE DOT]]]],
[CODE(charname)[[[GREEK ANO TELELA]]]],
[CODE(charname)[[[ARABIC END OF AYAH]]]],
[CODE(charname)[[[ARABIC START OF RUB EL HIZB]]]]
- Letter: [[Unicode]] の定義によります。
-- 大文字 (upper‐case letter): [[Unicode]] の定義によります。
-- 小文字 (lowercase [INS[(まま)]] letter): [[Unicode]] の定義によります。
-- uncased: 大文字・小文字以外の letter。
- 数字 (digit): [[Unicode]] の定義によります。
- 記号 (mark): [[Java]] の識別子で使える文字のうち、
句読点と letter と数字以外のもの。

この文字分類と次の表に基づき、改語位置 (word break)
を探します。

,前	,分離子	,後	,例
,句読点以外	,1つ以上の句読点	,句読点以外	,"foo--bar → foo, bar"
,数字	,	,数字以外	,"foo22bar → foo22, bar"
,数字以外	,	,数字	,"foo22 → foo, 22"
,小文字	,小文字以外	,"fooBar → foo, Bar"
,大文字	,	,大文字の後に小文字	,"fooBar → FOO, Bar"
,letter	,	,letter 以外	,"Foo〜 → Foo, 〜"
,letter 以外	,	,letter	,"〜Foo → 〜, Foo"
,uncased	,	,uncased 以外	,"あFoo → あ, Foo"
,uncased 以外	,	,uncased	,"Fooあ → Foo, あ"

(前は前の語、後は後ろの語に属しますが、
分離子はどちらにも属しません。)

語分割して、各語頭が小文字なら大文字に替えます。
こうして得られた語をそのまま連結すれば [[Java]]
の[[クラス名]]にできますし、適宜 [CODE(Java)[get]]
や [CODE(Java)[set]] を付けて[[メソッド名]]にできますし、
すべて大文字化して [CODE(Java)[_]] で連結すれば[[定数名]]にもできます。

[[#comment]]


* メモ

- [1] 名前というのは、考えてみれば本当に恐ろしい。名前の指す対象は名前にとらわれてしまう。怖いなあ。
- [2] >>1 もっと広く、[[言葉]]って奴は・・・言葉には[[言霊]]が宿るのですよ。
- [3] 名前の付いていない化け物より名前の付いた化け物の方が手を打ちやすい、という諺(?)もある。それだけ名前の威力は絶大だ。
@


1.15
log
@auto-committed
@
text
@a152 1

d154 1
a154 1
[CODE(XMLe)@@en[[[xml.apache.org]]]]
d157 7
@


1.14
log
@auto-committed
@
text
@d146 6
a152 4
[27]
[[MXML]] では [CODE(XMLe)@@en[[[XML]]]] という[[局所名]]の[[要素型]]があります。

[CITE[MXML タグ]] <http://www.macromedia.com/support/documentation/jp/flex/1_5/asdocs_jp/xml.html>
d154 3
@


1.13
log
@auto-committed
@
text
@a137 1

d139 4
a142 4
[[XML]] の[[名前]]じゃなくて [[N3]] の名前なのであれですが、
[CITE@@en[Evaluation and Report Language (EARL) 1.0 Schema]] 
<http://www.w3.org/TR/2005/WD-EARL10-Schema-20050909/#schema-n3>
では [[XML Schema]] の[[データ型]]の[[名前空間URI]]
d144 8
@


1.12
log
@auto-committed
@
text
@a132 1

d134 1
a134 1
[[OPML]] の [CODE(XMLe)@@en[[[outline]]]] 要素に 
d137 9
@


1.11
log
@auto-committed
@
text
@d126 3
a129 4
[24]
[[属性]]も [CODE(XMLa)[[[xml]]:[[lang]]]] と [CODE(XMLa)[[[xml]]:[[base]]]]
を除いて同様です。

d132 6
@


1.10
log
@auto-committed
@
text
@d1 188
a188 168

* SGML での名前

[5] 

>
:名前 (name):
最初の[[文字]]が[[名前開始文字]]である[[名前字句]]。
([[JIS X 4151]]‐1992 3. (194))

[6] 名前の長さは [CODE(SGML)[[[NAMELEN]]]] 以下でなければなりません。 (8.3.1 参照。)

[7] 名前は、 [CODE(SGML)[[[NAMECASE]]]] 
引数の指定によっては対応する[[大文字]]に置換されます。 (8.3 参照。)

[[#comment]]


** XML での名前

- [9] [CODE(ABNF)[[DFN[[RUBYB[名前] [Name]]]] := (Letter / "_" / ":") *名前文字 ;; XML 1.0 [5] ]]
- [8] [CODE(ABNF)[[DFN[[RUBYB[名前文字] [NameChar]]]] := Letter / [RUBYB[数字] [Digit]] / "." / "-" / "_" / ":" / [RUBYB[結合文字] [CombiningChar]] / [RUBYB[拡張子] [Extender]] ;; XML 1.0 [4] ]]

[10] 1文字目から3文字目が [CODE(ABNF)["XML"]]
(大文字・小文字を問わない。) である[CODE(ABNF)[名前]]は、
XML 及び関連仕様によって予約されています。
<http://www.w3.org/TR/REC-xml#dt-name> を参照。

この制限は[CODE(ABNF)[名前]]が使われるすべての場面に影響します。
しかし、その使用がまったく禁止されているのではなく、
[[W3C]] が認めていない使用が禁止されているのだということに注意してください。

ただし、[[処理指令]]の[[対象名]]は、 [CODE(ABNF)["XML"]] 
と丁度一致するものを''除く''[CODE(ABNF)[名前]]と定義されています。
よって、[WEAK[大文字・小文字を問わず]] [SAMP(XML)[<?XML?>]] 
のような処理指令に見えるものが [WEAK[XML 宣言以外で]]文書中にあれば、
その文書は[[整形式]]ですらありません。
[WEAK[ですから、 XML 的には [[XML宣言]]は処理指令ではないのです。]]

[11] XML 1.0 で[CODE(ABNF)[名前]]が使用される場所:
- [[名前並び]] (属性型 [CODE(XML)[[[IDREFS]]]], [CODE(XML)[[[ENTITIES]]]])
- 処理指令の対象名
- [[要素型名]] ([[文書型名]], [[タグ]]の[CODE(ABNF)[名前]], [[要素型宣言]]の[CODE(ABNF)[名前]], [[属性定義並び宣言]]の[CODE(ABNF)[名前]], [[内容モデル]]中の[CODE(ABNF)[名前]])
- [[属性名]]
- 属性型 [CODE(XML)[[[ID]]]], [CODE(XML)[[[IDREF]]]], [CODE(XML)[[[ENTITY]]]], [CODE(XML)[[[NOTATION]]]] の[[属性値]] ([[開始タグ]]中の[[属性値表記]]内, [[属性定義]]中の属性値表記内)
- [[実体名]] ([[実体参照]]の[CODE(ABNF)[名前]], [[実体宣言]]の[CODE(ABNF)[名前]])
- [[記法名]] (実体宣言内, 属性定義内, [[記法宣言]]の[CODE(ABNF)[名前]])

[12] コロン [CODE(XML)[:]] を含む[CODE(ABNF)[名前]]は、
普通は [[XML名前空間]]仕様書に従って解釈されます。
しかしながら、 XML 1.0 仕様書は、 
XML 名前空間的に不正な[CODE(ABNF)[名前]]も扱えることを
XML [[処理系]]に要求しています。

実際、稀ではありますが XML 名前空間に従わない
[CODE(XML)[:]] を含む[CODE(ABNF)[名前]]が使われることがあります。[WEAK[そのほとんどは過去の遺物。]]

- [13] ''xml で始まる名前 - 2003年12月 - マーク付けノート'' <http://www.satoshii.org/markup/notes/2003/12#date12-4>: >>10 の話
- [14] >>13 には [Q[[CODE[id="XML-foo"]] は OK, [CODE[id="XML"]] は NG]<http://www.satoshii.org/markup/notes/2003/12#date12-4>] と書かれていますけど、どちらも駄目ではありませんか。

[15]
[[XMLspec]] [[DTD]] では [CODE(XML)[xml]] で始まる[[引数実体]]が使われています。
([[名無しさん]] [sage])

[16] 
[[XMPP]] ([[RFC 3920]]) では 
[CODE(XMLe)[[[xml-not-well-formed]]]] という[[要素型]]が定義されており、
[[名前空間接頭辞]]なしで使われています。

[17]
[CODE(XMLe)[[QN[p:[[master]]] [urn:schemas-microsoft-com:office:powerpoint]]]]
[[要素]]には [CODE(XMLa)[[[xmlhref]]]] [[属性]]があります。
[SRC[PP11]]
([[名無しさん]] [sage])

[18]
[[NCName]] や [[QName]] を流用している [[XML名前空間]]以外の規格は多々ありますが、そこにも [Q[[CODE(XML)[xml]] で始まるものは予約]]という規則が継承されているかどうかは、ほとんどの場合極めて微妙なところです。

例として [[XML Schema]] データ型における定義を見てみましょう。

[CITE[XML Schema Part 2: Datatypes Second Edition]] <http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/#QName>

> [Definition:]   QName represents XML qualified names. The &#183;value space&#183; of QName is the set of tuples {namespace name, local part}, where namespace name is an anyURI and local part is an NCName. The &#183;lexical space&#183; of QName is the set of strings that &#183;match&#183; the QName production of [Namespaces in XML].
> Note:  The mapping between literals in the &#183;lexical space&#183; and values in the &#183;value space&#183; of QName requires a namespace declaration to be in scope for the context in which QName is used. 

[Q@@en[QName represents XML qualified names]]
の [Q[XML qualified names]] の部分が引用元では [[XML名前空間 1.0]]
の [Q@@en[qualified name]] という語にリンクされています。
そのリンク先の説明は
[Q@@en[some names (constructs corresponding to the nonterminal Name) may be given as [DFN[qualified names]]]]
で、 [Q@@en[Name]] の部分が [[XML 1.0]] の生成規則の定義へのリンクになっています。
[[XML 1.0]] によれば [Q@@en[names]] は件の予約がなされています。

と結論づけるのが妥当だと思うのですが、普通に [[XML Schema]]
データ型を利用しようと思い立った人は絶対こんなところまでたどりつけませんって(w

同じようなことはたとえば [[XSLT 1.0]] にもいえます。
でも [[XSLT 1.0]] で [[QName]] を使う場所で
[CODE(XML)[xml]] から始まる名前を使っていることは普通にしばしば見かけたりします。

([[名無しさん]] [sage])

[19]
ちょっと微妙なところというのは、予約に関する規定が [[XML名前空間 1.0]]
の仕様書では[[名前空間]]の[[宣言]]のところ
<http://www.w3.org/TR/1999/REC-xml-names-19990114/#ns-decl>
に書いてあって、 [[QName]] とかの定義のところにではないというところです。
[[XML]] [[文書]]で名前空間を使ってる限りは問題ないのですが、
それ以外の似たような名前空間の仕組みがあるところで使うとなると、
予約に関する規定は適用範囲外だという主張もできなくはありません。。。


[20]
[[JAXB]] の [CODE(XMLe)[[[javaType]]]] [[要素]]には
[CODE(XMLa)[[[xmlType]]]] [[属性]]があります。


[[#comment]]

* XML の名前から Java の名前への変換

[21] [[JAXB]] 1.0 ([[JSR#31]]) の C.2 では [[XML]]
の名前を [[Java]] の名前に変換する方法が規定されています。

[22] [[文字級]]を次のように定義します。
- 句読点 (punctuation character): [CODE(charname)[[[HYPHEN-MINUS]]]],
[CODE(charname)[[[FULL STOP]]]], [CODE(charname)[[[COLON]]]],
[CODE(charname)[[[LOW LINE]]]], [CODE(charname)[[[MIDDLE DOT]]]],
[CODE(charname)[[[GREEK ANO TELELA]]]],
[CODE(charname)[[[ARABIC END OF AYAH]]]],
[CODE(charname)[[[ARABIC START OF RUB EL HIZB]]]]
- Letter: [[Unicode]] の定義によります。
-- 大文字 (upper‐case letter): [[Unicode]] の定義によります。
-- 小文字 (lowercase [INS[(まま)]] letter): [[Unicode]] の定義によります。
-- uncased: 大文字・小文字以外の letter。
- 数字 (digit): [[Unicode]] の定義によります。
- 記号 (mark): [[Java]] の識別子で使える文字のうち、
句読点と letter と数字以外のもの。

この文字分類と次の表に基づき、改語位置 (word break)
を探します。

,前,分離子,後,例
,句読点以外,1つ以上の句読点,句読点以外,"foo--bar → foo, bar"
,数字,,数字以外,"foo22bar → foo22, bar"
,数字以外,,数字,"foo22 → foo, 22"
,小文字,小文字以外,"fooBar → foo, Bar"
,大文字,,大文字の後に小文字,"fooBar → FOO, Bar"
,letter,,letter 以外,"Foo〜 → Foo, 〜"
,letter 以外,,letter,"〜Foo → 〜, Foo"
,uncased,,uncased 以外,"あFoo → あ, Foo"
,uncased 以外,,uncased,"Fooあ → Foo, あ"
(前は前の語、後は後ろの語に属しますが、
分離子はどちらにも属しません。)

語分割して、各語頭が小文字なら大文字に替えます。
こうして得られた語をそのまま連結すれば [[Java]]
の[[クラス名]]にできますし、適宜 [CODE(Java)[get]]
や [CODE(Java)[set]] を付けて[[メソッド名]]にできますし、
すべて大文字化して [CODE(Java)[_]] で連結すれば[[定数名]]にもできます。

[[#comment]]

* メモ

- [1] 名前というのは、考えてみれば本当に恐ろしい。名前の指す対象は名前にとらわれてしまう。怖いなあ。
- [2] >>1 もっと広く、[[言葉]]って奴は・・・言葉には[[言霊]]が宿るのですよ。
- [3] 名前の付いていない化け物より名前の付いた化け物の方が手を打ちやすい、という諺(?)もある。それだけ名前の威力は絶大だ。
@


1.9
log
@auto-committed
@
text
@d1 71
a71 73


* SGML での名前

[5] 

>
:名前 (name):
最初の[[文字]]が[[名前開始文字]]である[[名前字句]]。
([[JIS X 4151]]‐1992 3. (194))

[6] 名前の長さは [CODE(SGML)[[[NAMELEN]]]] 以下でなければなりません。 (8.3.1 参照。)

[7] 名前は、 [CODE(SGML)[[[NAMECASE]]]] 
引数の指定によっては対応する[[大文字]]に置換されます。 (8.3 参照。)

[[#comment]]


** XML での名前

- [9] [CODE(ABNF)[[DFN[[RUBYB[名前] [Name]]]] := (Letter / "_" / ":") *名前文字 ;; XML 1.0 [5] ]]
- [8] [CODE(ABNF)[[DFN[[RUBYB[名前文字] [NameChar]]]] := Letter / [RUBYB[数字] [Digit]] / "." / "-" / "_" / ":" / [RUBYB[結合文字] [CombiningChar]] / [RUBYB[拡張子] [Extender]] ;; XML 1.0 [4] ]]

[10] 1文字目から3文字目が [CODE(ABNF)["XML"]]
(大文字・小文字を問わない。) である[CODE(ABNF)[名前]]は、
XML 及び関連仕様によって予約されています。
<http://www.w3.org/TR/REC-xml#dt-name> を参照。

この制限は[CODE(ABNF)[名前]]が使われるすべての場面に影響します。
しかし、その使用がまったく禁止されているのではなく、
[[W3C]] が認めていない使用が禁止されているのだということに注意してください。

ただし、[[処理指令]]の[[対象名]]は、 [CODE(ABNF)["XML"]] 
と丁度一致するものを''除く''[CODE(ABNF)[名前]]と定義されています。
よって、[WEAK[大文字・小文字を問わず]] [SAMP(XML)[<?XML?>]] 
のような処理指令に見えるものが [WEAK[XML 宣言以外で]]文書中にあれば、
その文書は[[整形式]]ですらありません。
[WEAK[ですから、 XML 的には [[XML宣言]]は処理指令ではないのです。]]

[11] XML 1.0 で[CODE(ABNF)[名前]]が使用される場所:
- [[名前並び]] (属性型 [CODE(XML)[[[IDREFS]]]], [CODE(XML)[[[ENTITIES]]]])
- 処理指令の対象名
- [[要素型名]] ([[文書型名]], [[タグ]]の[CODE(ABNF)[名前]], [[要素型宣言]]の[CODE(ABNF)[名前]], [[属性定義並び宣言]]の[CODE(ABNF)[名前]], [[内容モデル]]中の[CODE(ABNF)[名前]])
- [[属性名]]
- 属性型 [CODE(XML)[[[ID]]]], [CODE(XML)[[[IDREF]]]], [CODE(XML)[[[ENTITY]]]], [CODE(XML)[[[NOTATION]]]] の[[属性値]] ([[開始タグ]]中の[[属性値表記]]内, [[属性定義]]中の属性値表記内)
- [[実体名]] ([[実体参照]]の[CODE(ABNF)[名前]], [[実体宣言]]の[CODE(ABNF)[名前]])
- [[記法名]] (実体宣言内, 属性定義内, [[記法宣言]]の[CODE(ABNF)[名前]])

[12] コロン [CODE(XML)[:]] を含む[CODE(ABNF)[名前]]は、
普通は [[XML名前空間]]仕様書に従って解釈されます。
しかしながら、 XML 1.0 仕様書は、 
XML 名前空間的に不正な[CODE(ABNF)[名前]]も扱えることを
XML [[処理系]]に要求しています。

実際、稀ではありますが XML 名前空間に従わない
[CODE(XML)[:]] を含む[CODE(ABNF)[名前]]が使われることがあります。[WEAK[そのほとんどは過去の遺物。]]

- [13] ''xml で始まる名前 - 2003年12月 - マーク付けノート'' <http://www.satoshii.org/markup/notes/2003/12#date12-4>: >>10 の話
- [14] >>13 には [Q[[CODE[id="XML-foo"]] は OK, [CODE[id="XML"]] は NG]<http://www.satoshii.org/markup/notes/2003/12#date12-4>] と書かれていますけど、どちらも駄目ではありませんか。

[15]
[[XMLspec]] [[DTD]] では [CODE(XML)[xml]] で始まる[[引数実体]]が使われています。
([[名無しさん]] [sage])

[16] 
[[XMPP]] ([[RFC 3920]]) では 
[CODE(XMLe)[[[xml-not-well-formed]]]] という[[要素型]]が定義されており、
[[名前空間接頭辞]]なしで使われています。


[17]
[CODE(XMLe)[[QN[p:[[master]]][urn:schemas-microsoft-com:office:powerpoint]]]]
d73 96
a168 12
[SRC[PP11]]
([[名無しさん]] [sage])


[[#comment]]


* メモ

- [1] 名前というのは、考えてみれば本当に恐ろしい。名前の指す対象は名前にとらわれてしまう。怖いなあ。
- [2] >>1 もっと広く、[[言葉]]って奴は・・・言葉には[[言霊]]が宿るのですよ。
- [3] 名前の付いていない化け物より名前の付いた化け物の方が手を打ちやすい、という諺(?)もある。それだけ名前の威力は絶大だ。
@


1.8
log
@auto-committed
@
text
@d1 86
a86 79


* SGML での名前

[5] 

>
:名前 (name):
最初の[[文字]]が[[名前開始文字]]である[[名前字句]]。
([[JIS X 4151]]‐1992 3. (194))

[6] 名前の長さは [CODE(SGML)[[[NAMELEN]]]] 以下でなければなりません。 (8.3.1 参照。)

[7] 名前は、 [CODE(SGML)[[[NAMECASE]]]] 
引数の指定によっては対応する[[大文字]]に置換されます。 (8.3 参照。)

[[#comment]]


** XML での名前

- [9] [CODE(ABNF)[[DFN[[RUBYB[名前] [Name]]]] := (Letter / "_" / ":") *名前文字 ;; XML 1.0 [5] ]]
- [8] [CODE(ABNF)[[DFN[[RUBYB[名前文字] [NameChar]]]] := Letter / [RUBYB[数字] [Digit]] / "." / "-" / "_" / ":" / [RUBYB[結合文字] [CombiningChar]] / [RUBYB[拡張子] [Extender]] ;; XML 1.0 [4] ]]

[10] 1文字目から3文字目が [CODE(ABNF)["XML"]]
(大文字・小文字を問わない。) である[CODE(ABNF)[名前]]は、
XML 及び関連仕様によって予約されています。
<http://www.w3.org/TR/REC-xml#dt-name> を参照。

この制限は[CODE(ABNF)[名前]]が使われるすべての場面に影響します。
しかし、その使用がまったく禁止されているのではなく、
[[W3C]] が認めていない使用が禁止されているのだということに注意してください。

ただし、[[処理指令]]の[[対象名]]は、 [CODE(ABNF)["XML"]] 
と丁度一致するものを''除く''[CODE(ABNF)[名前]]と定義されています。
よって、[WEAK[大文字・小文字を問わず]] [SAMP(XML)[<?XML?>]] 
のような処理指令に見えるものが [WEAK[XML 宣言以外で]]文書中にあれば、
その文書は[[整形式]]ですらありません。
[WEAK[ですから、 XML 的には [[XML宣言]]は処理指令ではないのです。]]

[11] XML 1.0 で[CODE(ABNF)[名前]]が使用される場所:
- [[名前並び]] (属性型 [CODE(XML)[[[IDREFS]]]], [CODE(XML)[[[ENTITIES]]]])
- 処理指令の対象名
- [[要素型名]] ([[文書型名]], [[タグ]]の[CODE(ABNF)[名前]], [[要素型宣言]]の[CODE(ABNF)[名前]], [[属性定義並び宣言]]の[CODE(ABNF)[名前]], [[内容モデル]]中の[CODE(ABNF)[名前]])
- [[属性名]]
- 属性型 [CODE(XML)[[[ID]]]], [CODE(XML)[[[IDREF]]]], [CODE(XML)[[[ENTITY]]]], [CODE(XML)[[[NOTATION]]]] の[[属性値]] ([[開始タグ]]中の[[属性値表記]]内, [[属性定義]]中の属性値表記内)
- [[実体名]] ([[実体参照]]の[CODE(ABNF)[名前]], [[実体宣言]]の[CODE(ABNF)[名前]])
- [[記法名]] (実体宣言内, 属性定義内, [[記法宣言]]の[CODE(ABNF)[名前]])

[12] コロン [CODE(XML)[:]] を含む[CODE(ABNF)[名前]]は、
普通は [[XML名前空間]]仕様書に従って解釈されます。
しかしながら、 XML 1.0 仕様書は、 
XML 名前空間的に不正な[CODE(ABNF)[名前]]も扱えることを
XML [[処理系]]に要求しています。

実際、稀ではありますが XML 名前空間に従わない
[CODE(XML)[:]] を含む[CODE(ABNF)[名前]]が使われることがあります。[WEAK[そのほとんどは過去の遺物。]]

- [13] ''xml で始まる名前 - 2003年12月 - マーク付けノート'' <http://www.satoshii.org/markup/notes/2003/12#date12-4>: >>10 の話
- [14] >>13 には [Q[[CODE[id="XML-foo"]] は OK, [CODE[id="XML"]] は NG]<http://www.satoshii.org/markup/notes/2003/12#date12-4>] と書かれていますけど、どちらも駄目ではありませんか。

[15]
[[XMLspec]] [[DTD]] では [CODE(XML)[xml]] で始まる[[引数実体]]が使われています。
([[名無しさん]] [sage])


[16] 
[[XMPP]] ([[RFC 3920]]) では 
[CODE(XMLe)[[[xml-not-well-formed]]]] という[[要素型]]が定義されており、
[[名前空間接頭辞]]なしで使われています。

[[#comment]]


* メモ

- [1] 名前というのは、考えてみれば本当に恐ろしい。名前の指す対象は名前にとらわれてしまう。怖いなあ。
- [2] >>1 もっと広く、[[言葉]]って奴は・・・言葉には[[言霊]]が宿るのですよ。
- [3] 名前の付いていない化け物より名前の付いた化け物の方が手を打ちやすい、という諺(?)もある。それだけ名前の威力は絶大だ。
@


1.7
log
@auto-committed
@
text
@d1 79
a79 74



* SGML での名前

[5] 

>
:名前 (name):
最初の[[文字]]が[[名前開始文字]]である[[名前字句]]。
([[JIS X 4151]]‐1992 3. (194))

[6] 名前の長さは [CODE(SGML)[[[NAMELEN]]]] 以下でなければなりません。 (8.3.1 参照。)

[7] 名前は、 [CODE(SGML)[[[NAMECASE]]]] 
引数の指定によっては対応する[[大文字]]に置換されます。 (8.3 参照。)

[[#comment]]


** XML での名前

- [9] [CODE(ABNF)[[DFN[[RUBYB[名前] [Name]]]] := (Letter / "_" / ":") *名前文字 ;; XML 1.0 [5] ]]
- [8] [CODE(ABNF)[[DFN[[RUBYB[名前文字] [NameChar]]]] := Letter / [RUBYB[数字] [Digit]] / "." / "-" / "_" / ":" / [RUBYB[結合文字] [CombiningChar]] / [RUBYB[拡張子] [Extender]] ;; XML 1.0 [4] ]]

[10] 1文字目から3文字目が [CODE(ABNF)["XML"]]
(大文字・小文字を問わない。) である[CODE(ABNF)[名前]]は、
XML 及び関連仕様によって予約されています。
<http://www.w3.org/TR/REC-xml#dt-name> を参照。

この制限は[CODE(ABNF)[名前]]が使われるすべての場面に影響します。
しかし、その使用がまったく禁止されているのではなく、
[[W3C]] が認めていない使用が禁止されているのだということに注意してください。

ただし、[[処理指令]]の[[対象名]]は、 [CODE(ABNF)["XML"]] 
と丁度一致するものを''除く''[CODE(ABNF)[名前]]と定義されています。
よって、[WEAK[大文字・小文字を問わず]] [SAMP(XML)[<?XML?>]] 
のような処理指令に見えるものが [WEAK[XML 宣言以外で]]文書中にあれば、
その文書は[[整形式]]ですらありません。
[WEAK[ですから、 XML 的には [[XML宣言]]は処理指令ではないのです。]]

[11] XML 1.0 で[CODE(ABNF)[名前]]が使用される場所:
- [[名前並び]] (属性型 [CODE(XML)[[[IDREFS]]]], [CODE(XML)[[[ENTITIES]]]])
- 処理指令の対象名
- [[要素型名]] ([[文書型名]], [[タグ]]の[CODE(ABNF)[名前]], [[要素型宣言]]の[CODE(ABNF)[名前]], [[属性定義並び宣言]]の[CODE(ABNF)[名前]], [[内容モデル]]中の[CODE(ABNF)[名前]])
- [[属性名]]
- 属性型 [CODE(XML)[[[ID]]]], [CODE(XML)[[[IDREF]]]], [CODE(XML)[[[ENTITY]]]], [CODE(XML)[[[NOTATION]]]] の[[属性値]] ([[開始タグ]]中の[[属性値表記]]内, [[属性定義]]中の属性値表記内)
- [[実体名]] ([[実体参照]]の[CODE(ABNF)[名前]], [[実体宣言]]の[CODE(ABNF)[名前]])
- [[記法名]] (実体宣言内, 属性定義内, [[記法宣言]]の[CODE(ABNF)[名前]])

[12] コロン [CODE(XML)[:]] を含む[CODE(ABNF)[名前]]は、
普通は [[XML名前空間]]仕様書に従って解釈されます。
しかしながら、 XML 1.0 仕様書は、 
XML 名前空間的に不正な[CODE(ABNF)[名前]]も扱えることを
XML [[処理系]]に要求しています。

実際、稀ではありますが XML 名前空間に従わない
[CODE(XML)[:]] を含む[CODE(ABNF)[名前]]が使われることがあります。[WEAK[そのほとんどは過去の遺物。]]

- [13] ''xml で始まる名前 - 2003年12月 - マーク付けノート'' <http://www.satoshii.org/markup/notes/2003/12#date12-4>: >>10 の話
- [14] >>13 には [Q[[CODE[id="XML-foo"]] は OK, [CODE[id="XML"]] は NG]<http://www.satoshii.org/markup/notes/2003/12#date12-4>] と書かれていますけど、どちらも駄目ではありませんか。

[15]
[[XMLspec]] [[DTD]] では [CODE(XML)[xml]] で始まる[[引数実体]]が使われています。
([[名無しさん]] [sage])

[[#comment]]


* メモ

- [1] 名前というのは、考えてみれば本当に恐ろしい。名前の指す対象は名前にとらわれてしまう。怖いなあ。
- [2] >>1 もっと広く、[[言葉]]って奴は・・・言葉には[[言霊]]が宿るのですよ。
- [3] 名前の付いていない化け物より名前の付いた化け物の方が手を打ちやすい、という諺(?)もある。それだけ名前の威力は絶大だ。
@


1.6
log
@auto-committed
@
text
@d1 75
a75 63
#?SuikaWiki/0.9
* SGML での名前

[5] 
>
:名前 (name):
最初の[[文字]]が[[名前開始文字]]である[[名前字句]]。
([[JIS X 4151]]‐1992 3. (194))

[6] 名前の長さは [CODE(SGML)[[[NAMELEN]]]] 以下でなければなりません。 (8.3.1 参照。)

[7] 名前は、 [CODE(SGML)[[[NAMECASE]]]] 
引数の指定によっては対応する[[大文字]]に置換されます。 (8.3 参照。)

[[#comment]]

** XML での名前
-[9] [CODE(ABNF)[[DFN[[RUBYB[名前] [Name]]]] := (Letter / "_" / ":") *名前文字 ;; XML 1.0 [5] ]]
-[8] [CODE(ABNF)[[DFN[[RUBYB[名前文字] [NameChar]]]] := Letter / [RUBYB[数字] [Digit]] / "." / "-" / "_" / ":" / [RUBYB[結合文字] [CombiningChar]] / [RUBYB[拡張子] [Extender]] ;; XML 1.0 [4] ]]

[10] 1文字目から3文字目が [CODE(ABNF)["XML"]]
(大文字・小文字を問わない。) である[CODE(ABNF)[名前]]は、
XML 及び関連仕様によって予約されています。
<http://www.w3.org/TR/REC-xml#dt-name> を参照。

この制限は[CODE(ABNF)[名前]]が使われるすべての場面に影響します。
しかし、その使用がまったく禁止されているのではなく、
[[W3C]] が認めていない使用が禁止されているのだということに注意してください。

ただし、[[処理指令]]の[[対象名]]は、 [CODE(ABNF)["XML"]] 
と丁度一致するものを''除く''[CODE(ABNF)[名前]]と定義されています。
よって、[WEAK[大文字・小文字を問わず]] [SAMP(XML)[<?XML?>]] 
のような処理指令に見えるものが [WEAK[XML 宣言以外で]]文書中にあれば、
その文書は[[整形式]]ですらありません。
[WEAK[ですから、 XML 的には [[XML宣言]]は処理指令ではないのです。]]

[11] XML 1.0 で[CODE(ABNF)[名前]]が使用される場所:
- [[名前並び]] (属性型 [CODE(XML)[[[IDREFS]]]], [CODE(XML)[[[ENTITIES]]]])
- 処理指令の対象名
- [[要素型名]] ([[文書型名]], [[タグ]]の[CODE(ABNF)[名前]], [[要素型宣言]]の[CODE(ABNF)[名前]], [[属性定義並び宣言]]の[CODE(ABNF)[名前]], [[内容モデル]]中の[CODE(ABNF)[名前]])
- [[属性名]]
- 属性型 [CODE(XML)[[[ID]]]], [CODE(XML)[[[IDREF]]]], [CODE(XML)[[[ENTITY]]]], [CODE(XML)[[[NOTATION]]]] の[[属性値]] ([[開始タグ]]中の[[属性値表記]]内, [[属性定義]]中の属性値表記内)
- [[実体名]] ([[実体参照]]の[CODE(ABNF)[名前]], [[実体宣言]]の[CODE(ABNF)[名前]])
- [[記法名]] (実体宣言内, 属性定義内, [[記法宣言]]の[CODE(ABNF)[名前]])

[12] コロン [CODE(XML)[:]] を含む[CODE(ABNF)[名前]]は、
普通は [[XML名前空間]]仕様書に従って解釈されます。
しかしながら、 XML 1.0 仕様書は、 
XML 名前空間的に不正な[CODE(ABNF)[名前]]も扱えることを
XML [[処理系]]に要求しています。

実際、稀ではありますが XML 名前空間に従わない
[CODE(XML)[:]] を含む[CODE(ABNF)[名前]]が使われることがあります。[WEAK[そのほとんどは過去の遺物。]]

- [13] ''xml で始まる名前 - 2003年12月 - マーク付けノート'' <http://www.satoshii.org/markup/notes/2003/12#date12-4>: >>10 の話
- [14] >>13 には [Q[[CODE[id="XML-foo"]] は OK, [CODE[id="XML"]] は NG]<http://www.satoshii.org/markup/notes/2003/12#date12-4>] と書かれていますけど、どちらも駄目ではありませんか。
[[#comment]]

* メモ
- [1] 名前というのは、考えてみれば本当に恐ろしい。名前の指す対象は名前にとらわれてしまう。怖いなあ。
- [2] >>1 もっと広く、[[言葉]]って奴は・・・言葉には[[言霊]]が宿るのですよ。
- [3] 名前の付いていない化け物より名前の付いた化け物の方が手を打ちやすい、という諺(?)もある。それだけ名前の威力は絶大だ。
- [4] [WEAK[2003-10-02 10:56:32 +00:00]] ''[[日渡怜]]'': 
@


1.5
log
@auto-committed
@
text
@d4 5
a8 1
[5] 最初の[[文字]]が[[名前開始文字]]である[[名前字句]]。 Name。 ([[JISX4151]]‐1992 3. (194))
d12 2
a13 1
[7] 名前は、 [CODE(SGML)[[[NAMECASE]]]] 引数の指定によっては対応する[[大文字]]に置換されます。 (8.3 参照。)
a14 1
- [15] [WEAK[2004-01-07 12:58:28 +00:00]] ''[[吉川]]'': 
d30 2
a31 2
ただし、[[処理指令]]の[[対象名]]は、
[CODE(ABNF)["XML"]] と丁度一致するものを''除く''[CODE(ABNF)[名前]]と定義されています。
d48 2
a49 1
しかしながら、 XML 1.0 仕様書は、 XML 名前空間的に不正な[CODE(ABNF)[名前]]も扱えることを
d55 2
a56 2
- [13] ''xml で始まる名前 - 2003年12月 - マーク付けノート'' <http://www.satoshii.org/markup/notes/2003/12#date12-4>: >>10 の話
- [14] >>13 には [Q[[CODE[id="XML-foo"]] は OK, [CODE[id="XML"]] は NG]<http://www.satoshii.org/markup/notes/2003/12#date12-4>] と書かれていますけど、どちらも駄目ではありませんか。
@


1.4
log
@auto-committed
@
text
@d10 1
@


1.3
log
@auto-committed
@
text
@d2 7
a8 1
[5] 【[[SGML]]】 最初の[[文字]]が[[名前開始文字]]である[[名前字句]]。 Name。 ([[JISX4151]]‐1992 定義 (194))
a9 2
- [6] 名前の長さは [CODE(SGML)[[[NAMELEN]]]] 以下でなければなりません。 (8.3.1 参照。)
- [7] 名前は、 [CODE(SGML)[[[NAMECASE]]]] 引数の指定によっては対応する[[大文字]]に置換されます。 (8.3 参照。)
d11 42
@


1.2
log
@auto-committed
@
text
@d1 11
a11 6
#?SuikaWiki/0.9

- [1] 名前というのは、考えてみれば本当に恐ろしい。名前の指す対象は名前にとらわれてしまう。怖いなあ。
- [2] >>1 もっと広く、[[言葉]]って奴は・・・言葉には[[言霊]]が宿るのですよ。
- [3] 名前の付いていない化け物より名前の付いた化け物の方が手を打ちやすい、という諺(?)もある。それだけ名前の威力は絶大だ。
- [4] [WEAK[2003-10-02 10:56:32 +00:00]] ''[[日渡怜]]'': 
@


1.1
log
@auto-commited
@
text
@d6 1
@

