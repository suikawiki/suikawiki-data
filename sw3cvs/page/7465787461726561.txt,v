head	1.20;
access;
symbols
	suikawiki3-final:1.20
	before-db-leaffile:1.5
	after-upgrade-to-suikawiki-3:1.3
	before-fork-suikawiki3:1.3
	after-restore-20040122:1.2;
locks; strict;
comment	@# @;


1.20
date	2007.08.27.03.08.55;	author wakaba;	state Exp;
branches;
next	1.19;

1.19
date	2007.02.08.02.22.50;	author wakaba;	state Exp;
branches;
next	1.18;

1.18
date	2006.10.13.02.17.42;	author wakaba;	state Exp;
branches;
next	1.17;

1.17
date	2006.10.08.02.16.05;	author wakaba;	state Exp;
branches;
next	1.16;

1.16
date	2006.04.18.02.13.31;	author wakaba;	state Exp;
branches;
next	1.15;

1.15
date	2005.12.31.02.11.19;	author wakaba;	state Exp;
branches;
next	1.14;

1.14
date	2005.07.13.02.10.28;	author wakaba;	state Exp;
branches;
next	1.13;

1.13
date	2005.05.18.02.06.58;	author wakaba;	state Exp;
branches;
next	1.12;

1.12
date	2005.04.13.02.07.51;	author wakaba;	state Exp;
branches;
next	1.11;

1.11
date	2005.03.31.02.10.27;	author wakaba;	state Exp;
branches;
next	1.10;

1.10
date	2005.03.23.02.05.21;	author wakaba;	state Exp;
branches;
next	1.9;

1.9
date	2005.02.03.02.06.40;	author wakaba;	state Exp;
branches;
next	1.8;

1.8
date	2004.09.27.02.06.59;	author wakaba;	state Exp;
branches;
next	1.7;

1.7
date	2004.09.18.02.04.44;	author wakaba;	state Exp;
branches;
next	1.6;

1.6
date	2004.04.23.03.39.36;	author wakaba;	state Exp;
branches;
next	1.5;

1.5
date	2004.03.31.02.00.54;	author wakaba;	state Exp;
branches;
next	1.4;

1.4
date	2004.03.18.02.01.12;	author wakaba;	state Exp;
branches;
next	1.3;

1.3
date	2004.02.08.02.03.19;	author wakaba;	state Exp;
branches;
next	1.2;

1.2
date	2003.12.18.02.03.31;	author wakaba;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.27.07.25.05;	author make;	state Exp;
branches;
next	;


desc
@@


1.20
log
@auto-committed
@
text
@

* [CODE(HTMLe)[textarea]] 要素型 (HTML, XHTML 1)

[19] [[HTML]] の [DFN[[CODE(HTMLe)[textarea]] 要素]]は、
[DFN[複数行文章入力制御子]]を作成します。

[20] 仕様書:
- [[SI 4281]]:1998
<http://www.qsm.co.il/Hebrew/si4281e.htm>
-- [CSECTION[6.1.4 Elements with no directionality]]
-- [CSECTION[8.2 The Keyboard]]
-- [CSECTION[8.3 Rendering the Form]]
- [[HTML 4]] ([[Web Forms 1.0]])
-- [CITE[text input]]
<IW:HTML4:"interact/forms.html#text-input">
-- [CITE[17.7 The [CODE(HTMLe)[TEXTAREA]] element]]
<IW:HTML4:"interact/forms.html#edef-TEXTAREA">
- [[Web Forms 2.0]]
-- [CSECTION@@en[12.14. Extensions to the [CODE(HTMLe)@@en[[[textarea]]]] element]]
<IW:WF2:"#extensions">
-- [CSECTION@@en[2.18. Handling unexpected elements and values]]
<IW:WF2:"#handling">

[21]
:[[名前空間名]]:[CODE(URI)[[[http://www.w3.org/1999/xhtml]]]]
:[[局所名]]:[CODE(HTMLe)[textarea]]
:[[開始タグ]]:必須
:[[終了タグ]]:必須
:出現できる文脈:[CODE(SGML)[%[[formctrl]]]] な文脈
:[[内容模型]]:[CODE(SGML)[#[[PCDATA]]]]
:[[属性]]:
,属性名	,属性値	,既定値	,説明	,状態	,出典
,[CODE(HTMLa)[[[accesskey]]]]	,[CODE(SGML)[%[[Character]]]]	,	,	,[HTML 4]
,[CODE(HTMLa)[[[align]]]]	,	,	,配置	,[WinIE 4] 未実装
,[CODE(HTMLa)[[[class]]]]	,	,(なし)	,[[級]]	,"[HTML 4] %[[coreattrs]] ⊂ %[[attrs]], [XHTML 1] [[Core]] ⊂ [[Common]]"
,[CODE(HTMLa)[[[cols]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(必須)	,列	,[HTML 4]
,[CODE(HTMLa)[[[datafld]]]]	,	,	,データ列名	,[WinIE 4]
,[CODE(HTMLa)[[[datasrc]]]]	,	,	,データ源	,[WinIE 4]
,[CODE(HTMLa)[[[dir]]]]	,	,	,[[書字方向]]	,"[HTML 4] %[[i18n]] ⊂ %attrs, [XHTML 1] [[I18N]] ⊂ Common"
,[CODE(HTMLa)[[[disabled]]]]	,([[真偽値属性]])	,(偽)	,無効	,[HTML 4]
,[CODE(HTMLa)[[[format]]]]	,	,	,入力書式	,[au]
,[CODE(HTMLa)[[[id]]]]	,[CODE(SGML)[[[ID]]]]	,(なし)	,一意識別子	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] Core ⊂ Common"
,[CODE(HTMLa)[[[inputmode]]]]	,	,	,入力モード	,OMA 規格	,[[XHTMLMP]]
,[CODE(HTMLa)@@en[[[iprof]]]]	,	,	,[[自動補完]]名	,非標準	,[[iモード]] 7.0
,[CODE(HTMLa)[[[istyle]]]]	,	,	,入力モード	,[iモード 2]
,[CODE(HTMLa)[[[lang]]]]	,	,	,[[自然言語]]	,[HTML 4] %i18n ⊂ %attrs
,[CODE(HTMLa)[[[xml]]:[[lang]]]]	,[CODE(SGML)[%[[LanguageCode]]]]	,(継承)	,[[自然言語]]	,W3C 勧告	,[XHTML 1] I18N ⊂ Common
,[CODE(HTMLa)@@en[[[mode]]]]	,	,	,	,非標準	,[Vodafone]
,[CODE(HTMLa)[[[name]]]]	,	,	,制御子名	,[HTML 4]
,[CODE(HTMLa)[[[onblur]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,失焦点時	,[HTML 4]
,[CODE(HTMLa)[[[onchange]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,変更時	,[HTML 4]
,[CODE(HTMLa)[[[onclick]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %[[events]] ⊂ %attrs, [XHTML 1] [[Events]] ⊂ Common"
,[CODE(HTMLa)[[[ondblclick]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onfocus]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,得焦点時	,[HTML 4]
,[CODE(HTMLa)[[[onkeydown]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onkeypress]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onkeyup]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmousedown]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmousemove]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseout]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseover]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseup]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onselect]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,選択時	,[HTML 4]
,[CODE(HTMLa)[[[readonly]]]]	,(真偽値属性)	,(偽)	,読取専用	,[HTML 4]
,[CODE(HTMLa)[[[rows]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(必須)	,行	,[HTML 4]
,[CODE(HTMLa)[[[style]]]]	,	,	,スタイル情報	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] [[Style]] ⊂ Common"
,[CODE(HTMLa)[[[tabindex]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(自動)	,タブ順	,[HTML 4]
,[CODE(HTMLa)[[[title]]]]	,	,	,注釈的題	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] Core ⊂ Common"
,[CODE(HTMLa)@@en[[[value]]]]	,	,	,[[初期値]]	,非標準
,[CODE(HTMLa)[[[wrap]]]]	,	,	,行送り	,[Web Forms 2.0]


[[#comment]]


** 内容


*** 構文解析 (SGML 構文)

[16]
[[SGML]] base の (正確には [CODE(SGML)[[[KEEPRSRE]] NO]] の) HTML では、
[[タグ]]の前後の[[記録開始]]・[[記録終了]]が無視されるなどの[Q[問題]]があります。 
(どの要素型でもそうですが、 [CODE(HTMLe)[textarea]] や [CODE(HTMLe)[[[pre]]]] 
では問題になり得ます。) [[XHTML]] ではこの[Q[問題]]は起こりません。

参考: ''2004年2月15日 (日) - TEXTAREA要素のレンダリングについて'' <http://www.hyuki.com/diary/dia0402.html#i15_16>

[[数値文字参照]]か[[十六進数文字参照]]を使えばこの問題は回避できます。
(が、そこらのブラウザが対応しているかは知りませんよ。)

詳しくは [[SGML//空白]]あたりを参照されたし。
([[名無しさん]] [WEAK[2004-03-17 10:15:35 +00:00]])

[[#comment]]


*** 構文解析 (HTML 構文)

[44]
[[タグ]]は、[[文字データ]]として[[構文解析]][['''するべきです''']]。
[[注釈]]と[[実体参照]]は、適当に認知して処理[['''するべきです''']]。
[SRC@@en[WF2 2.18]]

[[#comment]]


*** メモ

[[#comment]]


** レンダリング

[22] UA は、初期状態で[[内容]]をレンダリングするべきです。 [SRC[HTML 4 17.7]]

[45]
[[レンダリング]]は、 [[CSS]] 等で上書きされない限り、
[CODE(DOMa)@@en[[[value]]]] [[DOM属性]]によります。
[SRC@@en[WF2 2.18]]

[41] '''幅と高さ'''

→ [CODE(HTMLa)@@en[[[rows]]]] と [CODE(HTMLa)@@en[[[cols]]]]
の[[レンダリング]]の項

[42] '''空白と改行'''

→ [CODE(HTMLa)@@en[[[wrap]]]] の[[レンダリング]]の項

[37] '''Bidi との関係''':
[CODE(HTMLe)[[[textarea]]]] [[要素]]は、 [[bidi]]
的には方向性に関して[[中立]]な[[文字]]1[[文字]]であるかのように扱います。
方向について特に配慮が必要なら
前後に [CODE(char)[[[LRM]]]] や [CODE(char)[[[RLM]]]]
を使えます。 [SRC[SI 4281 6.1.4]]

- [[SI 4281]]:1998
<http://www.qsm.co.il/Hebrew/si4281e.htm>
-- [CSECTION[6.1.4 Elements with no directionality]]
-- [CSECTION[8.2 The Keyboard]]
[12] '''Bidi と提出値''': [[利用者]]が入力欄の[[基底方向性]]を上書きした時は、
それを 
[WEAK[([[提出]]する[[文字符号化方式]]で可能なら)]]
[CODE(char)[[[LRM]]]] や [CODE(char)[[[RLM]]]] 
で囲んで示すべきです [SRC[SI 4281:1998 8.2]]。

[38] '''方向と入力モード''':
[[ヘブライ語]]に対応した[[利用者エージェント]]の場合、
[[右]]から[[左]]の入力欄では、[[カーソル]]の初期位置は右側とし、
入力モード ([[鍵盤言語]]) は[[ヘブライ語]]とし、
[[左]]から[[右]]の入力欄では、[[カーソル]]の初期位置は左側とし、
入力モード ([[鍵盤言語]]) は異言語とするべきです。
[SRC[SI 4281:1998 8.2]]

[[#comment]]


** フォーム制御子


*** 制御子名

[24] [CODE(HTMLa)[[[name]]]] 属性の値が[[制御子名]]として使われます。

[[#comment]]


*** 初期値

[23] [[内容]]を[[初期値]]として使用するべきです。 [SRC[HTML 4 17.7]]

[39] 非標準の[CODE(HTMLa)@@en[[[value]]]][[属性]]を[[初期値]]に使う[[利用者エージェント]]があるらしいです。

[[#comment]]


** 現在値

[33] 制御子の値を編集すると、それが[[現在値]]となります。

[43] [CODE(HTMLa)@@en[[[wrap]]]] [[属性]]との関係については、
[CODE(HTMLa)@@en[[[wrap]]]] の項を参照。

[[#comment]]


*** メモ

[25] 提出についてはフォームの[[提出]]の説明をご覧ください。

[[#comment]]


** 可用性

[28] 多くの視覚 UA は自前の制御子やその環境の標準の制御子を組込んで使っていることが多いです。
どちらの場合にせよ、そのような制御子は貧弱であることが多く、
ウェブ日記や [[wiki]] のように文章編集を多く行うと粗が見えてきます。
とりわけ、独自の制御子を使っている場合には、その環境の制御子が持っている機能すらなかったり、
操作性が異なったり、拡張ソフトウェアを流用できなかったり不便なことがあります。
そこで、 UA 組込みの制御子ではなく、
外部のエディタを使って編集できる方が良いと考える人も少なくありません。

[32] 実装によっては、 [CODE(HTMLe)[textarea]] 
制御子の内容の編集をブラウザ内部で\はなく完全に外部プログラムに任せているものもあります
[SRC[例えば [[w3m]]]]。
実装方法や環境にもよりますが、この方法には外部プログラム起動が遅いとか、
外部プログラム起動中はフォームの頁にある情報を見ることができないとかの問題がある\場合もあります。

利用者エージェントは [CODE(HTMLe)[textarea]] の内容が十分短く簡単ならばブラウザ内で編集できるようにした方が便利です。
可能なら外部プログラムに渡すデータに頁内のの情報を含めて編集内容と一緒に表示して\もらうようにするといいでしょう。

フォームの設計者は、 [[[CODE(HTMLe)[input]]//[CODE(HTML)[text]]]]
で十分なら [CODE(HTMLe)[textarea]] を使うべきではありません。

[40]
多くの[[Webブラウザ]]は[[Web頁]]内の検索機能を持っていますが、
なぜか[CODE(HTMLa)@@en[[[textarea]]]]内の検索機能を持っていません。
[[wiki]]などで長文を編集するようになった昨今の情勢を鑑みると、
[CODE(HTMLa)@@en[[[textarea]]]]内検索機能の実装が望まれます。

([[名無しさん]] [WEAK[2006-04-16 04:04:21 +00:00]])

[[#comment]]


*** メモ

[31]
利用者が要素を[[活性化]]すると ([[焦点]]をあてると)、入力欄は編集可能な状態になります [SRC[HTML 4 17.11.2]]。

[[#comment]]


** 実装

[17]
''textarea - textareaとテキストエディタ連携'' <http://www.hyuki.com/yukiwiki/wiki.cgi?textarea>

WWW ブラウザの [CODE(HTMLe)[textarea]] 編集は貧弱なので外部エディタを使いたいという話。

[18]
''firefox からエディタを利用する方法'' <http://www.mew.org/~kazu/toy/firefox-editor.html>
([[名無しさん]] [WEAK[2004-04-20 08:43:22 +00:00]])

[29] [[w3m]] のように、自前の編集機能が無く、
外部エディタで編集するブラウザもあります。

[30] 但し、外部エディタを使うという方法は、ウィンドウ環境などを持たないテキスト端末を使っていたり、
外部エディタ起動中は UA 本体を操作できなかったりすると文章入力制御子の周りの文章を同時に読めないなどの不都合が生じます。 UA の作者は、 UA の動作する環境に合わせて、
利用者が不便を感じずに編集を行えるように十分注意するべきでしょう。

[36]
[CITE[Resizeable Textarea 0.1a - The Extensions Mirror]] <http://www.extensionsmirror.nl/index.php?showtopic=2796>

[[Firefox]] で [CODE(HTMLe)[textarea]] の表示上の大きさを[[利用者]]が可変にする拡張。
([[名無しさん]] [WEAK[2005-03-29 00:00:16 +00:00]])

[46]
[[Firefox]] 2 はなぜか[[初期値]] ([CODE(DOMa)@@en[[[defaultValue]]]]) 
に [CODE(charname)@@en[[[NBSP]]]] があると[[現在値]] ([CODE(DOMa)@@en[[[value]]]])
では [CODE(charname)@@en[[[SP]]]] に置き換えるようです。

;; [[Opera]] や [[WinIE]] ではそういうことはないようです。

;; 
<http://suika.fam.cx/~wakaba/-temp/test/dom/form/textarea/value/nbsp-default-value-1>,
<http://suika.fam.cx/~wakaba/-temp/test/dom/form/textarea/value/nbsp-value-1>
([[名無しさん]])

[47]
>>46 [[スクリプト]]から [CODE(charname)@@en[[[NBSP]]]] を代入しても、
[CODE(charname)@@en[[[SP]]]] に変換されてしまうようです。

;; <http://suika.fam.cx/~wakaba/-temp/test/dom/form/textarea/value/nbsp-value-2>
([[名無しさん]])

[48]
[CODE(DOMa)@@en[[[defaultValue]]]] に代入し、すぐに値を取得した場合、および
[CODE(DOMa)@@en[[[value]]]] に代入し、すぐに値を取得した場合:
- [[WinIE 6]] は [CODE(charname)@@en[[[NULL]]]] を削ります。
- [[WinIE 6]] でそれ以外の文字、[[Opera]] 9、[[Firefox]] 2 は素通しするようです。
([[名無しさん]])


[49]
[CODE(DOMa)@@en[[[defaultValue]]]] に代入し、 [CODE(DOMm)@@en[[[reset]]]]
してから [CODE(DOMa)@@en[[[value]]]] の値を取得した場合、
- [[Firefox]] 2 では、 [CODE(charname)@@en[[[CR]]]]、
[CODE(charname)@@en[[[LF]]]]、
[CODE(charname)@@en[[[CR]]]] [CODE(charname)@@en[[[LF]]]] が
[CODE(charname)@@en[[[LF]]]] に、
[CODE(charname)@@en[[[NBSP]]]] が
[CODE(charname)@@en[[[SP]]]] に置き換わります。
- [[WinIE 6]] では [CODE(charname)@@en[[[CR]]]],
[CODE(charname)@@en[[[LF]]]],
[CODE(charname)@@en[[[LF]]]] [CODE(charname)@@en[[[CR]]]]
が [CODE(charname)@@en[[[CR]]]] [CODE(charname)@@en[[[LF]]]]
に置き換わります。[CODE(char)[[[U+FDD0]]]]〜[CODE(char)[[[U+FDEF]]]],
[CODE(char)[[[U+FFF0]]]]〜[CODE(char)[[[U+FFF8]]]],
[CODE(char)[[[U+FFFE]]]], [CODE(char)[[[U+FFFF]]]]
が [CODE(char)[[[U+003F]]]] に置き換わります。
- [[Opera]] 9 では、 [CODE(charname)@@en[[[NULL]]]] は除去され (要検証)、
[CODE(charname)@@en[[[CR]]]], [CODE(charname)@@en[[[LF]]]]
は [CODE(charname)@@en[[[CR]]]] [CODE(charname)@@en[[[LF]]]]
に置き換わります。先頭が [CODE(charname)@@en[[[CR]]]]
[CODE(charname)@@en[[[LF]]]] なら、それらは除去されます。
[CODE(char)[[[U+000B]]]] も除去されます (要検証)。

([[名無しさん]])


[[#comment]]


** 不思議解釈

[34] [[CSS]] の [CODE(CSS)[[[overflow]]]] のような仕組みが無かった時代には、
[[著者]]の使っている画面の大きさに整形済みの文章を収める時に
(頁全体の横 scroll bar が出てしまわないようにするのに)
便利と考える人もいました。

[1] 
著者からのメッセージ(謎)とかを、著者が使っている画面の大きさに収める時に大きさ合わせに使う。 (彼(女)は [[CSS]] は知らないか、マウスを乗せたらリンクの色が変わる[[タグ]]は知る。)

とくに、[[What's New?]] を書くのに使うことが多い。

[35] [[Webブラウザ]]の機能が貧弱だった時代には、
プログラムのソース・コードなど[[クリップ板]]を通して複写されそうな文章片を
[CODE(HTMLe)[textarea]] に入れるのがよいと考える人もいました
([CODE(HTMLe)[textarea]] はシステム標準の制御子が使われ、
ブラウザよりは使いやすくなっていたため)。

[[#comment]]


** 他との関係

[27] 複数行ではない文章入力制御子には、 [CODE(HTMLe)[[[input]]]]
要素型を使います。詳しくは [[[CODE(HTMLe)[input]]//[CODE(HTML)[text]]]]
をご覧ください。

[28] [[WebTV]] の拡張では、 [CODE(HTMLe)[input]] 要素を使っても
[CODE(HTMLa)[[[type]]]] を [CODE(HTML)[textarea]] 
とすることで複数行文章入力制御子を作成できます。

[8] かつて、 [[WinIE]] には [CODE(HTMLe)[[[htmlarea]]]] という
[CODE(HTMLe)[textarea]] に似た要素型がありましたが、葬られました。

[[#comment]]


** 例

[26] 簡単な入力制御子の例 [SRC[HTML 4 17.7、改]]
[PRE(HTML example)[
<FORM action="http://somesite.example/prog/text-read" method="post">
   <P>
   <TEXTAREA name="thetext" rows="20" cols="80">
   First line of initial text.
   Second line of initial text.
   </TEXTAREA>
   <INPUT type="submit" value="Send"><INPUT type="reset">
   </P>
</FORM>
]PRE]

この例では、20行80列の文章入力制御子を作成します。
その初期状態は、2行分の文字列が現在値となった状態です。

[[#comment]]


** メモ

[[#comment]]


* メモ@


1.19
log
@auto-committed
@
text
@d1 380
a380 320
* [CODE(HTMLe)[textarea]] 要素型 (HTML, XHTML 1)

[19] [[HTML]] の [DFN[[CODE(HTMLe)[textarea]] 要素]]は、
[DFN[複数行文章入力制御子]]を作成します。

[20] 仕様書:
- [[SI 4281]]:1998
<http://www.qsm.co.il/Hebrew/si4281e.htm>
-- [CSECTION[6.1.4 Elements with no directionality]]
-- [CSECTION[8.2 The Keyboard]]
-- [CSECTION[8.3 Rendering the Form]]
- [[HTML 4]] ([[Web Forms 1.0]])
-- [CITE[text input]]
<IW:HTML4:"interact/forms.html#text-input">
-- [CITE[17.7 The [CODE(HTMLe)[TEXTAREA]] element]]
<IW:HTML4:"interact/forms.html#edef-TEXTAREA">
- [[Web Forms 2.0]]
-- [CSECTION@@en[12.14. Extensions to the [CODE(HTMLe)@@en[[[textarea]]]] element]]
<IW:WF2:"#extensions">
-- [CSECTION@@en[2.18. Handling unexpected elements and values]]
<IW:WF2:"#handling">

[21]
:[[名前空間名]]:[CODE(URI)[[[http://www.w3.org/1999/xhtml]]]]
:[[局所名]]:[CODE(HTMLe)[textarea]]
:[[開始タグ]]:必須
:[[終了タグ]]:必須
:出現できる文脈:[CODE(SGML)[%[[formctrl]]]] な文脈
:[[内容模型]]:[CODE(SGML)[#[[PCDATA]]]]
:[[属性]]:
,属性名	,属性値	,既定値	,説明	,状態	,出典
,[CODE(HTMLa)[[[accesskey]]]]	,[CODE(SGML)[%[[Character]]]]	,	,	,[HTML 4]
,[CODE(HTMLa)[[[align]]]]	,	,	,配置	,[WinIE 4] 未実装
,[CODE(HTMLa)[[[class]]]]	,	,(なし)	,[[級]]	,"[HTML 4] %[[coreattrs]] ⊂ %[[attrs]], [XHTML 1] [[Core]] ⊂ [[Common]]"
,[CODE(HTMLa)[[[cols]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(必須)	,列	,[HTML 4]
,[CODE(HTMLa)[[[datafld]]]]	,	,	,データ列名	,[WinIE 4]
,[CODE(HTMLa)[[[datasrc]]]]	,	,	,データ源	,[WinIE 4]
,[CODE(HTMLa)[[[dir]]]]	,	,	,[[書字方向]]	,"[HTML 4] %[[i18n]] ⊂ %attrs, [XHTML 1] [[I18N]] ⊂ Common"
,[CODE(HTMLa)[[[disabled]]]]	,([[真偽値属性]])	,(偽)	,無効	,[HTML 4]
,[CODE(HTMLa)[[[format]]]]	,	,	,入力書式	,[au]
,[CODE(HTMLa)[[[id]]]]	,[CODE(SGML)[[[ID]]]]	,(なし)	,一意識別子	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] Core ⊂ Common"
,[CODE(HTMLa)[[[inputmode]]]]	,	,	,入力モード	,OMA 規格	,[[XHTMLMP]]
,[CODE(HTMLa)@@en[[[iprof]]]],,,[[自動補完]]名,非標準,"[[iモード]] 7.0"
,[CODE(HTMLa)[[[istyle]]]]	,	,	,入力モード	,[iモード 2]
,[CODE(HTMLa)[[[lang]]]]	,	,	,[[自然言語]]	,[HTML 4] %i18n ⊂ %attrs
,[CODE(HTMLa)[[[xml]]:[[lang]]]]	,[CODE(SGML)[%[[LanguageCode]]]]	,(継承)	,[[自然言語]]	,W3C 勧告	,[XHTML 1] I18N ⊂ Common
,[CODE(HTMLa)@@en[[[mode]]]]	,	,	,	,非標準	,[Vodafone]
,[CODE(HTMLa)[[[name]]]]	,	,	,制御子名	,[HTML 4]
,[CODE(HTMLa)[[[onblur]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,失焦点時	,[HTML 4]
,[CODE(HTMLa)[[[onchange]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,変更時	,[HTML 4]
,[CODE(HTMLa)[[[onclick]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %[[events]] ⊂ %attrs, [XHTML 1] [[Events]] ⊂ Common"
,[CODE(HTMLa)[[[ondblclick]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onfocus]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,得焦点時	,[HTML 4]
,[CODE(HTMLa)[[[onkeydown]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onkeypress]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onkeyup]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmousedown]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmousemove]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseout]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseover]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseup]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onselect]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,選択時	,[HTML 4]
,[CODE(HTMLa)[[[readonly]]]]	,(真偽値属性)	,(偽)	,読取専用	,[HTML 4]
,[CODE(HTMLa)[[[rows]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(必須)	,行	,[HTML 4]
,[CODE(HTMLa)[[[style]]]]	,	,	,スタイル情報	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] [[Style]] ⊂ Common"
,[CODE(HTMLa)[[[tabindex]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(自動)	,タブ順	,[HTML 4]
,[CODE(HTMLa)[[[title]]]]	,	,	,注釈的題	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] Core ⊂ Common"
,[CODE(HTMLa)@@en[[[value]]]]	,	,	,[[初期値]]	,非標準
,[CODE(HTMLa)[[[wrap]]]]	,	,	,行送り	,[Web Forms 2.0]


[[#comment]]


** 内容
*** 構文解析 (SGML 構文)

[16]
[[SGML]] base の (正確には [CODE(SGML)[[[KEEPRSRE]] NO]] の) HTML では、
[[タグ]]の前後の[[記録開始]]・[[記録終了]]が無視されるなどの[Q[問題]]があります。 
(どの要素型でもそうですが、 [CODE(HTMLe)[textarea]] や [CODE(HTMLe)[[[pre]]]] 
では問題になり得ます。) [[XHTML]] ではこの[Q[問題]]は起こりません。

参考: ''2004年2月15日 (日) - TEXTAREA要素のレンダリングについて'' <http://www.hyuki.com/diary/dia0402.html#i15_16>

[[数値文字参照]]か[[十六進数文字参照]]を使えばこの問題は回避できます。
(が、そこらのブラウザが対応しているかは知りませんよ。)

詳しくは [[SGML//空白]]あたりを参照されたし。
([[名無しさん]] [WEAK[2004-03-17 10:15:35 +00:00]])

[[#comment]]
*** 構文解析 (HTML 構文)

[44]
[[タグ]]は、[[文字データ]]として[[構文解析]][['''するべきです''']]。
[[注釈]]と[[実体参照]]は、適当に認知して処理[['''するべきです''']]。
[SRC@@en[WF2 2.18]]

[[#comment]]

*** メモ

[[#comment]]

** レンダリング

[22] UA は、初期状態で[[内容]]をレンダリングするべきです。 [SRC[HTML 4 17.7]]

[45]
[[レンダリング]]は、 [[CSS]] 等で上書きされない限り、
[CODE(DOMa)@@en[[[value]]]] [[DOM属性]]によります。
[SRC@@en[WF2 2.18]]

[41] '''幅と高さ'''

→ [CODE(HTMLa)@@en[[[rows]]]] と [CODE(HTMLa)@@en[[[cols]]]]
の[[レンダリング]]の項

[42] '''空白と改行'''

→ [CODE(HTMLa)@@en[[[wrap]]]] の[[レンダリング]]の項

[37] '''Bidi との関係''':
[CODE(HTMLe)[[[textarea]]]] [[要素]]は、 [[bidi]]
的には方向性に関して[[中立]]な[[文字]]1[[文字]]であるかのように扱います。
方向について特に配慮が必要なら
前後に [CODE(char)[[[LRM]]]] や [CODE(char)[[[RLM]]]]
を使えます。 [SRC[SI 4281 6.1.4]]

- [[SI 4281]]:1998
<http://www.qsm.co.il/Hebrew/si4281e.htm>
-- [CSECTION[6.1.4 Elements with no directionality]]
-- [CSECTION[8.2 The Keyboard]]
[12] '''Bidi と提出値''': [[利用者]]が入力欄の[[基底方向性]]を上書きした時は、
それを 
[WEAK[([[提出]]する[[文字符号化方式]]で可能なら)]]
[CODE(char)[[[LRM]]]] や [CODE(char)[[[RLM]]]] 
で囲んで示すべきです [SRC[SI 4281:1998 8.2]]。

[38] '''方向と入力モード''':
[[ヘブライ語]]に対応した[[利用者エージェント]]の場合、
[[右]]から[[左]]の入力欄では、[[カーソル]]の初期位置は右側とし、
入力モード ([[鍵盤言語]]) は[[ヘブライ語]]とし、
[[左]]から[[右]]の入力欄では、[[カーソル]]の初期位置は左側とし、
入力モード ([[鍵盤言語]]) は異言語とするべきです。
[SRC[SI 4281:1998 8.2]]

[[#comment]]


** フォーム制御子


*** 制御子名

[24] [CODE(HTMLa)[[[name]]]] 属性の値が[[制御子名]]として使われます。

[[#comment]]


*** 初期値

[23] [[内容]]を[[初期値]]として使用するべきです。 [SRC[HTML 4 17.7]]

[39] 非標準の[CODE(HTMLa)@@en[[[value]]]][[属性]]を[[初期値]]に使う[[利用者エージェント]]があるらしいです。

[[#comment]]


** 現在値

[33] 制御子の値を編集すると、それが[[現在値]]となります。

[43] [CODE(HTMLa)@@en[[[wrap]]]] [[属性]]との関係については、
[CODE(HTMLa)@@en[[[wrap]]]] の項を参照。

[[#comment]]


*** メモ

[25] 提出についてはフォームの[[提出]]の説明をご覧ください。

[[#comment]]


** 可用性

[28] 多くの視覚 UA は自前の制御子やその環境の標準の制御子を組込んで使っていることが多いです。
どちらの場合にせよ、そのような制御子は貧弱であることが多く、
ウェブ日記や [[wiki]] のように文章編集を多く行うと粗が見えてきます。
とりわけ、独自の制御子を使っている場合には、その環境の制御子が持っている機能すらなかったり、
操作性が異なったり、拡張ソフトウェアを流用できなかったり不便なことがあります。
そこで、 UA 組込みの制御子ではなく、
外部のエディタを使って編集できる方が良いと考える人も少なくありません。

[32] 実装によっては、 [CODE(HTMLe)[textarea]] 
制御子の内容の編集をブラウザ内部で\はなく完全に外部プログラムに任せているものもあります
[SRC[例えば [[w3m]]]]。
実装方法や環境にもよりますが、この方法には外部プログラム起動が遅いとか、
外部プログラム起動中はフォームの頁にある情報を見ることができないとかの問題がある\場合もあります。

利用者エージェントは [CODE(HTMLe)[textarea]] の内容が十分短く簡単ならばブラウザ内で編集できるようにした方が便利です。
可能なら外部プログラムに渡すデータに頁内のの情報を含めて編集内容と一緒に表示して\もらうようにするといいでしょう。

フォームの設計者は、 [[[CODE(HTMLe)[input]]//[CODE(HTML)[text]]]]
で十分なら [CODE(HTMLe)[textarea]] を使うべきではありません。


[40]
多くの[[Webブラウザ]]は[[Web頁]]内の検索機能を持っていますが、
なぜか[CODE(HTMLa)@@en[[[textarea]]]]内の検索機能を持っていません。
[[wiki]]などで長文を編集するようになった昨今の情勢を鑑みると、
[CODE(HTMLa)@@en[[[textarea]]]]内検索機能の実装が望まれます。

([[名無しさん]] [WEAK[2006-04-16 04:04:21 +00:00]])


[[#comment]]


*** メモ

[31]
利用者が要素を[[活性化]]すると ([[焦点]]をあてると)、入力欄は編集可能な状態になります [SRC[HTML 4 17.11.2]]。

[[#comment]]


** 実装

[17]
''textarea - textareaとテキストエディタ連携'' <http://www.hyuki.com/yukiwiki/wiki.cgi?textarea>

WWW ブラウザの [CODE(HTMLe)[textarea]] 編集は貧弱なので外部エディタを使いたいという話。

[18]
''firefox からエディタを利用する方法'' <http://www.mew.org/~kazu/toy/firefox-editor.html>
([[名無しさん]] [WEAK[2004-04-20 08:43:22 +00:00]])

[29] [[w3m]] のように、自前の編集機能が無く、
外部エディタで編集するブラウザもあります。

[30] 但し、外部エディタを使うという方法は、ウィンドウ環境などを持たないテキスト端末を使っていたり、
外部エディタ起動中は UA 本体を操作できなかったりすると文章入力制御子の周りの文章を同時に読めないなどの不都合が生じます。 UA の作者は、 UA の動作する環境に合わせて、
利用者が不便を感じずに編集を行えるように十分注意するべきでしょう。

[36]
[CITE[Resizeable Textarea 0.1a - The Extensions Mirror]] <http://www.extensionsmirror.nl/index.php?showtopic=2796>

[[Firefox]] で [CODE(HTMLe)[textarea]] の表示上の大きさを[[利用者]]が可変にする拡張。
([[名無しさん]] [WEAK[2005-03-29 00:00:16 +00:00]])

[[#comment]]


** 不思議解釈

[34] [[CSS]] の [CODE(CSS)[[[overflow]]]] のような仕組みが無かった時代には、
[[著者]]の使っている画面の大きさに整形済みの文章を収める時に
(頁全体の横 scroll bar が出てしまわないようにするのに)
便利と考える人もいました。

[1] 
著者からのメッセージ(謎)とかを、著者が使っている画面の大きさに収める時に大きさ合わせに使う。 (彼(女)は [[CSS]] は知らないか、マウスを乗せたらリンクの色が変わる[[タグ]]は知る。)

とくに、[[What's New?]] を書くのに使うことが多い。

[35] [[Webブラウザ]]の機能が貧弱だった時代には、
プログラムのソース・コードなど[[クリップ板]]を通して複写されそうな文章片を
[CODE(HTMLe)[textarea]] に入れるのがよいと考える人もいました
([CODE(HTMLe)[textarea]] はシステム標準の制御子が使われ、
ブラウザよりは使いやすくなっていたため)。

[[#comment]]


** 他との関係

[27] 複数行ではない文章入力制御子には、 [CODE(HTMLe)[[[input]]]]
要素型を使います。詳しくは [[[CODE(HTMLe)[input]]//[CODE(HTML)[text]]]]
をご覧ください。

[28] [[WebTV]] の拡張では、 [CODE(HTMLe)[input]] 要素を使っても
[CODE(HTMLa)[[[type]]]] を [CODE(HTML)[textarea]] 
とすることで複数行文章入力制御子を作成できます。

[8] かつて、 [[WinIE]] には [CODE(HTMLe)[[[htmlarea]]]] という
[CODE(HTMLe)[textarea]] に似た要素型がありましたが、葬られました。

[[#comment]]


** 例

[26] 簡単な入力制御子の例 [SRC[HTML 4 17.7、改]]
[PRE(HTML example)[
<FORM action="http://somesite.example/prog/text-read" method="post">
   <P>
   <TEXTAREA name="thetext" rows="20" cols="80">
   First line of initial text.
   Second line of initial text.
   </TEXTAREA>
   <INPUT type="submit" value="Send"><INPUT type="reset">
   </P>
</FORM>
]PRE]

この例では、20行80列の文章入力制御子を作成します。
その初期状態は、2行分の文字列が現在値となった状態です。

[[#comment]]


** メモ

[[#comment]]


@


1.18
log
@auto-committed
@
text
@d43 1
@


1.17
log
@auto-committed
@
text
@a0 1

d20 2
d75 1
d92 8
d101 3
d108 5
@


1.16
log
@auto-committed
@
text
@d1 192
a192 178


* [CODE(HTMLe)[textarea]] 要素型 (HTML, XHTML 1)

[19] [[HTML]] の [DFN[[CODE(HTMLe)[textarea]] 要素]]は、
[DFN[複数行文章入力制御子]]を作成します。

[20] 仕様書:
- [[SI 4281]]:1998
<http://www.qsm.co.il/Hebrew/si4281e.htm>
-- [CSECTION[6.1.4 Elements with no directionality]]
-- [CSECTION[8.2 The Keyboard]]
-- [CSECTION[8.3 Rendering the Form]]
- [[HTML 4]] ([[Web Forms 1.0]])
-- [CITE[text input]]
<IW:HTML4:"interact/forms.html#text-input">
-- [CITE[17.7 The [CODE(HTMLe)[TEXTAREA]] element]]
<IW:HTML4:"interact/forms.html#edef-TEXTAREA">

[21]
:[[名前空間名]]:[CODE(URI)[[[http://www.w3.org/1999/xhtml]]]]
:[[局所名]]:[CODE(HTMLe)[textarea]]
:[[開始タグ]]:必須
:[[終了タグ]]:必須
:出現できる文脈:[CODE(SGML)[%[[formctrl]]]] な文脈
:[[内容模型]]:[CODE(SGML)[#[[PCDATA]]]]
:[[属性]]:
,属性名	,属性値	,既定値	,説明	,状態	,出典
,[CODE(HTMLa)[[[accesskey]]]]	,[CODE(SGML)[%[[Character]]]]	,	,	,[HTML 4]
,[CODE(HTMLa)[[[align]]]]	,	,	,配置	,[WinIE 4] 未実装
,[CODE(HTMLa)[[[class]]]]	,	,(なし)	,[[級]]	,"[HTML 4] %[[coreattrs]] ⊂ %[[attrs]], [XHTML 1] [[Core]] ⊂ [[Common]]"
,[CODE(HTMLa)[[[cols]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(必須)	,列	,[HTML 4]
,[CODE(HTMLa)[[[datafld]]]]	,	,	,データ列名	,[WinIE 4]
,[CODE(HTMLa)[[[datasrc]]]]	,	,	,データ源	,[WinIE 4]
,[CODE(HTMLa)[[[dir]]]]	,	,	,[[書字方向]]	,"[HTML 4] %[[i18n]] ⊂ %attrs, [XHTML 1] [[I18N]] ⊂ Common"
,[CODE(HTMLa)[[[disabled]]]]	,([[真偽値属性]])	,(偽)	,無効	,[HTML 4]
,[CODE(HTMLa)[[[format]]]]	,	,	,入力書式	,[au]
,[CODE(HTMLa)[[[id]]]]	,[CODE(SGML)[[[ID]]]]	,(なし)	,一意識別子	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] Core ⊂ Common"
,[CODE(HTMLa)[[[inputmode]]]]	,	,	,入力モード	,OMA 規格	,[[XHTMLMP]]
,[CODE(HTMLa)[[[istyle]]]]	,	,	,入力モード	,[iモード 2]
,[CODE(HTMLa)[[[lang]]]]	,	,	,[[自然言語]]	,[HTML 4] %i18n ⊂ %attrs
,[CODE(HTMLa)[[[xml]]:[[lang]]]]	,[CODE(SGML)[%[[LanguageCode]]]]	,(継承)	,[[自然言語]]	,W3C 勧告	,[XHTML 1] I18N ⊂ Common
,[CODE(HTMLa)@@en[[[mode]]]]	,	,	,	,非標準	,[Vodafone]
,[CODE(HTMLa)[[[name]]]]	,	,	,制御子名	,[HTML 4]
,[CODE(HTMLa)[[[onblur]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,失焦点時	,[HTML 4]
,[CODE(HTMLa)[[[onchange]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,変更時	,[HTML 4]
,[CODE(HTMLa)[[[onclick]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %[[events]] ⊂ %attrs, [XHTML 1] [[Events]] ⊂ Common"
,[CODE(HTMLa)[[[ondblclick]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onfocus]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,得焦点時	,[HTML 4]
,[CODE(HTMLa)[[[onkeydown]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onkeypress]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onkeyup]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmousedown]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmousemove]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseout]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseover]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseup]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onselect]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,選択時	,[HTML 4]
,[CODE(HTMLa)[[[readonly]]]]	,(真偽値属性)	,(偽)	,読取専用	,[HTML 4]
,[CODE(HTMLa)[[[rows]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(必須)	,行	,[HTML 4]
,[CODE(HTMLa)[[[style]]]]	,	,	,スタイル情報	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] [[Style]] ⊂ Common"
,[CODE(HTMLa)[[[tabindex]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(自動)	,タブ順	,[HTML 4]
,[CODE(HTMLa)[[[title]]]]	,	,	,注釈的題	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] Core ⊂ Common"
,[CODE(HTMLa)@@en[[[value]]]]	,	,	,[[初期値]]	,非標準
,[CODE(HTMLa)[[[wrap]]]]	,	,	,行送り	,[Web Forms 2.0]


[[#comment]]


** 内容

[16]
[[SGML]] base の (正確には [CODE(SGML)[[[KEEPRSRE]] NO]] の) HTML では、
[[タグ]]の前後の[[記録開始]]・[[記録終了]]が無視されるなどの[Q[問題]]があります。 
(どの要素型でもそうですが、 [CODE(HTMLe)[textarea]] や [CODE(HTMLe)[[[pre]]]] 
では問題になり得ます。) [[XHTML]] ではこの[Q[問題]]は起こりません。

参考: ''2004年2月15日 (日) - TEXTAREA要素のレンダリングについて'' <http://www.hyuki.com/diary/dia0402.html#i15_16>

[[数値文字参照]]か[[十六進数文字参照]]を使えばこの問題は回避できます。
(が、そこらのブラウザが対応しているかは知りませんよ。)

詳しくは [[SGML//空白]]あたりを参照されたし。
([[名無しさん]] [WEAK[2004-03-17 10:15:35 +00:00]])

[[#comment]]


** レンダリング

[22] UA は、初期状態で[[内容]]をレンダリングするべきです。 [SRC[HTML 4 17.7]]

[37] '''Bidi との関係''':
[CODE(HTMLe)[[[textarea]]]] [[要素]]は、 [[bidi]]
的には方向性に関して[[中立]]な[[文字]]1[[文字]]であるかのように扱います。
方向について特に配慮が必要なら
前後に [CODE(char)[[[LRM]]]] や [CODE(char)[[[RLM]]]]
を使えます。 [SRC[SI 4281 6.1.4]]

- [[SI 4281]]:1998
<http://www.qsm.co.il/Hebrew/si4281e.htm>
-- [CSECTION[6.1.4 Elements with no directionality]]
-- [CSECTION[8.2 The Keyboard]]
[12] '''Bidi と提出値''': [[利用者]]が入力欄の[[基底方向性]]を上書きした時は、
それを 
[WEAK[([[提出]]する[[文字符号化方式]]で可能なら)]]
[CODE(char)[[[LRM]]]] や [CODE(char)[[[RLM]]]] 
で囲んで示すべきです [SRC[SI 4281:1998 8.2]]。

[38] '''方向と入力モード''':
[[ヘブライ語]]に対応した[[利用者エージェント]]の場合、
[[右]]から[[左]]の入力欄では、[[カーソル]]の初期位置は右側とし、
入力モード ([[鍵盤言語]]) は[[ヘブライ語]]とし、
[[左]]から[[右]]の入力欄では、[[カーソル]]の初期位置は左側とし、
入力モード ([[鍵盤言語]]) は異言語とするべきです。
[SRC[SI 4281:1998 8.2]]

[[#comment]]


** フォーム制御子


*** 制御子名

[24] [CODE(HTMLa)[[[name]]]] 属性の値が[[制御子名]]として使われます。

[[#comment]]


*** 初期値

[23] [[内容]]を[[初期値]]として使用するべきです。 [SRC[HTML 4 17.7]]

[39] 非標準の[CODE(HTMLa)@@en[[[value]]]][[属性]]を[[初期値]]に使う[[利用者エージェント]]があるらしいです。

[[#comment]]


** 現在値

[33] 制御子の値を編集すると、それが[[現在値]]となります。

[[#comment]]


*** メモ

[25] 提出についてはフォームの[[提出]]の説明をご覧ください。

[[#comment]]


** 可用性

[28] 多くの視覚 UA は自前の制御子やその環境の標準の制御子を組込んで使っていることが多いです。
どちらの場合にせよ、そのような制御子は貧弱であることが多く、
ウェブ日記や [[wiki]] のように文章編集を多く行うと粗が見えてきます。
とりわけ、独自の制御子を使っている場合には、その環境の制御子が持っている機能すらなかったり、
操作性が異なったり、拡張ソフトウェアを流用できなかったり不便なことがあります。
そこで、 UA 組込みの制御子ではなく、
外部のエディタを使って編集できる方が良いと考える人も少なくありません。

[32] 実装によっては、 [CODE(HTMLe)[textarea]] 
制御子の内容の編集をブラウザ内部で\はなく完全に外部プログラムに任せているものもあります
[SRC[例えば [[w3m]]]]。
実装方法や環境にもよりますが、この方法には外部プログラム起動が遅いとか、
外部プログラム起動中はフォームの頁にある情報を見ることができないとかの問題がある\場合もあります。

利用者エージェントは [CODE(HTMLe)[textarea]] の内容が十分短く簡単ならばブラウザ内で編集できるようにした方が便利です。
可能なら外部プログラムに渡すデータに頁内のの情報を含めて編集内容と一緒に表示して\もらうようにするといいでしょう。

フォームの設計者は、 [[[CODE(HTMLe)[input]]//[CODE(HTML)[text]]]]
で十分なら [CODE(HTMLe)[textarea]] を使うべきではありません。


[40]
d197 105
a301 105

([[名無しさん]] [WEAK[2006-04-16 04:04:21 +00:00]])


[[#comment]]


*** メモ

[31]
利用者が要素を[[活性化]]すると ([[焦点]]をあてると)、入力欄は編集可能な状態になります [SRC[HTML 4 17.11.2]]。

[[#comment]]


** 実装

[17]
''textarea - textareaとテキストエディタ連携'' <http://www.hyuki.com/yukiwiki/wiki.cgi?textarea>

WWW ブラウザの [CODE(HTMLe)[textarea]] 編集は貧弱なので外部エディタを使いたいという話。

[18]
''firefox からエディタを利用する方法'' <http://www.mew.org/~kazu/toy/firefox-editor.html>
([[名無しさん]] [WEAK[2004-04-20 08:43:22 +00:00]])

[29] [[w3m]] のように、自前の編集機能が無く、
外部エディタで編集するブラウザもあります。

[30] 但し、外部エディタを使うという方法は、ウィンドウ環境などを持たないテキスト端末を使っていたり、
外部エディタ起動中は UA 本体を操作できなかったりすると文章入力制御子の周りの文章を同時に読めないなどの不都合が生じます。 UA の作者は、 UA の動作する環境に合わせて、
利用者が不便を感じずに編集を行えるように十分注意するべきでしょう。

[36]
[CITE[Resizeable Textarea 0.1a - The Extensions Mirror]] <http://www.extensionsmirror.nl/index.php?showtopic=2796>

[[Firefox]] で [CODE(HTMLe)[textarea]] の表示上の大きさを[[利用者]]が可変にする拡張。
([[名無しさん]] [WEAK[2005-03-29 00:00:16 +00:00]])

[[#comment]]


** 不思議解釈

[34] [[CSS]] の [CODE(CSS)[[[overflow]]]] のような仕組みが無かった時代には、
[[著者]]の使っている画面の大きさに整形済みの文章を収める時に
(頁全体の横 scroll bar が出てしまわないようにするのに)
便利と考える人もいました。

[1] 
著者からのメッセージ(謎)とかを、著者が使っている画面の大きさに収める時に大きさ合わせに使う。 (彼(女)は [[CSS]] は知らないか、マウスを乗せたらリンクの色が変わる[[タグ]]は知る。)

とくに、[[What's New?]] を書くのに使うことが多い。

[35] [[Webブラウザ]]の機能が貧弱だった時代には、
プログラムのソース・コードなど[[クリップ板]]を通して複写されそうな文章片を
[CODE(HTMLe)[textarea]] に入れるのがよいと考える人もいました
([CODE(HTMLe)[textarea]] はシステム標準の制御子が使われ、
ブラウザよりは使いやすくなっていたため)。

[[#comment]]


** 他との関係

[27] 複数行ではない文章入力制御子には、 [CODE(HTMLe)[[[input]]]]
要素型を使います。詳しくは [[[CODE(HTMLe)[input]]//[CODE(HTML)[text]]]]
をご覧ください。

[28] [[WebTV]] の拡張では、 [CODE(HTMLe)[input]] 要素を使っても
[CODE(HTMLa)[[[type]]]] を [CODE(HTML)[textarea]] 
とすることで複数行文章入力制御子を作成できます。

[8] かつて、 [[WinIE]] には [CODE(HTMLe)[[[htmlarea]]]] という
[CODE(HTMLe)[textarea]] に似た要素型がありましたが、葬られました。

[[#comment]]


** 例

[26] 簡単な入力制御子の例 [SRC[HTML 4 17.7、改]]
[PRE(HTML example)[
<FORM action="http://somesite.example/prog/text-read" method="post">
   <P>
   <TEXTAREA name="thetext" rows="20" cols="80">
   First line of initial text.
   Second line of initial text.
   </TEXTAREA>
   <INPUT type="submit" value="Send"><INPUT type="reset">
   </P>
</FORM>
]PRE]

この例では、20行80列の文章入力制御子を作成します。
その初期状態は、2行分の文字列が現在値となった状態です。

[[#comment]]


** メモ

[[#comment]]


@


1.15
log
@auto-committed
@
text
@d1 287
a287 276
* [CODE(HTMLe)[textarea]] 要素型 (HTML, XHTML 1)

[19] [[HTML]] の [DFN[[CODE(HTMLe)[textarea]] 要素]]は、
[DFN[複数行文章入力制御子]]を作成します。

[20] 仕様書:
- [[SI 4281]]:1998
<http://www.qsm.co.il/Hebrew/si4281e.htm>
--[CSECTION[6.1.4 Elements with no directionality]]
--[CSECTION[8.2 The Keyboard]]
--[CSECTION[8.3 Rendering the Form]]
- [[HTML 4]] ([[Web Forms 1.0]])
-- [CITE[text input]]
<IW:HTML4:"interact/forms.html#text-input">
-- [CITE[17.7 The [CODE(HTMLe)[TEXTAREA]] element]]
<IW:HTML4:"interact/forms.html#edef-TEXTAREA">

[21]
:[[名前空間名]]:[CODE(URI)[[[http://www.w3.org/1999/xhtml]]]]
:[[局所名]]:[CODE(HTMLe)[textarea]]
:[[開始タグ]]:必須
:[[終了タグ]]:必須
:出現できる文脈:[CODE(SGML)[%[[formctrl]]]] な文脈
:[[内容模型]]:[CODE(SGML)[#[[PCDATA]]]]
:[[属性]]:
,属性名	,属性値	,既定値	,説明	,状態	,出典
,[CODE(HTMLa)[[[accesskey]]]]	,[CODE(SGML)[%[[Character]]]]	,	,	,[HTML 4]
,[CODE(HTMLa)[[[align]]]]	,	,	,配置	,[WinIE 4] 未実装
,[CODE(HTMLa)[[[class]]]]	,	,(なし)	,[[級]]	,"[HTML 4] %[[coreattrs]] ⊂ %[[attrs]], [XHTML 1] [[Core]] ⊂ [[Common]]"
,[CODE(HTMLa)[[[cols]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(必須)	,列	,[HTML 4]
,[CODE(HTMLa)[[[datafld]]]]	,	,	,データ列名	,[WinIE 4]
,[CODE(HTMLa)[[[datasrc]]]]	,	,	,データ源	,[WinIE 4]
,[CODE(HTMLa)[[[dir]]]]	,	,	,[[書字方向]]	,"[HTML 4] %[[i18n]] ⊂ %attrs, [XHTML 1] [[I18N]] ⊂ Common"
,[CODE(HTMLa)[[[disabled]]]]	,([[真偽値属性]])	,(偽)	,無効	,[HTML 4]
,[CODE(HTMLa)[[[format]]]]	,	,	,入力書式	,[au]
,[CODE(HTMLa)[[[id]]]]	,[CODE(SGML)[[[ID]]]]	,(なし)	,一意識別子	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] Core ⊂ Common"
,[CODE(HTMLa)[[[inputmode]]]],,,入力モード,"OMA 規格",[[XHTMLMP]]
,[CODE(HTMLa)[[[istyle]]]]	,	,	,入力モード	,[iモード 2]
,[CODE(HTMLa)[[[lang]]]]	,	,	,[[自然言語]]	,[HTML 4] %i18n ⊂ %attrs
,[CODE(HTMLa)[[[xml]]:[[lang]]]]	,[CODE(SGML)[%[[LanguageCode]]]]	,(継承)	,[[自然言語]]	,W3C 勧告	,[XHTML 1] I18N ⊂ Common
,[CODE(HTMLa)@@en[[[mode]]]],,,,非標準,[Vodafone]
,[CODE(HTMLa)[[[name]]]]	,	,	,制御子名	,[HTML 4]
,[CODE(HTMLa)[[[onblur]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,失焦点時	,[HTML 4]
,[CODE(HTMLa)[[[onchange]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,変更時	,[HTML 4]
,[CODE(HTMLa)[[[onclick]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %[[events]] ⊂ %attrs, [XHTML 1] [[Events]] ⊂ Common"
,[CODE(HTMLa)[[[ondblclick]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onfocus]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,得焦点時	,[HTML 4]
,[CODE(HTMLa)[[[onkeydown]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onkeypress]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onkeyup]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmousedown]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmousemove]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseout]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseover]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseup]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onselect]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,選択時	,[HTML 4]
,[CODE(HTMLa)[[[readonly]]]]	,(真偽値属性)	,(偽)	,読取専用	,[HTML 4]
,[CODE(HTMLa)[[[rows]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(必須)	,行	,[HTML 4]
,[CODE(HTMLa)[[[style]]]]	,	,	,スタイル情報	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] [[Style]] ⊂ Common"
,[CODE(HTMLa)[[[tabindex]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(自動)	,タブ順	,[HTML 4]
,[CODE(HTMLa)[[[title]]]]	,	,	,注釈的題	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] Core ⊂ Common"
,[CODE(HTMLa)@@en[[[value]]]],,,[[初期値]],非標準
,[CODE(HTMLa)[[[wrap]]]]	,	,	,行送り	,[Web Forms 2.0]


[[#comment]]


** 内容

[16]
[[SGML]] base の (正確には [CODE(SGML)[[[KEEPRSRE]] NO]] の) HTML では、
[[タグ]]の前後の[[記録開始]]・[[記録終了]]が無視されるなどの[Q[問題]]があります。 
(どの要素型でもそうですが、 [CODE(HTMLe)[textarea]] や [CODE(HTMLe)[[[pre]]]] 
では問題になり得ます。) [[XHTML]] ではこの[Q[問題]]は起こりません。

参考: ''2004年2月15日 (日) - TEXTAREA要素のレンダリングについて'' <http://www.hyuki.com/diary/dia0402.html#i15_16>

[[数値文字参照]]か[[十六進数文字参照]]を使えばこの問題は回避できます。
(が、そこらのブラウザが対応しているかは知りませんよ。)

詳しくは [[SGML//空白]]あたりを参照されたし。
([[名無しさん]] [WEAK[2004-03-17 10:15:35 +00:00]])

[[#comment]]

** レンダリング

[22] UA は、初期状態で[[内容]]をレンダリングするべきです。 [SRC[HTML 4 17.7]]

[37] '''Bidi との関係''':
[CODE(HTMLe)[[[textarea]]]] [[要素]]は、 [[bidi]]
的には方向性に関して[[中立]]な[[文字]]1[[文字]]であるかのように扱います。
方向について特に配慮が必要なら
前後に [CODE(char)[[[LRM]]]] や [CODE(char)[[[RLM]]]]
を使えます。 [SRC[SI 4281 6.1.4]]

- [[SI 4281]]:1998
<http://www.qsm.co.il/Hebrew/si4281e.htm>
--[CSECTION[6.1.4 Elements with no directionality]]
--[CSECTION[8.2 The Keyboard]]
[12] '''Bidi と提出値''': [[利用者]]が入力欄の[[基底方向性]]を上書きした時は、
それを 
[WEAK[([[提出]]する[[文字符号化方式]]で可能なら)]]
[CODE(char)[[[LRM]]]] や [CODE(char)[[[RLM]]]] 
で囲んで示すべきです [SRC[SI 4281:1998 8.2]]。

[38] '''方向と入力モード''':
[[ヘブライ語]]に対応した[[利用者エージェント]]の場合、
[[右]]から[[左]]の入力欄では、[[カーソル]]の初期位置は右側とし、
入力モード ([[鍵盤言語]]) は[[ヘブライ語]]とし、
[[左]]から[[右]]の入力欄では、[[カーソル]]の初期位置は左側とし、
入力モード ([[鍵盤言語]]) は異言語とするべきです。
[SRC[SI 4281:1998 8.2]]

[[#comment]]


** フォーム制御子


*** 制御子名

[24] [CODE(HTMLa)[[[name]]]] 属性の値が[[制御子名]]として使われます。

[[#comment]]


*** 初期値

[23] [[内容]]を[[初期値]]として使用するべきです。 [SRC[HTML 4 17.7]]

[39] 非標準の[CODE(HTMLa)@@en[[[value]]]][[属性]]を[[初期値]]に使う[[利用者エージェント]]があるらしいです。

[[#comment]]


** 現在値

[33] 制御子の値を編集すると、それが[[現在値]]となります。

[[#comment]]


*** メモ

[25] 提出についてはフォームの[[提出]]の説明をご覧ください。

[[#comment]]


** 可用性

[28] 多くの視覚 UA は自前の制御子やその環境の標準の制御子を組込んで使っていることが多いです。
どちらの場合にせよ、そのような制御子は貧弱であることが多く、
ウェブ日記や [[wiki]] のように文章編集を多く行うと粗が見えてきます。
とりわけ、独自の制御子を使っている場合には、その環境の制御子が持っている機能すらなかったり、
操作性が異なったり、拡張ソフトウェアを流用できなかったり不便なことがあります。
そこで、 UA 組込みの制御子ではなく、
外部のエディタを使って編集できる方が良いと考える人も少なくありません。

[32] 実装によっては、 [CODE(HTMLe)[textarea]] 
制御子の内容の編集をブラウザ内部で\はなく完全に外部プログラムに任せているものもあります
[SRC[例えば [[w3m]]]]。
実装方法や環境にもよりますが、この方法には外部プログラム起動が遅いとか、
外部プログラム起動中はフォームの頁にある情報を見ることができないとかの問題がある\場合もあります。

利用者エージェントは [CODE(HTMLe)[textarea]] の内容が十分短く簡単ならばブラウザ内で編集できるようにした方が便利です。
可能なら外部プログラムに渡すデータに頁内のの情報を含めて編集内容と一緒に表示して\もらうようにするといいでしょう。

フォームの設計者は、 [[[CODE(HTMLe)[input]]//[CODE(HTML)[text]]]]
で十分なら [CODE(HTMLe)[textarea]] を使うべきではありません。

[[#comment]]


*** メモ

[31]
利用者が要素を[[活性化]]すると ([[焦点]]をあてると)、入力欄は編集可能な状態になります [SRC[HTML 4 17.11.2]]。

[[#comment]]


** 実装

[17]
''textarea - textareaとテキストエディタ連携'' <http://www.hyuki.com/yukiwiki/wiki.cgi?textarea>

WWW ブラウザの [CODE(HTMLe)[textarea]] 編集は貧弱なので外部エディタを使いたいという話。

[18]
''firefox からエディタを利用する方法'' <http://www.mew.org/~kazu/toy/firefox-editor.html>
([[名無しさん]] [WEAK[2004-04-20 08:43:22 +00:00]])

[29] [[w3m]] のように、自前の編集機能が無く、
外部エディタで編集するブラウザもあります。

[30] 但し、外部エディタを使うという方法は、ウィンドウ環境などを持たないテキスト端末を使っていたり、
外部エディタ起動中は UA 本体を操作できなかったりすると文章入力制御子の周りの文章を同時に読めないなどの不都合が生じます。 UA の作者は、 UA の動作する環境に合わせて、
利用者が不便を感じずに編集を行えるように十分注意するべきでしょう。


[36]
[CITE[Resizeable Textarea 0.1a - The Extensions Mirror]] <http://www.extensionsmirror.nl/index.php?showtopic=2796>

[[Firefox]] で [CODE(HTMLe)[textarea]] の表示上の大きさを[[利用者]]が可変にする拡張。
([[名無しさん]] [WEAK[2005-03-29 00:00:16 +00:00]])


[[#comment]]


** 不思議解釈

[34] [[CSS]] の [CODE(CSS)[[[overflow]]]] のような仕組みが無かった時代には、
[[著者]]の使っている画面の大きさに整形済みの文章を収める時に
(頁全体の横 scroll bar が出てしまわないようにするのに)
便利と考える人もいました。

[1] 
著者からのメッセージ(謎)とかを、著者が使っている画面の大きさに収める時に大きさ合わせに使う。 (彼(女)は [[CSS]] は知らないか、マウスを乗せたらリンクの色が変わる[[タグ]]は知る。)

とくに、[[What's New?]] を書くのに使うことが多い。

[35] [[Webブラウザ]]の機能が貧弱だった時代には、
プログラムのソース・コードなど[[クリップ板]]を通して複写されそうな文章片を
[CODE(HTMLe)[textarea]] に入れるのがよいと考える人もいました
([CODE(HTMLe)[textarea]] はシステム標準の制御子が使われ、
ブラウザよりは使いやすくなっていたため)。

[[#comment]]


** 他との関係

[27] 複数行ではない文章入力制御子には、 [CODE(HTMLe)[[[input]]]]
要素型を使います。詳しくは [[[CODE(HTMLe)[input]]//[CODE(HTML)[text]]]]
をご覧ください。

[28] [[WebTV]] の拡張では、 [CODE(HTMLe)[input]] 要素を使っても
[CODE(HTMLa)[[[type]]]] を [CODE(HTML)[textarea]] 
とすることで複数行文章入力制御子を作成できます。

[8] かつて、 [[WinIE]] には [CODE(HTMLe)[[[htmlarea]]]] という
[CODE(HTMLe)[textarea]] に似た要素型がありましたが、葬られました。

[[#comment]]


** 例

[26] 簡単な入力制御子の例 [SRC[HTML 4 17.7、改]]
[PRE(HTML example)[
<FORM action="http://somesite.example/prog/text-read" method="post">
   <P>
   <TEXTAREA name="thetext" rows="20" cols="80">
   First line of initial text.
   Second line of initial text.
   </TEXTAREA>
   <INPUT type="submit" value="Send"><INPUT type="reset">
   </P>
</FORM>
]PRE]

この例では、20行80列の文章入力制御子を作成します。
その初期状態は、2行分の文字列が現在値となった状態です。

[[#comment]]


** メモ

[[#comment]]


@


1.14
log
@auto-committed
@
text
@d62 1
d132 2
@


1.13
log
@auto-committed
@
text
@d41 1
@


1.12
log
@auto-committed
@
text
@d37 1
@


1.11
log
@auto-committed
@
text
@d1 199
a199 176



* [CODE(HTMLe)[textarea]] 要素型 (HTML, XHTML 1)

[19] [[HTML]] の [DFN[[CODE(HTMLe)[textarea]] 要素]]は、
[DFN[複数行文章入力制御子]]を作成します。

[20] 仕様書:
- [[HTML 4]] ([[Web Forms 1.0]])
-- [CITE[text input]]
<IW:HTML4:"interact/forms.html#text-input">
-- [CITE[17.7 The [CODE(HTMLe)[TEXTAREA]] element]]
<IW:HTML4:"interact/forms.html#edef-TEXTAREA">

[21]
:[[名前空間名]]:[CODE(URI)[[[http://www.w3.org/1999/xhtml]]]]
:[[局所名]]:[CODE(HTMLe)[textarea]]
:[[開始タグ]]:必須
:[[終了タグ]]:必須
:出現できる文脈:[CODE(SGML)[%[[formctrl]]]] な文脈
:[[内容模型]]:[CODE(SGML)[#[[PCDATA]]]]
:[[属性]]:
,属性名	,属性値	,既定値	,説明	,状態	,出典
,[CODE(HTMLa)[[[accesskey]]]]	,[CODE(SGML)[%[[Character]]]]	,	,	,[HTML 4]
,[CODE(HTMLa)[[[align]]]]	,	,	,配置	,[WinIE 4] 未実装
,[CODE(HTMLa)[[[class]]]]	,	,(なし)	,[[級]]	,"[HTML 4] %[[coreattrs]] ⊂ %[[attrs]], [XHTML 1] [[Core]] ⊂ [[Common]]"
,[CODE(HTMLa)[[[cols]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(必須)	,列	,[HTML 4]
,[CODE(HTMLa)[[[datafld]]]]	,	,	,データ列名	,[WinIE 4]
,[CODE(HTMLa)[[[datasrc]]]]	,	,	,データ源	,[WinIE 4]
,[CODE(HTMLa)[[[dir]]]]	,	,	,[[書字方向]]	,"[HTML 4] %[[i18n]] ⊂ %attrs, [XHTML 1] [[I18N]] ⊂ Common"
,[CODE(HTMLa)[[[disabled]]]]	,([[真偽値属性]])	,(偽)	,無効	,[HTML 4]
,[CODE(HTMLa)[[[format]]]]	,	,	,入力書式	,[au]
,[CODE(HTMLa)[[[id]]]]	,[CODE(SGML)[[[ID]]]]	,(なし)	,一意識別子	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] Core ⊂ Common"
,[CODE(HTMLa)[[[istyle]]]]	,	,	,入力モード	,[iモード 2]
,[CODE(HTMLa)[[[lang]]]]	,	,	,[[自然言語]]	,[HTML 4] %i18n ⊂ %attrs
,[CODE(HTMLa)[[[xml]]:[[lang]]]]	,[CODE(SGML)[%[[LanguageCode]]]]	,(継承)	,[[自然言語]]	,W3C 勧告	,[XHTML 1] I18N ⊂ Common
,[CODE(HTMLa)[[[name]]]]	,	,	,制御子名	,[HTML 4]
,[CODE(HTMLa)[[[onblur]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,失焦点時	,[HTML 4]
,[CODE(HTMLa)[[[onchange]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,変更時	,[HTML 4]
,[CODE(HTMLa)[[[onclick]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %[[events]] ⊂ %attrs, [XHTML 1] [[Events]] ⊂ Common"
,[CODE(HTMLa)[[[ondblclick]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onfocus]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,得焦点時	,[HTML 4]
,[CODE(HTMLa)[[[onkeydown]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onkeypress]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onkeyup]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmousedown]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmousemove]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseout]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseover]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseup]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onselect]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,選択時	,[HTML 4]
,[CODE(HTMLa)[[[readonly]]]]	,(真偽値属性)	,(偽)	,読取専用	,[HTML 4]
,[CODE(HTMLa)[[[rows]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(必須)	,行	,[HTML 4]
,[CODE(HTMLa)[[[style]]]]	,	,	,スタイル情報	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] [[Style]] ⊂ Common"
,[CODE(HTMLa)[[[tabindex]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(自動)	,タブ順	,[HTML 4]
,[CODE(HTMLa)[[[title]]]]	,	,	,注釈的題	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] Core ⊂ Common"
,[CODE(HTMLa)[[[wrap]]]]	,	,	,行送り	,[Web Forms 2.0]


[[#comment]]


** 内容

[16]
[[SGML]] base の (正確には [CODE(SGML)[[[KEEPRSRE]] NO]] の) HTML では、
[[タグ]]の前後の[[記録開始]]・[[記録終了]]が無視されるなどの[Q[問題]]があります。 
(どの要素型でもそうですが、 [CODE(HTMLe)[textarea]] や [CODE(HTMLe)[[[pre]]]] 
では問題になり得ます。) [[XHTML]] ではこの[Q[問題]]は起こりません。

参考: ''2004年2月15日 (日) - TEXTAREA要素のレンダリングについて'' <http://www.hyuki.com/diary/dia0402.html#i15_16>

[[数値文字参照]]か[[十六進数文字参照]]を使えばこの問題は回避できます。
(が、そこらのブラウザが対応しているかは知りませんよ。)

詳しくは [[SGML//空白]]あたりを参照されたし。
([[名無しさん]] [WEAK[2004-03-17 10:15:35 +00:00]])

[[#comment]]


** UA による利用


*** レンダリング

[22] UA は、初期状態で[[内容]]をレンダリングするべきです。 [SRC[HTML 4 17.7]]

[[#comment]]


*** フォーム制御子


**** 制御子名

[24] [CODE(HTMLa)[[[name]]]] 属性の値が[[制御子名]]として使われます。

[[#comment]]


**** 初期値

[23] [[内容]]を[[初期値]]として使用するべきです。 [SRC[HTML 4 17.7]]

[[#comment]]


*** 現在値

[33] 制御子の値を編集すると、それが[[現在値]]となります。

[[#comment]]


**** メモ

[25] 提出についてはフォームの[[提出]]の説明をご覧ください。

[[#comment]]


** 可用性

[28] 多くの視覚 UA は自前の制御子やその環境の標準の制御子を組込んで使っていることが多いです。
どちらの場合にせよ、そのような制御子は貧弱であることが多く、
ウェブ日記や [[wiki]] のように文章編集を多く行うと粗が見えてきます。
とりわけ、独自の制御子を使っている場合には、その環境の制御子が持っている機能すらなかったり、
操作性が異なったり、拡張ソフトウェアを流用できなかったり不便なことがあります。
そこで、 UA 組込みの制御子ではなく、
外部のエディタを使って編集できる方が良いと考える人も少なくありません。

[32] 実装によっては、 [CODE(HTMLe)[textarea]] 
制御子の内容の編集をブラウザ内部で\はなく完全に外部プログラムに任せているものもあります
[SRC[例えば [[w3m]]]]。
実装方法や環境にもよりますが、この方法には外部プログラム起動が遅いとか、
外部プログラム起動中はフォームの頁にある情報を見ることができないとかの問題がある\場合もあります。

利用者エージェントは [CODE(HTMLe)[textarea]] の内容が十分短く簡単ならばブラウザ内で編集できるようにした方が便利です。
可能なら外部プログラムに渡すデータに頁内のの情報を含めて編集内容と一緒に表示して\もらうようにするといいでしょう。

フォームの設計者は、 [[[CODE(HTMLe)[input]]//[CODE(HTML)[text]]]]
で十分なら [CODE(HTMLe)[textarea]] を使うべきではありません。

[[#comment]]


*** メモ

[31]
利用者が要素を[[活性化]]すると ([[焦点]]をあてると)、入力欄は編集可能な状態になります [SRC[HTML 4 17.11.2]]。

[[#comment]]


** 実装

[17]
''textarea - textareaとテキストエディタ連携'' <http://www.hyuki.com/yukiwiki/wiki.cgi?textarea>

WWW ブラウザの [CODE(HTMLe)[textarea]] 編集は貧弱なので外部エディタを使いたいという話。

[18]
''firefox からエディタを利用する方法'' <http://www.mew.org/~kazu/toy/firefox-editor.html>
([[名無しさん]] [WEAK[2004-04-20 08:43:22 +00:00]])

[29] [[w3m]] のように、自前の編集機能が無く、
外部エディタで編集するブラウザもあります。

[30] 但し、外部エディタを使うという方法は、ウィンドウ環境などを持たないテキスト端末を使っていたり、
外部エディタ起動中は UA 本体を操作できなかったりすると文章入力制御子の周りの文章を同時に読めないなどの不都合が生じます。 UA の作者は、 UA の動作する環境に合わせて、
利用者が不便を感じずに編集を行えるように十分注意するべきでしょう。


[36]
d202 70
a271 70
[[Firefox]] で [CODE(HTMLe)[textarea]] の表示上の大きさを[[利用者]]が可変にする拡張。
([[名無しさん]] [WEAK[2005-03-29 00:00:16 +00:00]])


[[#comment]]


** 不思議解釈

[34] [[CSS]] の [CODE(CSS)[[[overflow]]]] のような仕組みが無かった時代には、
[[著者]]の使っている画面の大きさに整形済みの文章を収める時に
(頁全体の横 scroll bar が出てしまわないようにするのに)
便利と考える人もいました。

[1] 
著者からのメッセージ(謎)とかを、著者が使っている画面の大きさに収める時に大きさ合わせに使う。 (彼(女)は [[CSS]] は知らないか、マウスを乗せたらリンクの色が変わる[[タグ]]は知る。)

とくに、[[What's New?]] を書くのに使うことが多い。

[35] [[Webブラウザ]]の機能が貧弱だった時代には、
プログラムのソース・コードなど[[クリップ板]]を通して複写されそうな文章片を
[CODE(HTMLe)[textarea]] に入れるのがよいと考える人もいました
([CODE(HTMLe)[textarea]] はシステム標準の制御子が使われ、
ブラウザよりは使いやすくなっていたため)。

[[#comment]]


** 他との関係

[27] 複数行ではない文章入力制御子には、 [CODE(HTMLe)[[[input]]]]
要素型を使います。詳しくは [[[CODE(HTMLe)[input]]//[CODE(HTML)[text]]]]
をご覧ください。

[28] [[WebTV]] の拡張では、 [CODE(HTMLe)[input]] 要素を使っても
[CODE(HTMLa)[[[type]]]] を [CODE(HTML)[textarea]] 
とすることで複数行文章入力制御子を作成できます。

[8] かつて、 [[WinIE]] には [CODE(HTMLe)[[[htmlarea]]]] という
[CODE(HTMLe)[textarea]] に似た要素型がありましたが、葬られました。

[[#comment]]


** 例

[26] 簡単な入力制御子の例 [SRC[HTML 4 17.7、改]]
[PRE(HTML example)[
<FORM action="http://somesite.example/prog/text-read" method="post">
   <P>
   <TEXTAREA name="thetext" rows="20" cols="80">
   First line of initial text.
   Second line of initial text.
   </TEXTAREA>
   <INPUT type="submit" value="Send"><INPUT type="reset">
   </P>
</FORM>
]PRE]

この例では、20行80列の文章入力制御子を作成します。
その初期状態は、2行分の文字列が現在値となった状態です。

[[#comment]]


** メモ

[[#comment]]


@


1.10
log
@auto-committed
@
text
@d1 248
a248 234
* [CODE(HTMLe)[textarea]] 要素型 (HTML, XHTML 1)

[19] [[HTML]] の [DFN[[CODE(HTMLe)[textarea]] 要素]]は、
[DFN[複数行文章入力制御子]]を作成します。

[20] 仕様書:
- [[HTML 4]] ([[Web Forms 1.0]])
-- [CITE[text input]]
<IW:HTML4:"interact/forms.html#text-input">
-- [CITE[17.7 The [CODE(HTMLe)[TEXTAREA]] element]]
<IW:HTML4:"interact/forms.html#edef-TEXTAREA">

[21]
:[[名前空間名]]:[CODE(URI)[[[http://www.w3.org/1999/xhtml]]]]
:[[局所名]]:[CODE(HTMLe)[textarea]]
:[[開始タグ]]:必須
:[[終了タグ]]:必須
:出現できる文脈:[CODE(SGML)[%[[formctrl]]]] な文脈
:[[内容模型]]:[CODE(SGML)[#[[PCDATA]]]]
:[[属性]]:
,属性名	,属性値	,既定値	,説明	,状態,出典
,[CODE(HTMLa)[[[accesskey]]]]	,[CODE(SGML)[%[[Character]]]]	,	,	,[HTML 4]
,[CODE(HTMLa)[[[align]]]],,,配置,[WinIE 4] 未実装
,[CODE(HTMLa)[[[class]]]]	,	,(なし)	,[[級]]	,"[HTML 4] %[[coreattrs]] ⊂ %[[attrs]], [XHTML 1] [[Core]] ⊂ [[Common]]"
,[CODE(HTMLa)[[[cols]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(必須)	,列	,[HTML 4]
,[CODE(HTMLa)[[[datafld]]]],,,データ列名,[WinIE 4]
,[CODE(HTMLa)[[[datasrc]]]],,,データ源,[WinIE 4]
,[CODE(HTMLa)[[[dir]]]]	,	,	,[[書字方向]]	,"[HTML 4] %[[i18n]] ⊂ %attrs, [XHTML 1] [[I18N]] ⊂ Common"
,[CODE(HTMLa)[[[disabled]]]]	,([[真偽値属性]])	,(偽)	,無効	,[HTML 4]
,[CODE(HTMLa)[[[format]]]],,,入力書式,[au]
,[CODE(HTMLa)[[[id]]]]	,[CODE(SGML)[[[ID]]]]	,(なし)	,一意識別子	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] Core ⊂ Common"
,[CODE(HTMLa)[[[istyle]]]],,,入力モード,[iモード 2]
,[CODE(HTMLa)[[[lang]]]]	,	,	,[[自然言語]]	,[HTML 4] %i18n ⊂ %attrs
,[CODE(HTMLa)[[[xml]]:[[lang]]]]	,[CODE(SGML)[%[[LanguageCode]]]]	,(継承)	,[[自然言語]]	,W3C 勧告,[XHTML 1] I18N ⊂ Common
,[CODE(HTMLa)[[[name]]]]	,	,	,制御子名	,[HTML 4]
,[CODE(HTMLa)[[[onblur]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,失焦点時	,[HTML 4]
,[CODE(HTMLa)[[[onchange]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,変更時	,[HTML 4]
,[CODE(HTMLa)[[[onclick]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %[[events]] ⊂ %attrs, [XHTML 1] [[Events]] ⊂ Common"
,[CODE(HTMLa)[[[ondblclick]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onfocus]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,得焦点時	,[HTML 4]
,[CODE(HTMLa)[[[onkeydown]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onkeypress]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onkeyup]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmousedown]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmousemove]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseout]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseover]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseup]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onselect]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,選択時	,[HTML 4]
,[CODE(HTMLa)[[[readonly]]]]	,(真偽値属性)	,(偽)	,読取専用	,[HTML 4]
,[CODE(HTMLa)[[[rows]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(必須)	,行	,[HTML 4]
,[CODE(HTMLa)[[[style]]]]	,	,	,スタイル情報	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] [[Style]] ⊂ Common"
,[CODE(HTMLa)[[[tabindex]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(自動)	,タブ順	,[HTML 4]
,[CODE(HTMLa)[[[title]]]]	,	,	,注釈的題	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] Core ⊂ Common"
,[CODE(HTMLa)[[[wrap]]]]	,	,	,行送り	,[Web Forms 2.0]

[[#comment]]


** 内容

[16]
[[SGML]] base の (正確には [CODE(SGML)[[[KEEPRSRE]] NO]] の) HTML では、
[[タグ]]の前後の[[記録開始]]・[[記録終了]]が無視されるなどの[Q[問題]]があります。 
(どの要素型でもそうですが、 [CODE(HTMLe)[textarea]] や [CODE(HTMLe)[[[pre]]]] 
では問題になり得ます。) [[XHTML]] ではこの[Q[問題]]は起こりません。

参考: ''2004年2月15日 (日) - TEXTAREA要素のレンダリングについて'' <http://www.hyuki.com/diary/dia0402.html#i15_16>

[[数値文字参照]]か[[十六進数文字参照]]を使えばこの問題は回避できます。
(が、そこらのブラウザが対応しているかは知りませんよ。)

詳しくは [[SGML//空白]]あたりを参照されたし。
([[名無しさん]] [WEAK[2004-03-17 10:15:35 +00:00]])

[[#comment]]


** UA による利用


*** レンダリング

[22] UA は、初期状態で[[内容]]をレンダリングするべきです。 [SRC[HTML 4 17.7]]

[[#comment]]


*** フォーム制御子


**** 制御子名

[24] [CODE(HTMLa)[[[name]]]] 属性の値が[[制御子名]]として使われます。

[[#comment]]


**** 初期値

[23] [[内容]]を[[初期値]]として使用するべきです。 [SRC[HTML 4 17.7]]

[[#comment]]


*** 現在値

[33] 制御子の値を編集すると、それが[[現在値]]となります。

[[#comment]]


**** メモ

[25] 提出についてはフォームの[[提出]]の説明をご覧ください。

[[#comment]]

** 可用性

[28] 多くの視覚 UA は自前の制御子やその環境の標準の制御子を組込んで使っていることが多いです。
どちらの場合にせよ、そのような制御子は貧弱であることが多く、
ウェブ日記や [[wiki]] のように文章編集を多く行うと粗が見えてきます。
とりわけ、独自の制御子を使っている場合には、その環境の制御子が持っている機能すらなかったり、
操作性が異なったり、拡張ソフトウェアを流用できなかったり不便なことがあります。
そこで、 UA 組込みの制御子ではなく、
外部のエディタを使って編集できる方が良いと考える人も少なくありません。

[32] 実装によっては、 [CODE(HTMLe)[textarea]] 
制御子の内容の編集をブラウザ内部で\はなく完全に外部プログラムに任せているものもあります
[SRC[例えば [[w3m]]]]。
実装方法や環境にもよりますが、この方法には外部プログラム起動が遅いとか、
外部プログラム起動中はフォームの頁にある情報を見ることができないとかの問題がある\場合もあります。

利用者エージェントは [CODE(HTMLe)[textarea]] の内容が十分短く簡単ならばブラウザ内で編集できるようにした方が便利です。
可能なら外部プログラムに渡すデータに頁内のの情報を含めて編集内容と一緒に表示して\もらうようにするといいでしょう。

フォームの設計者は、 [[[CODE(HTMLe)[input]]//[CODE(HTML)[text]]]]
で十分なら [CODE(HTMLe)[textarea]] を使うべきではありません。

[[#comment]]

*** メモ

[31]
利用者が要素を[[活性化]]すると ([[焦点]]をあてると)、入力欄は編集可能な状態になります [SRC[HTML 4 17.11.2]]。

[[#comment]]


** 実装

[17]
''textarea - textareaとテキストエディタ連携'' <http://www.hyuki.com/yukiwiki/wiki.cgi?textarea>

WWW ブラウザの [CODE(HTMLe)[textarea]] 編集は貧弱なので外部エディタを使いたいという話。

[18]
''firefox からエディタを利用する方法'' <http://www.mew.org/~kazu/toy/firefox-editor.html>
([[名無しさん]] [WEAK[2004-04-20 08:43:22 +00:00]])

[29] [[w3m]] のように、自前の編集機能が無く、
外部エディタで編集するブラウザもあります。

[30] 但し、外部エディタを使うという方法は、ウィンドウ環境などを持たないテキスト端末を使っていたり、
外部エディタ起動中は UA 本体を操作できなかったりすると文章入力制御子の周りの文章を同時に読めないなどの不都合が生じます。 UA の作者は、 UA の動作する環境に合わせて、
利用者が不便を感じずに編集を行えるように十分注意するべきでしょう。

[[#comment]]


** 不思議解釈

[34] [[CSS]] の [CODE(CSS)[[[overflow]]]] のような仕組みが無かった時代には、
[[著者]]の使っている画面の大きさに整形済みの文章を収める時に
(頁全体の横 scroll bar が出てしまわないようにするのに)
便利と考える人もいました。

[1] 
著者からのメッセージ(謎)とかを、著者が使っている画面の大きさに収める時に大きさ合わせに使う。 (彼(女)は [[CSS]] は知らないか、マウスを乗せたらリンクの色が変わる[[タグ]]は知る。)

とくに、[[What's New?]] を書くのに使うことが多い。

[35] [[Webブラウザ]]の機能が貧弱だった時代には、
プログラムのソース・コードなど[[クリップ板]]を通して複写されそうな文章片を
[CODE(HTMLe)[textarea]] に入れるのがよいと考える人もいました
([CODE(HTMLe)[textarea]] はシステム標準の制御子が使われ、
ブラウザよりは使いやすくなっていたため)。

[[#comment]]


** 他との関係

[27] 複数行ではない文章入力制御子には、 [CODE(HTMLe)[[[input]]]]
要素型を使います。詳しくは [[[CODE(HTMLe)[input]]//[CODE(HTML)[text]]]]
をご覧ください。

[28] [[WebTV]] の拡張では、 [CODE(HTMLe)[input]] 要素を使っても
[CODE(HTMLa)[[[type]]]] を [CODE(HTML)[textarea]] 
とすることで複数行文章入力制御子を作成できます。

[8] かつて、 [[WinIE]] には [CODE(HTMLe)[[[htmlarea]]]] という
[CODE(HTMLe)[textarea]] に似た要素型がありましたが、葬られました。

[[#comment]]


** 例

[26] 簡単な入力制御子の例 [SRC[HTML 4 17.7、改]]
[PRE(HTML example)[
<FORM action="http://somesite.example/prog/text-read" method="post">
   <P>
   <TEXTAREA name="thetext" rows="20" cols="80">
   First line of initial text.
   Second line of initial text.
   </TEXTAREA>
   <INPUT type="submit" value="Send"><INPUT type="reset">
   </P>
</FORM>
]PRE]

この例では、20行80列の文章入力制御子を作成します。
その初期状態は、2行分の文字列が現在値となった状態です。

[[#comment]]


** メモ

[[#comment]]


@


1.9
log
@auto-committed
@
text
@a0 2


d14 2
d21 1
a21 1
,属性名	,属性値	,既定値	,説明	,出典
d34 1
a34 1
,[CODE(HTMLa)[[[xml]]:lang]]	,	,	,自然言語	,[XHTML 1] I18N ⊂ Common
d108 1
a108 1
[24] 制御子の値を編集すると、それが[[現在値]]となります。
d119 23
a146 2
([[名無しさん]])

a152 8
[28] 多くの視覚 UA は自前の制御子やその環境の標準の制御子を組込んで使っていることが多いです。
どちらの場合にせよ、そのような制御子は貧弱であることが多く、
ウェブ日記や [[wiki]] のように文章編集を多く行うと粗が見えてきます。
とりわけ、独自の制御子を使っている場合には、その環境の制御子が持っている機能すらなかったり、
操作性が異なったり、拡張ソフトウェアを流用できなかったり不便なことがあります。
そこで、 UA 組込みの制御子ではなく、
外部のエディタを使って編集できる方が良いと考える人も少なくありません。

d162 1
a162 1
[29] また、 [[w3m]] のように、自前の編集機能が無く、
d174 5
d184 6
d212 1
a212 1
[PRE(HTML)[
@


1.8
log
@auto-committed
@
text
@d1 210
a210 206



* textarea 要素型 (HTML, XHTML 1)

[19] [[HTML]] の [DFN[[CODE(HTMLe)[textarea]] 要素]]は、
[DFN[複数行文章入力制御子]]を作成します。

[20] 仕様書:
- [[HTML 4]] ([[Web Forms 1.0]])
-- [CITE[text input]]
<IW:HTML4:"interact/forms.html#text-input">
-- [CITE[17.7 The [CODE(HTMLe)[TEXTAREA]] element]]
<IW:HTML4:"interact/forms.html#edef-TEXTAREA">

[21]
:[[開始タグ]]:必須
:[[終了タグ]]:必須
:出現できる文脈:[CODE(SGML)[%[[formctrl]]]] な文脈
:[[内容模型]]:[CODE(SGML)[#[[PCDATA]]]]
:[[属性]]:
,属性名	,属性値	,既定値	,説明	,出典
,[CODE(HTMLa)[[[accesskey]]]]	,[CODE(SGML)[%[[Character]]]]	,	,	,[HTML 4]
,[CODE(HTMLa)[[[class]]]]	,	,(なし)	,[[級]]	,"[HTML 4] %[[coreattrs]] ⊂ %[[attrs]], [XHTML 1] [[Core]] ⊂ [[Common]]"
,[CODE(HTMLa)[[[cols]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(必須)	,列	,[HTML 4]
,[CODE(HTMLa)[[[dir]]]]	,	,	,[[書字方向]]	,"[HTML 4] %[[i18n]] ⊂ %attrs, [XHTML 1] [[I18N]] ⊂ Common"
,[CODE(HTMLa)[[[disabled]]]]	,([[真偽値属性]])	,(偽)	,無効	,[HTML 4]
,[CODE(HTMLa)[[[id]]]]	,[CODE(SGML)[[[ID]]]]	,(なし)	,一意識別子	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] Core ⊂ Common"
,[CODE(HTMLa)[[[lang]]]]	,	,	,[[自然言語]]	,[HTML 4] %i18n ⊂ %attrs
,[CODE(HTMLa)[[[xml]]:lang]]	,	,	,自然言語	,[XHTML 1] I18N ⊂ Common
,[CODE(HTMLa)[[[name]]]]	,	,	,制御子名	,[HTML 4]
,[CODE(HTMLa)[[[onblur]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,失焦点時	,[HTML 4]
,[CODE(HTMLa)[[[onchange]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,変更時	,[HTML 4]
,[CODE(HTMLa)[[[onclick]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %[[events]] ⊂ %attrs, [XHTML 1] [[Events]] ⊂ Common"
,[CODE(HTMLa)[[[ondblclick]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onfocus]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,得焦点時	,[HTML 4]
,[CODE(HTMLa)[[[onkeydown]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onkeypress]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onkeyup]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmousedown]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmousemove]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseout]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseover]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseup]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,	,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onselect]]]]	,[CODE(SGML)[%[[Script]]]]	,(なし)	,選択時	,[HTML 4]
,[CODE(HTMLa)[[[readonly]]]]	,(真偽値属性)	,(偽)	,読取専用	,[HTML 4]
,[CODE(HTMLa)[[[rows]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(必須)	,行	,[HTML 4]
,[CODE(HTMLa)[[[style]]]]	,	,	,スタイル情報	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] [[Style]] ⊂ Common"
,[CODE(HTMLa)[[[tabindex]]]]	,[CODE(SGML)[[[NUMBER]]]]	,(自動)	,タブ順	,[HTML 4]
,[CODE(HTMLa)[[[title]]]]	,	,	,注釈的題	,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] Core ⊂ Common"
,[CODE(HTMLa)[[[wrap]]]]	,	,	,行送り	,[Web Forms 2.0]

[[#comment]]


** 内容

[16]
[[SGML]] base の (正確には [CODE(SGML)[[[KEEPRSRE]] NO]] の) HTML では、
[[タグ]]の前後の[[記録開始]]・[[記録終了]]が無視されるなどの[Q[問題]]があります。 
(どの要素型でもそうですが、 [CODE(HTMLe)[textarea]] や [CODE(HTMLe)[[[pre]]]] 
では問題になり得ます。) [[XHTML]] ではこの[Q[問題]]は起こりません。

参考: ''2004年2月15日 (日) - TEXTAREA要素のレンダリングについて'' <http://www.hyuki.com/diary/dia0402.html#i15_16>

[[数値文字参照]]か[[十六進数文字参照]]を使えばこの問題は回避できます。
(が、そこらのブラウザが対応しているかは知りませんよ。)

詳しくは [[SGML//空白]]あたりを参照されたし。
([[名無しさん]] [WEAK[2004-03-17 10:15:35 +00:00]])

[[#comment]]


** UA による利用


*** レンダリング

[22] UA は、初期状態で[[内容]]をレンダリングするべきです。 [SRC[HTML 4 17.7]]

[[#comment]]


*** フォーム制御子


**** 制御子名

[24] [CODE(HTMLa)[[[name]]]] 属性の値が[[制御子名]]として使われます。

[[#comment]]


**** 初期値

[23] [[内容]]を[[初期値]]として使用するべきです。 [SRC[HTML 4 17.7]]

[[#comment]]


*** 現在値

[24] 制御子の値を編集すると、それが[[現在値]]となります。

[[#comment]]


**** メモ

[25] 提出についてはフォームの[[提出]]の説明をご覧ください。

[[#comment]]


*** メモ

[31]
利用者が要素を[[活性化]]すると ([[焦点]]をあてると)、入力欄は編集可能な状態になります [SRC[HTML 4 17.11.2]]。
([[名無しさん]])


[[#comment]]


** 実装

[28] 多くの視覚 UA は自前の制御子やその環境の標準の制御子を組込んで使っていることが多いです。
どちらの場合にせよ、そのような制御子は貧弱であることが多く、
ウェブ日記や [[wiki]] のように文章編集を多く行うと粗が見えてきます。
とりわけ、独自の制御子を使っている場合には、その環境の制御子が持っている機能すらなかったり、
操作性が異なったり、拡張ソフトウェアを流用できなかったり不便なことがあります。
そこで、 UA 組込みの制御子ではなく、
外部のエディタを使って編集できる方が良いと考える人も少なくありません。

[17]
''textarea - textareaとテキストエディタ連携'' <http://www.hyuki.com/yukiwiki/wiki.cgi?textarea>

WWW ブラウザの [CODE(HTMLe)[textarea]] 編集は貧弱なので外部エディタを使いたいという話。

[18]
''firefox からエディタを利用する方法'' <http://www.mew.org/~kazu/toy/firefox-editor.html>
([[名無しさん]] [WEAK[2004-04-20 08:43:22 +00:00]])

[29] また、 [[w3m]] のように、自前の編集機能が無く、
外部エディタで編集するブラウザもあります。

[30] 但し、外部エディタを使うという方法は、ウィンドウ環境などを持たないテキスト端末を使っていたり、
外部エディタ起動中は UA 本体を操作できなかったりすると文章入力制御子の周りの文章を同時に読めないなどの不都合が生じます。 UA の作者は、 UA の動作する環境に合わせて、
利用者が不便を感じずに編集を行えるように十分注意するべきでしょう。

[[#comment]]


** 不思議解釈

[1] 
著者からのメッセージ(謎)とかを、著者が使っている画面の大きさに収める時に大きさ合わせに使う。 (彼(女)は [[CSS]] は知らないか、マウスを乗せたらリンクの色が変わる[[タグ]]は知る。)

とくに、[[What's New?]] を書くのに使うことが多い。

[[#comment]]


** 他との関係

[27] 複数行ではない文章入力制御子には、 [CODE(HTMLe)[[[input]]]]
要素型を使います。詳しくは [[[CODE(HTMLe)[input]]//[CODE(HTML)[text]]]]
をご覧ください。

[28] [[WebTV]] の拡張では、 [CODE(HTMLe)[input]] 要素を使っても
[CODE(HTMLa)[[[type]]]] を [CODE(HTML)[textarea]] 
とすることで複数行文章入力制御子を作成できます。

[8] かつて、 [[WinIE]] には [CODE(HTMLe)[[[htmlarea]]]] という
[CODE(HTMLe)[textarea]] に似た要素型がありましたが、葬られました。

[[#comment]]


** 例

[26] 簡単な入力制御子の例 [SRC[HTML 4 17.7、改]]
[PRE(HTML)[
<FORM action="http://somesite.example/prog/text-read" method="post">
   <P>
   <TEXTAREA name="thetext" rows="20" cols="80">
   First line of initial text.
   Second line of initial text.
   </TEXTAREA>
   <INPUT type="submit" value="Send"><INPUT type="reset">
   </P>
</FORM>
]PRE]

この例では、20行80列の文章入力制御子を作成します。
その初期状態は、2行分の文字列が現在値となった状態です。

[[#comment]]


** メモ

[[#comment]]


@


1.7
log
@auto-committed
@
text
@d1 206
a206 180
* textarea 要素型 (HTML, XHTML 1)

[19] [[HTML]] の [DFN[[CODE(HTMLe)[textarea]] 要素]]は、
[DFN[複数行文章入力制御子]]を作成します。

[20] 仕様書:
- [[HTML 4]] ([[Web Forms 1.0]])
-- [CITE[text input]]
<IW:HTML4:"interact/forms.html#text-input">
-- [CITE[17.7 The [CODE(HTMLe)[TEXTAREA]] element]]
<IW:HTML4:"interact/forms.html#edef-TEXTAREA">

[21]
:[[開始タグ]]:必須
:[[終了タグ]]:必須
:出現できる文脈:[CODE(SGML)[%[[formctrl]]]] な文脈
:[[内容模型]]:[CODE(SGML)[#[[PCDATA]]]]
:[[属性]]:
,属性名,属性値,既定値,説明,出典
,[CODE(HTMLa)[[[accesskey]]]],[CODE(SGML)[%[[Character]]]],,,[HTML 4]
,[CODE(HTMLa)[[[class]]]],,(なし),[[級]],"[HTML 4] %[[coreattrs]] ⊂ %[[attrs]], [XHTML 1] [[Core]] ⊂ [[Common]]"
,[CODE(HTMLa)[[[cols]]]],[CODE(SGML)[[[NUMBER]]]],(必須),列,[HTML 4]
,[CODE(HTMLa)[[[dir]]]],,,[[書字方向]],"[HTML 4] %[[i18n]] ⊂ %attrs, [XHTML 1] [[I18N]] ⊂ Common"
,[CODE(HTMLa)[[[disabled]]]],([[真偽値属性]]),(偽),無効,[HTML 4]
,[CODE(HTMLa)[[[id]]]],[CODE(SGML)[[[ID]]]],(なし),一意識別子,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] Core ⊂ Common"
,[CODE(HTMLa)[[[lang]]]],,,[[自然言語]],"[HTML 4] %i18n ⊂ %attrs"
,[CODE(HTMLa)[[[xml]]:lang]],,,自然言語     ,"[XHTML 1] I18N ⊂ Common"
,[CODE(HTMLa)[[[name]]]],,,制御子名,[HTML 4]
,[CODE(HTMLa)[[[onblur]]]]   ,[CODE(SGML)[%[[Script]]]],(なし),失焦点時,[HTML 4]
,[CODE(HTMLa)[[[onchange]]]]   ,[CODE(SGML)[%[[Script]]]],(なし),変更時,[HTML 4]
,[CODE(HTMLa)[[[onclick]]]]   ,[CODE(SGML)[%[[Script]]]],(なし),,"[HTML 4] %[[events]] ⊂ %attrs, [XHTML 1] [[Events]] ⊂ Common"
,[CODE(HTMLa)[[[ondblclick]]]],[CODE(SGML)[%[[Script]]]],(なし),,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onfocus]]]]   ,[CODE(SGML)[%[[Script]]]],(なし),得焦点時,[HTML 4]
,[CODE(HTMLa)[[[onkeydown]]]] ,[CODE(SGML)[%[[Script]]]],(なし),,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onkeypress]]]],[CODE(SGML)[%[[Script]]]],(なし),,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onkeyup]]]]   ,[CODE(SGML)[%[[Script]]]],(なし),,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmousedown]]]],[CODE(SGML)[%[[Script]]]],(なし),,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmousemove]]]],[CODE(SGML)[%[[Script]]]],(なし),,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseout]]]],[CODE(SGML)[%[[Script]]]],(なし),,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseover]]]],[CODE(SGML)[%[[Script]]]],(なし),,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onmouseup]]]] ,[CODE(SGML)[%[[Script]]]],(なし),,"[HTML 4] %events ⊂ %attrs, [XHTML 1] Events ⊂ Common"
,[CODE(HTMLa)[[[onselect]]]]   ,[CODE(SGML)[%[[Script]]]],(なし),選択時,[HTML 4]
,[CODE(HTMLa)[[[readonly]]]],(真偽値属性),(偽),読取専用,[HTML 4]
,[CODE(HTMLa)[[[rows]]]],[CODE(SGML)[[[NUMBER]]]],(必須),行,[HTML 4]
,[CODE(HTMLa)[[[style]]]]   ,,,スタイル情報 ,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] [[Style]] ⊂ Common"
,[CODE(HTMLa)[[[tabindex]]]],[CODE(SGML)[[[NUMBER]]]],(自動),タブ順,[HTML 4]
,[CODE(HTMLa)[[[title]]]]   ,,,注釈的題     ,"[HTML 4] %coreattrs ⊂ %attrs, [XHTML 1] Core ⊂ Common"
,[CODE(HTMLa)[[[wrap]]]],,,行送り,"[Web Forms 2.0]"
[[#comment]]

** 内容

[16]
[[SGML]] base の (正確には [CODE(SGML)[[[KEEPRSRE]] NO]] の) HTML では、
[[タグ]]の前後の[[記録開始]]・[[記録終了]]が無視されるなどの[Q[問題]]があります。 
(どの要素型でもそうですが、 [CODE(HTMLe)[textarea]] や [CODE(HTMLe)[[[pre]]]] 
では問題になり得ます。) [[XHTML]] ではこの[Q[問題]]は起こりません。

参考: ''2004年2月15日 (日) - TEXTAREA要素のレンダリングについて'' <http://www.hyuki.com/diary/dia0402.html#i15_16>

[[数値文字参照]]か[[十六進数文字参照]]を使えばこの問題は回避できます。
(が、そこらのブラウザが対応しているかは知りませんよ。)

詳しくは [[SGML//空白]]あたりを参照されたし。
([[名無しさん]] [WEAK[2004-03-17 10:15:35 +00:00]])

[[#comment]]

** UA による利用
*** レンダリング

[22] UA は、初期状態で[[内容]]をレンダリングするべきです。 [SRC[HTML 4 17.7]]

[[#comment]]

*** フォーム制御子
**** 制御子名

[24] [CODE(HTMLa)[[[name]]]] 属性の値が[[制御子名]]として使われます。

[[#comment]]

**** 初期値

[23] [[内容]]を[[初期値]]として使用するべきです。 [SRC[HTML 4 17.7]]

[[#comment]]

*** 現在値

[24] 制御子の値を編集すると、それが[[現在値]]となります。

[[#comment]]

**** メモ

[25] 提出についてはフォームの[[提出]]の説明をご覧ください。

[[#comment]]

*** メモ

[[#comment]]

** 実装

[28] 多くの視覚 UA は自前の制御子やその環境の標準の制御子を組込んで使っていることが多いです。
どちらの場合にせよ、そのような制御子は貧弱であることが多く、
ウェブ日記や [[wiki]] のように文章編集を多く行うと粗が見えてきます。
とりわけ、独自の制御子を使っている場合には、その環境の制御子が持っている機能すらなかったり、
操作性が異なったり、拡張ソフトウェアを流用できなかったり不便なことがあります。
そこで、 UA 組込みの制御子ではなく、
外部のエディタを使って編集できる方が良いと考える人も少なくありません。

[17]
''textarea - textareaとテキストエディタ連携'' <http://www.hyuki.com/yukiwiki/wiki.cgi?textarea>

WWW ブラウザの [CODE(HTMLe)[textarea]] 編集は貧弱なので外部エディタを使いたいという話。

[18]
''firefox からエディタを利用する方法'' <http://www.mew.org/~kazu/toy/firefox-editor.html>
([[名無しさん]] [WEAK[2004-04-20 08:43:22 +00:00]])

[29] また、 [[w3m]] のように、自前の編集機能が無く、
外部エディタで編集するブラウザもあります。

[30] 但し、外部エディタを使うという方法は、ウィンドウ環境などを持たないテキスト端末を使っていたり、
外部エディタ起動中は UA 本体を操作できなかったりすると文章入力制御子の周りの文章を同時に読めないなどの不都合が生じます。 UA の作者は、 UA の動作する環境に合わせて、
利用者が不便を感じずに編集を行えるように十分注意するべきでしょう。

[[#comment]]

** 不思議解釈

[1] 
著者からのメッセージ(謎)とかを、著者が使っている画面の大きさに収める時に大きさ合わせに使う。 (彼(女)は [[CSS]] は知らないか、マウスを乗せたらリンクの色が変わる[[タグ]]は知る。)

とくに、[[What's New?]] を書くのに使うことが多い。

[[#comment]]

** 他との関係

[27] 複数行ではない文章入力制御子には、 [CODE(HTMLe)[[[input]]]]
要素型を使います。詳しくは [[[CODE(HTMLe)[input]]//[CODE(HTML)[text]]]]
をご覧ください。

[28] [[WebTV]] の拡張では、 [CODE(HTMLe)[input]] 要素を使っても
[CODE(HTMLa)[[[type]]]] を [CODE(HTML)[textarea]] 
とすることで複数行文章入力制御子を作成できます。

[8] かつて、 [[WinIE]] には [CODE(HTMLe)[[[htmlarea]]]] という
[CODE(HTMLe)[textarea]] に似た要素型がありましたが、葬られました。

[[#comment]]

** 例

[26] 簡単な入力制御子の例 [SRC[HTML 4 17.7、改]]
[PRE(HTML)[
<FORM action="http://somesite.example/prog/text-read" method="post">
   <P>
   <TEXTAREA name="thetext" rows="20" cols="80">
   First line of initial text.
   Second line of initial text.
   </TEXTAREA>
   <INPUT type="submit" value="Send"><INPUT type="reset">
   </P>
</FORM>
]PRE]

この例では、20行80列の文章入力制御子を作成します。
その初期状態は、2行分の文字列が現在値となった状態です。

[[#comment]]

** メモ

[[#comment]]

@


1.6
log
@auto-committed
@
text
@d1 181
a181 81
#?SuikaWiki/0.9

#?SuikaWiki/0.9
,仕様	,開始タグ	,終了タグ	,内容
,[[HTML4]]	,必須	,必須	,[[#form:'':'']]#PCDATA]]


* 属性

,[[cols属性]]	,NUMBER	,必須	,HTML4 >>3
,[[class属性]]	,	,	,HTML4
,[[dir属性]]	,	,	,HTML4
,[[disabled属性]]	,disabled	,	,HTML4
,[[id属性]]	,	,	,HTML4
,[[lang属性]]	,	,	,HTML4
,[[name属性]]	,[[CDATA]]	,	,HTML4
,[[readonly属性]]	,readonly	,	,HTML4
,[[rows属性]]	,NUMBER	,必須	,HTML4
,[[style属性]]	,	,	,HTML4
,[[tabindex属性]]	,	,	,HTML4
,[[title属性]]	,	,	,HTML4
,wrap 属性 >>2	,	,	,非標準
,[[組込催事属性]]	,	,	,HTML4 非推奨


** wrap 属性

[2] 非標準の属性で、値が yes のとき折り返し、 no のとき折り返しません。

[3] [[cols属性]]の値と要素の内容によっては、表示の時に文字列が収まりきらないことがあります。
この時に、表示範囲の端で折り返すかどうかを指定します。 

[1] HTML4 はこの場合の動作は実装依存としています。
(<IW:HTML4:"interact/forms.html#h-17.7">)

- [5] [[NN]]2 は wrap 属性に対応していません。既定値に当たるのは no です。
- [4] [[WinIE]] は warp 属性に対応していますが、指定なしの時の既定値は yes
です。
- [6] [WEAK[2002-12-06 (金) 19:11]] ''[[名無しさん]]'': WinIE1 は wrap 属性に対応しておらず、既定値相当は no です。
- [7] [WEAK[2002-12-06 (金) 19:52]] ''>>6'': WinIE2 も同じ。
- [9] >>2-7 [[不思議マーク付け]]の最強リファレンスを見ずして何を語っておる? ''<textarea> - フォーム部品:テキストエリア'' <http://tohoho.wakusei.ne.jp/html/textarea.htm>
- [10] WinIE6 で試してみたが [CODE[yes]] とか [CODE[no]] は存在しない。いずれも wrap される。
- [11] いくら IE がいい加減だからって、そんな適当な値は存在しないらしいぞ。情報源はどこだ?
- [12] ''New HTML 3.0 Proposals'' <http://wp.netscape.com/assist/net_sites/new_html3_prop.html#Forms> これが [CODE(HTML)[wrap]] 属性の原典。
[[#comment]]


* メモ

- [8] [WEAK[2002-12-27 17:46]] ''[[ななしのごんべ]]'': [[WinIE]] には独自拡張の [[htmlarea要素]]なるものがありますね...
- [13] [WEAK[2003-12-15 18:46:52 +00:00]] ''[[hl]]'': 

[1] 間違った使い方:

著者からのメッセージ(謎)とかを、著者が使っている画面の大きさに収める時に大きさ合わせに使う。 (彼(女)は [[CSS]] は知らないか、マウスを乗せたらリンクの色が変わる[[タグ]]は知る。)

とくに、[[What'sNew?]] を書くのに使うことが多い。
- [14] [WEAK[2004-02-03 13:35:27 +00:00]] ''[[a]]'': 
- [15] [WEAK[2004-02-03 13:36:06 +00:00]] ''[[名無しさん]]'': bb

[16]
[[SGML]] base の (正確には [CODE(SGML)[[[KEEPRSRE]]]] の) HTML では、[[タグ]]の前後の[[記録開始]]・[[記録終了]]が無視されるなどの“問題”があります。 (どの要素型でもそうですが、 [CODE(HTMLe)[textarea]] や [CODE(HTMLe)[[[pre]]]] では問題になり得ます。)

参考: ''2004年2月15日 (日) - TEXTAREA要素のレンダリングについて'' <http://www.hyuki.com/diary/dia0402.html#i15_16>

[[数値文字参照]]か[[十六進数文字参照]]を使えばこの問題は回避できます。
(が、そこらのブラウザが対応しているかは知りませんよ。)

詳しくは [[SGML//空白]]あたりを参照されたし。
([[名無しさん]] [WEAK[2004-03-17 10:15:35 +00:00]])

[17]
''textarea - textareaとテキストエディタ連携'' <http://www.hyuki.com/yukiwiki/wiki.cgi?textarea>

WWW ブラウザの [CODE(HTMLe)[textarea]] 編集は貧弱なので外部エディタを使いたいという話。
([[名無しさん]])

[18]
''firefox からエディタを利用する方法'' <http://www.mew.org/~kazu/toy/firefox-editor.html>
([[名無しさん]] [WEAK[2004-04-20 08:43:22 +00:00]])

@


1.5
log
@auto-committed
@
text
@d73 2
a74 2
''textarea - textareaとテキストエディタ連携'' <http://www.hyuki.com/yukiwiki/wiki.cgi?textarea>

d77 4
@


1.4
log
@auto-committed
@
text
@d62 7
a68 7
[[SGML]] base の (正確には [CODE(SGML)[[[KEEPRSRE]]]] の) HTML では、[[タグ]]の前後の[[記録開始]]・[[記録終了]]が無視されるなどの“問題”があります。 (どの要素型でもそうですが、 [CODE(HTMLe)[textarea]] や [CODE(HTMLe)[[[pre]]]] では問題になり得ます。)

参考: ''2004年2月15日 (日) - TEXTAREA要素のレンダリングについて'' <http://www.hyuki.com/diary/dia0402.html#i15_16>

[[数値文字参照]]か[[十六進数文字参照]]を使えばこの問題は回避できます。
(が、そこらのブラウザが対応しているかは知りませんよ。)

d71 7
@


1.3
log
@auto-committed
@
text
@d1 62
a62 24
#?SuikaWiki/0.9
#?SuikaWiki/0.9
,仕様  ,開始タグ,終了タグ,内容
,[[HTML4]],必須,必須,[[#PCDATA]]

*属性
,[[cols属性]],NUMBER ,必須,HTML4 >>3
,[[class属性]], , ,HTML4
,[[dir属性]], , ,HTML4
,[[disabled属性]],"disabled" , ,HTML4
,[[id属性]], , ,HTML4
,[[lang属性]], , ,HTML4
,[[name属性]],[[CDATA]] , ,HTML4
,[[readonly属性]],"readonly" , ,HTML4
,[[rows属性]],NUMBER ,必須,HTML4
,[[style属性]], , ,HTML4
,[[tabindex属性]], , ,HTML4
,[[title属性]], , ,HTML4
,wrap 属性 >>2,,,非標準
,[[組込催事属性]], , ,HTML4 非推奨

**wrap 属性

[2] 非標準の属性で、値が yes のとき折り返し、 no のとき折り返しません。
d64 1
a64 2
[3] [[cols属性]]の値と要素の内容によっては、表示の時に文字列が収まりきらないことがあります。
この時に、表示範囲の端で折り返すかどうかを指定します。 
d66 2
a67 2
[1] HTML4 はこの場合の動作は実装依存としています。
(<IW:HTML4:"interact/forms.html#h-17.7">)
d69 2
a70 21
-[5] [[NN]]2 は wrap 属性に対応していません。既定値に当たるのは no です。
-[4] [[WinIE]] は warp 属性に対応していますが、指定なしの時の既定値は yes
です。
- [6] [WEAK[2002-12-06 (金) 19:11]] ''[[名無しさん]]'': WinIE1 は wrap 属性に対応しておらず、既定値相当は no です。
- [7] [WEAK[2002-12-06 (金) 19:52]] ''>>6'': WinIE2 も同じ。
- [9] >>2-7 [[不思議マーク付け]]の最強リファレンスを見ずして何を語っておる? ''<textarea> - フォーム部品:テキストエリア'' <http://tohoho.wakusei.ne.jp/html/textarea.htm>
- [10] WinIE6 で試してみたが [CODE[yes]] とか [CODE[no]] は存在しない。いずれも wrap される。
- [11] いくら IE がいい加減だからって、そんな適当な値は存在しないらしいぞ。情報源はどこだ?
- [12] ''New HTML 3.0 Proposals'' <http://wp.netscape.com/assist/net_sites/new_html3_prop.html#Forms> これが [CODE(HTML)[wrap]] 属性の原典。
[[#comment]]
*メモ
- [8] [WEAK[2002-12-27 17:46]] ''[[ななしのごんべ]]'': [[WinIE]] には独自拡張の [[htmlarea要素]]なるものがありますね...
- [13] [WEAK[2003-12-15 18:46:52 +00:00]] ''[[hl]]'': 

[1] 間違った使い方:

著者からのメッセージ(謎)とかを、著者が使っている画面の大きさに収める時に大きさ合わせに使う。 (彼(女)は [[CSS]] は知らないか、マウスを乗せたらリンクの色が変わる[[タグ]]は知る。)

とくに、[[What'sNew?]] を書くのに使うことが多い。
- [14] [WEAK[2004-02-03 13:35:27 +00:00]] ''[[a]]'': 
- [15] [WEAK[2004-02-03 13:36:06 +00:00]] ''[[名無しさん]]'': bb
@


1.2
log
@auto-committed
@
text
@d51 2
@


1.1
log
@pre-namespace
@
text
@d1 50
a50 5
#?SuikaWiki/0.9

- [1] 間違った使い方。
- [2] 著者からのメッセージ(謎)とかを、著者が使っている画面の大きさに収める時に大きさ合わせに使う。 (彼(女)は [[CSS]] は知らないか、マウスを乗せたらリンクの色が変わる[[タグ]]しかしらない。)
- [3] とくに、[[What'sNew?]] を書くのに使うことが多い。
@

