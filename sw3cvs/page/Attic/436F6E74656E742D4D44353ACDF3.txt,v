head	1.5;
access;
symbols;
locks; strict;
comment	@# @;


1.5
date	2003.06.06.12.26.17;	author make;	state dead;
branches;
next	1.4;

1.4
date	2002.12.21.01.27.41;	author wakaba;	state Exp;
branches;
next	1.3;

1.3
date	2002.11.10.09.25.17;	author wakaba;	state Exp;
branches;
next	1.2;

1.2
date	2002.10.26.09.24.50;	author wakaba;	state Exp;
branches;
next	1.1;

1.1
date	2002.08.30.03.24.03;	author wakaba;	state Exp;
branches;
next	;


desc
@@


1.5
log
@auto-commited
@
text
@#?SuikaWiki/0.9 default-name="差出人不明"
[1] [[電子メイル]]などのメッセージの[[本体]]が破損していないか調べるための情報を入れておくのがこの欄です。データの正当性検査には
[[MD5]] を使います。まあ、その名の通りですね。

[2] 定義は [[RFC1544]] <urn:ietf:rfc:1544> と [[HTTP]] [[RFC]]s
にあります。

*メモ

[4] [[RFC1544]>>4] の通り、 [[HTTP]] では [[multipart/*媒体型]]や
[[message/rfc822媒体型]]が[[本体]]である[[実体]]にこの欄をつけることが出来ますが、
[[MIME]] では出来ません。

[[MIME]] で [[message/news媒体型]]や
[[message/http媒体型]]が[[本体]]である[[実体]]に対して使うことが出来るのかは書いてないというか、使えるように読めますが、意図を汲むとすれば使えないと思われます。

[[message/partial媒体型]]についてはどうなのかわかりません。
- [5] 2002-10-26 (土) 17:07 ''>>4'': でも流石に [[application/news-transmission媒体型]]とかにまで「意図を汲む」のは拡大解釈しすぎな気がしますね。
- [6] [[message/external-body媒体型]]ではどうするんだっけ? RFC 1544 には書いてないや。
- [7] >>6 偽本体の [[MD5]] 値? (殆どの場合役に立たんな。) それとも本当の外部実体の MD5 値? はたまた使用禁止だろうか。実装としては混乱を防ぐために禁止して欲しい。 (けど実際誰も使ってない以上混乱しないという話もある(w)。)
@


1.4
log
@*** empty log message ***
@
text
@@


1.3
log
@Updated.
@
text
@d19 2
@


1.2
log
@Updated.
@
text
@d1 1
a1 1
#?SuikaWiki/0.9
d5 1
a5 1
[2] 定義は RFC 1544 <urn:ietf:rfc:1544> と [[HTTP]] [[RFC]]s
a7 209
*RFC 1544
-Network Working Group                                            
-Request for Comments: 1544                  
-Category: Standards Track                                  
-M. Rose
-Dover Beach Consulting, Inc.
-November 1993 [INS[1993年11月]]

'''The Content-MD5 Header Field'''
([INS[Content-MD5 頭欄]])

**Status of this Memo [INS[このメモの位置付け]]

>This document specifies an Internet standards track protocol for the
Internet community, and requests discussion and suggestions for
improvements.  Please refer to the current edition of the "Internet
Official Protocol Standards" (STD 1) for the standardization state
and status of this protocol.  Distribution of this memo is unlimited.

**Abstract [INS[概要]]

>This memo specifies an optional header field, Content-MD5, for use
with MIME-conformant messages.

このメモは、 MIME 適合メッセージで使う省略可能な頭領域、
Content-MD5 を規定します。

**Table of Contents [INS[目次]]

   1. Introduction ..........................................    1
   2. Generation of the Content-MD5 Field ...................    2
   3. Processing the Content-MD5 field ......................    2
   4. Security Considerations ...............................    3
   5. Acknowledgements ......................................    3
   6. References ............................................    3
   7. Author's Address ......................................    3

**1.  Introduction [INS[はじめに]]

>Despite all of the mechanisms provided by MIME [1] which attempt to
protect data from being damaged in the course of email transport, it
is still desirable to have a mechanism for verifying that the data,
once decoded, are intact.  For this reason, this memo defines the use
of an optional header field, Content-MD5, which may be used as a
message integrity check (MIC), to verify that the decoded data are
the same data that were initially sent.

電子メイル転送の経路での損傷からデータを護るあらゆる方法が
[[MIME]] で提供されていますが、それでも一度復号されたデータが手を加えられていないか確認する方法があるのが望ましいです。この理由から、
このメモは省略可能な頭欄 Content-MD5 を定義します。
これは、メッセージ完全性確認 (MIC)
として、復号したデータが最初に送られたのと同じデータかを確認するのに使うことが出来ます。

>MD5 is an algorithm for computing a 128 bit "digest" of 
arbitrary-length data, with a high degree of confidence that any 
alterations in
the data will be reflected in alterations in the digest.  The MD5
algorithm itself is defined in [2].  This memo specifies how the
algorithm may be used as an integrity check for MIME mail.

MD5 は、任意の長さのデータの128ビットの「要約」を、
データの変更が要約の変更となって反映される、
高い信頼性を持った計算算法です。 MD5 算法は [2]
で定義されています。このメモは、 MIME 
メイルの完全性確認にこの算法をどう使うことが出来るかを規定します。

**2.  Generation of the Content-MD5 Field [INS[Content-MD5 欄の生成]]

>The Content-MD5 field is generated by only an originating user agent.
Message relays and gateways are expressly forbidden from generating a
Content-MD5 field.

Content-MD5 欄は原[[利用者エージェント]]によってのみ生成されます。
メッセージ中継者及び[[関門]]が Content-MD5 欄を作ることは明白に禁止します。

>Use of the Content-MD5 field is completely optional, but its use is
recommended whenever data integrity is desired, but Privacy-Enhanced
Mail services [3] are not available.  (Consult Section 4 for further
details.) The Content-MD5 field may only be added to MIME entities of
a `leaf' nature, i.e., the Content-MD5 field may be used with any
content type other than multipart or message/rfc822.

Content-MD5 欄の使用は完全に任意でありますが、
データの完全性が望まれ、しかし高度秘密 (Privacy-Enhanced) 
メイル・サービスが利用できない時には常に使うことを推奨します。
(詳しくは第4章を御覧下さい。)
Content-MD5 欄は「葉っぱ」性の MIME 実体にのみ加えることが出来ます。つまり、
Content-MD5 欄は多部分や message/rfc822 
以外の内容型と共に使うことが出来ます。

[INS[
[3] 訳注: [[HTTP]] は、多部分や message/rfc822 にも使って良いと定義しています。
]INS]

>To generate the value of the Content-MD5 field, the MD5 algorithm is
computed on the canonical form of the data.  In particular, this
means that the sender applies the MD5 algorithm on the raw data,
before applying any content-transfer-encoding, and that the receiver
also applies the MD5 algorithm on the raw data, after undoing any
content-transfer-encoding.  For textual data, the MD5 algorithm must
be computed on data in which the canonical form for newlines applies,
that is, in which each newline is represented by a CR-LF pair.

Content-MD5 欄の値を生成するには、 MD5 
算法でデータの正規形を計算します。すなわち、送信者は MD5 
算法を content-transfer-encoding (内容転送符号化)
を当てる前の生データに対して使用し、また受信者も MD5 算法を
content-transfer-encoding を解いた後の生データに対して使います。文字データの場合、
MD5 算法において改行の正規形、つまり改行が CR-LF
組で表される状態のデータで計算しなければなりません。

>The output of the MD5 algorithm is a 128 bit digest.  When viewed in
network byte order (big-endian order), this yields a sequence of 16
octets of binary data.  These 16 octets are then encoded according to
the base64 algorithm in order to obtain the value that is placed in
the Content-MD5 field.  Thus, if the application of the MD5 algorithm
over the raw data of a MIME entity results in a digest having the
(unlikely) value of "Check Integrity!", then that MIME entity's
header could contain the field

MD5 算法の出力は 128 ビット要約です。[[ネットワーク・バイト順]]
(大エンディアン順)
で、16オクテットの2進データの列と見なせます。この16ビットを、
Content-MD5 欄に入れる値にするため、 [[Base64]]
算法で符号化します。このようにして、 MIME 実体の生データの MD5
算法の応用が (ありそうもないですが) 「Check Integrity!」
(完全か確認!) という値の要約を出したとすると、
MIME [[実体]]の頭にはこのような欄が入ります。

               Content-MD5:  Q2hlY2sgSW50ZWdyaXR5IQ==

>Finally, as discussed in Appendix B of [1], textual data is regularly
altered in the normal delivery of mail.  Because the addition or
deletion of trailing white space will result in a different digest,
either the quoted-printable or base64 algorithm should be employed as
a content-transfer-encoding when the Content-MD5 field is used.

最後に、 [1] の附属書 B で議論しているように、
文字データはメイルの通常の配送で規則的に改められます。末尾の空白間隔の追加や削除により要約が違ってくるので、
Content-MD5 欄を使うときは [[Quoted-Printable]]
または base64 算法を使うのが良いでしょう。

**3.  Processing the Content-MD5 field [INS[Content-MD5 欄の処理]]

>If the Content-MD5 field is present, a recipient user agent may
choose to use it to verify that the contents of a MIME entity have
not been modified during transport.  Message relays and gateways are
expressly forbidden to alter its processing based on the presence of
the Content-MD5 field.  However, a message gateway is allowed to
remove the Content-MD5 field if the corresponding MIME entity is
translated into a different content-type.

Content-MD5 欄があった場合、受信した利用者エージェントはこれを
MIME 実体の内容が転送中に改竄されなかったか確認するために使っても構いません。メッセージ中継者及び関門が Content-MD5
欄の有無により処理を変えることは明確に禁止します。しかし、メッセージ関門は対応する
MIME 実体が違う content-type (内容型) に変換された場合に、
Content-MD5 欄を削除しても構いません。

**4.  Security Considerations [INS[安全性に関して]]

>This document specifies a data integrity service that protects data
from accidental modification while in transit from the sender to the
recipient.  A secure data integrity service, such as that provided by
Privacy Enhanced Mail [3], is conjectured to protect data from all
modifications.

この文書は、送信者から受信者への転送中の偶発的変更からデータを護るデータ正当性サービスを規定します。高度秘密メイル
([[PEM]]) が提供するような安全データ正当性サービスはあらゆる変更からデータを護ると推測されます。

**5.  Acknowledgements [INS[謝辞]]

>This memo is based almost entirely on text originally written by
Nathaniel Borenstein of Bellcore.  In addition, several improvements
were suggested by Keith Moore of the University of Tennessee, Knoxville.

このメモは、ほとんど全てを、 Bellcore の Nathaniel Borenstein
が最初書いた文章をもとにしています。また、幾つかの改良を
University of Tennessee, Knoxville の Keith Moore
が提案してくれました。

**6.  References [INS[参考文献]]

   [1] Borenstein, N., and N. Freed, "MIME (Multipurpose Internet Mail
       Extensions) Part One: Mechanisms for Specifying and Describing
       the Format of Internet Message Bodies", RFC 1521, Bellcore,
       Innosoft, September 1993.

   [2] Rivest, R., "The MD5 Message-Digest Algorithm", RFC 1321, MIT
       Laboratory for Computer Science and RSA Data Security, Inc.,
       April 1992.

   [3] Linn, J., "Privacy Enhancement for Internet Electronic Mail, Part
       I: Message Encryption and Authentication Procedures", RFC 1421,
       IAB IRTF PSRG, IETF PEM WG, February 1993.

**7.  Author's Address [INS[著者の連絡先]]

   Marshall T. Rose
   Dover Beach Consulting, Inc.
   420 Whisman Court
   Mountain View, CA 94043-2112

   Phone: (415) 968-1052
   EMail: mrose@@dbc.mtview.ca.us

**RFC の部分の LICENSE

See [[RFCのライセンス]]

d10 1
a10 1
[4] >>3 の通り、 [[HTTP]] では [[multipart/*媒体型]]や
d18 1
a18 1
- [5] 2002-10-26 (土) 17:07 ''>>4'': でも流石に [[application/news-transmission媒体型]]とかにまで「意図を汲む」のは拡大解釈しすぎな気がしますね。
@


1.1
log
@Updated.
@
text
@d1 25
a25 3
 Network Working Group                                            M. Rose
 Request for Comments: 1544                  Dover Beach Consulting, Inc.
 Category: Standards Track                                  November 1993
d27 1
a27 1
*The Content-MD5 Header Field
d29 1
a29 11
**Status of this Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

**Abstract

This memo specifies an optional header field, Content-MD5, for use
d35 1
a35 1
**Table of Contents
d45 1
a45 1
**1.  Introduction
d47 1
a47 1
Despite all of the mechanisms provided by MIME [1] which attempt to
d56 4
a59 5
MIME で提供されていますが、それでも一度復号されたデータが手を加えられていないか
確認する方法があるのが望ましいです。この理由から、
このメモは省略可能な頭領域 Content-MD5 を定義します。
これは、メッセージ完全性確認 (MIC), 復号したデータが
最初に送られたのと同じデータかを確認するのに使うことが出来ます。
d61 1
a61 1
MD5 is an algorithm for computing a 128 bit "digest" of 
d71 2
a72 2
で定義されています。このメモは、 MIME メイルの
完全性確認にこの算法をどう使うことが出来るかを規定します。
d74 1
a74 2
**2.  Generation of the Content-MD5 Field
**2. Content-MD5 領域の生成
d76 1
a76 1
The Content-MD5 field is generated by only an originating user agent.
d80 2
a81 3
Content-MD5 領域は原利用者代理者によってのみ生成されます。
メッセージ中継者及び関門が Content-MD5 領域を作ることは
明白に禁止します。
d83 1
a83 1
Use of the Content-MD5 field is completely optional, but its use is
d90 37
a126 37
Content-MD5 領域の使用は完全に任意でありますが、
データの完全性が望まれ、しかし高秘密 (Privacy-Enhanced) 
メイル・サービスが
利用できない時には常に使うことを推奨します。 (詳しくは第4章を御覧下さい。)
Content-MD5 領域は「葉っぱ」性の MIME 実体にのみ加えることが
出来ます。すなわち、 Content-MD5 領域は多部分や message/rfc822 以外の
内容型と共に使うことが出来ます。

[[
訳注: HTTP は、他部分や message/rfc822 にも使って良いと定義しています。
]]

   To generate the value of the Content-MD5 field, the MD5 algorithm is
   computed on the canonical form of the data.  In particular, this
   means that the sender applies the MD5 algorithm on the raw data,
   before applying any content-transfer-encoding, and that the receiver
   also applies the MD5 algorithm on the raw data, after undoing any
   content-transfer-encoding.  For textual data, the MD5 algorithm must
   be computed on data in which the canonical form for newlines applies,
   that is, in which each newline is represented by a CR-LF pair.

Content-MD5 領域の値を生成するのには、 MD5 算法でデータの正規形を
計算します。特に、これは送信者が MD5 算法を content-transfer-encoding
(内容転送符号化) を当てる前の生データについて使い、
受信者も MD5 算法を content-transfer-encoding を解いた後の
生データに対して使うことを意味します。文字データには、
MD5 算法では改行の正規形、つまり改行が CR-LF 組で表される状態の
データで計算しなければなりません。

   The output of the MD5 algorithm is a 128 bit digest.  When viewed in
   network byte order (big-endian order), this yields a sequence of 16
   octets of binary data.  These 16 octets are then encoded according to
   the base64 algorithm in order to obtain the value that is placed in
   the Content-MD5 field.  Thus, if the application of the MD5 algorithm
   over the raw data of a MIME entity results in a digest having the
   (unlikely) value of "Check Integrity!", then that MIME entity's
   header could contain the field
d128 2
a129 1
MD5 算法の出力は128ビット要約です。ネットワークバイド順(大エンディアン順)
d131 5
a135 4
Content-MD5 領域に入れる値にするため、 base64 算法で符号化します。
こうして、 MIME 実体の生データの MD5 算法の応用が (ありそうもない)
「Check Integrity!」(完全か確認!)という値の要約を出したとすると、
MIME 実体の頭にはこのような領域を入れられます。
d139 26
a164 28
   Finally, as discussed in Appendix B of [1], textual data is regularly
   altered in the normal delivery of mail.  Because the addition or
   deletion of trailing white space will result in a different digest,
   either the quoted-printable or base64 algorithm should be employed as
   a content-transfer-encoding when the Content-MD5 field is used.

最後に、 [1] の附属書 B で議論しているように、文字データは
メイルの通常の配送で規則正しく改められます。末尾の空白間隔の
追加や削除により要約が違ってくるので、 Content-MD5 領域を使うときは 
quoted-printable または base64 算法を使うべきでしょう。

**3.  Processing the Content-MD5 field
**3. Content-MD5 領域の処理

   If the Content-MD5 field is present, a recipient user agent may
   choose to use it to verify that the contents of a MIME entity have
   not been modified during transport.  Message relays and gateways are
   expressly forbidden to alter its processing based on the presence of
   the Content-MD5 field.  However, a message gateway is allowed to
   remove the Content-MD5 field if the corresponding MIME entity is
   translated into a different content-type.

Content-MD5 領域があった場合、受信した利用者代理者は
MIME 実体の内容が転送中に改竄されなかったか確認するのに使うこと
にしても構いません。メッセージ中継者及び関門が Content-MD5 領域の
有無により処理を変えることは明確に禁止します。
しかし、メッセージ関門は対応する MIME 実体が違う content-type (内容型)に
変換された場合、 Content-MD5 領域を削除しても構いません。
d166 1
a166 2
**4.  Security Considerations
**4. 保安に関して
d168 1
a168 1
This document specifies a data integrity service that protects data
d174 2
a175 5
この文書は、送信者から受信者への転送中の偶発的変更から
データを護るデータ正当性サービスを規定します。
高秘密メイル (PEM) が提供するような安全データ正当性サービス
はあらゆる変更からデータを護ると推測されます。
**5.  Acknowledgements
d177 3
a179 1
This memo is based almost entirely on text originally written by
d183 4
a186 4
このメモは、ほとんど全てを、元々 Bellcore の
Nathaniel Borenstein が書いた文を基にしています。
加えて、幾つかの改良を University of Tennessee, Knoxville
の Keith Moore が提案してくれました。
d188 1
a188 1
**6.  References
d203 1
a203 1
**7.  Author's Address
d212 2
a213 6
*SEE ALSO
-[[RFC822と仲間達の頭領域名]]
-[[MIME]]
-[[PEM]]
-[[HTTP]]
*LICENSE
d216 12
@

