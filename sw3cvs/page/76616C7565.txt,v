head	1.22;
access;
symbols
	suikawiki3-final:1.22
	before-db-leaffile:1.1
	after-upgrade-to-suikawiki-3:1.1
	before-fork-suikawiki3:1.1
	after-restore-20040122:1.1;
locks; strict;
comment	@# @;


1.22
date	2007.08.03.02.41.48;	author wakaba;	state Exp;
branches;
next	1.21;

1.21
date	2007.07.13.02.46.35;	author wakaba;	state Exp;
branches;
next	1.20;

1.20
date	2007.03.13.02.42.30;	author wakaba;	state Exp;
branches;
next	1.19;

1.19
date	2007.03.03.02.28.57;	author wakaba;	state Exp;
branches;
next	1.18;

1.18
date	2007.02.27.02.27.48;	author wakaba;	state Exp;
branches;
next	1.17;

1.17
date	2006.10.13.02.17.49;	author wakaba;	state Exp;
branches;
next	1.16;

1.16
date	2006.10.08.02.16.12;	author wakaba;	state Exp;
branches;
next	1.15;

1.15
date	2006.08.31.02.16.52;	author wakaba;	state Exp;
branches;
next	1.14;

1.14
date	2006.05.31.02.12.36;	author wakaba;	state Exp;
branches;
next	1.13;

1.13
date	2005.12.27.02.12.22;	author wakaba;	state Exp;
branches;
next	1.12;

1.12
date	2005.09.08.02.07.26;	author wakaba;	state Exp;
branches;
next	1.11;

1.11
date	2005.03.08.02.06.27;	author wakaba;	state Exp;
branches;
next	1.10;

1.10
date	2004.11.27.02.05.42;	author wakaba;	state Exp;
branches;
next	1.9;

1.9
date	2004.11.18.02.08.35;	author wakaba;	state Exp;
branches;
next	1.8;

1.8
date	2004.11.13.02.05.40;	author wakaba;	state Exp;
branches;
next	1.7;

1.7
date	2004.10.31.02.06.57;	author wakaba;	state Exp;
branches;
next	1.6;

1.6
date	2004.09.18.02.04.45;	author wakaba;	state Exp;
branches;
next	1.5;

1.5
date	2004.09.08.02.05.32;	author wakaba;	state Exp;
branches;
next	1.4;

1.4
date	2004.08.03.02.04.17;	author wakaba;	state Exp;
branches;
next	1.3;

1.3
date	2004.07.23.02.04.30;	author wakaba;	state Exp;
branches;
next	1.2;

1.2
date	2004.04.23.03.39.44;	author wakaba;	state Exp;
branches;
next	1.1;

1.1
date	2003.06.06.12.26.33;	author make;	state Exp;
branches;
next	;


desc
@@


1.22
log
@auto-committed
@
text
@

* フォーム制御子系 value 属性 (HTML, XHTML 1)

[1] [[HTML]] の [CODE(HTMLe)[[[input]]]] 要素や
[CODE(HTMLe)[[[button]]]] 要素や [CODE(HTMLe)[[[option]]]] 要素の
[DFN[[CODE(HTMLa)[value]] 属性]]は、その[[制御子]]の[[初期値]]を指定します。

[4] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[input]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-INPUT">
-- [CODE(HTMLe)[button]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-BUTTON">
-- [CODE(HTMLe)[option]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-OPTION">
-- [CITE[HTML 4 Changes]]
<IW:HTML4:"appendix/changes.html#h-A.1.1.12">
- [[Web Forms 2.0]]
-- [CSECTION@@en[2.3. Changes to existing controls]]
<IW:WF2:"#changes">
-- [CSECTION@@en[2.18. Handling unexpected elements and values]]
<IW:WF2:"#handling">


** 属性値

[8] この属性の値は [CODE(SGML)[[[CDATA]]]] です。
大文字・小文字は区別されます。

[43] '''空白'''

[[属性値]]中の[[空白]]は、除去[['''してはなりません''']]。
[SRC@@en[WF2 2.3]]

;; [[XML]] 等の規則による[[空白]]の[[正規化]]は、
必要ならば行われます。ここで禁止されているのは、
それ以上の処理です。

[26] この属性は、 [[DTD]] 的には [CODE(SGML)[#[[IMPLIED]]]] です。

[CODE(HTMLe)[input]] 要素の場合、
[CODE(HTMLa)[[[type]]]] 属性が [CODE(HTML)[[[radio]]]] または
[CODE(HTML)[[[checkbox]]]] の時''以外''は、
この属性は省略できます。 [SRC[HTML 4 17.4]]
[WEAK[(HTML 4.0 では誤って [CODE(HTML)[checkbox]] でも省略できるようなことが書いてありました [SRC[HTML 4.01 A.1.1.12]]。)]]

[CODE(HTMLe)[button]] 要素の場合も省略できます。
[SRC[HTML 4 17.5]]

[CODE(HTMLe)[option]] 要素の場合、省略すると要素の[[内容]]が初期値として使われます。

[42]
[[チェック箱制御子]] ([CODE(HTML)@@en[[[checkbox]]]])
と[[ラジオ・ボタン制御子]] ([CODE(HTML)@@en[[[radio]]]])
(>>41 を参照。) を''除き''、[[フォーム制御子]]の
[CODE(HTMLa)@@en[[[value]]]] [[属性]]の[[既定値]]は[[空文字列]]です。
[SRC@@en[WF2 2.3]]

[35]
HTML 4 DTD の[[注釈]] (参考) には
[Q[Specify for radio buttons and checkboxes]]
(ラジオ・ボタンとチェック箱に指定)
と書かれています。が、他の説明は小文字から始まるのにここだけ大文字から始まっているので、[[命令形]]で[Q[指定しなければなりません]]という意味かもしれません。

[50] '''誤り処理 ([CODE(DOM)@@en[typeMismatch]])'''

[CODE(HTMLa)@@en[[[value]]]] [[内容属性]]が
[CODE(HTMLa)@@en[[[type]]]] に照らして[[非妥当]]な場合、
[[利用者エージェント]]は無視[['''しなければなりません''']]。
[CODE(DOMa)@@en[[[defaultValue]]]] 
はその値が使われますが、[[制御子]]には使われません
([[値が選択されていない]]状態となります)。
[SRC@@en[WF2 2.18]]

[51] '''誤り処理 (制約違反)'''

[CODE(HTMLa)@@en[[[value]]]] [[内容属性]]が
[CODE(HTMLa)@@en[[[min]]]、[CODE(HTMLa)@@en[[[max]]]]、]]
[CODE(HTMLa)@@en[[[step]]]]、[CODE(HTMLa)@@en[[[maxlength]]]]
等に照らして[[非妥当]]な場合
([[原始文書]]でそうである場合や [[DOM]]
操作でそうなった場合など)、
[[利用者エージェント]]は[[制御子]]にその値を設定[['''しなければなりません''']]。
それができない場合には、最も近い値と[['''しなければなりません''']]。
[SRC@@en[WF2 2.18]]

;; 各[[属性]]に照らして適当な値に変更されるまで、
その[[フォーム]]は[[提出]]できません。

[53]
testtest
([[TEST]] [WEAK[2007-03-12 10:01:45 +00:00]])

[[#comment]]


** 押しボタン制御子 (HTML input 要素型)

[28] 押しボタン制御子 ([CODE(HTML)[type]] が [CODE(HTML)[[[button]]]])
では、 [[UA]] は [CODE(HTMLa)[value]] 属性値をボタンの札として使うべきです。
[SRC[HTML 4 17.4.1]] 詳しくは [CODE(HTML)[[[button]]]]
制御子の説明をご覧ください。

[[#comment]]


** ファイル選択制御子 (HTML input 要素型)

[27] ファイル選択制御子 ([CODE(HTMLa)[type]] が [CODE(HTML)[[[file]]]])
では、 [[UA]] は、 [CODE(HTMLa)[value]] 
属性値をファイル名の初期値として使っても構いません。
[SRC[HTML 4 17.4.1]] 詳しくは [CODE(HTML)[[[file]]]] 
制御子の説明をご覧ください。

[[#comment]]


** 画像提出ボタン制御子 (HTML input 要素型)

[33] HTML 4 では [[[CODE(HTMLe)[input]]//[CODE(HTML)[image]]]] では
[CODE(HTMLa)[value]] 属性は使われていませんが、
1996年の W3C [[NOTE]] >>32 は、 [CODE(HTMLa)[[[alt]]]] 
属性と同じ役割で使用することを推奨していました。
([[代替文]]として使われるだけで、他のボタン制御子とは異なり、
[[初期値]]・[[現在値]]として使われるものではないことに注意してください。)

[34] 実際にそれにしたがって使われたことがあったかどうかは、現在のところ不明です。

[32] [CITE[Imagemapped Images and Image-Incapable User Agents]], 
<http://www.w3.org/TR/NOTE-imagemap>, 発表当時の URI は 
<http://www.w3.org/pub/WWW/TR/NOTE-imagemap-961127>。 [Q[Status of this document]] 
によれば現在の W3C [[WD]] のような位置付けだったらしいのですが、 2004年現在、 
<http://www.w3.org/TR/> によれば [[Working Group Note]] に分類されています。
同時期の他の HTML 系 WD とは異なり、直接 HTML 4 仕様書に取込まれてはいないようです。

[[#comment]]


** チェック箱制御子 ([CODE(HTML)@@en[checkbox]])、ラジオ・ボタン制御子 ([CODE(HTML)@@en[radio]])

[41] '''既定値'''

[[チェック箱制御子]] ([CODE(HTML)@@en[[[checkbox]]]])、
[[ラジオ・ボタン制御子]] ([CODE(HTML)@@en[[[radio]]]]) の場合の
[CODE(HTMLa)@@en[[[value]]]] [[属性]]の[[既定値]]は、
[CODE(HTML)@@en[[[on]]]] です。
[SRC@@en[WF2 2.3]]

;; 従いまして、 [CODE(HTMLa)@@en[[[value]]]]
[[内容属性]]が与えられていない時の
[CODE(DOMa)@@en[[[value]]]] [[DOM属性]]の値は
[CODE(HTML)@@en[[[on]]]] です。
[[フォーム提出]]時の値も [CODE(HTML)@@en[[[on]]]]
です。

[[#comment]]


** 出力 ([CODE(HTMLe)@@en[output]])

[44] [CODE(HTMLe)@@en[[[output]]]] [[要素]]に対応する
[[DOM界面]] [CODE(DOMi)@@en[[[HTMLOutputElement]]]]
の [DFN[[CODE(DOMa)@@en[[[value]]]] [[DOM属性]]]]は、
[CODE(HTMLe)@@en[[[output]]]] [[要素]]の[[現在値]]です。

;; [CODE(HTMLe)@@en[[[output]]]] の[[現在値]]は、
[[内容]]とされています。 [SRC@@en[WF2 2.13]]

[48]
:状態:[[WHATWG]] [[WD]]
:[[DOM界面]]:[CODE(DOMi)@@en[[[HTMLOutputElement]]]]
:[[属性名]]:[CODE(DOMa)@@en[[[value]]]]
([Q@@en[value]] ([Q[値]]) より)
:[[データ型]]:[CODE(DOM)@@en[[[DOMString]]]]
:[[読取専用]]:[[偽]]
:[[例外]]:[CODE(DOMa)@@en[[[textContent]]]] と同じ

[45]
仕様書:
- [[Web Forms 2.0]]
-- [CSECTION@@en[2.13. The [CODE(HTMLe)@@en[[[output]]]] element]]
<IW:WF2:"#the-output">
-- [CSECTION@@en[2.18. Handling unexpected elements and values]]
<IW:WF2:"#handling">

[46] '''読み取り'''

[CODE(DOMa)@@en[[[textContent]]]] と同じです。
[SRC@@en[WF2 2.13]]

[47] '''書き込み'''

[[利用者エージェント]]の動作は
[CODE(DOMa)@@en[[[textContent]]]] 
と同じと[['''しなければなりません''']]。
[SRC@@en[WF2 2.13, 2.18]]

[49] '''[CODE(DOMe)@@en[change]] 事象'''

[CODE(DOMa)@@en[[[value]]]] が直接的または間接的に
[[DOM]] [[木]]を介して変更された時には、
[CODE(HTMLe)@@en[[[output]]]] [[要素]]に対して
[CODE(DOMe)@@en[[[change]]]] [[事象]]を[[放火]][['''しなければなりません''']]。
[SRC@@en[WF2 2.13]]

[[#comment]]


** 例

[10] メニュー制御子の例
[PRE(HTML)[
<select name="selection">
<option value="selection-foo" selected>なにかの選択肢</option>
<option value="selection-bar">なにか別の選択肢</option>
</select>
]PRE]

[[#comment]]


** メモ

[9] >>26 [CODE(HTMLe)[option]] 要素の [CODE(HTMLa)[value]] 属性は、
送信される値が[[仮名]]・[[漢字]]だと面倒なことになるから、
要素の内容は仮名・漢字の[[日本語文]]にしつつも、 [CODE(HTMLa)[value]] は[[ラテン文字]]で、
という使い方がよくされますね (>>10)。

[29]
[[w3m]] には [CODE(HTMLe)[input]] [CODE(HTMLa)[value]] 内の改行を無視してしまう不具合があるそうです。
[SRC[[w3m-dev 04110]]
[CODE(HTMLa)[type]] が [CODE(HTML)[text]]
なら仕方がないかもしれませんが、 [CODE(HTML)[hidden]] の時に落としてしまうのは問題ですね。
([[名無しさん]] [WEAK[2004-10-31 01:00:24 +00:00]])

[30]
>>29 そういえば HTML は [CODE(SGML)[[[CDATA]]]] 属性の値の処理についての規定があるのでした。だから w3m
は HTML 4 的には正しいのだそうな。
(でも HTML 4 の仕様が現実にあってない。)
([[名無しさん]] [sage])

[31]
[CITE[Bug 15204 - hidden inputs strip line feeds from value attribute]] <https://bugzilla.mozilla.org/show_bug.cgi?id=15204>

>>29-30 と同じ話題。
([[名無しさん]] [sage])

[39]
[CITE[inputタグのvalueについて]] <http://chaichan.web.infoseek.co.jp/qanda/qa6338.htm>
([[名無しさん]])

[40]

,	,	,	,[[Firefox]] 1.5	,[[Opera]] 8.5	,[[WinIE]] 6.0
,[CODE(HTML)@@en[[[text]]]]	,[CODE(HTML)@@en[&#x0D;&#x0A;]]	,表示	,改行前まで	,改行除去	,改行除去
,	,	,[CODE(DOMa)@@en[[[value]]]]	,改行前まで	,改行除去	,改行除去
,	,	,[CODE(DOMa)@@en[[[defaultValue]]]]	,[[CRLF]]	,改行除去	,改行除去
,	,	,[CODE(DOMm)@@en[[[getAttribute]] ('[[value]]')]]	,[[CRLF]]	,改行除去	,改行除去
,	,	,[[提出]]	,改行前まで	,改行除去	,改行除去
,[CODE(HTML)@@en[[[text]]]]	,[[CRLF]]	,表示	,改行前まで	,改行除去	,改行除去
,	,	,[CODE(DOMa)@@en[[[value]]]]	,改行前まで	,改行除去	,改行除去
,	,	,[CODE(DOMa)@@en[[[defaultValue]]]]	,[[LF]]	,改行除去	,改行除去
,	,	,[CODE(DOMm)@@en[[[getAttribute]] ('[[value]]')]]	,[[LF]]	,改行除去	,改行除去
,	,	,[[提出]]	,改行前まで	,改行除去	,改行除去
,[CODE(HTML)@@en[[[hidden]]]]	,[CODE(HTML)@@en[&#x0D;&#x0A;]]	,[[CRLF]]	,[[CRLF]]	,[[CR]]
,	,	,[CODE(DOMa)@@en[[[defaultValue]]]]	,[[CRLF]]	,[[CRLF]]	,[[CR]]
,	,	,[CODE(DOMm)@@en[[[getAttribute]] ('[[value]]')]]	,[[CRLF]]	,[[CRLF]]	,[[CRLF]]
,	,	,[[提出]]	,[[CRLF]]	,[[CRLF]]	,[[CRLF]]
,[CODE(HTML)@@en[[[hidden]]]]	,[[CRLF]]	,[CODE(DOMa)@@en[[[value]]]]	,[[LF]]	,[[LF]]	,[[CRLF]]
,	,	,[CODE(DOMa)@@en[[[defaultValue]]]]	,[[LF]]	,[[LF]]	,[[CR]]
,	,	,[CODE(DOMm)@@en[[[getAttribute]] ('[[value]]')]]	,[[LF]]	,[[LF]]	,[[CRLF]]
,	,	,[[提出]]	,[[CRLF]]	,[[LF]]	,[[CRLF]]

([[名無しさん]] [WEAK[2006-05-27 09:05:02 +00:00]])

[[#comment]]


* li 要素 value 属性 (HTML, XHTML 1)

[12] [CODE(HTMLe)[[[li]]]] 要素の [DFN[[CODE(HTMLa)[value]] 属性]]は、
現在[[並び]]項目の番号を設定します。

この属性の値は、 [CODE(SGML)[[[NUMBER]]]] 型です。
[CODE(HTMLa)[[[type]]]] 属性に関わらず、常に[[亜剌比亜数字]]で指定します。

この属性は必須ではありません。この属性は [[HTML 4]] では非推奨です。

仕様書: [HTML 4]
<IW:HTML4:"struct/lists.html#adef-value-LI">

[13] この属性による指定が、弟要素にまで影響するのかどうかは定かではありません。
HTML 4 に [Q[current list item]] と書いてあるのは影響しないという意味とも取れますが、
慣習的解釈では影響するはずです ([[Classic Mozilla]] はそう実装している)。
[[DTD]] の[[注釈]] (参考) の [Q[reset sequence number]]
もそれをほのめかしている気もしますが...

[14]
HTML 4 仕様書には、 HTML 4 では前の並びの継続であるおことや並びの項目の途中を省いたことを表す方法はないが、その代わりに、という注記と共に、次の例が示されています。
[PRE(HTML)[
<ol>
<li value="30"> makes this list item number 30.
<li value="40"> makes this list item number 40.
<li> makes this list item number 41.
</ol>
]PRE]

[[#comment]]


** 歴史

[52] [[Netscape Navigator]] は [[HTML 2.0]] の拡張として、
[CODE(HTMLe)@@en[[[ol]]]] [[要素]]の[[子供]]たる
[CODE(HTMLe)@@en[[[li]]]] [[要素]]の [CODE(HTMLa)@@en[[[value]]]]
[[属性]]を実装しました。

[CODE(HTMLa)@@en[[[value]]]] [[属性]]を使うと [CODE(HTMLe)@@en[[[ol]]]]
の途中で値を変更することができました。 [CODE(HTMLa)@@en[[[value]]]]
による変更は、その [CODE(HTMLe)@@en[[[li]]]] に適用され、
それ以後の [CODE(HTMLe)@@en[[[li]]]] の値にも影響することになっていました。

;; [CITE[Netscape Navigator Extensions to HTML]]
<http://web.archive.org/web/20000415023954/http://www.netscape.com/home/services_docs/html-extensions.html>

[[#comment]]


** メモ

[55]
[CITE@@en[<li value=bogus> (detailed review of Semantics)]] ([[Simon Pieters]] 著, [TIME[2007-07-15 07:22:11 +09:00]] 版) <http://lists.w3.org/Archives/Public/public-html/2007Jul/0702.html>
([[名無しさん]])


[[#comment]]


* value 属性 (DOM Attr 界面)

[5] 属性 [CODE[[VAR(DOMi)[[[Attr]]]].[CODE(DOMa)[value]]]]
の値は、その属性節の[[属性値]]です。

設定する値・得られる値の型は [CODE(DOM)[[[DOMString]]]]
です。その属性節の子節は複数個の文節や実体参照節があるかもしれませんが、
一つの文字列として設定又は取得します。

値を設定した時は、子節は一つの文節になります。

[6] この属性は method
[CODE[[VAR(DOMi)[[[Element]]]].[CODE(DOMm)[[[getAttribute]]]]]],
[CODE[[VAR(DOMi)[Element]].[CODE(DOMm)[[[setAttribute]]]]]]
と同様に機能します。

[11] >>6 というか [CODE(DOMa)[[[nodeValue]]]] だよなあ、
もろ同じじゃない? なんで2つあるんだろう。どっちかは正規化するとかでもないみたいだし。

[7] 属性節が読取専用の時は当然値を設定することはできません。
例外 [CODE(DOM)[NO_MODIFICATION_ALLOWED_ERR]]
が発生します。

- [DOM2] ''Document Object Model Core'' <http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-221662474>

[54]
[[DOM水準1]] [[FE]] の[[正誤表]]、[[DOM水準1]] [[SE]]、
[[DOM水準2]]、[[DOM水準3]]によると、[[節点]]が[[読取専用]]なら
[CODE(DOMc)@@en[[[NO_MODIFICATION_ALLOWED_ERR]]]]
です。
([[名無しさん]])

[[#comment]]


* param 要素 value 属性 (HTML, XHTML 1)

[15] [[HTML]] の [CODE(HTMLe)[[[param]] 要素の]]
[DFN[[CODE(HTMLa)[value]] 属性]]は、引数値を指定します。

[16] 仕様書:
[[HTML 4]] <IW:HTML4:"struct/objects.html#adef-value-PARAM">

[[#comment]]


** 属性値

[17] この属性の値は [CODE(SGML)[[[CDATA]]]] です。
属性値は、物体によって解釈されます。
物体が引数ごとに構文的制約などを課しているかもしれません。
(それに対して不当であった場合の処理も HTML UA・物体の実装依存でしょう。)

この属性は ([CODE(HTMLa)[[[valuetype]]]] や [CODE(HTMLa)[[[type]]]]
によって修飾されることを除いては) HTML 的な意味を持ちません。

[18] この属性は省略可能です。

[[#comment]]


** 他との関係

[19] [CODE(HTMLa)[value]] で指定する引数値は、
同じ [CODE(HTMLe)[param]] 要素の
[CODE(HTMLa)[[[name]]]] が引数名として対応します。

[20] 引数値の種類の指定として [CODE(HTMLa)[[[valuetype]]]]
と [CODE(HTMLa)[[[type]]]] があります。

[[#comment]]


** メモ

[[#comment]]


* meta 要素 value 属性 (HTML, XHTML 1)

[21] [[HTML]] の [CODE(HTMLe)[[[meta]]]] 要素で、
[DFN[[CODE(HTMLa)[value]] 属性]]が使われることがあります。
使われ方からして、 [CODE(HTMLa)[[[content]]]]
属性の誤りのようです。

[[#comment]]


** 例

[22]
[PRE(HTML)[
<meta http-equiv="content-type" value="text/html; charset=euc-jp" />
]PRE]

出典: ''Practical Scheme'' <http://www.shiro.dreamhost.com/scheme/index-j.html>
(2004年7月付け、2004年7月現在)

[24]
[PRE(HTML)[
<META HTTP-EQUIV="Content-type" 
VALUE="text/html; charset=euc-kr">
]PRE]

出典: ''WWW&#51032; &#44397;&#51228;&#54868;&#50752; &#54620;&#44544;'' <http://www.w3c.or.kr/i18n/www-i18n/>
([[W3C]] 韓国事務所のウェブ・サイトの文章。1996年11月付け、2004年7月現在。)

[23] 
<IW:Google:"\"meta http-equiv content-type value\"">
で検索すると色々な自然言語の文章で大量に見つかります。
HTML のソースは本来 (正しく設定されていれば)
[[Google]] の検索対象にはならないはずなので、
潜在的には莫大な量の文書が存在していると思われます。

[[#comment]]


** 実装

[25] [[emacs-w3m]] が正しく動作しない (正確には、
[CODE(HTMLa)[content]] 属性が無いのが原因。) という問題がありましたが、
2004年7月に修正されました。 ([emacs-w3m:7001])

[[#comment]]


** メモ

[[#comment]]


* メモ

[36]
[[WinIE 6]] の [CODE(DOM)@@en[[VAR(DOMi)[[[Attr]]]].[CODE(DOMa)[[[value]]]]]]
は[CODE(InfoProp)@@en[[[指定]]]]されていないと
[CODE(DOM)@@en[[[null]]]] になりますが、
[[内在事象属性]]ではなぜか文字列の [CODE(JS)@@en['[[null]]']]
になります。
[CODE(DOM)@@en[[[nodeValue]]]] では両方
[CODE(DOM)@@en[[[null]]]] になります。

([[名無しさん]] [WEAK[2005-09-03 11:14:50 +00:00]])

[37]
[CODE(DOM)@@en[[CODE(DOMi)@@en[[[Attr]]]].[CODE(DOMa)[[[value]]]]]]
は[[XML情報集合]]で[CODE(InfoProp)[[[正規化値]]]]に対応するとされています。

;; <IW:DOM3:"infoset-mapping.html#Attr2Infoset">

[CODE(DOM)@@en[[CODE(DOMi)[[[Attr]]]].[CODE(DOMa)[[[value]]]]]] と
[CODE(DOM)@@en[[CODE(DOMi)[[[Node]]]].[CODE(DOMa)[[[nodeValue]]]]]]
(等価) は[[構文解析器]]から渡された[[正規化値]]が最初の値になると明記もされています。
その一方で、[[実体参照]]が[[属性値]]に含まれる場合は実装と読み込みのオプションに依存するともされています。

;; 
<IW:DOM3:"core.html#ID-637646024">

ちなみに、[CODE(DOM)@@en[[CODE(DOMi)@@en[[[Node]]]].[CODE(DOMa)@@en[[[textContent]]]]]]は定義が少し異なっていて、[[子供]]の[CODE(DOMa)@@en[[[textContent]]]]の[[連接]]とされています。

;; <IW:DOM3:"core.html#Node3-textContent">

[[XML]] では、[[属性値表記]]内で[[参照]]されている[[実体]]
(の[[実体値]]) に[[空白]][[文字]]が含まれている場合は、
[CODE(charname)@@en[[[SPACE]]]] に[[正規化]]するとしています。

;; [[XML//空白]]

[[DOM]]の[CODE(DOMi)@@en[[[EntityReference]]]]は対応する[CODE(DOMi)@@en[[[Entity]]]]と同じ[[子孫]]を持つ、ただし[[名前空間]]に関する場合だけ例外だ、とされています。

そして[[正規化]]が行われるとき[CODE(DOMi)@@en[[[EntityReference]]]]が問題になるかもとは書いてありますが、その時どうしろとはいっていません。

;; <IW:DOM3:"core.html#ID-11C98490">

以上を踏まえた上で、[[DOM]]で[[属性値]]内の[[一般実体参照]]を[CODE(DOMi)@@en[[[EntityReference]]]]にする場合、[[正規化]]はどうしたらよいのでしょう??

([[名無しさん]])

[38]
[CODE(DOMi)@@en[[[EntityReference]]]]は使わないというのが、一番楽で正当な方法。

[[実体参照]]が入ったら[[属性値]]の[[正規化]]は諦めるというのが、楽なものの邪道な方法。

[CODE(DOMi)@@en[[[Attr]]]]の[[子供]]の[CODE(DOMi)@@en[[[EntityReference]]]]だけは[CODE(DOMa)@@en[[[textContent]]]]の[[空白]][[文字]]を[CODE(charname)@@en[[[SPACE]]]]に置き換えて[CODE(DOMa)@@en[[[value]]]] ([CODE(DOMa)@@en[[[nodeValue]]]], [CODE(DOMm)@@en[[[getAttribute]]]], ...) を作るというのが、面倒だけどあまり不都合なくうまく動きそうな方法。
ただし[CODE(DOM)@@en[[CODE(DOMi)[[[Attr]]]].[CODE(DOMa)@@en[[[textContent]]]]]]と[CODE(DOM)@@en[[CODE(DOMi)[[[Attr]]]].[CODE(DOMa)@@en[[[value]]]]]]が違ってしまうのがちょっとアレ。@


1.21
log
@auto-committed
@
text
@d332 5
d366 3
a368 3
[[DOM水準1]] [[FE]] の[[正誤表]]、[[DOM水準1]] [[SE]]、
[[DOM水準2]]、[[DOM水準3]]によると、[[節点]]が[[読取専用]]なら
[CODE(DOMc)@@en[[[NO_MODIFICATION_ALLOWED_ERR]]]]
a370 1

@


1.20
log
@auto-committed
@
text
@a90 1

a94 1

d359 8
@


1.19
log
@auto-committed
@
text
@d1 514
a514 502
* フォーム制御子系 value 属性 (HTML, XHTML 1)

[1] [[HTML]] の [CODE(HTMLe)[[[input]]]] 要素や
[CODE(HTMLe)[[[button]]]] 要素や [CODE(HTMLe)[[[option]]]] 要素の
[DFN[[CODE(HTMLa)[value]] 属性]]は、その[[制御子]]の[[初期値]]を指定します。

[4] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[input]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-INPUT">
-- [CODE(HTMLe)[button]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-BUTTON">
-- [CODE(HTMLe)[option]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-OPTION">
-- [CITE[HTML 4 Changes]]
<IW:HTML4:"appendix/changes.html#h-A.1.1.12">
- [[Web Forms 2.0]]
-- [CSECTION@@en[2.3. Changes to existing controls]]
<IW:WF2:"#changes">
-- [CSECTION@@en[2.18. Handling unexpected elements and values]]
<IW:WF2:"#handling">


** 属性値

[8] この属性の値は [CODE(SGML)[[[CDATA]]]] です。
大文字・小文字は区別されます。

[43] '''空白'''

[[属性値]]中の[[空白]]は、除去[['''してはなりません''']]。
[SRC@@en[WF2 2.3]]

;; [[XML]] 等の規則による[[空白]]の[[正規化]]は、
必要ならば行われます。ここで禁止されているのは、
それ以上の処理です。

[26] この属性は、 [[DTD]] 的には [CODE(SGML)[#[[IMPLIED]]]] です。

[CODE(HTMLe)[input]] 要素の場合、
[CODE(HTMLa)[[[type]]]] 属性が [CODE(HTML)[[[radio]]]] または
[CODE(HTML)[[[checkbox]]]] の時''以外''は、
この属性は省略できます。 [SRC[HTML 4 17.4]]
[WEAK[(HTML 4.0 では誤って [CODE(HTML)[checkbox]] でも省略できるようなことが書いてありました [SRC[HTML 4.01 A.1.1.12]]。)]]

[CODE(HTMLe)[button]] 要素の場合も省略できます。
[SRC[HTML 4 17.5]]

[CODE(HTMLe)[option]] 要素の場合、省略すると要素の[[内容]]が初期値として使われます。

[42]
[[チェック箱制御子]] ([CODE(HTML)@@en[[[checkbox]]]])
と[[ラジオ・ボタン制御子]] ([CODE(HTML)@@en[[[radio]]]])
(>>41 を参照。) を''除き''、[[フォーム制御子]]の
[CODE(HTMLa)@@en[[[value]]]] [[属性]]の[[既定値]]は[[空文字列]]です。
[SRC@@en[WF2 2.3]]

[35]
HTML 4 DTD の[[注釈]] (参考) には
[Q[Specify for radio buttons and checkboxes]]
(ラジオ・ボタンとチェック箱に指定)
と書かれています。が、他の説明は小文字から始まるのにここだけ大文字から始まっているので、[[命令形]]で[Q[指定しなければなりません]]という意味かもしれません。

[50] '''誤り処理 ([CODE(DOM)@@en[typeMismatch]])'''

[CODE(HTMLa)@@en[[[value]]]] [[内容属性]]が
[CODE(HTMLa)@@en[[[type]]]] に照らして[[非妥当]]な場合、
[[利用者エージェント]]は無視[['''しなければなりません''']]。
[CODE(DOMa)@@en[[[defaultValue]]]] 
はその値が使われますが、[[制御子]]には使われません
([[値が選択されていない]]状態となります)。
[SRC@@en[WF2 2.18]]

[51] '''誤り処理 (制約違反)'''

[CODE(HTMLa)@@en[[[value]]]] [[内容属性]]が
[CODE(HTMLa)@@en[[[min]]]、[CODE(HTMLa)@@en[[[max]]]]、
[CODE(HTMLa)@@en[[[step]]]]、[CODE(HTMLa)@@en[[[maxlength]]]]
等に照らして[[非妥当]]な場合
([[原始文書]]でそうである場合や [[DOM]]
操作でそうなった場合など)、
[[利用者エージェント]]は[[制御子]]にその値を設定[['''しなければなりません''']]。
それができない場合には、最も近い値と[['''しなければなりません''']]。
[SRC@@en[WF2 2.18]]

;; 各[[属性]]に照らして適当な値に変更されるまで、
その[[フォーム]]は[[提出]]できません。

[[#comment]]


** 押しボタン制御子 (HTML input 要素型)

[28] 押しボタン制御子 ([CODE(HTML)[type]] が [CODE(HTML)[[[button]]]])
では、 [[UA]] は [CODE(HTMLa)[value]] 属性値をボタンの札として使うべきです。
[SRC[HTML 4 17.4.1]] 詳しくは [CODE(HTML)[[[button]]]]
制御子の説明をご覧ください。

[[#comment]]


** ファイル選択制御子 (HTML input 要素型)

[27] ファイル選択制御子 ([CODE(HTMLa)[type]] が [CODE(HTML)[[[file]]]])
では、 [[UA]] は、 [CODE(HTMLa)[value]] 
属性値をファイル名の初期値として使っても構いません。
[SRC[HTML 4 17.4.1]] 詳しくは [CODE(HTML)[[[file]]]] 
制御子の説明をご覧ください。

[[#comment]]


** 画像提出ボタン制御子 (HTML input 要素型)

[33] HTML 4 では [[[CODE(HTMLe)[input]]//[CODE(HTML)[image]]]] では
[CODE(HTMLa)[value]] 属性は使われていませんが、
1996年の W3C [[NOTE]] >>32 は、 [CODE(HTMLa)[[[alt]]]] 
属性と同じ役割で使用することを推奨していました。
([[代替文]]として使われるだけで、他のボタン制御子とは異なり、
[[初期値]]・[[現在値]]として使われるものではないことに注意してください。)

[34] 実際にそれにしたがって使われたことがあったかどうかは、現在のところ不明です。

[32] [CITE[Imagemapped Images and Image-Incapable User Agents]], 
<http://www.w3.org/TR/NOTE-imagemap>, 発表当時の URI は 
<http://www.w3.org/pub/WWW/TR/NOTE-imagemap-961127>。 [Q[Status of this document]] 
によれば現在の W3C [[WD]] のような位置付けだったらしいのですが、 2004年現在、 
<http://www.w3.org/TR/> によれば [[Working Group Note]] に分類されています。
同時期の他の HTML 系 WD とは異なり、直接 HTML 4 仕様書に取込まれてはいないようです。

[[#comment]]

** チェック箱制御子 ([CODE(HTML)@@en[checkbox]])、ラジオ・ボタン制御子 ([CODE(HTML)@@en[radio]])

[41] '''既定値'''

[[チェック箱制御子]] ([CODE(HTML)@@en[[[checkbox]]]])、
[[ラジオ・ボタン制御子]] ([CODE(HTML)@@en[[[radio]]]]) の場合の
[CODE(HTMLa)@@en[[[value]]]] [[属性]]の[[既定値]]は、
[CODE(HTML)@@en[[[on]]]] です。
[SRC@@en[WF2 2.3]]

;; 従いまして、 [CODE(HTMLa)@@en[[[value]]]]
[[内容属性]]が与えられていない時の
[CODE(DOMa)@@en[[[value]]]] [[DOM属性]]の値は
[CODE(HTML)@@en[[[on]]]] です。
[[フォーム提出]]時の値も [CODE(HTML)@@en[[[on]]]]
です。

[[#comment]]

** 出力 ([CODE(HTMLe)@@en[output]])

[44] [CODE(HTMLe)@@en[[[output]]]] [[要素]]に対応する
[[DOM界面]] [CODE(DOMi)@@en[[[HTMLOutputElement]]]]
の [DFN[[CODE(DOMa)@@en[[[value]]]] [[DOM属性]]]]は、
[CODE(HTMLe)@@en[[[output]]]] [[要素]]の[[現在値]]です。

;; [CODE(HTMLe)@@en[[[output]]]] の[[現在値]]は、
[[内容]]とされています。 [SRC@@en[WF2 2.13]]

[48]
:状態:[[WHATWG]] [[WD]]
:[[DOM界面]]:[CODE(DOMi)@@en[[[HTMLOutputElement]]]]
:[[属性名]]:[CODE(DOMa)@@en[[[value]]]]
([Q@@en[value]] ([Q[値]]) より)
:[[データ型]]:[CODE(DOM)@@en[[[DOMString]]]]
:[[読取専用]]:[[偽]]
:[[例外]]:[CODE(DOMa)@@en[[[textContent]]]] と同じ

[45]
仕様書:
- [[Web Forms 2.0]]
-- [CSECTION@@en[2.13. The [CODE(HTMLe)@@en[[[output]]]] element]]
<IW:WF2:"#the-output">
-- [CSECTION@@en[2.18. Handling unexpected elements and values]]
<IW:WF2:"#handling">

[46] '''読み取り'''

[CODE(DOMa)@@en[[[textContent]]]] と同じです。
[SRC@@en[WF2 2.13]]

[47] '''書き込み'''

[[利用者エージェント]]の動作は
[CODE(DOMa)@@en[[[textContent]]]] 
と同じと[['''しなければなりません''']]。
[SRC@@en[WF2 2.13, 2.18]]

[49] '''[CODE(DOMe)@@en[change]] 事象'''

[CODE(DOMa)@@en[[[value]]]] が直接的または間接的に
[[DOM]] [[木]]を介して変更された時には、
[CODE(HTMLe)@@en[[[output]]]] [[要素]]に対して
[CODE(DOMe)@@en[[[change]]]] [[事象]]を[[放火]][['''しなければなりません''']]。
[SRC@@en[WF2 2.13]]

[[#comment]]

** 例

[10] メニュー制御子の例
[PRE(HTML)[
<select name="selection">
<option value="selection-foo" selected>なにかの選択肢</option>
<option value="selection-bar">なにか別の選択肢</option>
</select>
]PRE]

[[#comment]]


** メモ

[9] >>26 [CODE(HTMLe)[option]] 要素の [CODE(HTMLa)[value]] 属性は、
送信される値が[[仮名]]・[[漢字]]だと面倒なことになるから、
要素の内容は仮名・漢字の[[日本語文]]にしつつも、 [CODE(HTMLa)[value]] は[[ラテン文字]]で、
という使い方がよくされますね (>>10)。

[29]
[[w3m]] には [CODE(HTMLe)[input]] [CODE(HTMLa)[value]] 内の改行を無視してしまう不具合があるそうです。
[SRC[[w3m-dev 04110]]
[CODE(HTMLa)[type]] が [CODE(HTML)[text]]
なら仕方がないかもしれませんが、 [CODE(HTML)[hidden]] の時に落としてしまうのは問題ですね。
([[名無しさん]] [WEAK[2004-10-31 01:00:24 +00:00]])

[30]
>>29 そういえば HTML は [CODE(SGML)[[[CDATA]]]] 属性の値の処理についての規定があるのでした。だから w3m
は HTML 4 的には正しいのだそうな。
(でも HTML 4 の仕様が現実にあってない。)
([[名無しさん]] [sage])

[31]
[CITE[Bug 15204 - hidden inputs strip line feeds from value attribute]] <https://bugzilla.mozilla.org/show_bug.cgi?id=15204>

>>29-30 と同じ話題。
([[名無しさん]] [sage])

[39]
[CITE[inputタグのvalueについて]] <http://chaichan.web.infoseek.co.jp/qanda/qa6338.htm>
([[名無しさん]])


[40]

,,,,[[Firefox]] 1.5,[[Opera]] 8.5,[[WinIE]] 6.0
,[CODE(HTML)@@en[[[text]]]],[CODE(HTML)@@en[&#x0D;&#x0A;]],表示,改行前まで,改行除去,改行除去
,,,[CODE(DOMa)@@en[[[value]]]],改行前まで,改行除去,改行除去
,,,[CODE(DOMa)@@en[[[defaultValue]]]],[[CRLF]],改行除去,改行除去
,,,[CODE(DOMm)@@en[[[getAttribute]] ('[[value]]')]],[[CRLF]],改行除去,改行除去
,,,[[提出]],改行前まで,改行除去,改行除去
,[CODE(HTML)@@en[[[text]]]],[[CRLF]],表示,改行前まで,改行除去,改行除去
,,,[CODE(DOMa)@@en[[[value]]]],改行前まで,改行除去,改行除去
,,,[CODE(DOMa)@@en[[[defaultValue]]]],[[LF]],改行除去,改行除去
,,,[CODE(DOMm)@@en[[[getAttribute]] ('[[value]]')]],[[LF]],改行除去,改行除去
,,,[[提出]],改行前まで,改行除去,改行除去
,[CODE(HTML)@@en[[[hidden]]]],[CODE(HTML)@@en[&#x0D;&#x0A;]],[[CRLF]],[[CRLF]],[[CR]]
,,,[CODE(DOMa)@@en[[[defaultValue]]]],[[CRLF]],[[CRLF]],[[CR]]
,,,[CODE(DOMm)@@en[[[getAttribute]] ('[[value]]')]],[[CRLF]],[[CRLF]],[[CRLF]]
,,,[[提出]],[[CRLF]],[[CRLF]],[[CRLF]]
,[CODE(HTML)@@en[[[hidden]]]],[[CRLF]],[CODE(DOMa)@@en[[[value]]]],[[LF]],[[LF]],[[CRLF]]
,,,[CODE(DOMa)@@en[[[defaultValue]]]],[[LF]],[[LF]],[[CR]]
,,,[CODE(DOMm)@@en[[[getAttribute]] ('[[value]]')]],[[LF]],[[LF]],[[CRLF]]
,,,[[提出]],[[CRLF]],[[LF]],[[CRLF]]

([[名無しさん]] [WEAK[2006-05-27 09:05:02 +00:00]])


[[#comment]]


* li 要素 value 属性 (HTML, XHTML 1)

[12] [CODE(HTMLe)[[[li]]]] 要素の [DFN[[CODE(HTMLa)[value]] 属性]]は、
現在[[並び]]項目の番号を設定します。

この属性の値は、 [CODE(SGML)[[[NUMBER]]]] 型です。
[CODE(HTMLa)[[[type]]]] 属性に関わらず、常に[[亜剌比亜数字]]で指定します。

この属性は必須ではありません。この属性は [[HTML 4]] では非推奨です。

仕様書: [HTML 4]
<IW:HTML4:"struct/lists.html#adef-value-LI">

[13] この属性による指定が、弟要素にまで影響するのかどうかは定かではありません。
HTML 4 に [Q[current list item]] と書いてあるのは影響しないという意味とも取れますが、
慣習的解釈では影響するはずです ([[Classic Mozilla]] はそう実装している)。
[[DTD]] の[[注釈]] (参考) の [Q[reset sequence number]]
もそれをほのめかしている気もしますが...

[14]
HTML 4 仕様書には、 HTML 4 では前の並びの継続であるおことや並びの項目の途中を省いたことを表す方法はないが、その代わりに、という注記と共に、次の例が示されています。
[PRE(HTML)[
<ol>
<li value="30"> makes this list item number 30.
<li value="40"> makes this list item number 40.
<li> makes this list item number 41.
</ol>
]PRE]

[[#comment]]

** 歴史

[52] [[Netscape Navigator]] は [[HTML 2.0]] の拡張として、
[CODE(HTMLe)@@en[[[ol]]]] [[要素]]の[[子供]]たる
[CODE(HTMLe)@@en[[[li]]]] [[要素]]の [CODE(HTMLa)@@en[[[value]]]]
[[属性]]を実装しました。

[CODE(HTMLa)@@en[[[value]]]] [[属性]]を使うと [CODE(HTMLe)@@en[[[ol]]]]
の途中で値を変更することができました。 [CODE(HTMLa)@@en[[[value]]]]
による変更は、その [CODE(HTMLe)@@en[[[li]]]] に適用され、
それ以後の [CODE(HTMLe)@@en[[[li]]]] の値にも影響することになっていました。

;; [CITE[Netscape Navigator Extensions to HTML]]
<http://web.archive.org/web/20000415023954/http://www.netscape.com/home/services_docs/html-extensions.html>

[[#comment]]

** メモ

[[#comment]]

* value 属性 (DOM Attr 界面)

[5] 属性 [CODE[[VAR(DOMi)[[[Attr]]]].[CODE(DOMa)[value]]]]
の値は、その属性節の[[属性値]]です。

設定する値・得られる値の型は [CODE(DOM)[[[DOMString]]]]
です。その属性節の子節は複数個の文節や実体参照節があるかもしれませんが、
一つの文字列として設定又は取得します。

値を設定した時は、子節は一つの文節になります。

[6] この属性は method
[CODE[[VAR(DOMi)[[[Element]]]].[CODE(DOMm)[[[getAttribute]]]]]],
[CODE[[VAR(DOMi)[Element]].[CODE(DOMm)[[[setAttribute]]]]]]
と同様に機能します。

[11] >>6 というか [CODE(DOMa)[[[nodeValue]]]] だよなあ、
もろ同じじゃない? なんで2つあるんだろう。どっちかは正規化するとかでもないみたいだし。

[7] 属性節が読取専用の時は当然値を設定することはできません。
例外 [CODE(DOM)[NO_MODIFICATION_ALLOWED_ERR]]
が発生します。

- [DOM2] ''Document Object Model Core'' <http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-221662474>

[[#comment]]


* param 要素 value 属性 (HTML, XHTML 1)

[15] [[HTML]] の [CODE(HTMLe)[[[param]] 要素の]]
[DFN[[CODE(HTMLa)[value]] 属性]]は、引数値を指定します。

[16] 仕様書:
[[HTML 4]] <IW:HTML4:"struct/objects.html#adef-value-PARAM">

[[#comment]]


** 属性値

[17] この属性の値は [CODE(SGML)[[[CDATA]]]] です。
属性値は、物体によって解釈されます。
物体が引数ごとに構文的制約などを課しているかもしれません。
(それに対して不当であった場合の処理も HTML UA・物体の実装依存でしょう。)

この属性は ([CODE(HTMLa)[[[valuetype]]]] や [CODE(HTMLa)[[[type]]]]
によって修飾されることを除いては) HTML 的な意味を持ちません。

[18] この属性は省略可能です。

[[#comment]]


** 他との関係

[19] [CODE(HTMLa)[value]] で指定する引数値は、
同じ [CODE(HTMLe)[param]] 要素の
[CODE(HTMLa)[[[name]]]] が引数名として対応します。

[20] 引数値の種類の指定として [CODE(HTMLa)[[[valuetype]]]]
と [CODE(HTMLa)[[[type]]]] があります。

[[#comment]]


** メモ

[[#comment]]


* meta 要素 value 属性 (HTML, XHTML 1)

[21] [[HTML]] の [CODE(HTMLe)[[[meta]]]] 要素で、
[DFN[[CODE(HTMLa)[value]] 属性]]が使われることがあります。
使われ方からして、 [CODE(HTMLa)[[[content]]]]
属性の誤りのようです。

[[#comment]]


** 例

[22]
[PRE(HTML)[
<meta http-equiv="content-type" value="text/html; charset=euc-jp" />
]PRE]

出典: ''Practical Scheme'' <http://www.shiro.dreamhost.com/scheme/index-j.html>
(2004年7月付け、2004年7月現在)

[24]
[PRE(HTML)[
<META HTTP-EQUIV="Content-type" 
VALUE="text/html; charset=euc-kr">
]PRE]

出典: ''WWW&#51032; &#44397;&#51228;&#54868;&#50752; &#54620;&#44544;'' <http://www.w3c.or.kr/i18n/www-i18n/>
([[W3C]] 韓国事務所のウェブ・サイトの文章。1996年11月付け、2004年7月現在。)

[23] 
<IW:Google:"\"meta http-equiv content-type value\"">
で検索すると色々な自然言語の文章で大量に見つかります。
HTML のソースは本来 (正しく設定されていれば)
[[Google]] の検索対象にはならないはずなので、
潜在的には莫大な量の文書が存在していると思われます。

[[#comment]]


** 実装

[25] [[emacs-w3m]] が正しく動作しない (正確には、
[CODE(HTMLa)[content]] 属性が無いのが原因。) という問題がありましたが、
2004年7月に修正されました。 ([emacs-w3m:7001])

[[#comment]]


** メモ

[[#comment]]


* メモ

[36]
[[WinIE 6]] の [CODE(DOM)@@en[[VAR(DOMi)[[[Attr]]]].[CODE(DOMa)[[[value]]]]]]
は[CODE(InfoProp)@@en[[[指定]]]]されていないと
[CODE(DOM)@@en[[[null]]]] になりますが、
[[内在事象属性]]ではなぜか文字列の [CODE(JS)@@en['[[null]]']]
になります。
[CODE(DOM)@@en[[[nodeValue]]]] では両方
[CODE(DOM)@@en[[[null]]]] になります。

([[名無しさん]] [WEAK[2005-09-03 11:14:50 +00:00]])

[37]
[CODE(DOM)@@en[[CODE(DOMi)@@en[[[Attr]]]].[CODE(DOMa)[[[value]]]]]]
は[[XML情報集合]]で[CODE(InfoProp)[[[正規化値]]]]に対応するとされています。

;; <IW:DOM3:"infoset-mapping.html#Attr2Infoset">

[CODE(DOM)@@en[[CODE(DOMi)[[[Attr]]]].[CODE(DOMa)[[[value]]]]]] と
[CODE(DOM)@@en[[CODE(DOMi)[[[Node]]]].[CODE(DOMa)[[[nodeValue]]]]]]
(等価) は[[構文解析器]]から渡された[[正規化値]]が最初の値になると明記もされています。
その一方で、[[実体参照]]が[[属性値]]に含まれる場合は実装と読み込みのオプションに依存するともされています。

;; 
<IW:DOM3:"core.html#ID-637646024">

ちなみに、[CODE(DOM)@@en[[CODE(DOMi)@@en[[[Node]]]].[CODE(DOMa)@@en[[[textContent]]]]]]は定義が少し異なっていて、[[子供]]の[CODE(DOMa)@@en[[[textContent]]]]の[[連接]]とされています。

;; <IW:DOM3:"core.html#Node3-textContent">

[[XML]] では、[[属性値表記]]内で[[参照]]されている[[実体]]
(の[[実体値]]) に[[空白]][[文字]]が含まれている場合は、
[CODE(charname)@@en[[[SPACE]]]] に[[正規化]]するとしています。

;; [[XML//空白]]

[[DOM]]の[CODE(DOMi)@@en[[[EntityReference]]]]は対応する[CODE(DOMi)@@en[[[Entity]]]]と同じ[[子孫]]を持つ、ただし[[名前空間]]に関する場合だけ例外だ、とされています。

そして[[正規化]]が行われるとき[CODE(DOMi)@@en[[[EntityReference]]]]が問題になるかもとは書いてありますが、その時どうしろとはいっていません。

;; <IW:DOM3:"core.html#ID-11C98490">

以上を踏まえた上で、[[DOM]]で[[属性値]]内の[[一般実体参照]]を[CODE(DOMi)@@en[[[EntityReference]]]]にする場合、[[正規化]]はどうしたらよいのでしょう??

([[名無しさん]])

[38]
[CODE(DOMi)@@en[[[EntityReference]]]]は使わないというのが、一番楽で正当な方法。

[[実体参照]]が入ったら[[属性値]]の[[正規化]]は諦めるというのが、楽なものの邪道な方法。

[CODE(DOMi)@@en[[[Attr]]]]の[[子供]]の[CODE(DOMi)@@en[[[EntityReference]]]]だけは[CODE(DOMa)@@en[[[textContent]]]]の[[空白]][[文字]]を[CODE(charname)@@en[[[SPACE]]]]に置き換えて[CODE(DOMa)@@en[[[value]]]] ([CODE(DOMa)@@en[[[nodeValue]]]], [CODE(DOMm)@@en[[[getAttribute]]]], ...) を作るというのが、面倒だけどあまり不都合なくうまく動きそうな方法。
ただし[CODE(DOM)@@en[[CODE(DOMi)[[[Attr]]]].[CODE(DOMa)@@en[[[textContent]]]]]]と[CODE(DOM)@@en[[CODE(DOMi)[[[Attr]]]].[CODE(DOMa)@@en[[[value]]]]]]が違ってしまうのがちょっとアレ。
@


1.18
log
@auto-committed
@
text
@d306 12
a317 2
[52] この[[属性]]は [[Netscape]] 拡張といわれています。
[SRC[[[要出典]]]]
@


1.17
log
@auto-committed
@
text
@d304 10
@


1.16
log
@auto-committed
@
text
@d20 2
a21 2

[[#comment]]
d64 25
d176 2
d186 4
a189 2
[CODE(DOMa)@@en[[[textContent]]]] と同じです。
[SRC@@en[WF2 2.13]]
@


1.15
log
@auto-committed
@
text
@d127 45
a453 2

([[名無しさん]])@


1.14
log
@auto-committed
@
text
@d1 171
a171 137


* フォーム制御子系 value 属性 (HTML, XHTML 1)

[1] [[HTML]] の [CODE(HTMLe)[[[input]]]] 要素や
[CODE(HTMLe)[[[button]]]] 要素や [CODE(HTMLe)[[[option]]]] 要素の
[DFN[[CODE(HTMLa)[value]] 属性]]は、その[[制御子]]の[[初期値]]を指定します。

[4] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[input]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-INPUT">
-- [CODE(HTMLe)[button]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-BUTTON">
-- [CODE(HTMLe)[option]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-OPTION">
-- [CITE[HTML 4 Changes]]
<IW:HTML4:"appendix/changes.html#h-A.1.1.12">

[[#comment]]


** 属性値

[8] この属性の値は [CODE(SGML)[[[CDATA]]]] です。
大文字・小文字は区別されます。

[26] この属性は、 [[DTD]] 的には [CODE(SGML)[#[[IMPLIED]]]] です。

[CODE(HTMLe)[input]] 要素の場合、
[CODE(HTMLa)[[[type]]]] 属性が [CODE(HTML)[[[radio]]]] または
[CODE(HTML)[[[checkbox]]]] の時''以外''は、
この属性は省略できます。 [SRC[HTML 4 17.4]]
[WEAK[(HTML 4.0 では誤って [CODE(HTML)[checkbox]] でも省略できるようなことが書いてありました [SRC[HTML 4.01 A.1.1.12]]。)]]

[CODE(HTMLe)[button]] 要素の場合も省略できます。
[SRC[HTML 4 17.5]]

[CODE(HTMLe)[option]] 要素の場合、省略すると要素の[[内容]]が初期値として使われます。

[35]
HTML 4 DTD の[[注釈]] (参考) には
[Q[Specify for radio buttons and checkboxes]]
(ラジオ・ボタンとチェック箱に指定)
と書かれています。が、他の説明は小文字から始まるのにここだけ大文字から始まっているので、[[命令形]]で[Q[指定しなければなりません]]という意味かもしれません。
([[名無しさん]] [sage])

[[#comment]]


** 押しボタン制御子 (HTML input 要素型)

[28] 押しボタン制御子 ([CODE(HTML)[type]] が [CODE(HTML)[[[button]]]])
では、 [[UA]] は [CODE(HTMLa)[value]] 属性値をボタンの札として使うべきです。
[SRC[HTML 4 17.4.1]] 詳しくは [CODE(HTML)[[[button]]]]
制御子の説明をご覧ください。

[[#comment]]


** ファイル選択制御子 (HTML input 要素型)

[27] ファイル選択制御子 ([CODE(HTMLa)[type]] が [CODE(HTML)[[[file]]]])
では、 [[UA]] は、 [CODE(HTMLa)[value]] 
属性値をファイル名の初期値として使っても構いません。
[SRC[HTML 4 17.4.1]] 詳しくは [CODE(HTML)[[[file]]]] 
制御子の説明をご覧ください。

[[#comment]]


** 画像提出ボタン制御子 (HTML input 要素型)

[33] HTML 4 では [[[CODE(HTMLe)[input]]//[CODE(HTML)[image]]]] では
[CODE(HTMLa)[value]] 属性は使われていませんが、
1996年の W3C [[NOTE]] >>32 は、 [CODE(HTMLa)[[[alt]]]] 
属性と同じ役割で使用することを推奨していました。
([[代替文]]として使われるだけで、他のボタン制御子とは異なり、
[[初期値]]・[[現在値]]として使われるものではないことに注意してください。)

[34] 実際にそれにしたがって使われたことがあったかどうかは、現在のところ不明です。

[32] [CITE[Imagemapped Images and Image-Incapable User Agents]], 
<http://www.w3.org/TR/NOTE-imagemap>, 発表当時の URI は 
<http://www.w3.org/pub/WWW/TR/NOTE-imagemap-961127>。 [Q[Status of this document]] 
によれば現在の W3C [[WD]] のような位置付けだったらしいのですが、 2004年現在、 
<http://www.w3.org/TR/> によれば [[Working Group Note]] に分類されています。
同時期の他の HTML 系 WD とは異なり、直接 HTML 4 仕様書に取込まれてはいないようです。

[[#comment]]


** 例

[10] メニュー制御子の例
[PRE(HTML)[
<select name="selection">
<option value="selection-foo" selected>なにかの選択肢</option>
<option value="selection-bar">なにか別の選択肢</option>
</select>
]PRE]

[[#comment]]


** メモ

[9] >>26 [CODE(HTMLe)[option]] 要素の [CODE(HTMLa)[value]] 属性は、
送信される値が[[仮名]]・[[漢字]]だと面倒なことになるから、
要素の内容は仮名・漢字の[[日本語文]]にしつつも、 [CODE(HTMLa)[value]] は[[ラテン文字]]で、
という使い方がよくされますね (>>10)。

[29]
[[w3m]] には [CODE(HTMLe)[input]] [CODE(HTMLa)[value]] 内の改行を無視してしまう不具合があるそうです。
[SRC[[w3m-dev 04110]]
[CODE(HTMLa)[type]] が [CODE(HTML)[text]]
なら仕方がないかもしれませんが、 [CODE(HTML)[hidden]] の時に落としてしまうのは問題ですね。
([[名無しさん]] [WEAK[2004-10-31 01:00:24 +00:00]])

[30]
>>29 そういえば HTML は [CODE(SGML)[[[CDATA]]]] 属性の値の処理についての規定があるのでした。だから w3m
は HTML 4 的には正しいのだそうな。
(でも HTML 4 の仕様が現実にあってない。)
([[名無しさん]] [sage])

[31]
[CITE[Bug 15204 - hidden inputs strip line feeds from value attribute]] <https://bugzilla.mozilla.org/show_bug.cgi?id=15204>

>>29-30 と同じ話題。
([[名無しさん]] [sage])

[39]
[CITE[inputタグのvalueについて]] <http://chaichan.web.infoseek.co.jp/qanda/qa6338.htm>
([[名無しさん]])


[40]
d192 218
a409 218

([[名無しさん]] [WEAK[2006-05-27 09:05:02 +00:00]])


[[#comment]]


* li 要素 value 属性 (HTML, XHTML 1)

[12] [CODE(HTMLe)[[[li]]]] 要素の [DFN[[CODE(HTMLa)[value]] 属性]]は、
現在[[並び]]項目の番号を設定します。

この属性の値は、 [CODE(SGML)[[[NUMBER]]]] 型です。
[CODE(HTMLa)[[[type]]]] 属性に関わらず、常に[[亜剌比亜数字]]で指定します。

この属性は必須ではありません。この属性は [[HTML 4]] では非推奨です。

仕様書: [HTML 4]
<IW:HTML4:"struct/lists.html#adef-value-LI">

[13] この属性による指定が、弟要素にまで影響するのかどうかは定かではありません。
HTML 4 に [Q[current list item]] と書いてあるのは影響しないという意味とも取れますが、
慣習的解釈では影響するはずです ([[Classic Mozilla]] はそう実装している)。
[[DTD]] の[[注釈]] (参考) の [Q[reset sequence number]]
もそれをほのめかしている気もしますが...

[14]
HTML 4 仕様書には、 HTML 4 では前の並びの継続であるおことや並びの項目の途中を省いたことを表す方法はないが、その代わりに、という注記と共に、次の例が示されています。
[PRE(HTML)[
<ol>
<li value="30"> makes this list item number 30.
<li value="40"> makes this list item number 40.
<li> makes this list item number 41.
</ol>
]PRE]

[[#comment]]


* value 属性 (DOM Attr 界面)

[5] 属性 [CODE[[VAR(DOMi)[[[Attr]]]].[CODE(DOMa)[value]]]]
の値は、その属性節の[[属性値]]です。

設定する値・得られる値の型は [CODE(DOM)[[[DOMString]]]]
です。その属性節の子節は複数個の文節や実体参照節があるかもしれませんが、
一つの文字列として設定又は取得します。

値を設定した時は、子節は一つの文節になります。

[6] この属性は method
[CODE[[VAR(DOMi)[[[Element]]]].[CODE(DOMm)[[[getAttribute]]]]]],
[CODE[[VAR(DOMi)[Element]].[CODE(DOMm)[[[setAttribute]]]]]]
と同様に機能します。

[11] >>6 というか [CODE(DOMa)[[[nodeValue]]]] だよなあ、
もろ同じじゃない? なんで2つあるんだろう。どっちかは正規化するとかでもないみたいだし。

[7] 属性節が読取専用の時は当然値を設定することはできません。
例外 [CODE(DOM)[NO_MODIFICATION_ALLOWED_ERR]]
が発生します。

- [DOM2] ''Document Object Model Core'' <http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-221662474>

[[#comment]]


* param 要素 value 属性 (HTML, XHTML 1)

[15] [[HTML]] の [CODE(HTMLe)[[[param]] 要素の]]
[DFN[[CODE(HTMLa)[value]] 属性]]は、引数値を指定します。

[16] 仕様書:
[[HTML 4]] <IW:HTML4:"struct/objects.html#adef-value-PARAM">

[[#comment]]


** 属性値

[17] この属性の値は [CODE(SGML)[[[CDATA]]]] です。
属性値は、物体によって解釈されます。
物体が引数ごとに構文的制約などを課しているかもしれません。
(それに対して不当であった場合の処理も HTML UA・物体の実装依存でしょう。)

この属性は ([CODE(HTMLa)[[[valuetype]]]] や [CODE(HTMLa)[[[type]]]]
によって修飾されることを除いては) HTML 的な意味を持ちません。

[18] この属性は省略可能です。

[[#comment]]


** 他との関係

[19] [CODE(HTMLa)[value]] で指定する引数値は、
同じ [CODE(HTMLe)[param]] 要素の
[CODE(HTMLa)[[[name]]]] が引数名として対応します。

[20] 引数値の種類の指定として [CODE(HTMLa)[[[valuetype]]]]
と [CODE(HTMLa)[[[type]]]] があります。

[[#comment]]


** メモ

[[#comment]]


* meta 要素 value 属性 (HTML, XHTML 1)

[21] [[HTML]] の [CODE(HTMLe)[[[meta]]]] 要素で、
[DFN[[CODE(HTMLa)[value]] 属性]]が使われることがあります。
使われ方からして、 [CODE(HTMLa)[[[content]]]]
属性の誤りのようです。

[[#comment]]


** 例

[22]
[PRE(HTML)[
<meta http-equiv="content-type" value="text/html; charset=euc-jp" />
]PRE]

出典: ''Practical Scheme'' <http://www.shiro.dreamhost.com/scheme/index-j.html>
(2004年7月付け、2004年7月現在)

[24]
[PRE(HTML)[
<META HTTP-EQUIV="Content-type" 
VALUE="text/html; charset=euc-kr">
]PRE]

出典: ''WWW&#51032; &#44397;&#51228;&#54868;&#50752; &#54620;&#44544;'' <http://www.w3c.or.kr/i18n/www-i18n/>
([[W3C]] 韓国事務所のウェブ・サイトの文章。1996年11月付け、2004年7月現在。)

[23] 
<IW:Google:"\"meta http-equiv content-type value\"">
で検索すると色々な自然言語の文章で大量に見つかります。
HTML のソースは本来 (正しく設定されていれば)
[[Google]] の検索対象にはならないはずなので、
潜在的には莫大な量の文書が存在していると思われます。

[[#comment]]


** 実装

[25] [[emacs-w3m]] が正しく動作しない (正確には、
[CODE(HTMLa)[content]] 属性が無いのが原因。) という問題がありましたが、
2004年7月に修正されました。 ([emacs-w3m:7001])

[[#comment]]


** メモ

[[#comment]]


* メモ

[36]
[[WinIE 6]] の [CODE(DOM)@@en[[VAR(DOMi)[[[Attr]]]].[CODE(DOMa)[[[value]]]]]]
は[CODE(InfoProp)@@en[[[指定]]]]されていないと
[CODE(DOM)@@en[[[null]]]] になりますが、
[[内在事象属性]]ではなぜか文字列の [CODE(JS)@@en['[[null]]']]
になります。
[CODE(DOM)@@en[[[nodeValue]]]] では両方
[CODE(DOM)@@en[[[null]]]] になります。

([[名無しさん]] [WEAK[2005-09-03 11:14:50 +00:00]])

[37]
[CODE(DOM)@@en[[CODE(DOMi)@@en[[[Attr]]]].[CODE(DOMa)[[[value]]]]]]
は[[XML情報集合]]で[CODE(InfoProp)[[[正規化値]]]]に対応するとされています。

;; <IW:DOM3:"infoset-mapping.html#Attr2Infoset">

[CODE(DOM)@@en[[CODE(DOMi)[[[Attr]]]].[CODE(DOMa)[[[value]]]]]] と
[CODE(DOM)@@en[[CODE(DOMi)[[[Node]]]].[CODE(DOMa)[[[nodeValue]]]]]]
(等価) は[[構文解析器]]から渡された[[正規化値]]が最初の値になると明記もされています。
その一方で、[[実体参照]]が[[属性値]]に含まれる場合は実装と読み込みのオプションに依存するともされています。

;; 
<IW:DOM3:"core.html#ID-637646024">

ちなみに、[CODE(DOM)@@en[[CODE(DOMi)@@en[[[Node]]]].[CODE(DOMa)@@en[[[textContent]]]]]]は定義が少し異なっていて、[[子供]]の[CODE(DOMa)@@en[[[textContent]]]]の[[連接]]とされています。

;; <IW:DOM3:"core.html#Node3-textContent">

[[XML]] では、[[属性値表記]]内で[[参照]]されている[[実体]]
(の[[実体値]]) に[[空白]][[文字]]が含まれている場合は、
[CODE(charname)@@en[[[SPACE]]]] に[[正規化]]するとしています。

;; [[XML//空白]]

[[DOM]]の[CODE(DOMi)@@en[[[EntityReference]]]]は対応する[CODE(DOMi)@@en[[[Entity]]]]と同じ[[子孫]]を持つ、ただし[[名前空間]]に関する場合だけ例外だ、とされています。

そして[[正規化]]が行われるとき[CODE(DOMi)@@en[[[EntityReference]]]]が問題になるかもとは書いてありますが、その時どうしろとはいっていません。

;; <IW:DOM3:"core.html#ID-11C98490">

以上を踏まえた上で、[[DOM]]で[[属性値]]内の[[一般実体参照]]を[CODE(DOMi)@@en[[[EntityReference]]]]にする場合、[[正規化]]はどうしたらよいのでしょう??

([[名無しさん]])

[38]
[CODE(DOMi)@@en[[[EntityReference]]]]は使わないというのが、一番楽で正当な方法。

[[実体参照]]が入ったら[[属性値]]の[[正規化]]は諦めるというのが、楽なものの邪道な方法。

[CODE(DOMi)@@en[[[Attr]]]]の[[子供]]の[CODE(DOMi)@@en[[[EntityReference]]]]だけは[CODE(DOMa)@@en[[[textContent]]]]の[[空白]][[文字]]を[CODE(charname)@@en[[[SPACE]]]]に置き換えて[CODE(DOMa)@@en[[[value]]]] ([CODE(DOMa)@@en[[[nodeValue]]]], [CODE(DOMm)@@en[[[getAttribute]]]], ...) を作るというのが、面倒だけどあまり不都合なくうまく動きそうな方法。
ただし[CODE(DOM)@@en[[CODE(DOMi)[[[Attr]]]].[CODE(DOMa)@@en[[[textContent]]]]]]と[CODE(DOM)@@en[[CODE(DOMi)[[[Attr]]]].[CODE(DOMa)@@en[[[value]]]]]]が違ってしまうのがちょっとアレ。

@


1.13
log
@auto-committed
@
text
@d132 30
d369 3
a371 7
[CODE(DOMi)@@en[[[EntityReference]]]]は使わないというのが、一番楽で正当な方法。

[[実体参照]]が入ったら[[属性値]]の[[正規化]]は諦めるというのが、楽なものの邪道な方法。

[CODE(DOMi)@@en[[[Attr]]]]の[[子供]]の[CODE(DOMi)@@en[[[EntityReference]]]]だけは[CODE(DOMa)@@en[[[textContent]]]]の[[空白]][[文字]]を[CODE(charname)@@en[[[SPACE]]]]に置き換えて[CODE(DOMa)@@en[[[value]]]] ([CODE(DOMa)@@en[[[nodeValue]]]], [CODE(DOMm)@@en[[[getAttribute]]]], ...) を作るというのが、面倒だけどあまり不都合なくうまく動きそうな方法。
ただし[CODE(DOM)@@en[[CODE(DOMi)[[[Attr]]]].[CODE(DOMa)@@en[[[textContent]]]]]]と[CODE(DOM)@@en[[CODE(DOMi)[[[Attr]]]].[CODE(DOMa)@@en[[[value]]]]]]が違ってしまうのがちょっとアレ。

d373 2
a374 1
([[名無しさん]])
d376 1
@


1.12
log
@auto-committed
@
text
@d294 51
a344 7
[[WinIE 6]] の [CODE(DOM)@@en[[VAR(DOMi)[[[Attr]]]].[CODE(DOMa)[[[value]]]]]]
は[CODE(InfoProp)@@en[[[指定]]]]されていないと
[CODE(DOM)@@en[[[null]]]] になりますが、
[[内在事象属性]]ではなぜか文字列の [CODE(JS)@@en['[[null]]']]
になります。
[CODE(DOM)@@en[[[nodeValue]]]] では両方
[CODE(DOM)@@en[[[null]]]] になります。
d347 1
a347 1
([[名無しさん]] [WEAK[2005-09-03 11:14:50 +00:00]])
@


1.11
log
@auto-committed
@
text
@a2 1

a40 1

d42 3
a44 3
HTML 4 DTD の[[注釈]] (参考) には
[Q[Specify for radio buttons and checkboxes]]
(ラジオ・ボタンとチェック箱に指定)
a47 1

d291 14
a304 1
* メモ@


1.10
log
@auto-committed
@
text
@d1 293
a293 282

* フォーム制御子系 value 属性 (HTML, XHTML 1)

[1] [[HTML]] の [CODE(HTMLe)[[[input]]]] 要素や
[CODE(HTMLe)[[[button]]]] 要素や [CODE(HTMLe)[[[option]]]] 要素の
[DFN[[CODE(HTMLa)[value]] 属性]]は、その[[制御子]]の[[初期値]]を指定します。

[4] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[input]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-INPUT">
-- [CODE(HTMLe)[button]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-BUTTON">
-- [CODE(HTMLe)[option]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-OPTION">
-- [CITE[HTML 4 Changes]]
<IW:HTML4:"appendix/changes.html#h-A.1.1.12">

[[#comment]]


** 属性値

[8] この属性の値は [CODE(SGML)[[[CDATA]]]] です。
大文字・小文字は区別されます。

[26] この属性は、 [[DTD]] 的には [CODE(SGML)[#[[IMPLIED]]]] です。

[CODE(HTMLe)[input]] 要素の場合、
[CODE(HTMLa)[[[type]]]] 属性が [CODE(HTML)[[[radio]]]] または
[CODE(HTML)[[[checkbox]]]] の時''以外''は、
この属性は省略できます。 [SRC[HTML 4 17.4]]
[WEAK[(HTML 4.0 では誤って [CODE(HTML)[checkbox]] でも省略できるようなことが書いてありました [SRC[HTML 4.01 A.1.1.12]]。)]]

[CODE(HTMLe)[button]] 要素の場合も省略できます。
[SRC[HTML 4 17.5]]

[CODE(HTMLe)[option]] 要素の場合、省略すると要素の[[内容]]が初期値として使われます。

[[#comment]]


** 押しボタン制御子 (HTML input 要素型)

[28] 押しボタン制御子 ([CODE(HTML)[type]] が [CODE(HTML)[[[button]]]])
では、 [[UA]] は [CODE(HTMLa)[value]] 属性値をボタンの札として使うべきです。
[SRC[HTML 4 17.4.1]] 詳しくは [CODE(HTML)[[[button]]]]
制御子の説明をご覧ください。

[[#comment]]


** ファイル選択制御子 (HTML input 要素型)

[27] ファイル選択制御子 ([CODE(HTMLa)[type]] が [CODE(HTML)[[[file]]]])
では、 [[UA]] は、 [CODE(HTMLa)[value]] 
属性値をファイル名の初期値として使っても構いません。
[SRC[HTML 4 17.4.1]] 詳しくは [CODE(HTML)[[[file]]]] 
制御子の説明をご覧ください。

[[#comment]]

** 画像提出ボタン制御子 (HTML input 要素型)

[33] HTML 4 では [[[CODE(HTMLe)[input]]//[CODE(HTML)[image]]]] では
[CODE(HTMLa)[value]] 属性は使われていませんが、
1996年の W3C [[NOTE]] >>32 は、 [CODE(HTMLa)[[[alt]]]] 
属性と同じ役割で使用することを推奨していました。
([[代替文]]として使われるだけで、他のボタン制御子とは異なり、
[[初期値]]・[[現在値]]として使われるものではないことに注意してください。)

[34] 実際にそれにしたがって使われたことがあったかどうかは、現在のところ不明です。

[32] [CITE[Imagemapped Images and Image-Incapable User Agents]], 
<http://www.w3.org/TR/NOTE-imagemap>, 発表当時の URI は 
<http://www.w3.org/pub/WWW/TR/NOTE-imagemap-961127>。 [Q[Status of this document]] 
によれば現在の W3C [[WD]] のような位置付けだったらしいのですが、 2004年現在、 
<http://www.w3.org/TR/> によれば [[Working Group Note]] に分類されています。
同時期の他の HTML 系 WD とは異なり、直接 HTML 4 仕様書に取込まれてはいないようです。

[[#comment]]

** 例

[10] メニュー制御子の例
[PRE(HTML)[
<select name="selection">
<option value="selection-foo" selected>なにかの選択肢</option>
<option value="selection-bar">なにか別の選択肢</option>
</select>
]PRE]

[[#comment]]


** メモ

[9] >>26 [CODE(HTMLe)[option]] 要素の [CODE(HTMLa)[value]] 属性は、
送信される値が[[仮名]]・[[漢字]]だと面倒なことになるから、
要素の内容は仮名・漢字の[[日本語文]]にしつつも、 [CODE(HTMLa)[value]] は[[ラテン文字]]で、
という使い方がよくされますね (>>10)。

[29]
[[w3m]] には [CODE(HTMLe)[input]] [CODE(HTMLa)[value]] 内の改行を無視してしまう不具合があるそうです。
[SRC[[w3m-dev 04110]]
[CODE(HTMLa)[type]] が [CODE(HTML)[text]]
なら仕方がないかもしれませんが、 [CODE(HTML)[hidden]] の時に落としてしまうのは問題ですね。
([[名無しさん]] [WEAK[2004-10-31 01:00:24 +00:00]])

[30]
>>29 そういえば HTML は [CODE(SGML)[[[CDATA]]]] 属性の値の処理についての規定があるのでした。だから w3m
は HTML 4 的には正しいのだそうな。
(でも HTML 4 の仕様が現実にあってない。)
([[名無しさん]] [sage])


[31]
[CITE[Bug 15204 - hidden inputs strip line feeds from value attribute]] <https://bugzilla.mozilla.org/show_bug.cgi?id=15204>

>>29-30 と同じ話題。
([[名無しさん]] [sage])


[[#comment]]


* li 要素 value 属性 (HTML, XHTML 1)

[12] [CODE(HTMLe)[[[li]]]] 要素の [DFN[[CODE(HTMLa)[value]] 属性]]は、
現在[[並び]]項目の番号を設定します。

この属性の値は、 [CODE(SGML)[[[NUMBER]]]] 型です。
[CODE(HTMLa)[[[type]]]] 属性に関わらず、常に[[亜剌比亜数字]]で指定します。

この属性は必須ではありません。この属性は [[HTML 4]] では非推奨です。

仕様書: [HTML 4]
<IW:HTML4:"struct/lists.html#adef-value-LI">

[13] この属性による指定が、弟要素にまで影響するのかどうかは定かではありません。
HTML 4 に [Q[current list item]] と書いてあるのは影響しないという意味とも取れますが、
慣習的解釈では影響するはずです ([[Classic Mozilla]] はそう実装している)。
[[DTD]] の[[注釈]] (参考) の [Q[reset sequence number]]
もそれをほのめかしている気もしますが...

[14]
HTML 4 仕様書には、 HTML 4 では前の並びの継続であるおことや並びの項目の途中を省いたことを表す方法はないが、その代わりに、という注記と共に、次の例が示されています。
[PRE(HTML)[
<ol>
<li value="30"> makes this list item number 30.
<li value="40"> makes this list item number 40.
<li> makes this list item number 41.
</ol>
]PRE]

[[#comment]]


* value 属性 (DOM Attr 界面)

[5] 属性 [CODE[[VAR(DOMi)[[[Attr]]]].[CODE(DOMa)[value]]]]
の値は、その属性節の[[属性値]]です。

設定する値・得られる値の型は [CODE(DOM)[[[DOMString]]]]
です。その属性節の子節は複数個の文節や実体参照節があるかもしれませんが、
一つの文字列として設定又は取得します。

値を設定した時は、子節は一つの文節になります。

[6] この属性は method
[CODE[[VAR(DOMi)[[[Element]]]].[CODE(DOMm)[[[getAttribute]]]]]],
[CODE[[VAR(DOMi)[Element]].[CODE(DOMm)[[[setAttribute]]]]]]
と同様に機能します。

[11] >>6 というか [CODE(DOMa)[[[nodeValue]]]] だよなあ、
もろ同じじゃない? なんで2つあるんだろう。どっちかは正規化するとかでもないみたいだし。

[7] 属性節が読取専用の時は当然値を設定することはできません。
例外 [CODE(DOM)[NO_MODIFICATION_ALLOWED_ERR]]
が発生します。

- [DOM2] ''Document Object Model Core'' <http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-221662474>

[[#comment]]


* param 要素 value 属性 (HTML, XHTML 1)

[15] [[HTML]] の [CODE(HTMLe)[[[param]] 要素の]]
[DFN[[CODE(HTMLa)[value]] 属性]]は、引数値を指定します。

[16] 仕様書:
[[HTML 4]] <IW:HTML4:"struct/objects.html#adef-value-PARAM">

[[#comment]]


** 属性値

[17] この属性の値は [CODE(SGML)[[[CDATA]]]] です。
属性値は、物体によって解釈されます。
物体が引数ごとに構文的制約などを課しているかもしれません。
(それに対して不当であった場合の処理も HTML UA・物体の実装依存でしょう。)

この属性は ([CODE(HTMLa)[[[valuetype]]]] や [CODE(HTMLa)[[[type]]]]
によって修飾されることを除いては) HTML 的な意味を持ちません。

[18] この属性は省略可能です。

[[#comment]]


** 他との関係

[19] [CODE(HTMLa)[value]] で指定する引数値は、
同じ [CODE(HTMLe)[param]] 要素の
[CODE(HTMLa)[[[name]]]] が引数名として対応します。

[20] 引数値の種類の指定として [CODE(HTMLa)[[[valuetype]]]]
と [CODE(HTMLa)[[[type]]]] があります。

[[#comment]]


** メモ

[[#comment]]


* meta 要素 value 属性 (HTML, XHTML 1)

[21] [[HTML]] の [CODE(HTMLe)[[[meta]]]] 要素で、
[DFN[[CODE(HTMLa)[value]] 属性]]が使われることがあります。
使われ方からして、 [CODE(HTMLa)[[[content]]]]
属性の誤りのようです。

[[#comment]]


** 例

[22]
[PRE(HTML)[
<meta http-equiv="content-type" value="text/html; charset=euc-jp" />
]PRE]

出典: ''Practical Scheme'' <http://www.shiro.dreamhost.com/scheme/index-j.html>
(2004年7月付け、2004年7月現在)

[24]
[PRE(HTML)[
<META HTTP-EQUIV="Content-type" 
VALUE="text/html; charset=euc-kr">
]PRE]

出典: ''WWW&#51032; &#44397;&#51228;&#54868;&#50752; &#54620;&#44544;'' <http://www.w3c.or.kr/i18n/www-i18n/>
([[W3C]] 韓国事務所のウェブ・サイトの文章。1996年11月付け、2004年7月現在。)

[23] 
<IW:Google:"\"meta http-equiv content-type value\"">
で検索すると色々な自然言語の文章で大量に見つかります。
HTML のソースは本来 (正しく設定されていれば)
[[Google]] の検索対象にはならないはずなので、
潜在的には莫大な量の文書が存在していると思われます。

[[#comment]]


** 実装

[25] [[emacs-w3m]] が正しく動作しない (正確には、
[CODE(HTMLa)[content]] 属性が無いのが原因。) という問題がありましたが、
2004年7月に修正されました。 ([emacs-w3m:7001])

[[#comment]]


** メモ

[[#comment]]


@


1.9
log
@auto-committed
@
text
@a1 1

d63 19
@


1.8
log
@auto-committed
@
text
@d1 99
a99 97



* フォーム制御子系 value 属性 (HTML, XHTML 1)

[1] [[HTML]] の [CODE(HTMLe)[[[input]]]] 要素や
[CODE(HTMLe)[[[button]]]] 要素や [CODE(HTMLe)[[[option]]]] 要素の
[DFN[[CODE(HTMLa)[value]] 属性]]は、その[[制御子]]の[[初期値]]を指定します。

[4] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[input]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-INPUT">
-- [CODE(HTMLe)[button]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-BUTTON">
-- [CODE(HTMLe)[option]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-OPTION">

[[#comment]]


** 属性値

[8] この属性の値は [CODE(SGML)[[[CDATA]]]] です。
大文字・小文字は区別されます。

[26] この属性は、 [[DTD]] 的には [CODE(SGML)[#[[IMPLIED]]]] です。

[CODE(HTMLe)[input]] 要素の場合、
[CODE(HTMLa)[[[type]]]] 属性が [CODE(HTML)[[[radio]]]] または
[CODE(HTML)[[[checkbox]]]] の時''以外''は、
この属性は省略できます。 [SRC[HTML 4 17.4]]

[CODE(HTMLe)[button]] 要素の場合も省略できます。
[SRC[HTML 4 17.5]]

[CODE(HTMLe)[option]] 要素の場合、省略すると要素の[[内容]]が初期値として使われます。

[[#comment]]


** 押しボタン制御子 (HTML input 要素型)

[28] 押しボタン制御子 ([CODE(HTML)[type]] が [CODE(HTML)[[[button]]]])
では、 [[UA]] は [CODE(HTMLa)[value]] 属性値をボタンの札として使うべきです。
[SRC[HTML 4 17.4.1]] 詳しくは [CODE(HTML)[[[button]]]]
制御子の説明をご覧ください。

[[#comment]]


** ファイル選択制御子 (HTML input 要素型)

[27] ファイル選択制御子 ([CODE(HTMLa)[type]] が [CODE(HTML)[[[file]]]])
では、 [[UA]] は、 [CODE(HTMLa)[value]] 
属性値をファイル名の初期値として使っても構いません。
[SRC[HTML 4 17.4.1]] 詳しくは [CODE(HTML)[[[file]]]] 
制御子の説明をご覧ください。

[[#comment]]


** 例

[10] メニュー制御子の例
[PRE(HTML)[
<select name="selection">
<option value="selection-foo" selected>なにかの選択肢</option>
<option value="selection-bar">なにか別の選択肢</option>
</select>
]PRE]

[[#comment]]


** メモ

[9] >>26 [CODE(HTMLe)[option]] 要素の [CODE(HTMLa)[value]] 属性は、
送信される値が[[仮名]]・[[漢字]]だと面倒なことになるから、
要素の内容は仮名・漢字の[[日本語文]]にしつつも、 [CODE(HTMLa)[value]] は[[ラテン文字]]で、
という使い方がよくされますね (>>10)。

[29]
[[w3m]] には [CODE(HTMLe)[input]] [CODE(HTMLa)[value]] 内の改行を無視してしまう不具合があるそうです。
[SRC[[w3m-dev 04110]]
[CODE(HTMLa)[type]] が [CODE(HTML)[text]]
なら仕方がないかもしれませんが、 [CODE(HTML)[hidden]] の時に落としてしまうのは問題ですね。
([[名無しさん]] [WEAK[2004-10-31 01:00:24 +00:00]])

[30]
>>29 そういえば HTML は [CODE(SGML)[[[CDATA]]]] 属性の値の処理についての規定があるのでした。だから w3m
は HTML 4 的には正しいのだそうな。
(でも HTML 4 の仕様が現実にあってない。)
([[名無しさん]] [sage])


[31]
d102 163
a264 163
>>29-30 と同じ話題。
([[名無しさん]] [sage])


[[#comment]]


* li 要素 value 属性 (HTML, XHTML 1)

[12] [CODE(HTMLe)[[[li]]]] 要素の [DFN[[CODE(HTMLa)[value]] 属性]]は、
現在[[並び]]項目の番号を設定します。

この属性の値は、 [CODE(SGML)[[[NUMBER]]]] 型です。
[CODE(HTMLa)[[[type]]]] 属性に関わらず、常に[[亜剌比亜数字]]で指定します。

この属性は必須ではありません。この属性は [[HTML 4]] では非推奨です。

仕様書: [HTML 4]
<IW:HTML4:"struct/lists.html#adef-value-LI">

[13] この属性による指定が、弟要素にまで影響するのかどうかは定かではありません。
HTML 4 に [Q[current list item]] と書いてあるのは影響しないという意味とも取れますが、
慣習的解釈では影響するはずです ([[Classic Mozilla]] はそう実装している)。
[[DTD]] の[[注釈]] (参考) の [Q[reset sequence number]]
もそれをほのめかしている気もしますが...

[14]
HTML 4 仕様書には、 HTML 4 では前の並びの継続であるおことや並びの項目の途中を省いたことを表す方法はないが、その代わりに、という注記と共に、次の例が示されています。
[PRE(HTML)[
<ol>
<li value="30"> makes this list item number 30.
<li value="40"> makes this list item number 40.
<li> makes this list item number 41.
</ol>
]PRE]

[[#comment]]


* value 属性 (DOM Attr 界面)

[5] 属性 [CODE[[VAR(DOMi)[[[Attr]]]].[CODE(DOMa)[value]]]]
の値は、その属性節の[[属性値]]です。

設定する値・得られる値の型は [CODE(DOM)[[[DOMString]]]]
です。その属性節の子節は複数個の文節や実体参照節があるかもしれませんが、
一つの文字列として設定又は取得します。

値を設定した時は、子節は一つの文節になります。

[6] この属性は method
[CODE[[VAR(DOMi)[[[Element]]]].[CODE(DOMm)[[[getAttribute]]]]]],
[CODE[[VAR(DOMi)[Element]].[CODE(DOMm)[[[setAttribute]]]]]]
と同様に機能します。

[11] >>6 というか [CODE(DOMa)[[[nodeValue]]]] だよなあ、
もろ同じじゃない? なんで2つあるんだろう。どっちかは正規化するとかでもないみたいだし。

[7] 属性節が読取専用の時は当然値を設定することはできません。
例外 [CODE(DOM)[NO_MODIFICATION_ALLOWED_ERR]]
が発生します。

- [DOM2] ''Document Object Model Core'' <http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-221662474>

[[#comment]]


* param 要素 value 属性 (HTML, XHTML 1)

[15] [[HTML]] の [CODE(HTMLe)[[[param]] 要素の]]
[DFN[[CODE(HTMLa)[value]] 属性]]は、引数値を指定します。

[16] 仕様書:
[[HTML 4]] <IW:HTML4:"struct/objects.html#adef-value-PARAM">

[[#comment]]


** 属性値

[17] この属性の値は [CODE(SGML)[[[CDATA]]]] です。
属性値は、物体によって解釈されます。
物体が引数ごとに構文的制約などを課しているかもしれません。
(それに対して不当であった場合の処理も HTML UA・物体の実装依存でしょう。)

この属性は ([CODE(HTMLa)[[[valuetype]]]] や [CODE(HTMLa)[[[type]]]]
によって修飾されることを除いては) HTML 的な意味を持ちません。

[18] この属性は省略可能です。

[[#comment]]


** 他との関係

[19] [CODE(HTMLa)[value]] で指定する引数値は、
同じ [CODE(HTMLe)[param]] 要素の
[CODE(HTMLa)[[[name]]]] が引数名として対応します。

[20] 引数値の種類の指定として [CODE(HTMLa)[[[valuetype]]]]
と [CODE(HTMLa)[[[type]]]] があります。

[[#comment]]


** メモ

[[#comment]]


* meta 要素 value 属性 (HTML, XHTML 1)

[21] [[HTML]] の [CODE(HTMLe)[[[meta]]]] 要素で、
[DFN[[CODE(HTMLa)[value]] 属性]]が使われることがあります。
使われ方からして、 [CODE(HTMLa)[[[content]]]]
属性の誤りのようです。

[[#comment]]


** 例

[22]
[PRE(HTML)[
<meta http-equiv="content-type" value="text/html; charset=euc-jp" />
]PRE]

出典: ''Practical Scheme'' <http://www.shiro.dreamhost.com/scheme/index-j.html>
(2004年7月付け、2004年7月現在)

[24]
[PRE(HTML)[
<META HTTP-EQUIV="Content-type" 
VALUE="text/html; charset=euc-kr">
]PRE]

出典: ''WWW&#51032; &#44397;&#51228;&#54868;&#50752; &#54620;&#44544;'' <http://www.w3c.or.kr/i18n/www-i18n/>
([[W3C]] 韓国事務所のウェブ・サイトの文章。1996年11月付け、2004年7月現在。)

[23] 
<IW:Google:"\"meta http-equiv content-type value\"">
で検索すると色々な自然言語の文章で大量に見つかります。
HTML のソースは本来 (正しく設定されていれば)
[[Google]] の検索対象にはならないはずなので、
潜在的には莫大な量の文書が存在していると思われます。

[[#comment]]


** 実装

[25] [[emacs-w3m]] が正しく動作しない (正確には、
[CODE(HTMLa)[content]] 属性が無いのが原因。) という問題がありましたが、
2004年7月に修正されました。 ([emacs-w3m:7001])

[[#comment]]


** メモ

[[#comment]]


@


1.7
log
@auto-committed
@
text
@a82 1

d84 3
a86 3
[[w3m]] には [CODE(HTMLe)[input]] [CODE(HTMLa)[value]] 内の改行を無視してしまう不具合があるそうです。
[SRC[[w3m-dev 04110]]
[CODE(HTMLa)[type]] が [CODE(HTML)[text]]
d89 13
@


1.6
log
@auto-committed
@
text
@d1 250
a250 225
* フォーム制御子系 value 属性 (HTML, XHTML 1)

[1] [[HTML]] の [CODE(HTMLe)[[[input]]]] 要素や
[CODE(HTMLe)[[[button]]]] 要素や [CODE(HTMLe)[[[option]]]] 要素の
[DFN[[CODE(HTMLa)[value]] 属性]]は、その[[制御子]]の[[初期値]]を指定します。

[4] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[input]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-INPUT">
-- [CODE(HTMLe)[button]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-BUTTON">
-- [CODE(HTMLe)[option]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-OPTION">

[[#comment]]

** 属性値

[8] この属性の値は [CODE(SGML)[[[CDATA]]]] です。
大文字・小文字は区別されます。

[26] この属性は、 [[DTD]] 的には [CODE(SGML)[#[[IMPLIED]]]] です。

[CODE(HTMLe)[input]] 要素の場合、
[CODE(HTMLa)[[[type]]]] 属性が [CODE(HTML)[[[radio]]]] または
[CODE(HTML)[[[checkbox]]]] の時''以外''は、
この属性は省略できます。 [SRC[HTML 4 17.4]]

[CODE(HTMLe)[button]] 要素の場合も省略できます。
[SRC[HTML 4 17.5]]

[CODE(HTMLe)[option]] 要素の場合、省略すると要素の[[内容]]が初期値として使われます。

[[#comment]]

** 押しボタン制御子 (HTML input 要素型)

[28] 押しボタン制御子 ([CODE(HTML)[type]] が [CODE(HTML)[[[button]]]])
では、 [[UA]] は [CODE(HTMLa)[value]] 属性値をボタンの札として使うべきです。
[SRC[HTML 4 17.4.1]] 詳しくは [CODE(HTML)[[[button]]]]
制御子の説明をご覧ください。

[[#comment]]

** ファイル選択制御子 (HTML input 要素型)

[27] ファイル選択制御子 ([CODE(HTMLa)[type]] が [CODE(HTML)[[[file]]]])
では、 [[UA]] は、 [CODE(HTMLa)[value]] 
属性値をファイル名の初期値として使っても構いません。
[SRC[HTML 4 17.4.1]] 詳しくは [CODE(HTML)[[[file]]]] 
制御子の説明をご覧ください。

[[#comment]]

** 例

[10] メニュー制御子の例
[PRE(HTML)[
<select name="selection">
<option value="selection-foo" selected>なにかの選択肢</option>
<option value="selection-bar">なにか別の選択肢</option>
</select>
]PRE]

[[#comment]]

** メモ

[9] >>26 [CODE(HTMLe)[option]] 要素の [CODE(HTMLa)[value]] 属性は、
送信される値が[[仮名]]・[[漢字]]だと面倒なことになるから、
要素の内容は仮名・漢字の[[日本語文]]にしつつも、 [CODE(HTMLa)[value]] は[[ラテン文字]]で、
という使い方がよくされますね (>>10)。

[[#comment]]

* li 要素 value 属性 (HTML, XHTML 1)

[12] [CODE(HTMLe)[[[li]]]] 要素の [DFN[[CODE(HTMLa)[value]] 属性]]は、
現在[[並び]]項目の番号を設定します。

この属性の値は、 [CODE(SGML)[[[NUMBER]]]] 型です。
[CODE(HTMLa)[[[type]]]] 属性に関わらず、常に[[亜剌比亜数字]]で指定します。

この属性は必須ではありません。この属性は [[HTML 4]] では非推奨です。

仕様書: [HTML 4]
<IW:HTML4:"struct/lists.html#adef-value-LI">

[13] この属性による指定が、弟要素にまで影響するのかどうかは定かではありません。
HTML 4 に [Q[current list item]] と書いてあるのは影響しないという意味とも取れますが、
慣習的解釈では影響するはずです ([[Classic Mozilla]] はそう実装している)。
[[DTD]] の[[注釈]] (参考) の [Q[reset sequence number]]
もそれをほのめかしている気もしますが...


[14]
HTML 4 仕様書には、 HTML 4 では前の並びの継続であるおことや並びの項目の途中を省いたことを表す方法はないが、その代わりに、という注記と共に、次の例が示されています。
[PRE(HTML)[
<ol>
<li value="30"> makes this list item number 30.
<li value="40"> makes this list item number 40.
<li> makes this list item number 41.
</ol>
]PRE]

[[#comment]]



* value 属性 (DOM Attr 界面)

[5] 属性 [CODE[[VAR(DOMi)[[[Attr]]]].[CODE(DOMa)[value]]]]
の値は、その属性節の[[属性値]]です。

設定する値・得られる値の型は [CODE(DOM)[[[DOMString]]]]
です。その属性節の子節は複数個の文節や実体参照節があるかもしれませんが、
一つの文字列として設定又は取得します。

値を設定した時は、子節は一つの文節になります。

[6] この属性は method
[CODE[[VAR(DOMi)[[[Element]]]].[CODE(DOMm)[[[getAttribute]]]]]],
[CODE[[VAR(DOMi)[Element]].[CODE(DOMm)[[[setAttribute]]]]]]
と同様に機能します。

[11] >>6 というか [CODE(DOMa)[[[nodeValue]]]] だよなあ、
もろ同じじゃない? なんで2つあるんだろう。どっちかは正規化するとかでもないみたいだし。

[7] 属性節が読取専用の時は当然値を設定することはできません。
例外 [CODE(DOM)[NO_MODIFICATION_ALLOWED_ERR]]
が発生します。

- [DOM2] ''Document Object Model Core'' <http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-221662474>

[[#comment]]

* param 要素 value 属性 (HTML, XHTML 1)

[15] [[HTML]] の [CODE(HTMLe)[[[param]] 要素の
[DFN[[CODE(HTMLa)[value]] 属性]]は、引数値を指定します。

[16] 仕様書:
[[HTML 4]] <IW:HTML4:"struct/objects.html#adef-value-PARAM">

[[#comment]]

** 属性値

[17] この属性の値は [CODE(SGML)[[[CDATA]]]] です。
属性値は、物体によって解釈されます。
物体が引数ごとに構文的制約などを課しているかもしれません。
(それに対して不当であった場合の処理も HTML UA・物体の実装依存でしょう。)

この属性は ([CODE(HTMLa)[[[valuetype]]]] や [CODE(HTMLa)[[[type]]]]
によって修飾されることを除いては) HTML 的な意味を持ちません。

[18] この属性は省略可能です。

[[#comment]]

** 他との関係

[19] [CODE(HTMLa)[value]] で指定する引数値は、
同じ [CODE(HTMLe)[param]] 要素の
[CODE(HTMLa)[[[name]]]] が引数名として対応します。

[20] 引数値の種類の指定として [CODE(HTMLa)[[[valuetype]]]]
と [CODE(HTMLa)[[[type]]]] があります。

[[#comment]]

** メモ

[[#comment]]

* meta 要素 value 属性 (HTML, XHTML 1)

[21] [[HTML]] の [CODE(HTMLe)[[[meta]]]] 要素で、
[DFN[[CODE(HTMLa)[value]] 属性]]が使われることがあります。
使われ方からして、 [CODE(HTMLa)[[[content]]]]
属性の誤りのようです。

[[#comment]]

** 例

[22]
[PRE(HTML)[
<meta http-equiv="content-type" value="text/html; charset=euc-jp" />
]PRE]

出典: ''Practical Scheme'' <http://www.shiro.dreamhost.com/scheme/index-j.html>
(2004年7月付け、2004年7月現在)

[24]
[PRE(HTML)[
<META HTTP-EQUIV="Content-type" 
VALUE="text/html; charset=euc-kr">
]PRE]

出典: ''WWW&#51032; &#44397;&#51228;&#54868;&#50752; &#54620;&#44544;'' <http://www.w3c.or.kr/i18n/www-i18n/>
([[W3C]] 韓国事務所のウェブ・サイトの文章。1996年11月付け、2004年7月現在。)

[23] 
<IW:Google:"\"meta http-equiv content-type value\"">
で検索すると色々な自然言語の文章で大量に見つかります。
HTML のソースは本来 (正しく設定されていれば)
[[Google]] の検索対象にはならないはずなので、
潜在的には莫大な量の文書が存在していると思われます。

[[#comment]]

** 実装

[25] [[emacs-w3m]] が正しく動作しない (正確には、
[CODE(HTMLa)[content]] 属性が無いのが原因。) という問題がありましたが、
2004年7月に修正されました。 ([emacs-w3m:7001])

[[#comment]]

** メモ

[[#comment]]

@


1.5
log
@auto-committed
@
text
@d4 1
a4 1
[CODE(HTMLe)[[[button]]]] 要素の
d13 2
d29 1
d33 2
d56 9
a64 1
** メモ
d68 1
d70 4
a73 7
* value 属性 (HTML option 要素)

[2] [CODE(HTML)[[[option]]]] 要素の [CODE(HTML)[value]]
属性は、項目の値を指定します。
その項目が選択された場合にはこの値が送信されます。
この値が指定されていない場合には要素の内容が使われます。
(<IW:HTML4:"interact/forms.html#h-17.6">)
a74 2
- [9] 送信される値がかな漢字だと面倒なことになるから、要素内容はかな漢字の日本語文にしつつも、 [CODE(HTML)[value]] はラテン文字で、という使い方がよくされますね。
- [10] 使用例: [SAMP(HTML)[<option value="selection-foo">なにかの選択肢</option>]]
a75 1

@


1.4
log
@auto-committed
@
text
@d1 66
a66 1
#?SuikaWiki/0.9
a97 13
([[名無しさん]])


[[#comment]]


* value 属性 (HTML input 要素)

[1] [[HTML]] の [CODE(HTML)[[[input]]]] 要素で使って、
当該 control の初期値を指定します。
値は [[CDATA]] です。 [[type属性]]の値が [CODE(HTML)[radio]] および
[CODE(HTML)[checkbox]] 以外の場合はあってもなくてもかまいません。
(<IW:HTML4:"interact/forms.html#h-17.4">)
a98 13
,type 属性	,値の使われ方	,
,button	,ボタンの札
,checkbox	,	,
,file	,ファイル名既定値としても良い	,
,password	,初期値 (文字列)
,radio	,	,
,text	,初期値 (文字列)

- [3] type=file で value 属性の値が指定されていた場合、しかもその input 要素が[[スタイル・シート]]で表示が隠されていたりする場合に特に、利用者の意図しないファイル送信が行われる危険性があります。 ([[HTML4]] B.10.1)
- [1] >>1 以外であってもなくてもいいってのは、 radio などでは必須、ではなくて、
radio などでは使用禁止なんですな。
- [4] >>1 いやいや、そんなはずはない。でないと radio のどれが選ばれたかどう判断する堕?
- [8] >>4 [CODE(HTML)[radio]] や [CODE(HTML)[checkbox]] の場合は、専ら送信される値を指定するのに使うということです。特に [CODE(HTML)[radio]] の場合は意味的に必須でしょう。
a100 12

* value 属性 (HTML option 要素)

[2] [CODE(HTML)[[[option]]]] 要素の [CODE(HTML)[value]]
属性は、項目の値を指定します。
その項目が選択された場合にはこの値が送信されます。
この値が指定されていない場合には要素の内容が使われます。
(<IW:HTML4:"interact/forms.html#h-17.6">)

- [9] 送信される値がかな漢字だと面倒なことになるから、要素内容はかな漢字の日本語文にしつつも、 [CODE(HTML)[value]] はラテン文字で、という使い方がよくされますね。
- [10] 使用例: [SAMP(HTML)[<option value="selection-foo">なにかの選択肢</option>]]
[[#comment]]
@


1.3
log
@auto-committed
@
text
@d142 49
@


1.2
log
@auto-committed
@
text
@d1 24
a24 24
#?SuikaWiki/0.9


* li 要素 value 属性 (HTML, XHTML 1)

[12] [CODE(HTMLe)[[[li]]]] 要素の [DFN[[CODE(HTMLa)[value]] 属性]]は、
現在[[並び]]項目の番号を設定します。

この属性の値は、 [CODE(SGML)[[[NUMBER]]]] 型です。
[CODE(HTMLa)[[[type]]]] 属性に関わらず、常に[[亜剌比亜数字]]で指定します。

この属性は必須ではありません。この属性は [[HTML 4]] では非推奨です。

仕様書: [HTML 4]
<IW:HTML4:"struct/lists.html#adef-value-LI">

[13] この属性による指定が、弟要素にまで影響するのかどうかは定かではありません。
HTML 4 に [Q[current list item]] と書いてあるのは影響しないという意味とも取れますが、
慣習的解釈では影響するはずです ([[Classic Mozilla]] はそう実装している)。
[[DTD]] の[[注釈]] (参考) の [Q[reset sequence number]]
もそれをほのめかしている気もしますが...


[14]
d32 110
a141 69
]PRE]
([[名無しさん]])


[[#comment]]


* value 属性 (HTML input 要素)

[1] [[HTML]] の [CODE(HTML)[[[input]]]] 要素で使って、
当該 control の初期値を指定します。
値は [[CDATA]] です。 [[type属性]]の値が [CODE(HTML)[radio]] および
[CODE(HTML)[checkbox]] 以外の場合はあってもなくてもかまいません。
(<IW:HTML4:"interact/forms.html#h-17.4">)

,type 属性	,値の使われ方	,
,button	,ボタンの札
,checkbox	,	,
,file	,ファイル名既定値としても良い	,
,password	,初期値 (文字列)
,radio	,	,
,text	,初期値 (文字列)

- [3] type=file で value 属性の値が指定されていた場合、しかもその input 要素が[[スタイル・シート]]で表示が隠されていたりする場合に特に、利用者の意図しないファイル送信が行われる危険性があります。 ([[HTML4]] B.10.1)
- [1] >>1 以外であってもなくてもいいってのは、 radio などでは必須、ではなくて、
radio などでは使用禁止なんですな。
- [4] >>1 いやいや、そんなはずはない。でないと radio のどれが選ばれたかどう判断する堕?
- [8] >>4 [CODE(HTML)[radio]] や [CODE(HTML)[checkbox]] の場合は、専ら送信される値を指定するのに使うということです。特に [CODE(HTML)[radio]] の場合は意味的に必須でしょう。
[[#comment]]


* value 属性 (HTML option 要素)

[2] [CODE(HTML)[[[option]]]] 要素の [CODE(HTML)[value]]
属性は、項目の値を指定します。
その項目が選択された場合にはこの値が送信されます。
この値が指定されていない場合には要素の内容が使われます。
(<IW:HTML4:"interact/forms.html#h-17.6">)

- [9] 送信される値がかな漢字だと面倒なことになるから、要素内容はかな漢字の日本語文にしつつも、 [CODE(HTML)[value]] はラテン文字で、という使い方がよくされますね。
- [10] 使用例: [SAMP(HTML)[<option value="selection-foo">なにかの選択肢</option>]]
[[#comment]]


* value 属性 (DOM Attr 界面)

[5] 属性 [CODE[[VAR(DOMi)[[[Attr]]]].[CODE(DOMa)[value]]]]
の値は、その属性節の[[属性値]]です。

設定する値・得られる値の型は [CODE(DOM)[[[DOMString]]]]
です。その属性節の子節は複数個の文節や実体参照節があるかもしれませんが、
一つの文字列として設定又は取得します。

値を設定した時は、子節は一つの文節になります。

[6] この属性は method
[CODE[[VAR(DOMi)[[[Element]]]].[CODE(DOMm)[[[getAttribute]]]],]]
[CODE[[VAR(DOMi)[Element]].[CODE(DOMm)[[[setAttribute]]]]]]
と同様に機能します。

[7] 属性節が読取専用の時は当然値を設定することはできません。
例外 [CODE(DOM)[NO_MODIFICATION_ALLOWED_ERR]]
が発生します。

- [DOM2] ''Document Object Model Core'' <http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-221662474>
- [11] >>6 というか [CODE(DOMa)[[[nodeValue]]]] だよなあ、もろ同じじゃない? なんで2つあるんだろう。どっちかは正規化するとかでもないみたいだし。
[[#comment]]


@


1.1
log
@auto-commited
@
text
@d1 58
a58 20
#?SuikaWiki/0.9
* value 属性 (HTML input 要素)

[1] [[HTML]] の [CODE(HTML)[[[input]]]] 要素で使って、
当該 control の初期値を指定します。
値は [[CDATA]] です。 [[type属性]]の値が [CODE(HTML)[radio]] および
[CODE(HTML)[checkbox]] 以外の場合はあってもなくてもかまいません。
(<IW:HTML4:"interact/forms.html#h-17.4">)

,type 属性,値の使われ方                  ,
,button   ,ボタンの札
,checkbox ,                             ,
,file     ,ファイル名既定値としても良い   ,
,password ,初期値 (文字列)
,radio    ,                             ,
,text     ,初期値 (文字列)
- [3] type=file で value 属性の値が指定されていた場合、しかもその input 要素が[[スタイル・シート]]で表示が隠されていたりする場合に特に、利用者の意図しないファイル送信が行われる危険性があります。 ([[HTML4]] B.10.1)
-[1] >>1 以外であってもなくてもいいってのは、 radio などでは必須、ではなくて、
radio などでは使用禁止なんですな。
- [4] >>1 いやいや、そんなはずはない。でないと radio のどれが選ばれたかどう判断する堕?
d60 11
a70 10
[[#comment]]

*value 属性 (HTML option 要素)

[2] [CODE(HTML)[[[option]]]] 要素の [CODE(HTML)[value]]
属性は、項目の値を指定します。
その項目が選択された場合にはこの値が送信されます。
この値が指定されていない場合には要素の内容が使われます。
(<IW:HTML4:"interact/forms.html#h-17.6">)

d73 24
a96 23
[[#comment]]

*value 属性 (DOM Attr 界面)

[5] 属性 [CODE[[VAR(DOMi)[[[Attr]]]].[CODE(DOMa)[value]]]]
の値は、その属性節の[[属性値]]です。

設定する値・得られる値の型は [CODE(DOM)[[[DOMString]]]]
です。その属性節の子節は複数個の文節や実体参照節があるかもしれませんが、
一つの文字列として設定又は取得します。

値を設定した時は、子節は一つの文節になります。

[6] この属性は method
[CODE[[VAR(DOMi)[[[Element]]]].[CODE(DOMm)[[[getAttribute]]]],
[CODE[[VAR(DOMi)[Element]].[CODE(DOMm)[[[setAttribute]]]]
と同様に機能します。

[7] 属性節が読取専用の時は当然値を設定することはできません。
例外 [CODE(DOM)[NO_MODIFICATION_ALLOWED_ERR]]
が発生します。

-[DOM2] ''Document Object Model Core'' <http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-221662474>
d98 4
a101 3
[[#comment]]

*メモ
@

