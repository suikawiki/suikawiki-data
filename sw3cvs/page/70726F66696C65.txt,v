head	1.25;
access;
symbols
	suikawiki3-final:1.25
	before-db-leaffile:1.7
	after-upgrade-to-suikawiki-3:1.5
	before-fork-suikawiki3:1.5
	after-restore-20040122:1.4;
locks; strict;
comment	@# @;


1.25
date	2008.05.13.04.32.54;	author wakaba;	state Exp;
branches;
next	1.24;

1.24
date	2008.03.23.02.48.38;	author wakaba;	state Exp;
branches;
next	1.23;

1.23
date	2007.10.03.02.58.01;	author wakaba;	state Exp;
branches;
next	1.22;

1.22
date	2007.08.08.02.37.30;	author wakaba;	state Exp;
branches;
next	1.21;

1.21
date	2007.06.27.02.44.04;	author wakaba;	state Exp;
branches;
next	1.20;

1.20
date	2007.05.18.02.51.59;	author wakaba;	state Exp;
branches;
next	1.19;

1.19
date	2007.05.08.02.48.28;	author wakaba;	state Exp;
branches;
next	1.18;

1.18
date	2007.03.27.02.38.37;	author wakaba;	state Exp;
branches;
next	1.17;

1.17
date	2006.12.13.02.20.19;	author wakaba;	state Exp;
branches;
next	1.16;

1.16
date	2006.12.08.02.15.22;	author wakaba;	state Exp;
branches;
next	1.15;

1.15
date	2006.08.23.02.15.12;	author wakaba;	state Exp;
branches;
next	1.14;

1.14
date	2006.07.31.02.14.32;	author wakaba;	state Exp;
branches;
next	1.13;

1.13
date	2006.07.08.02.16.52;	author wakaba;	state Exp;
branches;
next	1.12;

1.12
date	2006.02.18.02.15.24;	author wakaba;	state Exp;
branches;
next	1.11;

1.11
date	2005.05.08.02.07.07;	author wakaba;	state Exp;
branches;
next	1.10;

1.10
date	2005.03.13.02.06.07;	author wakaba;	state Exp;
branches;
next	1.9;

1.9
date	2005.02.08.02.10.46;	author wakaba;	state Exp;
branches;
next	1.8;

1.8
date	2005.01.23.02.05.51;	author wakaba;	state Exp;
branches;
next	1.7;

1.7
date	2004.03.23.02.01.36;	author wakaba;	state Exp;
branches;
next	1.6;

1.6
date	2004.03.18.02.01.12;	author wakaba;	state Exp;
branches;
next	1.5;

1.5
date	2004.03.13.02.03.20;	author wakaba;	state Exp;
branches;
next	1.4;

1.4
date	2003.12.27.02.02.55;	author wakaba;	state Exp;
branches;
next	1.3;

1.3
date	2003.12.13.02.03.04;	author wakaba;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.06.12.26.32;	author make;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.27.07.25.04;	author make;	state Exp;
branches;
next	;


desc
@@


1.25
log
@auto-committed
@
text
@

* [CODE(HTMLe)@@en[head]] 要素 [CODE(HTMLa)@@en[profile]] 属性 (HTML)

[15] [[HTML]] の [CODE(HTMLe)[[[head]]]] 要素の
[DFN[[CODE(HTMLa)[profile]] [[属性]]]]は、
[[プロファイル]] [WEAK[([[メタ情報]]の名前付き辞書)]]
を参照するために使うことができます。
プロファイルについて詳しくは[CITE[[[HTMLメタ情報プロファイル]]]]をご覧下さい。

[48]
:状態:[[W3C]] [[勧告]]
:[[要素]]:[CODE(URI)@@en[[QN[[[head]]] [http://www.w3.org/1999/xhtml]]]]
:[[名前空間URI]]:([[null名前空間]])
:[[属性名]]:[CODE(HTMLa)@@en[[[profile]]]]
([Q@@en[[[profile]]]] ([Q[プロファイル]]) より)
:[[属性値]]:[[空白]][[区切り]]の [[URI]] の[[並び]] (>>34)
:[[既定値]]:([[プロファイル]]なし)

[33] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[[[head]]]] 要素 [CODE(HTMLa)[[[profile]]]] 属性
<IW:HTML4:"struct/global.html#adef-profile">
-- [CSECTION[Meta data profiles]]
<IW:HTML4:"struct/global.html#profiles">
- [XMDP] [CITE[XMDP: Introduction and Format Description]] 
<http://gmpg.org/xmdp/description>


** 属性値

@@@@ これ以降の項を整理する

[34]
値は[[空白]]で分離した一つ以上の [[URI参照]]の並びで、
大文字・小文字が区別されます。但し、二つ目以降の
URI 参照は無視されます。詳しくは >>3-14 を参照。

[17] ここで指定したプロファイルは、すべての [CODE(HTMLe)[[[meta]]]] 要素, 
[CODE(HTMLe)[[[link]]]] 要素に適用されます。 <IW:HTML4:"struct/global.html#edef-META"> HTML 4 ではプロファイルは最初の1つの URI 参照しか意味を持ちませんから、そのプロファイルですべてのメタ・データ特性を定義しないといけないことになります。

[[#comment]]


*** A URI or URIs?

- [3] [[HTML 4]] 本文では、値は複数指定できる (最初の1つしか意味は持たないが。) と明記されています: ''The global structure of an HTML document'' <IW:HTML4:"struct/global.html#adef-profile">
- [4] しかし [[DTD]] の [CODE(HTML)[%URI;]] の注釈は、 ''a'' URI になっています: ''HTML 4 Document Type Definition'' <IW:HTML4:"sgml/dtd.html#URI">
- [5] [CODE(HTML)[%URI;]] に対応する本文の説明は ''URIs'' になっていますが、複数 URI ではなく指定できる値の集合として複数形になっていると思われます (他の型や属性との関係上。): ''Basic HTML data types'' <IW:HTML4:"types.html#type-uri">
- [6] 意図的なのか誤りなのかは不明ですが、本文ではっきり複数書けると明記されていますから、 DTD が間違いの可能性が高いでしょう。
- [7] DTD の内容はほぼそのまま XHTML 1.0, XHTML m12n に受け継がれていますから、同様の問題があります。 XHTML 1 は要素の具体的定義は HTML4 参照でして、仕様書に全く明記されてないのが更に問題。
- [8] XHTML 2.0 (WD) では値の定義が ''URI'' とは別の ''URIs'' に改められているので、この問題は解決しそうです。
- [9] >>6-7 HTML4 にはないが XHTML には [CODE(HTML)[%URIs;]] 系のものがあるんだから、それを参照していないのは問題だよなあ

[14] >>3-9 属性値は空白分離の URI の並びだけど、
HTML 4 では最初のものだけが意味を持つと書いてあります。
複数個の URI が書かれたときの解釈は将来の版で規定する
(かもしれない) ということで、
このようなごちゃごちゃしたことになっているのでしょう。

- HTML 4 適合 UA は一つ以上の URI 参照の並びとみなすが、
意味解釈時には最初のもの以外は捨てる。
- HTML 4 文書の著者は URI 参照を一つだけ書く。
- HTML 4 妥当性検証器は複数個の URI 参照があっても妥当とするが、意味がないと警告する。

が適当な対処だと思われます。

[25]
''ちょっとしたメモ - 困ったちゃんのprofile属性'' <http://www.kanzaki.com/memo/2004/03/17-1>

これと同じ話。
([[名無しさん]] [WEAK[2004-03-18 01:10:42 +00:00]])

[35] 複数の URI 参照が認められるとすると、
相互の関係が問題になってきます。 XMDP [SRC[XMDP]] は、
HTML 4 が最初の URI 参照だけを使用すると規定していることから、
最初の URI 参照のプロファイルが一番優先度が高く、
最後の URI 参照のプロファイルが一番低いと解釈する
[WEAK[(同じ語彙が複数のプロファイルで定義されていれば、最初の方のものとみなす)]]
ことを提案しています。

[36]
HTML 4.0 で [CODE(HTMLe)[[[object]]]]
要素の [CODE(HTMLa)[[[archive]]]]
属性が [CODE(SGML)[%[[URI]]]] なのは間違いで、
複数の URI 参照を書けるとして HTML 4.01
で [CODE(SGML)[[[CDATA]]]]
に修正されました
[SRC[HTML 4.01 A.1.1.14]]。
[CODE(HTMLa)[profile]] 属性も同様に間違いで見落としただけの可能性があります。

[37]
[[Gecko]] の [[DOM]] で [CODE(HTMLe)[[[head]]]] 要素の
[CODE(DOMa)[[[profile]]]] [[DOM]] [[属性]]を取得すると[[絶対URI参照]]が得られますが、
[[間隔]]は [CODE(URI)[%20]] になります。
どうやら [[Gecko]] は [Q[a URI]]
として実装しているようです。

[[WinIE 6]] は
[CODE(DOMa)[[[profile]]]] [[DOM]] [[属性]]で[[要素属性]]の値が得られるのでどう考えているのかは分かりません。
([[名無しさん]] [WEAK[2005-05-07 05:56:20 +00:00]])

[38]
[[Opera 8]] も [[WinIE 6]] と同じ結果。
([[名無しさん]] [WEAK[2005-05-07 05:57:47 +00:00]])

[39]
[[Bjoern Hoehrmann]]が、いつまで種々の問題を放置しておく気だよと''[[TAG]]の''公開[[メイリング・リスト]]で指摘しました。

;; [CITE@@en[The xhtml:onkeypress architecture]]
<mid:ars1v1t936mbci521sdv2kacuhjfg4j06d@@hive.bjoern.hoehrmann.de>,
<http://permalink.gmane.org/gmane.org.w3c.tag/6797>

それに対して[[Steven Pemberton]]は、問題は解決したけど追跡システムで閉じておくのを忘れただけだと書きました。

;; [CITE@@en[Re: The xhtml:onkeypress architecture]]
<mid:43F1D421.3030600@@cwi.nl>,
<http://permalink.gmane.org/gmane.org.w3c.tag/6798>

そしてその後、追跡システムには

> The datatype for the profile was indeed changed to URI in M12N on purpose,
specifically so that it would be possible to use it as a possible means to
identify compound document profiles in the future.

> [CODE(HTMLa)@@en[[[profile]]]]の[[データ型]]は確かに[[URI]]に変更されたが、これは特に将来[[複合文書]]プロファイルの識別に使えるようにと考えてのことだ。

というメモが書かれたようです。

;; [CITE[HTML Working Group Voyager Issue Tracking System - Modularization-abstractions/8168]] 
<http://hades.mn.aptest.com/cgi-bin/voyager-issues/Modularization-abstractions?id=8168>

;; [[Bjoern Hoehrmann]]の[CITE@@en[Why profile="" allows only one URI]]
<mid:asv4v1di3rl55citjj3n4ad6dbe6svkah8@@hive.bjoern.hoehrmann.de>
<http://permalink.gmane.org/gmane.comp.web.html.general/6215>

;; 参考:
[CITE[HTML Working Group Voyager Issue Tracking System - HTML-4.01/6383]] 
<http://hades.mn.aptest.com/cgi-bin/voyager-issues/HTML-4.01?id=6383>,
[CITE[HTML Working Group Voyager Issue Tracking System - Modularization-text/8161]] <http://hades.mn.aptest.com/cgi-bin/voyager-issues/Modularization-text?id=8161>

([[名無しさん]] [WEAK[2006-02-15 08:18:17 +00:00]])

[40]
<http://htmlwg.mn.aptest.com/cgi-bin/voyager-issues/Modularization-abstractions?id=8168>
のコメントは変わっていませんが、 [[XHTML m12n 1.1]] [[LC]] [[WD]]
は [CODE@@en[[[URIs]]]] に変えちゃってます。

[CITE[XHTML Modularization 1.1 - XHTML Abstract Modules]] <http://www.w3.org/TR/2006/WD-xhtml-modularization-20060705/abstract_modules.html#s_structuremodule>
([[名無しさん]] [WEAK[2006-07-07 15:25:28 +00:00]])

[47]
>>39 確かに [[DTD]] [[モジュール]] 
<IW:XHTML1m12n:"dtd_module_defs.html#dtdelement_head.qname">
には、

>
[PRE(XML code)[
<!-- reserved for future use with document profiles
-->
<!ENTITY % profile.attrib
     "profile      %URI.datatype;           '%XHTML.profile;'"
>
]PRE]

とあります。
[[XHTML m12n]] の [CODE(HTMLa)@@en[[[profile]]]]
は [[HTML 4]] の [CODE(HTMLa)@@en[[[profile]]]]
とは別の[[属性]]のようです。

[51]
>>47 のような定義になっており、かつ [[XHTML 1.1]] や
[[XHTML-Print]] の[[DTD駆動器]]では [CODE(XML)@@en[%[[XHTML.profile]];]] 
が[[空文字列]]として定義されているので、それらの [[DTD]]
を[[参照]]している[[文書]]では
[CODE(HTMLa)@@en[[[profile]]]] [[属性]]の[[既定値]]は[[空文字列]]になってしまいます。[[属性値]]は [[URI]]
らしいので、[[基底URI]]が[[文書プロファイル]]とやらとして指定されていることになってしまいます。
([[名無しさん]])

[57]
[CITE@@ja[[markup]head要素のprofile属性]]
<http://web.g.hatena.ne.jp/vantguarde/20070516#1179298617>

([[名無しさん]] [WEAK[2007-05-17 11:12:12 +00:00]])

[[#comment]]


** プロファイル

[18] <IW:HTML4:"struct/global.html#profiles">
によれば、利用者エージェントは [CODE(HTMLa)[profile]] URI を2種類の方法で利用できます。
:大域固有名:[CODE(HTMLa)[profile]] URI を名前として扱い、そのプロファイル [WEAK[(別にそれを URL として資源取り出しに使う必要はない。)]] の知識を使って何かするとか。 [[XML名前空間]]の[[名前空間名]]のような使い方。
:[[リンク]]:[CODE(HTMLa)[profile]] URI を資源取り出しに使って、その実際の定義に基づいて何かするとか。

[19] [CITE[[[HTMLメタ情報プロファイル]]]]の項もご覧下さい。

[[#comment]]


*** 相対 URI 参照

[20] HTML 4 では、[[相対URI参照]]が認められるのかどうか明記されてはいませんが、
HTML 4 における「URI」の定義からすると認められるとみなすのが適当でしょうね。

実際上は [[XML名前空間]]の[[名前空間名]]と同じように、
相対 URI 参照は使わないことにした方が都合がいいかもしれません。
[WEAK[(たとえば [[CSS]] の[[選択子]]に使うこととか考えると。)]]

[21] 相対 URI 参照が使われていたとして、
何を基底としたらよいのでしょう。
[[HTTP]] や [[MIME]]
のような上位プロトコルの情報はもちろん
(必要なら) 使うとして、
あるいは [[XML]] 応用であれば
(その定義に依っては) [CODE(XML)[[[xml]]:[[base]]]]
属性を考慮してもよいかもしれませんが、
それよりもなによりも、 HTML
の [CODE(HTMLe)[[[base]]]]
要素の影響がどうなるか気になるところ。

[27]
[CODE(HTMLe)[base]] 要素の規定
(<IW:HTML4:"struct/links.html#h-12.4">) には、 
[CODE(HTMLa)[profile]] への適用を妨害するものは何もないようです。

但し、[[相対URI参照]]よりも [CODE(HTMLe)[[[base]]]]
要素による[[基底URI]] の定義は[[文書順]]で先に無ければならないことになっていますが、
[CODE(HTMLe)[base]] 要素を [CODE(HTMLe)[head]] 要素よりも前に持ってくることは不可能です。

[[#comment]]


*** 実際に使われている Profile

[1] [CITE[[[HTMLメタ情報プロファイル]]]]に移動しました。


** 歴史

@@@@ HTML4 & XHTML1 の定義に関してはすべてこの項に移動する

[16] 実際には [CODE(HTMLe)[[[head]]]] 要素の属性というよりは文書全体を通した属性とする方が適切であるので、
[[XHTML 2]] では [CODE(HTMLe)[[[html]]]] 要素の属性になります。

[49]

@@@@ [[XHTML 2.0]] [[WD]] はその後 [CODE(HTMLa)@@en[[[rel]]]]
値に変更

@@@@ [[GRDDL]] との関係を簡潔に


*** microformats & HTML5

[53]
[CODE(HTMLa)@@en[[[profile]]]] [[URI]] が指すものは実質的に未定義でしたが、
[[Tantek &#199;elik]] は 2003年、 [[XMDP]] という書式を提案します。
[[XMDP]] は [[HTML]] をベースにした書式で、
[[プロファイル]]を記述するための[[要素]]や
[CODE(HTMLa)@@en[[[class]]]] [[属性]]の使い方を定めていました。

[54]
更に、 [[HTML 4]] で挙げられた [CODE(HTMLe)@@en[[[meta]]]]
[CODE(HTMLa)@@en[[[name]]]] や[[リンク型]]だけではなく、
[[クラス名]]をも[[プロファイル]]として定義することが提案されました。
[[XMDP]] は [[microformats]] の記述言語として、
またそれ自体が最初の [[microformats]] 
として注目されることになります。

[55]
[[Web Applications 1.0]] は当初から [CODE(HTMLa)@@en[[[profile]]]]
[[属性]]についての部分で [[XMDP]] に言及していました。

2004年末頃 (要確認) に [CODE(HTMLa)@@en[[[profile]]]]
[[属性]]が正式に再定義されましたが、 [[microformats]]
をはじめとした [CODE(HTMLa)@@en[[[profile]]]]
[[属性]]の再評価を踏まえ、より詳細な定義が与えられていました。

例えば、 [[HTML 4]] は複数の [[URI]]
を指定することを認めていましたが、
その意味は未定義としていました。 [[Web Applications 1.0]]
は複数の [[URI]] 
が指定された時の[[リンク型]]などの解釈を定めました。

[56]
ですが、 [CODE(HTMLa)@@en[[[profile]]]]
[[属性]]はその後もよく使われるようにはなりませんでした。
[[microformats]] の [[XMDP]] [[プロファイル]]も、
[[URI]] を指定可能な形では提供されておらず、
事実上使われていませんでした。

[52]
結局 [CODE(HTMLa)@@en[[[profile]]]] [[属性]]は2006年12月頃に
[[Web Applications 1.0]] ([[HTML 5]]) から削除されました。

[[Ian Hickson]] は、2年前に [[HTML 5]]
で [[HTML 4]] より厳密に [CODE(HTMLa)@@en[[[profile]]]]
を定義し直したが、結局誰も使っていない、 
[CODE(HTMLa)@@en[[[profile]]]] は機能しなかった、
と説明しています。
([[名無しさん]] [WEAK[2006-12-12 08:44:32 +00:00]])

[61]
[CODE(HTMLa)@@en[[[profile]]]] [[属性]]は [[HTML 5]] revision 422 で削除されました。

[CITE@@en[(X)HTML5 Tracking]] ([CODE[2008-03-22 12:01:27 +09:00]] 版) <http://html5.org/tools/web-apps-tracker?from=421&to=422>

([[名無しさん]])

[62]
[CODE(HTMLa)@@en[[[profile]]]] [[属性]]は [[HTML 5]] revision 422 で削除されました。

[CITE@@en[(X)HTML5 Tracking]] ([CODE[2008-03-22 12:01:27 +09:00]] 版) <http://html5.org/tools/web-apps-tracker?from=421&to=422>

([[名無しさん]])

[[#comment]]


** 実装

@@@@ 属性値の項の実装関係の記述をこちらに移動する

@@@@ [CODE(HTMLa)@@en[[[profile]]]] をみる実装があるのか?

[[#comment]]


** 利用状況

@@@@ 以前はまったく使われていなかった、
仕様書に従う人も知ってて無視していた

@@@@ - 少し状況が変わって、プロファイルが沢山作られた
- 未だにまったく使われていないと主張する人もいるが、あたらない
- だけど絶対数として少ないのは事実、
現実問題として使い道がないし

[[#comment]]


** メモ

[50]
[CITE@@en[XHTML-Print]] ([CODE[2006-09-25 23:44:03 +09:00]] 版) <http://www.w3.org/TR/2006/REC-xhtml-print-20060920/#s3.2>

[[XHTML-Print]] は [[XHTML m12n 1.0]] に基づく[[プロファイル]]で、
[CODE(HTMLa)@@en[[[profile]]]] の[[属性値]]を ([[XHTML m12n 1.0]]
同様に) [[URI]] 型としています。

[CODE(HTMLa)@@en[[[profile]]]] の実装は [['''MAY''']]
ですが、[[メタデータ]]に対応する[[印刷機]]は対応しなければならない
([['''MUST''']]) としています。
[Q[[[メタデータ]]に対応する]]とはどういうことか、
[CODE(HTMLa)@@en[[[profile]]]] に[Q[対応する]]とはどういうことかは明らかではありません。

;; この部分だけを見ると、 [[HTML 4]] の定義に基づいた規定のように思えます。

[[DTD]] 実装は当然 [[XHTML m12n 1.0]] の[[モジュール]]を採用しています。
その [[DTD]] [[モジュール]]で [CODE(HTMLa)@@en[[[profile]]]]
の[[既定値]]とされている[[引数実体]] [CODE(XML)@@en[%[[XHTML.profile]];]]
は、 [[XHTML-Print]] の [[DTD駆動器]]でも [[XHTML 1.1]]
同様に[[空文字列]]になっており、[[実体宣言]]直前の[[注釈]]にはやはり[Q[将来利用するため予約]]と書かれています。

;; この部分を見ると (当然) [[XHTML m12n]] の定義に基づいているように見えますが、
[[媒体型]]の [CODE(MIME)@@en[[[profile]]]] [[引数]]の方のために定義されている[[プロファイル]] [[URI]]
がここで使われていないのが謎です。

([[名無しさん]])

[58]
[CITE[userstyles.org]] ([CODE[2007-06-24 15:42:12 +09:00]] 版) <http://userstyles.org/>

>
[PRE(HTML old example code)[
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head profile="http://a9.com/-/spec/opensearch/1.1/ http://userstyles.org/stylish/metaprofile">
]PRE]

([[名無しさん]])

[59]
[CITE@@en[GRDDL WG: Do not deprecate the profile attribute]] ([[Harry Halpin]] 著, [CODE[2007-07-25 10:02:41 +09:00]] 版) <http://lists.w3.org/Archives/Public/public-xhtml2/2007Jul/0037.html>
([[名無しさん]])

[60]
[CITE@@en[XHTML2 WG Weekly Teleconference -- 19 Sep 2007]] ([CODE[2007-09-20 23:13:51 +09:00]] 版) <http://www.w3.org/2007/09/19-xhtml-minutes#item02>
([[名無しさん]])

[63]
[CITE[HTML4's profile="" attribute's absence in HTML5]] ([[Ian Hickson <ian@@...>]] 著, [CODE[2008-05-07 00:35:50 +09:00]] 版) <http://permalink.gmane.org/gmane.org.w3c.whatwg.discuss/14009>
([[名無しさん]])


[64]
[CITE@@en[Transition Request: Implementation Report and Request for Advancement of GRDDL to Proposed Recommendation]] ([TIME[2007-07-10 07:10:04 +09:00]] 版) <http://www.w3.org/2001/sw/grddl-wg/prrequest>
([[名無しさん]])


[[#comment]]


* [CODE(MIME)@@en[profile]] 引数 ([CODE(MIME)@@en[application/xhtml+xml]], [CODE(MIME)@@en[application/smil+xml]], [CODE(MIME)@@en[application/smil]])

[23]
[[XHTML]] の[[媒体型]] [CODE(MIME)@@en[[[application/xhtml+xml]]]],
[[SMIL]] の[[媒体型]] [CODE(MIME)@@en[[[application/smil+xml]]]],
[CODE(MIME)@@en[[[application/smil]]]]
で定義されている[[引数]] [DFN@@en[[CODE(MIME)@@en[[[profile]]]]]]
は、[[名札付け]]された[[実体]]が使用している[[マーク付け言語]]の[[プロファイル]]を指定します。

[42]
:[[媒体型]]:[CODE(MIME)@@en[[[application/xhtml+xml]]]],
[CODE(MIME)@@en[[[application/smil+xml]]]],
[CODE(MIME)@@en[[[application/smil]]]]
:[[引数名]]:[CODE(MIME)@@en[[[profile]]]]
([Q@@en[[[profile]]]] ([Q@@en[[[プロファイル]]]]) より)
:[[引数値]]:[[URI]]
:[[既定値]]:([[プロファイル]]指定なし)
:状態:[[IETF]] [[情報提供]] [[RFC]]

[41]
仕様書:
- [[RFC 4536]] ([CODE(MIME)@@en[[[application/smil+xml]]]],
[CODE(MIME)@@en[[[application/smil]]]])
<urn:ietf:rfc:4536> ([[IETF]] [[情報提供]] [[RFC]])
-- [CSECTION@@en[5.  The [CODE(MIME)@@en[[[profile]]]] Optional Parameter]]

[43]
この[[引数]]は、[[内容折衝]]で受信側の能力を示すために使う
[WEAK[(例えば [CODE(HTTP)@@en[[[Accept]]:]] で使う)]]
ことを想定しています。
特に、形式の変換を行う[[串]]が使うことを想定しています。
送信側が[[実体]]に[[名札付け]]するために使う
[WEAK[(例えば [CODE(MIME)@@en[[[Content-Type]]:]]]]
で使う)]] ことは想定していません。
[SRC@@en[[[RFC 4536]] 5.]]

[[#comment]]


** 関連

[45]
[CODE(MIME)@@en[[[profile]]]] [[引数]]は、 [[CC/PP]]
が使われるようになるまでのつなぎです。
[SRC@@en[[[RFC 4536]] 5.]]

[29]
いくらつなぎ規格だからと言っても、提案している当の W3C の規格 (XHTML 1.0 とか 1.1 とか SMIL 2.0 とか SMIL Basic とか) の [CODE(MIME)[profile]] URI が規定されていないあたり、やる気がまったく感じられませぬ。

[46]
[[CC/PP]] も失敗色が。。。

[[#comment]]


** 例

[13] [CODE(URI)[http://www.wapforum.org/xhtml]] : [[XHTML Mobile Profile]] 
(<http://www.openmobilealliance.org/wapdocs/wap-277-xhtmlmp-20011029-a.pdf> 7.2 参照)

[12] <http://www.geocities.co.jp/Hollywood-Studio/8691/>: <http://math.oheya.to/dtd/geo/geo-html11.dtd> の。

[44] 例 [SRC@@en[[[RFC 4536]] 5.]]
[PRE(HTTP example code)[
Accept: application/smil+xml;
   profile="http://www.w3.org/2001/SMIL20/HostLanguage"
]PRE]

[[#comment]]


** メモ

[[#comment]]


* メモ@


1.24
log
@auto-committed
@
text
@d311 2
d314 1
a314 4
[62]
[CODE(HTMLa)@@en[[[profile]]]] [[属性]]は [[HTML 5]] revision 422 で削除されました。

[CITE@@en[(X)HTML5 Tracking]] ([TIME[2008-03-22 12:01:27 +09:00]] 版) <http://html5.org/tools/web-apps-tracker?from=421&to=422>
a317 1

d391 10
@


1.23
log
@auto-committed
@
text
@d304 16
a389 1

d391 1
a391 1
[CITE@@en[XHTML2 WG Weekly Teleconference -- 19 Sep 2007]] ([TIME[2007-09-20 23:13:51 +09:00]] 版) <http://www.w3.org/2007/09/19-xhtml-minutes#item02>
a392 1

@


1.22
log
@auto-committed
@
text
@d370 4
d375 2
a376 2
[59]
[CITE@@en[GRDDL WG: Do not deprecate the profile attribute]] ([[Harry Halpin]] 著, [TIME[2007-07-25 10:02:41 +09:00]] 版) <http://lists.w3.org/Archives/Public/public-xhtml2/2007Jul/0037.html>
@


1.21
log
@auto-committed
@
text
@d358 11
a369 11
[58]
[CITE[userstyles.org]] ([TIME[2007-06-24 15:42:12 +09:00]] 版) <http://userstyles.org/>

>
[PRE(HTML old example code)[
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head profile="http://a9.com/-/spec/opensearch/1.1/ http://userstyles.org/stylish/metaprofile">
]PRE]


d371 2
@


1.20
log
@auto-committed
@
text
@a179 1

d181 2
a182 2
[CITE@@ja[[markup]head要素のprofile属性]]
<http://web.g.hatena.ne.jp/vantguarde/20070516#1179298617>
a185 1

d357 16
@


1.19
log
@auto-committed
@
text
@d1 438
a438 429

* [CODE(HTMLe)@@en[head]] 要素 [CODE(HTMLa)@@en[profile]] 属性 (HTML)

[15] [[HTML]] の [CODE(HTMLe)[[[head]]]] 要素の
[DFN[[CODE(HTMLa)[profile]] [[属性]]]]は、
[[プロファイル]] [WEAK[([[メタ情報]]の名前付き辞書)]]
を参照するために使うことができます。
プロファイルについて詳しくは[CITE[[[HTMLメタ情報プロファイル]]]]をご覧下さい。

[48]
:状態:[[W3C]] [[勧告]]
:[[要素]]:[CODE(URI)@@en[[QN[[[head]]] [http://www.w3.org/1999/xhtml]]]]
:[[名前空間URI]]:([[null名前空間]])
:[[属性名]]:[CODE(HTMLa)@@en[[[profile]]]]
([Q@@en[[[profile]]]] ([Q[プロファイル]]) より)
:[[属性値]]:[[空白]][[区切り]]の [[URI]] の[[並び]] (>>34)
:[[既定値]]:([[プロファイル]]なし)

[33] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[[[head]]]] 要素 [CODE(HTMLa)[[[profile]]]] 属性
<IW:HTML4:"struct/global.html#adef-profile">
-- [CSECTION[Meta data profiles]]
<IW:HTML4:"struct/global.html#profiles">
- [XMDP] [CITE[XMDP: Introduction and Format Description]] 
<http://gmpg.org/xmdp/description>


** 属性値

@@@@ これ以降の項を整理する

[34]
値は[[空白]]で分離した一つ以上の [[URI参照]]の並びで、
大文字・小文字が区別されます。但し、二つ目以降の
URI 参照は無視されます。詳しくは >>3-14 を参照。

[17] ここで指定したプロファイルは、すべての [CODE(HTMLe)[[[meta]]]] 要素, 
[CODE(HTMLe)[[[link]]]] 要素に適用されます。 <IW:HTML4:"struct/global.html#edef-META"> HTML 4 ではプロファイルは最初の1つの URI 参照しか意味を持ちませんから、そのプロファイルですべてのメタ・データ特性を定義しないといけないことになります。

[[#comment]]


*** A URI or URIs?

- [3] [[HTML 4]] 本文では、値は複数指定できる (最初の1つしか意味は持たないが。) と明記されています: ''The global structure of an HTML document'' <IW:HTML4:"struct/global.html#adef-profile">
- [4] しかし [[DTD]] の [CODE(HTML)[%URI;]] の注釈は、 ''a'' URI になっています: ''HTML 4 Document Type Definition'' <IW:HTML4:"sgml/dtd.html#URI">
- [5] [CODE(HTML)[%URI;]] に対応する本文の説明は ''URIs'' になっていますが、複数 URI ではなく指定できる値の集合として複数形になっていると思われます (他の型や属性との関係上。): ''Basic HTML data types'' <IW:HTML4:"types.html#type-uri">
- [6] 意図的なのか誤りなのかは不明ですが、本文ではっきり複数書けると明記されていますから、 DTD が間違いの可能性が高いでしょう。
- [7] DTD の内容はほぼそのまま XHTML 1.0, XHTML m12n に受け継がれていますから、同様の問題があります。 XHTML 1 は要素の具体的定義は HTML4 参照でして、仕様書に全く明記されてないのが更に問題。
- [8] XHTML 2.0 (WD) では値の定義が ''URI'' とは別の ''URIs'' に改められているので、この問題は解決しそうです。
- [9] >>6-7 HTML4 にはないが XHTML には [CODE(HTML)[%URIs;]] 系のものがあるんだから、それを参照していないのは問題だよなあ

[14] >>3-9 属性値は空白分離の URI の並びだけど、
HTML 4 では最初のものだけが意味を持つと書いてあります。
複数個の URI が書かれたときの解釈は将来の版で規定する
(かもしれない) ということで、
このようなごちゃごちゃしたことになっているのでしょう。

- HTML 4 適合 UA は一つ以上の URI 参照の並びとみなすが、
意味解釈時には最初のもの以外は捨てる。
- HTML 4 文書の著者は URI 参照を一つだけ書く。
- HTML 4 妥当性検証器は複数個の URI 参照があっても妥当とするが、意味がないと警告する。

が適当な対処だと思われます。

[25]
''ちょっとしたメモ - 困ったちゃんのprofile属性'' <http://www.kanzaki.com/memo/2004/03/17-1>

これと同じ話。
([[名無しさん]] [WEAK[2004-03-18 01:10:42 +00:00]])

[35] 複数の URI 参照が認められるとすると、
相互の関係が問題になってきます。 XMDP [SRC[XMDP]] は、
HTML 4 が最初の URI 参照だけを使用すると規定していることから、
最初の URI 参照のプロファイルが一番優先度が高く、
最後の URI 参照のプロファイルが一番低いと解釈する
[WEAK[(同じ語彙が複数のプロファイルで定義されていれば、最初の方のものとみなす)]]
ことを提案しています。

[36]
HTML 4.0 で [CODE(HTMLe)[[[object]]]]
要素の [CODE(HTMLa)[[[archive]]]]
属性が [CODE(SGML)[%[[URI]]]] なのは間違いで、
複数の URI 参照を書けるとして HTML 4.01
で [CODE(SGML)[[[CDATA]]]]
に修正されました
[SRC[HTML 4.01 A.1.1.14]]。
[CODE(HTMLa)[profile]] 属性も同様に間違いで見落としただけの可能性があります。

[37]
[[Gecko]] の [[DOM]] で [CODE(HTMLe)[[[head]]]] 要素の
[CODE(DOMa)[[[profile]]]] [[DOM]] [[属性]]を取得すると[[絶対URI参照]]が得られますが、
[[間隔]]は [CODE(URI)[%20]] になります。
どうやら [[Gecko]] は [Q[a URI]]
として実装しているようです。

[[WinIE 6]] は
[CODE(DOMa)[[[profile]]]] [[DOM]] [[属性]]で[[要素属性]]の値が得られるのでどう考えているのかは分かりません。
([[名無しさん]] [WEAK[2005-05-07 05:56:20 +00:00]])

[38]
[[Opera 8]] も [[WinIE 6]] と同じ結果。
([[名無しさん]] [WEAK[2005-05-07 05:57:47 +00:00]])

[39]
[[Bjoern Hoehrmann]]が、いつまで種々の問題を放置しておく気だよと''[[TAG]]の''公開[[メイリング・リスト]]で指摘しました。

;; [CITE@@en[The xhtml:onkeypress architecture]]
<mid:ars1v1t936mbci521sdv2kacuhjfg4j06d@@hive.bjoern.hoehrmann.de>,
<http://permalink.gmane.org/gmane.org.w3c.tag/6797>

それに対して[[Steven Pemberton]]は、問題は解決したけど追跡システムで閉じておくのを忘れただけだと書きました。

;; [CITE@@en[Re: The xhtml:onkeypress architecture]]
<mid:43F1D421.3030600@@cwi.nl>,
<http://permalink.gmane.org/gmane.org.w3c.tag/6798>

そしてその後、追跡システムには

> The datatype for the profile was indeed changed to URI in M12N on purpose,
specifically so that it would be possible to use it as a possible means to
identify compound document profiles in the future.

> [CODE(HTMLa)@@en[[[profile]]]]の[[データ型]]は確かに[[URI]]に変更されたが、これは特に将来[[複合文書]]プロファイルの識別に使えるようにと考えてのことだ。

というメモが書かれたようです。

;; [CITE[HTML Working Group Voyager Issue Tracking System - Modularization-abstractions/8168]] 
<http://hades.mn.aptest.com/cgi-bin/voyager-issues/Modularization-abstractions?id=8168>

;; [[Bjoern Hoehrmann]]の[CITE@@en[Why profile="" allows only one URI]]
<mid:asv4v1di3rl55citjj3n4ad6dbe6svkah8@@hive.bjoern.hoehrmann.de>
<http://permalink.gmane.org/gmane.comp.web.html.general/6215>

;; 参考:
[CITE[HTML Working Group Voyager Issue Tracking System - HTML-4.01/6383]] 
<http://hades.mn.aptest.com/cgi-bin/voyager-issues/HTML-4.01?id=6383>,
[CITE[HTML Working Group Voyager Issue Tracking System - Modularization-text/8161]] <http://hades.mn.aptest.com/cgi-bin/voyager-issues/Modularization-text?id=8161>

([[名無しさん]] [WEAK[2006-02-15 08:18:17 +00:00]])

[40]
<http://htmlwg.mn.aptest.com/cgi-bin/voyager-issues/Modularization-abstractions?id=8168>
のコメントは変わっていませんが、 [[XHTML m12n 1.1]] [[LC]] [[WD]]
は [CODE@@en[[[URIs]]]] に変えちゃってます。

[CITE[XHTML Modularization 1.1 - XHTML Abstract Modules]] <http://www.w3.org/TR/2006/WD-xhtml-modularization-20060705/abstract_modules.html#s_structuremodule>
([[名無しさん]] [WEAK[2006-07-07 15:25:28 +00:00]])

[47]
>>39 確かに [[DTD]] [[モジュール]] 
<IW:XHTML1m12n:"dtd_module_defs.html#dtdelement_head.qname">
には、

>
[PRE(XML code)[
<!-- reserved for future use with document profiles
-->
<!ENTITY % profile.attrib
     "profile      %URI.datatype;           '%XHTML.profile;'"
>
]PRE]

とあります。
[[XHTML m12n]] の [CODE(HTMLa)@@en[[[profile]]]]
は [[HTML 4]] の [CODE(HTMLa)@@en[[[profile]]]]
とは別の[[属性]]のようです。


[51]
>>47 のような定義になっており、かつ [[XHTML 1.1]] や
[[XHTML-Print]] の[[DTD駆動器]]では [CODE(XML)@@en[%[[XHTML.profile]];]] 
が[[空文字列]]として定義されているので、それらの [[DTD]]
を[[参照]]している[[文書]]では
[CODE(HTMLa)@@en[[[profile]]]] [[属性]]の[[既定値]]は[[空文字列]]になってしまいます。[[属性値]]は [[URI]]
らしいので、[[基底URI]]が[[文書プロファイル]]とやらとして指定されていることになってしまいます。
([[名無しさん]])


[[#comment]]


** プロファイル

[18] <IW:HTML4:"struct/global.html#profiles">
によれば、利用者エージェントは [CODE(HTMLa)[profile]] URI を2種類の方法で利用できます。
:大域固有名:[CODE(HTMLa)[profile]] URI を名前として扱い、そのプロファイル [WEAK[(別にそれを URL として資源取り出しに使う必要はない。)]] の知識を使って何かするとか。 [[XML名前空間]]の[[名前空間名]]のような使い方。
:[[リンク]]:[CODE(HTMLa)[profile]] URI を資源取り出しに使って、その実際の定義に基づいて何かするとか。

[19] [CITE[[[HTMLメタ情報プロファイル]]]]の項もご覧下さい。

[[#comment]]


*** 相対 URI 参照

[20] HTML 4 では、[[相対URI参照]]が認められるのかどうか明記されてはいませんが、
HTML 4 における「URI」の定義からすると認められるとみなすのが適当でしょうね。

実際上は [[XML名前空間]]の[[名前空間名]]と同じように、
相対 URI 参照は使わないことにした方が都合がいいかもしれません。
[WEAK[(たとえば [[CSS]] の[[選択子]]に使うこととか考えると。)]]

[21] 相対 URI 参照が使われていたとして、
何を基底としたらよいのでしょう。
[[HTTP]] や [[MIME]]
のような上位プロトコルの情報はもちろん
(必要なら) 使うとして、
あるいは [[XML]] 応用であれば
(その定義に依っては) [CODE(XML)[[[xml]]:[[base]]]]
属性を考慮してもよいかもしれませんが、
それよりもなによりも、 HTML
の [CODE(HTMLe)[[[base]]]]
要素の影響がどうなるか気になるところ。

[27]
[CODE(HTMLe)[base]] 要素の規定
(<IW:HTML4:"struct/links.html#h-12.4">) には、 
[CODE(HTMLa)[profile]] への適用を妨害するものは何もないようです。

但し、[[相対URI参照]]よりも [CODE(HTMLe)[[[base]]]]
要素による[[基底URI]] の定義は[[文書順]]で先に無ければならないことになっていますが、
[CODE(HTMLe)[base]] 要素を [CODE(HTMLe)[head]] 要素よりも前に持ってくることは不可能です。

[[#comment]]


*** 実際に使われている Profile

[1] [CITE[[[HTMLメタ情報プロファイル]]]]に移動しました。


** 歴史

@@@@ HTML4 & XHTML1 の定義に関してはすべてこの項に移動する

[16] 実際には [CODE(HTMLe)[[[head]]]] 要素の属性というよりは文書全体を通した属性とする方が適切であるので、
[[XHTML 2]] では [CODE(HTMLe)[[[html]]]] 要素の属性になります。

[49]

@@@@ [[XHTML 2.0]] [[WD]] はその後 [CODE(HTMLa)@@en[[[rel]]]]
値に変更

@@@@ [[GRDDL]] との関係を簡潔に

*** microformats & HTML5

[53]
[CODE(HTMLa)@@en[[[profile]]]] [[URI]] が指すものは実質的に未定義でしたが、
[[Tantek &#199;elik]] は 2003年、 [[XMDP]] という書式を提案します。
[[XMDP]] は [[HTML]] をベースにした書式で、
[[プロファイル]]を記述するための[[要素]]や
[CODE(HTMLa)@@en[[[class]]]] [[属性]]の使い方を定めていました。

[54]
更に、 [[HTML 4]] で挙げられた [CODE(HTMLe)@@en[[[meta]]]]
[CODE(HTMLa)@@en[[[name]]]] や[[リンク型]]だけではなく、
[[クラス名]]をも[[プロファイル]]として定義することが提案されました。
[[XMDP]] は [[microformats]] の記述言語として、
またそれ自体が最初の [[microformats]] 
として注目されることになります。

[55]
[[Web Applications 1.0]] は当初から [CODE(HTMLa)@@en[[[profile]]]]
[[属性]]についての部分で [[XMDP]] に言及していました。

2004年末頃 (要確認) に [CODE(HTMLa)@@en[[[profile]]]]
[[属性]]が正式に再定義されましたが、 [[microformats]]
をはじめとした [CODE(HTMLa)@@en[[[profile]]]]
[[属性]]の再評価を踏まえ、より詳細な定義が与えられていました。

例えば、 [[HTML 4]] は複数の [[URI]]
を指定することを認めていましたが、
その意味は未定義としていました。 [[Web Applications 1.0]]
は複数の [[URI]] 
が指定された時の[[リンク型]]などの解釈を定めました。

[56]
ですが、 [CODE(HTMLa)@@en[[[profile]]]]
[[属性]]はその後もよく使われるようにはなりませんでした。
[[microformats]] の [[XMDP]] [[プロファイル]]も、
[[URI]] を指定可能な形では提供されておらず、
事実上使われていませんでした。

[52]
結局 [CODE(HTMLa)@@en[[[profile]]]] [[属性]]は2006年12月頃に
[[Web Applications 1.0]] ([[HTML 5]]) から削除されました。

[[Ian Hickson]] は、2年前に [[HTML 5]]
で [[HTML 4]] より厳密に [CODE(HTMLa)@@en[[[profile]]]]
を定義し直したが、結局誰も使っていない、 
[CODE(HTMLa)@@en[[[profile]]]] は機能しなかった、
と説明しています。
([[名無しさん]] [WEAK[2006-12-12 08:44:32 +00:00]])

[[#comment]]

** 実装

@@@@ 属性値の項の実装関係の記述をこちらに移動する

@@@@ [CODE(HTMLa)@@en[[[profile]]]] をみる実装があるのか?

[[#comment]]


** 利用状況

@@@@ 以前はまったく使われていなかった、
仕様書に従う人も知ってて無視していた

@@@@ - 少し状況が変わって、プロファイルが沢山作られた
- 未だにまったく使われていないと主張する人もいるが、あたらない
- だけど絶対数として少ないのは事実、
現実問題として使い道がないし

[[#comment]]


** メモ

[50]
[CITE@@en[XHTML-Print]] ([CODE[2006-09-25 23:44:03 +09:00]] 版) <http://www.w3.org/TR/2006/REC-xhtml-print-20060920/#s3.2>

[[XHTML-Print]] は [[XHTML m12n 1.0]] に基づく[[プロファイル]]で、
[CODE(HTMLa)@@en[[[profile]]]] の[[属性値]]を ([[XHTML m12n 1.0]]
同様に) [[URI]] 型としています。

[CODE(HTMLa)@@en[[[profile]]]] の実装は [['''MAY''']]
ですが、[[メタデータ]]に対応する[[印刷機]]は対応しなければならない
([['''MUST''']]) としています。
[Q[[[メタデータ]]に対応する]]とはどういうことか、
[CODE(HTMLa)@@en[[[profile]]]] に[Q[対応する]]とはどういうことかは明らかではありません。

;; この部分だけを見ると、 [[HTML 4]] の定義に基づいた規定のように思えます。

[[DTD]] 実装は当然 [[XHTML m12n 1.0]] の[[モジュール]]を採用しています。
その [[DTD]] [[モジュール]]で [CODE(HTMLa)@@en[[[profile]]]]
の[[既定値]]とされている[[引数実体]] [CODE(XML)@@en[%[[XHTML.profile]];]]
は、 [[XHTML-Print]] の [[DTD駆動器]]でも [[XHTML 1.1]]
同様に[[空文字列]]になっており、[[実体宣言]]直前の[[注釈]]にはやはり[Q[将来利用するため予約]]と書かれています。

;; この部分を見ると (当然) [[XHTML m12n]] の定義に基づいているように見えますが、
[[媒体型]]の [CODE(MIME)@@en[[[profile]]]] [[引数]]の方のために定義されている[[プロファイル]] [[URI]]
がここで使われていないのが謎です。

([[名無しさん]])

[[#comment]]


* [CODE(MIME)@@en[profile]] 引数 ([CODE(MIME)@@en[application/xhtml+xml]], [CODE(MIME)@@en[application/smil+xml]], [CODE(MIME)@@en[application/smil]])

[23]
[[XHTML]] の[[媒体型]] [CODE(MIME)@@en[[[application/xhtml+xml]]]],
[[SMIL]] の[[媒体型]] [CODE(MIME)@@en[[[application/smil+xml]]]],
[CODE(MIME)@@en[[[application/smil]]]]
で定義されている[[引数]] [DFN@@en[[CODE(MIME)@@en[[[profile]]]]]]
は、[[名札付け]]された[[実体]]が使用している[[マーク付け言語]]の[[プロファイル]]を指定します。

[42]
:[[媒体型]]:[CODE(MIME)@@en[[[application/xhtml+xml]]]],
[CODE(MIME)@@en[[[application/smil+xml]]]],
[CODE(MIME)@@en[[[application/smil]]]]
:[[引数名]]:[CODE(MIME)@@en[[[profile]]]]
([Q@@en[[[profile]]]] ([Q@@en[[[プロファイル]]]]) より)
:[[引数値]]:[[URI]]
:[[既定値]]:([[プロファイル]]指定なし)
:状態:[[IETF]] [[情報提供]] [[RFC]]

[41]
仕様書:
- [[RFC 4536]] ([CODE(MIME)@@en[[[application/smil+xml]]]],
[CODE(MIME)@@en[[[application/smil]]]])
<urn:ietf:rfc:4536> ([[IETF]] [[情報提供]] [[RFC]])
-- [CSECTION@@en[5.  The [CODE(MIME)@@en[[[profile]]]] Optional Parameter]]

[43]
この[[引数]]は、[[内容折衝]]で受信側の能力を示すために使う
[WEAK[(例えば [CODE(HTTP)@@en[[[Accept]]:]] で使う)]]
ことを想定しています。
特に、形式の変換を行う[[串]]が使うことを想定しています。
送信側が[[実体]]に[[名札付け]]するために使う
[WEAK[(例えば [CODE(MIME)@@en[[[Content-Type]]:]]]]
で使う)]] ことは想定していません。
[SRC@@en[[[RFC 4536]] 5.]]

[[#comment]]


** 関連

[45]
[CODE(MIME)@@en[[[profile]]]] [[引数]]は、 [[CC/PP]]
が使われるようになるまでのつなぎです。
[SRC@@en[[[RFC 4536]] 5.]]

[29]
いくらつなぎ規格だからと言っても、提案している当の W3C の規格 (XHTML 1.0 とか 1.1 とか SMIL 2.0 とか SMIL Basic とか) の [CODE(MIME)[profile]] URI が規定されていないあたり、やる気がまったく感じられませぬ。

[46]
[[CC/PP]] も失敗色が。。。

[[#comment]]


** 例

[13] [CODE(URI)[http://www.wapforum.org/xhtml]] : [[XHTML Mobile Profile]] 
(<http://www.openmobilealliance.org/wapdocs/wap-277-xhtmlmp-20011029-a.pdf> 7.2 参照)

[12] <http://www.geocities.co.jp/Hollywood-Studio/8691/>: <http://math.oheya.to/dtd/geo/geo-html11.dtd> の。

[44] 例 [SRC@@en[[[RFC 4536]] 5.]]
[PRE(HTTP example code)[
Accept: application/smil+xml;
   profile="http://www.w3.org/2001/SMIL20/HostLanguage"
]PRE]

[[#comment]]


** メモ

[[#comment]]


@


1.18
log
@auto-committed
@
text
@d1 171
a171 172


* [CODE(HTMLe)@@en[head]] 要素 [CODE(HTMLa)@@en[profile]] 属性 (HTML)

[15] [[HTML]] の [CODE(HTMLe)[[[head]]]] 要素の
[DFN[[CODE(HTMLa)[profile]] [[属性]]]]は、
[[プロファイル]] [WEAK[([[メタ情報]]の名前付き辞書)]]
を参照するために使うことができます。
プロファイルについて詳しくは[CITE[[[HTMLメタ情報プロファイル]]]]をご覧下さい。

[48]
:状態:[[W3C]] [[勧告]]
:[[要素]]:[CODE(URI)@@en[[QN[[[head]]] [http://www.w3.org/1999/xhtml]]]]
:[[名前空間URI]]:([[null名前空間]])
:[[属性名]]:[CODE(HTMLa)@@en[[[profile]]]]
([Q@@en[[[profile]]]] ([Q[プロファイル]]) より)
:[[属性値]]:[[空白]][[区切り]]の [[URI]] の[[並び]] (>>34)
:[[既定値]]:([[プロファイル]]なし)

[33] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[[[head]]]] 要素 [CODE(HTMLa)[[[profile]]]] 属性
<IW:HTML4:"struct/global.html#adef-profile">
-- [CSECTION[Meta data profiles]]
<IW:HTML4:"struct/global.html#profiles">
- [XMDP] [CITE[XMDP: Introduction and Format Description]] 
<http://gmpg.org/xmdp/description>


** 属性値

@@@@ これ以降の項を整理する

[34]
値は[[空白]]で分離した一つ以上の [[URI参照]]の並びで、
大文字・小文字が区別されます。但し、二つ目以降の
URI 参照は無視されます。詳しくは >>3-14 を参照。

[17] ここで指定したプロファイルは、すべての [CODE(HTMLe)[[[meta]]]] 要素, 
[CODE(HTMLe)[[[link]]]] 要素に適用されます。 <IW:HTML4:"struct/global.html#edef-META"> HTML 4 ではプロファイルは最初の1つの URI 参照しか意味を持ちませんから、そのプロファイルですべてのメタ・データ特性を定義しないといけないことになります。

[[#comment]]


*** A URI or URIs?

- [3] [[HTML 4]] 本文では、値は複数指定できる (最初の1つしか意味は持たないが。) と明記されています: ''The global structure of an HTML document'' <IW:HTML4:"struct/global.html#adef-profile">
- [4] しかし [[DTD]] の [CODE(HTML)[%URI;]] の注釈は、 ''a'' URI になっています: ''HTML 4 Document Type Definition'' <IW:HTML4:"sgml/dtd.html#URI">
- [5] [CODE(HTML)[%URI;]] に対応する本文の説明は ''URIs'' になっていますが、複数 URI ではなく指定できる値の集合として複数形になっていると思われます (他の型や属性との関係上。): ''Basic HTML data types'' <IW:HTML4:"types.html#type-uri">
- [6] 意図的なのか誤りなのかは不明ですが、本文ではっきり複数書けると明記されていますから、 DTD が間違いの可能性が高いでしょう。
- [7] DTD の内容はほぼそのまま XHTML 1.0, XHTML m12n に受け継がれていますから、同様の問題があります。 XHTML 1 は要素の具体的定義は HTML4 参照でして、仕様書に全く明記されてないのが更に問題。
- [8] XHTML 2.0 (WD) では値の定義が ''URI'' とは別の ''URIs'' に改められているので、この問題は解決しそうです。
- [9] >>6-7 HTML4 にはないが XHTML には [CODE(HTML)[%URIs;]] 系のものがあるんだから、それを参照していないのは問題だよなあ

[14] >>3-9 属性値は空白分離の URI の並びだけど、
HTML 4 では最初のものだけが意味を持つと書いてあります。
複数個の URI が書かれたときの解釈は将来の版で規定する
(かもしれない) ということで、
このようなごちゃごちゃしたことになっているのでしょう。

- HTML 4 適合 UA は一つ以上の URI 参照の並びとみなすが、
意味解釈時には最初のもの以外は捨てる。
- HTML 4 文書の著者は URI 参照を一つだけ書く。
- HTML 4 妥当性検証器は複数個の URI 参照があっても妥当とするが、意味がないと警告する。

が適当な対処だと思われます。

[25]
''ちょっとしたメモ - 困ったちゃんのprofile属性'' <http://www.kanzaki.com/memo/2004/03/17-1>

これと同じ話。
([[名無しさん]] [WEAK[2004-03-18 01:10:42 +00:00]])

[35] 複数の URI 参照が認められるとすると、
相互の関係が問題になってきます。 XMDP [SRC[XMDP]] は、
HTML 4 が最初の URI 参照だけを使用すると規定していることから、
最初の URI 参照のプロファイルが一番優先度が高く、
最後の URI 参照のプロファイルが一番低いと解釈する
[WEAK[(同じ語彙が複数のプロファイルで定義されていれば、最初の方のものとみなす)]]
ことを提案しています。

[36]
HTML 4.0 で [CODE(HTMLe)[[[object]]]]
要素の [CODE(HTMLa)[[[archive]]]]
属性が [CODE(SGML)[%[[URI]]]] なのは間違いで、
複数の URI 参照を書けるとして HTML 4.01
で [CODE(SGML)[[[CDATA]]]]
に修正されました
[SRC[HTML 4.01 A.1.1.14]]。
[CODE(HTMLa)[profile]] 属性も同様に間違いで見落としただけの可能性があります。

[37]
[[Gecko]] の [[DOM]] で [CODE(HTMLe)[[[head]]]] 要素の
[CODE(DOMa)[[[profile]]]] [[DOM]] [[属性]]を取得すると[[絶対URI参照]]が得られますが、
[[間隔]]は [CODE(URI)[%20]] になります。
どうやら [[Gecko]] は [Q[a URI]]
として実装しているようです。

[[WinIE 6]] は
[CODE(DOMa)[[[profile]]]] [[DOM]] [[属性]]で[[要素属性]]の値が得られるのでどう考えているのかは分かりません。
([[名無しさん]] [WEAK[2005-05-07 05:56:20 +00:00]])

[38]
[[Opera 8]] も [[WinIE 6]] と同じ結果。
([[名無しさん]] [WEAK[2005-05-07 05:57:47 +00:00]])

[39]
[[Bjoern Hoehrmann]]が、いつまで種々の問題を放置しておく気だよと''[[TAG]]の''公開[[メイリング・リスト]]で指摘しました。

;; [CITE@@en[The xhtml:onkeypress architecture]]
<mid:ars1v1t936mbci521sdv2kacuhjfg4j06d@@hive.bjoern.hoehrmann.de>,
<http://permalink.gmane.org/gmane.org.w3c.tag/6797>

それに対して[[Steven Pemberton]]は、問題は解決したけど追跡システムで閉じておくのを忘れただけだと書きました。

;; [CITE@@en[Re: The xhtml:onkeypress architecture]]
<mid:43F1D421.3030600@@cwi.nl>,
<http://permalink.gmane.org/gmane.org.w3c.tag/6798>

そしてその後、追跡システムには

> The datatype for the profile was indeed changed to URI in M12N on purpose,
specifically so that it would be possible to use it as a possible means to
identify compound document profiles in the future.

> [CODE(HTMLa)@@en[[[profile]]]]の[[データ型]]は確かに[[URI]]に変更されたが、これは特に将来[[複合文書]]プロファイルの識別に使えるようにと考えてのことだ。

というメモが書かれたようです。

;; [CITE[HTML Working Group Voyager Issue Tracking System - Modularization-abstractions/8168]] 
<http://hades.mn.aptest.com/cgi-bin/voyager-issues/Modularization-abstractions?id=8168>

;; [[Bjoern Hoehrmann]]の[CITE@@en[Why profile="" allows only one URI]]
<mid:asv4v1di3rl55citjj3n4ad6dbe6svkah8@@hive.bjoern.hoehrmann.de>
<http://permalink.gmane.org/gmane.comp.web.html.general/6215>

;; 参考:
[CITE[HTML Working Group Voyager Issue Tracking System - HTML-4.01/6383]] 
<http://hades.mn.aptest.com/cgi-bin/voyager-issues/HTML-4.01?id=6383>,
[CITE[HTML Working Group Voyager Issue Tracking System - Modularization-text/8161]] <http://hades.mn.aptest.com/cgi-bin/voyager-issues/Modularization-text?id=8161>

([[名無しさん]] [WEAK[2006-02-15 08:18:17 +00:00]])

[40]
<http://htmlwg.mn.aptest.com/cgi-bin/voyager-issues/Modularization-abstractions?id=8168>
のコメントは変わっていませんが、 [[XHTML m12n 1.1]] [[LC]] [[WD]]
は [CODE@@en[[[URIs]]]] に変えちゃってます。

[CITE[XHTML Modularization 1.1 - XHTML Abstract Modules]] <http://www.w3.org/TR/2006/WD-xhtml-modularization-20060705/abstract_modules.html#s_structuremodule>
([[名無しさん]] [WEAK[2006-07-07 15:25:28 +00:00]])

[47]
>>39 確かに [[DTD]] [[モジュール]] 
<IW:XHTML1m12n:"dtd_module_defs.html#dtdelement_head.qname">
には、

>
[PRE(XML code)[
<!-- reserved for future use with document profiles
-->
<!ENTITY % profile.attrib
     "profile      %URI.datatype;           '%XHTML.profile;'"
>
]PRE]

とあります。
[[XHTML m12n]] の [CODE(HTMLa)@@en[[[profile]]]]
は [[HTML 4]] の [CODE(HTMLa)@@en[[[profile]]]]
とは別の[[属性]]のようです。


[51]
d177 253
a429 217
らしいので、[[基底URI]]が[[文書プロファイル]]とやらとして指定されていることになってしまいます。
([[名無しさん]])


[[#comment]]


** プロファイル

[18] <IW:HTML4:"struct/global.html#profiles">
によれば、利用者エージェントは [CODE(HTMLa)[profile]] URI を2種類の方法で利用できます。
:大域固有名:[CODE(HTMLa)[profile]] URI を名前として扱い、そのプロファイル [WEAK[(別にそれを URL として資源取り出しに使う必要はない。)]] の知識を使って何かするとか。 [[XML名前空間]]の[[名前空間名]]のような使い方。
:[[リンク]]:[CODE(HTMLa)[profile]] URI を資源取り出しに使って、その実際の定義に基づいて何かするとか。

[19] [CITE[[[HTMLメタ情報プロファイル]]]]の項もご覧下さい。

[[#comment]]


*** 相対 URI 参照

[20] HTML 4 では、[[相対URI参照]]が認められるのかどうか明記されてはいませんが、
HTML 4 における「URI」の定義からすると認められるとみなすのが適当でしょうね。

実際上は [[XML名前空間]]の[[名前空間名]]と同じように、
相対 URI 参照は使わないことにした方が都合がいいかもしれません。
[WEAK[(たとえば [[CSS]] の[[選択子]]に使うこととか考えると。)]]

[21] 相対 URI 参照が使われていたとして、
何を基底としたらよいのでしょう。
[[HTTP]] や [[MIME]]
のような上位プロトコルの情報はもちろん
(必要なら) 使うとして、
あるいは [[XML]] 応用であれば
(その定義に依っては) [CODE(XML)[[[xml]]:[[base]]]]
属性を考慮してもよいかもしれませんが、
それよりもなによりも、 HTML
の [CODE(HTMLe)[[[base]]]]
要素の影響がどうなるか気になるところ。

[27]
[CODE(HTMLe)[base]] 要素の規定
(<IW:HTML4:"struct/links.html#h-12.4">) には、 
[CODE(HTMLa)[profile]] への適用を妨害するものは何もないようです。

但し、[[相対URI参照]]よりも [CODE(HTMLe)[[[base]]]]
要素による[[基底URI]] の定義は[[文書順]]で先に無ければならないことになっていますが、
[CODE(HTMLe)[base]] 要素を [CODE(HTMLe)[head]] 要素よりも前に持ってくることは不可能です。

[[#comment]]


*** 実際に使われている Profile

[1] [CITE[[[HTMLメタ情報プロファイル]]]]に移動しました。


** 歴史

@@@@ HTML4 & XHTML1 の定義に関してはすべてこの項に移動する

[16] 実際には [CODE(HTMLe)[[[head]]]] 要素の属性というよりは文書全体を通した属性とする方が適切であるので、
[[XHTML 2]] では [CODE(HTMLe)[[[html]]]] 要素の属性になります。

@@@@ [[microformats]] との関係を簡潔に

@@@@ [[HTML 5]] でより厳密に定義されているが、
[[Ian Hickson]] がやっぱり消そうという勢い

[49]

@@@@ [[XHTML 2.0]] [[WD]] はその後 [CODE(HTMLa)@@en[[[rel]]]]
値に変更

@@@@ [[GRDDL]] との関係を簡潔に

@@@@ [[Ian Hickson]] は2年前に [CODE(HTMLa)@@en[[[profile]]]]
を [[HTML 4]] より厳密に定義し直したが、
結局誰も使っていない、 [CODE(HTMLa)@@en[[[profile]]]]
は機能しなかった、として [[HTML 5]] [[WD]]
から削除

([[名無しさん]] [WEAK[2006-12-12 08:44:32 +00:00]])

[[#comment]]


** 実装

@@@@ 属性値の項の実装関係の記述をこちらに移動する

@@@@ [CODE(HTMLa)@@en[[[profile]]]] をみる実装があるのか?

[[#comment]]


** 利用状況

@@@@ 以前はまったく使われていなかった、
仕様書に従う人も知ってて無視していた

@@@@ - 少し状況が変わって、プロファイルが沢山作られた
- 未だにまったく使われていないと主張する人もいるが、あたらない
- だけど絶対数として少ないのは事実、
現実問題として使い道がないし

[[#comment]]


** メモ

[50]
[CITE@@en[XHTML-Print]] ([CODE[2006-09-25 23:44:03 +09:00]] 版) <http://www.w3.org/TR/2006/REC-xhtml-print-20060920/#s3.2>

[[XHTML-Print]] は [[XHTML m12n 1.0]] に基づく[[プロファイル]]で、
[CODE(HTMLa)@@en[[[profile]]]] の[[属性値]]を ([[XHTML m12n 1.0]]
同様に) [[URI]] 型としています。

[CODE(HTMLa)@@en[[[profile]]]] の実装は [['''MAY''']]
ですが、[[メタデータ]]に対応する[[印刷機]]は対応しなければならない
([['''MUST''']]) としています。
[Q[[[メタデータ]]に対応する]]とはどういうことか、
[CODE(HTMLa)@@en[[[profile]]]] に[Q[対応する]]とはどういうことかは明らかではありません。

;; この部分だけを見ると、 [[HTML 4]] の定義に基づいた規定のように思えます。

[[DTD]] 実装は当然 [[XHTML m12n 1.0]] の[[モジュール]]を採用しています。
その [[DTD]] [[モジュール]]で [CODE(HTMLa)@@en[[[profile]]]]
の[[既定値]]とされている[[引数実体]] [CODE(XML)@@en[%[[XHTML.profile]];]]
は、 [[XHTML-Print]] の [[DTD駆動器]]でも [[XHTML 1.1]]
同様に[[空文字列]]になっており、[[実体宣言]]直前の[[注釈]]にはやはり[Q[将来利用するため予約]]と書かれています。

;; この部分を見ると (当然) [[XHTML m12n]] の定義に基づいているように見えますが、
[[媒体型]]の [CODE(MIME)@@en[[[profile]]]] [[引数]]の方のために定義されている[[プロファイル]] [[URI]]
がここで使われていないのが謎です。

([[名無しさん]])

[[#comment]]


* [CODE(MIME)@@en[profile]] 引数 ([CODE(MIME)@@en[application/xhtml+xml]], [CODE(MIME)@@en[application/smil+xml]], [CODE(MIME)@@en[application/smil]])

[23]
[[XHTML]] の[[媒体型]] [CODE(MIME)@@en[[[application/xhtml+xml]]]],
[[SMIL]] の[[媒体型]] [CODE(MIME)@@en[[[application/smil+xml]]]],
[CODE(MIME)@@en[[[application/smil]]]]
で定義されている[[引数]] [DFN@@en[[CODE(MIME)@@en[[[profile]]]]]]
は、[[名札付け]]された[[実体]]が使用している[[マーク付け言語]]の[[プロファイル]]を指定します。

[42]
:[[媒体型]]:[CODE(MIME)@@en[[[application/xhtml+xml]]]],
[CODE(MIME)@@en[[[application/smil+xml]]]],
[CODE(MIME)@@en[[[application/smil]]]]
:[[引数名]]:[CODE(MIME)@@en[[[profile]]]]
([Q@@en[[[profile]]]] ([Q@@en[[[プロファイル]]]]) より)
:[[引数値]]:[[URI]]
:[[既定値]]:([[プロファイル]]指定なし)
:状態:[[IETF]] [[情報提供]] [[RFC]]

[41]
仕様書:
- [[RFC 4536]] ([CODE(MIME)@@en[[[application/smil+xml]]]],
[CODE(MIME)@@en[[[application/smil]]]])
<urn:ietf:rfc:4536> ([[IETF]] [[情報提供]] [[RFC]])
-- [CSECTION@@en[5.  The [CODE(MIME)@@en[[[profile]]]] Optional Parameter]]

[43]
この[[引数]]は、[[内容折衝]]で受信側の能力を示すために使う
[WEAK[(例えば [CODE(HTTP)@@en[[[Accept]]:]] で使う)]]
ことを想定しています。
特に、形式の変換を行う[[串]]が使うことを想定しています。
送信側が[[実体]]に[[名札付け]]するために使う
[WEAK[(例えば [CODE(MIME)@@en[[[Content-Type]]:]]]]
で使う)]] ことは想定していません。
[SRC@@en[[[RFC 4536]] 5.]]

[[#comment]]


** 関連

[45]
[CODE(MIME)@@en[[[profile]]]] [[引数]]は、 [[CC/PP]]
が使われるようになるまでのつなぎです。
[SRC@@en[[[RFC 4536]] 5.]]

[29]
いくらつなぎ規格だからと言っても、提案している当の W3C の規格 (XHTML 1.0 とか 1.1 とか SMIL 2.0 とか SMIL Basic とか) の [CODE(MIME)[profile]] URI が規定されていないあたり、やる気がまったく感じられませぬ。

[46]
[[CC/PP]] も失敗色が。。。

[[#comment]]


** 例

[13] [CODE(URI)[http://www.wapforum.org/xhtml]] : [[XHTML Mobile Profile]] 
(<http://www.openmobilealliance.org/wapdocs/wap-277-xhtmlmp-20011029-a.pdf> 7.2 参照)

[12] <http://www.geocities.co.jp/Hollywood-Studio/8691/>: <http://math.oheya.to/dtd/geo/geo-html11.dtd> の。

[44] 例 [SRC@@en[[[RFC 4536]] 5.]]
[PRE(HTTP example code)[
Accept: application/smil+xml;
   profile="http://www.w3.org/2001/SMIL20/HostLanguage"
]PRE]

[[#comment]]


** メモ

[[#comment]]


@


1.17
log
@auto-committed
@
text
@d171 11
d247 6
d254 5
a258 14
[49]

@@@@ [[XHTML 2.0]] [[WD]] はその後 [CODE(HTMLa)@@en[[[rel]]]]
値に変更

@@@@ [[GRDDL]] との関係を簡潔に

@@@@ [[Ian Hickson]] は2年前に [CODE(HTMLa)@@en[[[profile]]]]
を [[HTML 4]] より厳密に定義し直したが、
結局誰も使っていない、 [CODE(HTMLa)@@en[[[profile]]]]
は機能しなかった、として [[HTML 5]] [[WD]]
から削除


a261 1

d288 27
@


1.16
log
@auto-committed
@
text
@d1 360
a360 335
* [CODE(HTMLe)@@en[head]] 要素 [CODE(HTMLa)@@en[profile]] 属性 (HTML)

[15] [[HTML]] の [CODE(HTMLe)[[[head]]]] 要素の
[DFN[[CODE(HTMLa)[profile]] [[属性]]]]は、
[[プロファイル]] [WEAK[([[メタ情報]]の名前付き辞書)]]
を参照するために使うことができます。
プロファイルについて詳しくは[CITE[[[HTMLメタ情報プロファイル]]]]をご覧下さい。

[48]
:状態:[[W3C]] [[勧告]]
:[[要素]]:[CODE(URI)@@en[[QN[[[head]]][http://www.w3.org/1999/xhtml]]]]
:[[名前空間URI]]:([[null名前空間]])
:[[属性名]]:[CODE(HTMLa)@@en[[[profile]]]]
([Q@@en[[[profile]]]] ([Q[プロファイル]]) より)
:[[属性値]]:[[空白]][[区切り]]の [[URI]] の[[並び]] (>>34)
:[[既定値]]:([[プロファイル]]なし)

[33] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[[[head]]]] 要素 [CODE(HTMLa)[[[profile]]]] 属性
<IW:HTML4:"struct/global.html#adef-profile">
-- [CSECTION[Meta data profiles]]
<IW:HTML4:"struct/global.html#profiles">
- [XMDP] [CITE[XMDP: Introduction and Format Description]] 
<http://gmpg.org/xmdp/description>

** 属性値

@@@@ これ以降の項を整理する

[34]
値は[[空白]]で分離した一つ以上の [[URI参照]]の並びで、
大文字・小文字が区別されます。但し、二つ目以降の
URI 参照は無視されます。詳しくは >>3-14 を参照。

[17] ここで指定したプロファイルは、すべての [CODE(HTMLe)[[[meta]]]] 要素, 
[CODE(HTMLe)[[[link]]]] 要素に適用されます。 <IW:HTML4:"struct/global.html#edef-META"> HTML 4 ではプロファイルは最初の1つの URI 参照しか意味を持ちませんから、そのプロファイルですべてのメタ・データ特性を定義しないといけないことになります。

[[#comment]]


*** A URI or URIs?

- [3] [[HTML 4]] 本文では、値は複数指定できる (最初の1つしか意味は持たないが。) と明記されています: ''The global structure of an HTML document'' <IW:HTML4:"struct/global.html#adef-profile">
- [4] しかし [[DTD]] の [CODE(HTML)[%URI;]] の注釈は、 ''a'' URI になっています: ''HTML 4 Document Type Definition'' <IW:HTML4:"sgml/dtd.html#URI">
- [5] [CODE(HTML)[%URI;]] に対応する本文の説明は ''URIs'' になっていますが、複数 URI ではなく指定できる値の集合として複数形になっていると思われます (他の型や属性との関係上。): ''Basic HTML data types'' <IW:HTML4:"types.html#type-uri">
- [6] 意図的なのか誤りなのかは不明ですが、本文ではっきり複数書けると明記されていますから、 DTD が間違いの可能性が高いでしょう。
- [7] DTD の内容はほぼそのまま XHTML 1.0, XHTML m12n に受け継がれていますから、同様の問題があります。 XHTML 1 は要素の具体的定義は HTML4 参照でして、仕様書に全く明記されてないのが更に問題。
- [8] XHTML 2.0 (WD) では値の定義が ''URI'' とは別の ''URIs'' に改められているので、この問題は解決しそうです。
- [9] >>6-7 HTML4 にはないが XHTML には [CODE(HTML)[%URIs;]] 系のものがあるんだから、それを参照していないのは問題だよなあ

[14] >>3-9 属性値は空白分離の URI の並びだけど、
HTML 4 では最初のものだけが意味を持つと書いてあります。
複数個の URI が書かれたときの解釈は将来の版で規定する
(かもしれない) ということで、
このようなごちゃごちゃしたことになっているのでしょう。

- HTML 4 適合 UA は一つ以上の URI 参照の並びとみなすが、
意味解釈時には最初のもの以外は捨てる。
- HTML 4 文書の著者は URI 参照を一つだけ書く。
- HTML 4 妥当性検証器は複数個の URI 参照があっても妥当とするが、意味がないと警告する。

が適当な対処だと思われます。

[25]
''ちょっとしたメモ - 困ったちゃんのprofile属性'' <http://www.kanzaki.com/memo/2004/03/17-1>

これと同じ話。
([[名無しさん]] [WEAK[2004-03-18 01:10:42 +00:00]])

[35] 複数の URI 参照が認められるとすると、
相互の関係が問題になってきます。 XMDP [SRC[XMDP]] は、
HTML 4 が最初の URI 参照だけを使用すると規定していることから、
最初の URI 参照のプロファイルが一番優先度が高く、
最後の URI 参照のプロファイルが一番低いと解釈する
[WEAK[(同じ語彙が複数のプロファイルで定義されていれば、最初の方のものとみなす)]]
ことを提案しています。

[36]
HTML 4.0 で [CODE(HTMLe)[[[object]]]]
要素の [CODE(HTMLa)[[[archive]]]]
属性が [CODE(SGML)[%[[URI]]]] なのは間違いで、
複数の URI 参照を書けるとして HTML 4.01
で [CODE(SGML)[[[CDATA]]]]
に修正されました
[SRC[HTML 4.01 A.1.1.14]]。
[CODE(HTMLa)[profile]] 属性も同様に間違いで見落としただけの可能性があります。

[37]
[[Gecko]] の [[DOM]] で [CODE(HTMLe)[[[head]]]] 要素の
[CODE(DOMa)[[[profile]]]] [[DOM]] [[属性]]を取得すると[[絶対URI参照]]が得られますが、
[[間隔]]は [CODE(URI)[%20]] になります。
どうやら [[Gecko]] は [Q[a URI]]
として実装しているようです。

[[WinIE 6]] は
[CODE(DOMa)[[[profile]]]] [[DOM]] [[属性]]で[[要素属性]]の値が得られるのでどう考えているのかは分かりません。
([[名無しさん]] [WEAK[2005-05-07 05:56:20 +00:00]])

[38]
[[Opera 8]] も [[WinIE 6]] と同じ結果。
([[名無しさん]] [WEAK[2005-05-07 05:57:47 +00:00]])

[39]
[[Bjoern Hoehrmann]]が、いつまで種々の問題を放置しておく気だよと''[[TAG]]の''公開[[メイリング・リスト]]で指摘しました。

;; [CITE@@en[The xhtml:onkeypress architecture]]
<mid:ars1v1t936mbci521sdv2kacuhjfg4j06d@@hive.bjoern.hoehrmann.de>,
<http://permalink.gmane.org/gmane.org.w3c.tag/6797>

それに対して[[Steven Pemberton]]は、問題は解決したけど追跡システムで閉じておくのを忘れただけだと書きました。

;; [CITE@@en[Re: The xhtml:onkeypress architecture]]
<mid:43F1D421.3030600@@cwi.nl>,
<http://permalink.gmane.org/gmane.org.w3c.tag/6798>

そしてその後、追跡システムには

> The datatype for the profile was indeed changed to URI in M12N on purpose,
specifically so that it would be possible to use it as a possible means to
identify compound document profiles in the future.

> [CODE(HTMLa)@@en[[[profile]]]]の[[データ型]]は確かに[[URI]]に変更されたが、これは特に将来[[複合文書]]プロファイルの識別に使えるようにと考えてのことだ。

というメモが書かれたようです。

;; [CITE[HTML Working Group Voyager Issue Tracking System - Modularization-abstractions/8168]] 
<http://hades.mn.aptest.com/cgi-bin/voyager-issues/Modularization-abstractions?id=8168>

;; [[Bjoern Hoehrmann]]の[CITE@@en[Why profile="" allows only one URI]]
<mid:asv4v1di3rl55citjj3n4ad6dbe6svkah8@@hive.bjoern.hoehrmann.de>
<http://permalink.gmane.org/gmane.comp.web.html.general/6215>

;; 参考:
[CITE[HTML Working Group Voyager Issue Tracking System - HTML-4.01/6383]] 
<http://hades.mn.aptest.com/cgi-bin/voyager-issues/HTML-4.01?id=6383>,
[CITE[HTML Working Group Voyager Issue Tracking System - Modularization-text/8161]] <http://hades.mn.aptest.com/cgi-bin/voyager-issues/Modularization-text?id=8161>

([[名無しさん]] [WEAK[2006-02-15 08:18:17 +00:00]])

[40]
<http://htmlwg.mn.aptest.com/cgi-bin/voyager-issues/Modularization-abstractions?id=8168>
のコメントは変わっていませんが、 [[XHTML m12n 1.1]] [[LC]] [[WD]]
は [CODE@@en[[[URIs]]]] に変えちゃってます。

[CITE[XHTML Modularization 1.1 - XHTML Abstract Modules]] <http://www.w3.org/TR/2006/WD-xhtml-modularization-20060705/abstract_modules.html#s_structuremodule>
([[名無しさん]] [WEAK[2006-07-07 15:25:28 +00:00]])


[47]
>>39 確かに [[DTD]] [[モジュール]] 
<IW:XHTML1m12n:"dtd_module_defs.html#dtdelement_head.qname">
には、
>
[PRE(XML code)[
<!-- reserved for future use with document profiles
-->
<!ENTITY % profile.attrib
     "profile      %URI.datatype;           '%XHTML.profile;'"
>
]PRE]

とあります。
[[XHTML m12n]] の [CODE(HTMLa)@@en[[[profile]]]]
は [[HTML 4]] の [CODE(HTMLa)@@en[[[profile]]]]
とは別の[[属性]]のようです。


[[#comment]]


** プロファイル

[18] <IW:HTML4:"struct/global.html#profiles">
によれば、利用者エージェントは [CODE(HTMLa)[profile]] URI を2種類の方法で利用できます。
:大域固有名:[CODE(HTMLa)[profile]] URI を名前として扱い、そのプロファイル [WEAK[(別にそれを URL として資源取り出しに使う必要はない。)]] の知識を使って何かするとか。 [[XML名前空間]]の[[名前空間名]]のような使い方。
:[[リンク]]:[CODE(HTMLa)[profile]] URI を資源取り出しに使って、その実際の定義に基づいて何かするとか。

[19] [CITE[[[HTMLメタ情報プロファイル]]]]の項もご覧下さい。

[[#comment]]


*** 相対 URI 参照

[20] HTML 4 では、[[相対URI参照]]が認められるのかどうか明記されてはいませんが、
HTML 4 における「URI」の定義からすると認められるとみなすのが適当でしょうね。

実際上は [[XML名前空間]]の[[名前空間名]]と同じように、
相対 URI 参照は使わないことにした方が都合がいいかもしれません。
[WEAK[(たとえば [[CSS]] の[[選択子]]に使うこととか考えると。)]]

[21] 相対 URI 参照が使われていたとして、
何を基底としたらよいのでしょう。
[[HTTP]] や [[MIME]]
のような上位プロトコルの情報はもちろん
(必要なら) 使うとして、
あるいは [[XML]] 応用であれば
(その定義に依っては) [CODE(XML)[[[xml]]:[[base]]]]
属性を考慮してもよいかもしれませんが、
それよりもなによりも、 HTML
の [CODE(HTMLe)[[[base]]]]
要素の影響がどうなるか気になるところ。

[27]
[CODE(HTMLe)[base]] 要素の規定
(<IW:HTML4:"struct/links.html#h-12.4">) には、 
[CODE(HTMLa)[profile]] への適用を妨害するものは何もないようです。

但し、[[相対URI参照]]よりも [CODE(HTMLe)[[[base]]]]
要素による[[基底URI]] の定義は[[文書順]]で先に無ければならないことになっていますが、
[CODE(HTMLe)[base]] 要素を [CODE(HTMLe)[head]] 要素よりも前に持ってくることは不可能です。

[[#comment]]


*** 実際に使われている Profile

[1] [CITE[[[HTMLメタ情報プロファイル]]]]に移動しました。

** 歴史

@@@@ HTML4 & XHTML1 の定義に関してはすべてこの項に移動する

[16] 実際には [CODE(HTMLe)[[[head]]]] 要素の属性というよりは文書全体を通した属性とする方が適切であるので、
[[XHTML 2]] では [CODE(HTMLe)[[[html]]]] 要素の属性になります。

@@@@ [[microformats]] との関係を簡潔に

@@@@ [[HTML 5]] でより厳密に定義されているが、
[[Ian Hickson]] がやっぱり消そうという勢い

[[#comment]]

** 実装

@@@@ 属性値の項の実装関係の記述をこちらに移動する

@@@@ [CODE(HTMLa)@@en[[[profile]]]] をみる実装があるのか?

[[#comment]]

** 利用状況

@@@@ 以前はまったく使われていなかった、
仕様書に従う人も知ってて無視していた

@@@@
- 少し状況が変わって、プロファイルが沢山作られた
- 未だにまったく使われていないと主張する人もいるが、あたらない
- だけど絶対数として少ないのは事実、
現実問題として使い道がないし

[[#comment]]

** メモ

[[#comment]]

* [CODE(MIME)@@en[profile]] 引数 ([CODE(MIME)@@en[application/xhtml+xml]], [CODE(MIME)@@en[application/smil+xml]], [CODE(MIME)@@en[application/smil]])

[23]
[[XHTML]] の[[媒体型]] [CODE(MIME)@@en[[[application/xhtml+xml]]]],
[[SMIL]] の[[媒体型]] [CODE(MIME)@@en[[[application/smil+xml]]]],
[CODE(MIME)@@en[[[application/smil]]]]
で定義されている[[引数]] [DFN@@en[[CODE(MIME)@@en[[[profile]]]]]]
は、[[名札付け]]された[[実体]]が使用している[[マーク付け言語]]の[[プロファイル]]を指定します。

[42]
:[[媒体型]]:[CODE(MIME)@@en[[[application/xhtml+xml]]]],
[CODE(MIME)@@en[[[application/smil+xml]]]],
[CODE(MIME)@@en[[[application/smil]]]]
:[[引数名]]:[CODE(MIME)@@en[[[profile]]]]
([Q@@en[[[profile]]]] ([Q@@en[[[プロファイル]]]]) より)
:[[引数値]]:[[URI]]
:[[既定値]]:([[プロファイル]]指定なし)
:状態:[[IETF]] [[情報提供]] [[RFC]]

[41]
仕様書:
- [[RFC 4536]] ([CODE(MIME)@@en[[[application/smil+xml]]]],
[CODE(MIME)@@en[[[application/smil]]]])
<urn:ietf:rfc:4536> ([[IETF]] [[情報提供]] [[RFC]])
-- [CSECTION@@en[5.  The [CODE(MIME)@@en[[[profile]]]] Optional Parameter]]

[43]
この[[引数]]は、[[内容折衝]]で受信側の能力を示すために使う
[WEAK[(例えば [CODE(HTTP)@@en[[[Accept]]:]] で使う)]]
ことを想定しています。
特に、形式の変換を行う[[串]]が使うことを想定しています。
送信側が[[実体]]に[[名札付け]]するために使う
[WEAK[(例えば [CODE(MIME)@@en[[[Content-Type]]:]]]]
で使う)]] ことは想定していません。
[SRC@@en[[[RFC 4536]] 5.]]

[[#comment]]


** 関連

[45]
[CODE(MIME)@@en[[[profile]]]] [[引数]]は、 [[CC/PP]]
が使われるようになるまでのつなぎです。
[SRC@@en[[[RFC 4536]] 5.]]

[29]
いくらつなぎ規格だからと言っても、提案している当の W3C の規格 (XHTML 1.0 とか 1.1 とか SMIL 2.0 とか SMIL Basic とか) の [CODE(MIME)[profile]] URI が規定されていないあたり、やる気がまったく感じられませぬ。

[46]
[[CC/PP]] も失敗色が。。。

[[#comment]]


** 例

[13] [CODE(URI)[http://www.wapforum.org/xhtml]] : [[XHTML Mobile Profile]] 
(<http://www.openmobilealliance.org/wapdocs/wap-277-xhtmlmp-20011029-a.pdf> 7.2 参照)

[12] <http://www.geocities.co.jp/Hollywood-Studio/8691/>: <http://math.oheya.to/dtd/geo/geo-html11.dtd> の。

[44] 例 [SRC@@en[[[RFC 4536]] 5.]]
[PRE(HTTP example code)[
Accept: application/smil+xml;
   profile="http://www.w3.org/2001/SMIL20/HostLanguage"
]PRE]

[[#comment]]


** メモ

[[#comment]]


@


1.15
log
@auto-committed
@
text
@d1 150
a150 147


* [CODE(HTMLe)[head]] 要素 [CODE(HTMLa)[profile]] 属性 (HTML, XHTML 1)

[15] [[HTML]] の [CODE(HTMLe)[[[head]]]] 要素の
[DFN[[CODE(HTMLa)[profile]] [[属性]]]]は、
[[プロファイル]] [WEAK[([[メタ情報]]の名前付き辞書)]]
を参照するために使うことができます。
プロファイルについて詳しくは[CITE[[[HTMLメタ情報プロファイル]]]]をご覧下さい。

[33] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[[[head]]]] 要素 [CODE(HTMLa)[[[profile]]]] 属性
<IW:HTML4:"struct/global.html#adef-profile">
-- [CSECTION[Meta data profiles]]
<IW:HTML4:"struct/global.html#profiles">
- [XMDP] [CITE[XMDP: Introduction and Format Description]] 
<http://gmpg.org/xmdp/description>

[34]
値は[[空白]]で分離した一つ以上の [[URI参照]]の並びで、
大文字・小文字が区別されます。但し、二つ目以降の
URI 参照は無視されます。詳しくは >>3-14 を参照。

[16] 実際には [CODE(HTMLe)[[[head]]]] 要素の属性というよりは文書全体を通した属性とする方が適切であるので、
[[XHTML 2]] では [CODE(HTMLe)[[[html]]]] 要素の属性になります。

[17] ここで指定したプロファイルは、すべての [CODE(HTMLe)[[[meta]]]] 要素, 
[CODE(HTMLe)[[[link]]]] 要素に適用されます。 <IW:HTML4:"struct/global.html#edef-META"> HTML 4 ではプロファイルは最初の1つの URI 参照しか意味を持ちませんから、そのプロファイルですべてのメタ・データ特性を定義しないといけないことになります。

[30]
[CITE[Welcome to GMPG]] <http://gmpg.org/>
([[名無しさん]])

[[#comment]]


** A URI or URIs?

- [3] [[HTML 4]] 本文では、値は複数指定できる (最初の1つしか意味は持たないが。) と明記されています: ''The global structure of an HTML document'' <IW:HTML4:"struct/global.html#adef-profile">
- [4] しかし [[DTD]] の [CODE(HTML)[%URI;]] の注釈は、 ''a'' URI になっています: ''HTML 4 Document Type Definition'' <IW:HTML4:"sgml/dtd.html#URI">
- [5] [CODE(HTML)[%URI;]] に対応する本文の説明は ''URIs'' になっていますが、複数 URI ではなく指定できる値の集合として複数形になっていると思われます (他の型や属性との関係上。): ''Basic HTML data types'' <IW:HTML4:"types.html#type-uri">
- [6] 意図的なのか誤りなのかは不明ですが、本文ではっきり複数書けると明記されていますから、 DTD が間違いの可能性が高いでしょう。
- [7] DTD の内容はほぼそのまま XHTML 1.0, XHTML m12n に受け継がれていますから、同様の問題があります。 XHTML 1 は要素の具体的定義は HTML4 参照でして、仕様書に全く明記されてないのが更に問題。
- [8] XHTML 2.0 (WD) では値の定義が ''URI'' とは別の ''URIs'' に改められているので、この問題は解決しそうです。
- [9] >>6-7 HTML4 にはないが XHTML には [CODE(HTML)[%URIs;]] 系のものがあるんだから、それを参照していないのは問題だよなあ

[14] >>3-9 属性値は空白分離の URI の並びだけど、
HTML 4 では最初のものだけが意味を持つと書いてあります。
複数個の URI が書かれたときの解釈は将来の版で規定する
(かもしれない) ということで、
このようなごちゃごちゃしたことになっているのでしょう。

- HTML 4 適合 UA は一つ以上の URI 参照の並びとみなすが、
意味解釈時には最初のもの以外は捨てる。
- HTML 4 文書の著者は URI 参照を一つだけ書く。
- HTML 4 妥当性検証器は複数個の URI 参照があっても妥当とするが、意味がないと警告する。

が適当な対処だと思われます。

[25]
''ちょっとしたメモ - 困ったちゃんのprofile属性'' <http://www.kanzaki.com/memo/2004/03/17-1>

これと同じ話。
([[名無しさん]] [WEAK[2004-03-18 01:10:42 +00:00]])

[35] 複数の URI 参照が認められるとすると、
相互の関係が問題になってきます。 XMDP [SRC[XMDP]] は、
HTML 4 が最初の URI 参照だけを使用すると規定していることから、
最初の URI 参照のプロファイルが一番優先度が高く、
最後の URI 参照のプロファイルが一番低いと解釈する
[WEAK[(同じ語彙が複数のプロファイルで定義されていれば、最初の方のものとみなす)]]
ことを提案しています。

[36]
HTML 4.0 で [CODE(HTMLe)[[[object]]]]
要素の [CODE(HTMLa)[[[archive]]]]
属性が [CODE(SGML)[%[[URI]]]] なのは間違いで、
複数の URI 参照を書けるとして HTML 4.01
で [CODE(SGML)[[[CDATA]]]]
に修正されました
[SRC[HTML 4.01 A.1.1.14]]。
[CODE(HTMLa)[profile]] 属性も同様に間違いで見落としただけの可能性があります。
([[名無しさん]] [sage])

[37]
[[Gecko]] の [[DOM]] で [CODE(HTMLe)[[[head]]]] 要素の
[CODE(DOMa)[[[profile]]]] [[DOM]] [[属性]]を取得すると[[絶対URI参照]]が得られますが、
[[間隔]]は [CODE(URI)[%20]] になります。
どうやら [[Gecko]] は [Q[a URI]]
として実装しているようです。

[[WinIE 6]] は
[CODE(DOMa)[[[profile]]]] [[DOM]] [[属性]]で[[要素属性]]の値が得られるのでどう考えているのかは分かりません。
([[名無しさん]] [WEAK[2005-05-07 05:56:20 +00:00]])

[38]
[[Opera 8]] も [[WinIE 6]] と同じ結果。
([[名無しさん]] [WEAK[2005-05-07 05:57:47 +00:00]])

[39]
[[Bjoern Hoehrmann]]が、いつまで種々の問題を放置しておく気だよと''[[TAG]]の''公開[[メイリング・リスト]]で指摘しました。

;; [CITE@@en[The xhtml:onkeypress architecture]]
<mid:ars1v1t936mbci521sdv2kacuhjfg4j06d@@hive.bjoern.hoehrmann.de>,
<http://permalink.gmane.org/gmane.org.w3c.tag/6797>

それに対して[[Steven Pemberton]]は、問題は解決したけど追跡システムで閉じておくのを忘れただけだと書きました。

;; [CITE@@en[Re: The xhtml:onkeypress architecture]]
<mid:43F1D421.3030600@@cwi.nl>,
<http://permalink.gmane.org/gmane.org.w3c.tag/6798>

そしてその後、追跡システムには

> The datatype for the profile was indeed changed to URI in M12N on purpose,
specifically so that it would be possible to use it as a possible means to
identify compound document profiles in the future.

> [CODE(HTMLa)@@en[[[profile]]]]の[[データ型]]は確かに[[URI]]に変更されたが、これは特に将来[[複合文書]]プロファイルの識別に使えるようにと考えてのことだ。

というメモが書かれたようです。

;; [CITE[HTML Working Group Voyager Issue Tracking System - Modularization-abstractions/8168]] 
<http://hades.mn.aptest.com/cgi-bin/voyager-issues/Modularization-abstractions?id=8168>

;; [[Bjoern Hoehrmann]]の[CITE@@en[Why profile="" allows only one URI]]
<mid:asv4v1di3rl55citjj3n4ad6dbe6svkah8@@hive.bjoern.hoehrmann.de>
<http://permalink.gmane.org/gmane.comp.web.html.general/6215>

;; 参考:
[CITE[HTML Working Group Voyager Issue Tracking System - HTML-4.01/6383]] 
<http://hades.mn.aptest.com/cgi-bin/voyager-issues/HTML-4.01?id=6383>,
[CITE[HTML Working Group Voyager Issue Tracking System - Modularization-text/8161]] <http://hades.mn.aptest.com/cgi-bin/voyager-issues/Modularization-text?id=8161>

([[名無しさん]] [WEAK[2006-02-15 08:18:17 +00:00]])

[40]
<http://htmlwg.mn.aptest.com/cgi-bin/voyager-issues/Modularization-abstractions?id=8168>
のコメントは変わっていませんが、 [[XHTML m12n 1.1]] [[LC]] [[WD]]
は [CODE@@en[[[URIs]]]] に変えちゃってます。

[CITE[XHTML Modularization 1.1 - XHTML Abstract Modules]] <http://www.w3.org/TR/2006/WD-xhtml-modularization-20060705/abstract_modules.html#s_structuremodule>
([[名無しさん]] [WEAK[2006-07-07 15:25:28 +00:00]])


[47]
d166 170
a335 133
とは別の[[属性]]のようです。
([[名無しさん]])


[[#comment]]


** プロファイル

[18] <IW:HTML4:"struct/global.html#profiles">
によれば、利用者エージェントは [CODE(HTMLa)[profile]] URI を2種類の方法で利用できます。
:大域固有名:[CODE(HTMLa)[profile]] URI を名前として扱い、そのプロファイル [WEAK[(別にそれを URL として資源取り出しに使う必要はない。)]] の知識を使って何かするとか。 [[XML名前空間]]の[[名前空間名]]のような使い方。
:[[リンク]]:[CODE(HTMLa)[profile]] URI を資源取り出しに使って、その実際の定義に基づいて何かするとか。

[19] [CITE[[[HTMLメタ情報プロファイル]]]]の項もご覧下さい。

[[#comment]]


*** 相対 URI 参照

[20] HTML 4 では、[[相対URI参照]]が認められるのかどうか明記されてはいませんが、
HTML 4 における「URI」の定義からすると認められるとみなすのが適当でしょうね。

実際上は [[XML名前空間]]の[[名前空間名]]と同じように、
相対 URI 参照は使わないことにした方が都合がいいかもしれません。
[WEAK[(たとえば [[CSS]] の[[選択子]]に使うこととか考えると。)]]

[21] 相対 URI 参照が使われていたとして、
何を基底としたらよいのでしょう。
[[HTTP]] や [[MIME]]
のような上位プロトコルの情報はもちろん
(必要なら) 使うとして、
あるいは [[XML]] 応用であれば
(その定義に依っては) [CODE(XML)[[[xml]]:[[base]]]]
属性を考慮してもよいかもしれませんが、
それよりもなによりも、 HTML
の [CODE(HTMLe)[[[base]]]]
要素の影響がどうなるか気になるところ。

[27]
[CODE(HTMLe)[base]] 要素の規定
(<IW:HTML4:"struct/links.html#h-12.4">) には、 
[CODE(HTMLa)[profile]] への適用を妨害するものは何もないようです。

但し、[[相対URI参照]]よりも [CODE(HTMLe)[[[base]]]]
要素による[[基底URI]] の定義は[[文書順]]で先に無ければならないことになっていますが、
[CODE(HTMLe)[base]] 要素を [CODE(HTMLe)[head]] 要素よりも前に持ってくることは不可能です。

[[#comment]]


*** 実際に使われている Profile

[1] [CITE[[[HTMLメタ情報プロファイル]]]]に移動しました。


* [CODE(MIME)@@en[profile]] 引数 ([CODE(MIME)@@en[application/xhtml+xml]], [CODE(MIME)@@en[application/smil+xml]], [CODE(MIME)@@en[application/smil]])

[23]
[[XHTML]] の[[媒体型]] [CODE(MIME)@@en[[[application/xhtml+xml]]]],
[[SMIL]] の[[媒体型]] [CODE(MIME)@@en[[[application/smil+xml]]]],
[CODE(MIME)@@en[[[application/smil]]]]
で定義されている[[引数]] [DFN@@en[[CODE(MIME)@@en[[[profile]]]]]]
は、[[名札付け]]された[[実体]]が使用している[[マーク付け言語]]の[[プロファイル]]を指定します。

[42]
:[[媒体型]]:[CODE(MIME)@@en[[[application/xhtml+xml]]]],
[CODE(MIME)@@en[[[application/smil+xml]]]],
[CODE(MIME)@@en[[[application/smil]]]]
:[[引数名]]:[CODE(MIME)@@en[[[profile]]]]
([Q@@en[[[profile]]]] ([Q@@en[[[プロファイル]]]]) より)
:[[引数値]]:[[URI]]
:[[既定値]]:([[プロファイル]]指定なし)
:状態:[[IETF]] [[情報提供]] [[RFC]]

[41]
仕様書:
- [[RFC 4536]] ([CODE(MIME)@@en[[[application/smil+xml]]]],
[CODE(MIME)@@en[[[application/smil]]]])
<urn:ietf:rfc:4536> ([[IETF]] [[情報提供]] [[RFC]])
-- [CSECTION@@en[5.  The [CODE(MIME)@@en[[[profile]]]] Optional Parameter]]

[43]
この[[引数]]は、[[内容折衝]]で受信側の能力を示すために使う
[WEAK[(例えば [CODE(HTTP)@@en[[[Accept]]:]] で使う)]]
ことを想定しています。
特に、形式の変換を行う[[串]]が使うことを想定しています。
送信側が[[実体]]に[[名札付け]]するために使う
[WEAK[(例えば [CODE(MIME)@@en[[[Content-Type]]:]]]]
で使う)]] ことは想定していません。
[SRC@@en[[[RFC 4536]] 5.]]

[[#comment]]


** 関連

[45]
[CODE(MIME)@@en[[[profile]]]] [[引数]]は、 [[CC/PP]]
が使われるようになるまでのつなぎです。
[SRC@@en[[[RFC 4536]] 5.]]

[29]
いくらつなぎ規格だからと言っても、提案している当の W3C の規格 (XHTML 1.0 とか 1.1 とか SMIL 2.0 とか SMIL Basic とか) の [CODE(MIME)[profile]] URI が規定されていないあたり、やる気がまったく感じられませぬ。

[46]
[[CC/PP]] も失敗色が。。。

[[#comment]]


** 例

[13] [CODE(URI)[http://www.wapforum.org/xhtml]] : [[XHTML Mobile Profile]] 
(<http://www.openmobilealliance.org/wapdocs/wap-277-xhtmlmp-20011029-a.pdf> 7.2 参照)

[12] <http://www.geocities.co.jp/Hollywood-Studio/8691/>: <http://math.oheya.to/dtd/geo/geo-html11.dtd> の。

[44] 例 [SRC@@en[[[RFC 4536]] 5.]]
[PRE(HTTP example code)[
Accept: application/smil+xml;
   profile="http://www.w3.org/2001/SMIL20/HostLanguage"
]PRE]

[[#comment]]


** メモ

[[#comment]]


@


1.14
log
@auto-committed
@
text
@d1 157
a157 262

* [CODE(HTMLe)[head]] 要素 [CODE(HTMLa)[profile]] 属性 (HTML, XHTML 1)

[15] [[HTML]] の [CODE(HTMLe)[[[head]]]] 要素の
[DFN[[CODE(HTMLa)[profile]] [[属性]]]]は、
[[プロファイル]] [WEAK[([[メタ情報]]の名前付き辞書)]]
を参照するために使うことができます。
プロファイルについて詳しくは[CITE[[[HTMLメタ情報プロファイル]]]]をご覧下さい。

[33] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[[[head]]]] 要素 [CODE(HTMLa)[[[profile]]]] 属性
<IW:HTML4:"struct/global.html#adef-profile">
-- [CSECTION[Meta data profiles]]
<IW:HTML4:"struct/global.html#profiles">
- [XMDP] [CITE[XMDP: Introduction and Format Description]] 
<http://gmpg.org/xmdp/description>

[34]
値は[[空白]]で分離した一つ以上の [[URI参照]]の並びで、
大文字・小文字が区別されます。但し、二つ目以降の
URI 参照は無視されます。詳しくは >>3-14 を参照。

[16] 実際には [CODE(HTMLe)[[[head]]]] 要素の属性というよりは文書全体を通した属性とする方が適切であるので、
[[XHTML 2]] では [CODE(HTMLe)[[[html]]]] 要素の属性になります。

[17] ここで指定したプロファイルは、すべての [CODE(HTMLe)[[[meta]]]] 要素, 
[CODE(HTMLe)[[[link]]]] 要素に適用されます。 <IW:HTML4:"struct/global.html#edef-META"> HTML 4 ではプロファイルは最初の1つの URI 参照しか意味を持ちませんから、そのプロファイルですべてのメタ・データ特性を定義しないといけないことになります。

[30]
[CITE[Welcome to GMPG]] <http://gmpg.org/>
([[名無しさん]])

[[#comment]]


** A URI or URIs?

- [3] [[HTML 4]] 本文では、値は複数指定できる (最初の1つしか意味は持たないが。) と明記されています: ''The global structure of an HTML document'' <IW:HTML4:"struct/global.html#adef-profile">
- [4] しかし [[DTD]] の [CODE(HTML)[%URI;]] の注釈は、 ''a'' URI になっています: ''HTML 4 Document Type Definition'' <IW:HTML4:"sgml/dtd.html#URI">
- [5] [CODE(HTML)[%URI;]] に対応する本文の説明は ''URIs'' になっていますが、複数 URI ではなく指定できる値の集合として複数形になっていると思われます (他の型や属性との関係上。): ''Basic HTML data types'' <IW:HTML4:"types.html#type-uri">
- [6] 意図的なのか誤りなのかは不明ですが、本文ではっきり複数書けると明記されていますから、 DTD が間違いの可能性が高いでしょう。
- [7] DTD の内容はほぼそのまま XHTML 1.0, XHTML m12n に受け継がれていますから、同様の問題があります。 XHTML 1 は要素の具体的定義は HTML4 参照でして、仕様書に全く明記されてないのが更に問題。
- [8] XHTML 2.0 (WD) では値の定義が ''URI'' とは別の ''URIs'' に改められているので、この問題は解決しそうです。
- [9] >>6-7 HTML4 にはないが XHTML には [CODE(HTML)[%URIs;]] 系のものがあるんだから、それを参照していないのは問題だよなあ

[14] >>3-9 属性値は空白分離の URI の並びだけど、
HTML 4 では最初のものだけが意味を持つと書いてあります。
複数個の URI が書かれたときの解釈は将来の版で規定する
(かもしれない) ということで、
このようなごちゃごちゃしたことになっているのでしょう。

- HTML 4 適合 UA は一つ以上の URI 参照の並びとみなすが、
意味解釈時には最初のもの以外は捨てる。
- HTML 4 文書の著者は URI 参照を一つだけ書く。
- HTML 4 妥当性検証器は複数個の URI 参照があっても妥当とするが、意味がないと警告する。

が適当な対処だと思われます。

[25]
''ちょっとしたメモ - 困ったちゃんのprofile属性'' <http://www.kanzaki.com/memo/2004/03/17-1>

これと同じ話。
([[名無しさん]] [WEAK[2004-03-18 01:10:42 +00:00]])

[35] 複数の URI 参照が認められるとすると、
相互の関係が問題になってきます。 XMDP [SRC[XMDP]] は、
HTML 4 が最初の URI 参照だけを使用すると規定していることから、
最初の URI 参照のプロファイルが一番優先度が高く、
最後の URI 参照のプロファイルが一番低いと解釈する
[WEAK[(同じ語彙が複数のプロファイルで定義されていれば、最初の方のものとみなす)]]
ことを提案しています。

[36]
HTML 4.0 で [CODE(HTMLe)[[[object]]]]
要素の [CODE(HTMLa)[[[archive]]]]
属性が [CODE(SGML)[%[[URI]]]] なのは間違いで、
複数の URI 参照を書けるとして HTML 4.01
で [CODE(SGML)[[[CDATA]]]]
に修正されました
[SRC[HTML 4.01 A.1.1.14]]。
[CODE(HTMLa)[profile]] 属性も同様に間違いで見落としただけの可能性があります。
([[名無しさん]] [sage])

[37]
[[Gecko]] の [[DOM]] で [CODE(HTMLe)[[[head]]]] 要素の
[CODE(DOMa)[[[profile]]]] [[DOM]] [[属性]]を取得すると[[絶対URI参照]]が得られますが、
[[間隔]]は [CODE(URI)[%20]] になります。
どうやら [[Gecko]] は [Q[a URI]]
として実装しているようです。

[[WinIE 6]] は
[CODE(DOMa)[[[profile]]]] [[DOM]] [[属性]]で[[要素属性]]の値が得られるのでどう考えているのかは分かりません。
([[名無しさん]] [WEAK[2005-05-07 05:56:20 +00:00]])

[38]
[[Opera 8]] も [[WinIE 6]] と同じ結果。
([[名無しさん]] [WEAK[2005-05-07 05:57:47 +00:00]])

[39]
[[Bjoern Hoehrmann]]が、いつまで種々の問題を放置しておく気だよと''[[TAG]]の''公開[[メイリング・リスト]]で指摘しました。

;; [CITE@@en[The xhtml:onkeypress architecture]]
<mid:ars1v1t936mbci521sdv2kacuhjfg4j06d@@hive.bjoern.hoehrmann.de>,
<http://permalink.gmane.org/gmane.org.w3c.tag/6797>

それに対して[[Steven Pemberton]]は、問題は解決したけど追跡システムで閉じておくのを忘れただけだと書きました。

;; [CITE@@en[Re: The xhtml:onkeypress architecture]]
<mid:43F1D421.3030600@@cwi.nl>,
<http://permalink.gmane.org/gmane.org.w3c.tag/6798>

そしてその後、追跡システムには

> The datatype for the profile was indeed changed to URI in M12N on purpose,
specifically so that it would be possible to use it as a possible means to
identify compound document profiles in the future.

> [CODE(HTMLa)@@en[[[profile]]]]の[[データ型]]は確かに[[URI]]に変更されたが、これは特に将来[[複合文書]]プロファイルの識別に使えるようにと考えてのことだ。

というメモが書かれたようです。

;; [CITE[HTML Working Group Voyager Issue Tracking System - Modularization-abstractions/8168]] 
<http://hades.mn.aptest.com/cgi-bin/voyager-issues/Modularization-abstractions?id=8168>

;; [[Bjoern Hoehrmann]]の[CITE@@en[Why profile="" allows only one URI]]
<mid:asv4v1di3rl55citjj3n4ad6dbe6svkah8@@hive.bjoern.hoehrmann.de>
<http://permalink.gmane.org/gmane.comp.web.html.general/6215>

;; 参考:
[CITE[HTML Working Group Voyager Issue Tracking System - HTML-4.01/6383]] 
<http://hades.mn.aptest.com/cgi-bin/voyager-issues/HTML-4.01?id=6383>,
[CITE[HTML Working Group Voyager Issue Tracking System - Modularization-text/8161]] <http://hades.mn.aptest.com/cgi-bin/voyager-issues/Modularization-text?id=8161>

([[名無しさん]] [WEAK[2006-02-15 08:18:17 +00:00]])


[40]
<http://htmlwg.mn.aptest.com/cgi-bin/voyager-issues/Modularization-abstractions?id=8168>
のコメントは変わっていませんが、 [[XHTML m12n 1.1]] [[LC]] [[WD]]
は [CODE@@en[[[URIs]]]] に変えちゃってます。

[CITE[XHTML Modularization 1.1 - XHTML Abstract Modules]] <http://www.w3.org/TR/2006/WD-xhtml-modularization-20060705/abstract_modules.html#s_structuremodule>
([[名無しさん]] [WEAK[2006-07-07 15:25:28 +00:00]])


[[#comment]]


** プロファイル

[18] <IW:HTML4:"struct/global.html#profiles">
によれば、利用者エージェントは [CODE(HTMLa)[profile]] URI を2種類の方法で利用できます。
:大域固有名:[CODE(HTMLa)[profile]] URI を名前として扱い、そのプロファイル [WEAK[(別にそれを URL として資源取り出しに使う必要はない。)]] の知識を使って何かするとか。 [[XML名前空間]]の[[名前空間名]]のような使い方。
:[[リンク]]:[CODE(HTMLa)[profile]] URI を資源取り出しに使って、その実際の定義に基づいて何かするとか。

[19] [CITE[[[HTMLメタ情報プロファイル]]]]の項もご覧下さい。

[[#comment]]


*** 相対 URI 参照

[20] HTML 4 では、[[相対URI参照]]が認められるのかどうか明記されてはいませんが、
HTML 4 における「URI」の定義からすると認められるとみなすのが適当でしょうね。

実際上は [[XML名前空間]]の[[名前空間名]]と同じように、
相対 URI 参照は使わないことにした方が都合がいいかもしれません。
[WEAK[(たとえば [[CSS]] の[[選択子]]に使うこととか考えると。)]]

[21] 相対 URI 参照が使われていたとして、
何を基底としたらよいのでしょう。
[[HTTP]] や [[MIME]]
のような上位プロトコルの情報はもちろん
(必要なら) 使うとして、
あるいは [[XML]] 応用であれば
(その定義に依っては) [CODE(XML)[[[xml]]:[[base]]]]
属性を考慮してもよいかもしれませんが、
それよりもなによりも、 HTML
の [CODE(HTMLe)[[[base]]]]
要素の影響がどうなるか気になるところ。

[27]
[CODE(HTMLe)[base]] 要素の規定
(<IW:HTML4:"struct/links.html#h-12.4">) には、 
[CODE(HTMLa)[profile]] への適用を妨害するものは何もないようです。

但し、[[相対URI参照]]よりも [CODE(HTMLe)[[[base]]]]
要素による[[基底URI]] の定義は[[文書順]]で先に無ければならないことになっていますが、
[CODE(HTMLe)[base]] 要素を [CODE(HTMLe)[head]] 要素よりも前に持ってくることは不可能です。

[[#comment]]


*** 実際に使われている Profile

[1] [CITE[[[HTMLメタ情報プロファイル]]]]に移動しました。

* [CODE(MIME)@@en[profile]] 引数 ([CODE(MIME)@@en[application/xhtml+xml]], [CODE(MIME)@@en[application/smil+xml]], [CODE(MIME)@@en[application/smil]])

[23]
[[XHTML]] の[[媒体型]] [CODE(MIME)@@en[[[application/xhtml+xml]]]],
[[SMIL]] の[[媒体型]] [CODE(MIME)@@en[[[application/smil+xml]]]],
[CODE(MIME)@@en[[[application/smil]]]]
で定義されている[[引数]] [DFN@@en[[CODE(MIME)@@en[[[profile]]]]]]
は、[[名札付け]]された[[実体]]が使用している[[マーク付け言語]]の[[プロファイル]]を指定します。

[42]
:[[媒体型]]:[CODE(MIME)@@en[[[application/xhtml+xml]]]],
[CODE(MIME)@@en[[[application/smil+xml]]]],
[CODE(MIME)@@en[[[application/smil]]]]
:[[引数名]]:[CODE(MIME)@@en[[[profile]]]]
([Q@@en[[[profile]]]] ([Q@@en[[[プロファイル]]]]) より)
:[[引数値]]:[[URI]]
:[[既定値]]:([[プロファイル]]指定なし)
:状態:[[IETF]] [[情報提供]] [[RFC]]

[41]
仕様書:
- [[RFC 4536]] ([CODE(MIME)@@en[[[application/smil+xml]]]],
[CODE(MIME)@@en[[[application/smil]]]])
<urn:ietf:rfc:4536> ([[IETF]] [[情報提供]] [[RFC]])
-- [CSECTION@@en[5.  The [CODE(MIME)@@en[[[profile]]]] Optional Parameter]]

[43]
この[[引数]]は、[[内容折衝]]で受信側の能力を示すために使う
[WEAK[(例えば [CODE(HTTP)@@en[[[Accept]]:]] で使う)]]
ことを想定しています。
特に、形式の変換を行う[[串]]が使うことを想定しています。
送信側が[[実体]]に[[名札付け]]するために使う
[WEAK[(例えば [CODE(MIME)@@en[[[Content-Type]]:]]
で使う)]] ことは想定していません。
[SRC@@en[[[RFC 4536]] 5.]]

[[#comment]]

** 関連

[45]
[CODE(MIME)@@en[[[profile]]]] [[引数]]は、 [[CC/PP]]
が使われるようになるまでのつなぎです。
[SRC@@en[[[RFC 4536]] 5.]]

[29]
いくらつなぎ規格だからと言っても、提案している当の W3C の規格 (XHTML 1.0 とか 1.1 とか SMIL 2.0 とか SMIL Basic とか) の [CODE(MIME)[profile]] URI が規定されていないあたり、やる気がまったく感じられませぬ。

[46]
[[CC/PP]] も失敗色が。。。

[[#comment]]

** 例

[13] [CODE(URI)[http://www.wapforum.org/xhtml]] : [[XHTML Mobile Profile]] 
(<http://www.openmobilealliance.org/wapdocs/wap-277-xhtmlmp-20011029-a.pdf> 7.2 参照)

[12] <http://www.geocities.co.jp/Hollywood-Studio/8691/>: <http://math.oheya.to/dtd/geo/geo-html11.dtd> の。

[44] 例 [SRC@@en[[[RFC 4536]] 5.]]
[PRE(HTTP example code)[
Accept: application/smil+xml;
   profile="http://www.w3.org/2001/SMIL20/HostLanguage"
d160 136
a295 8
[[#comment]]

** メモ



[[#comment]]

@


1.13
log
@auto-committed
@
text
@d1 138
a138 139


* [CODE(HTMLe)[head]] 要素 [CODE(HTMLa)[profile]] 属性 (HTML, XHTML 1)

[15] [[HTML]] の [CODE(HTMLe)[[[head]]]] 要素の
[DFN[[CODE(HTMLa)[profile]] [[属性]]]]は、
[[プロファイル]] [WEAK[([[メタ情報]]の名前付き辞書)]]
を参照するために使うことができます。
プロファイルについて詳しくは[CITE[[[HTMLメタ情報プロファイル]]]]をご覧下さい。

[33] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[[[head]]]] 要素 [CODE(HTMLa)[[[profile]]]] 属性
<IW:HTML4:"struct/global.html#adef-profile">
-- [CSECTION[Meta data profiles]]
<IW:HTML4:"struct/global.html#profiles">
- [XMDP] [CITE[XMDP: Introduction and Format Description]] 
<http://gmpg.org/xmdp/description>

[34]
値は[[空白]]で分離した一つ以上の [[URI参照]]の並びで、
大文字・小文字が区別されます。但し、二つ目以降の
URI 参照は無視されます。詳しくは >>3-14 を参照。

[16] 実際には [CODE(HTMLe)[[[head]]]] 要素の属性というよりは文書全体を通した属性とする方が適切であるので、
[[XHTML 2]] では [CODE(HTMLe)[[[html]]]] 要素の属性になります。

[17] ここで指定したプロファイルは、すべての [CODE(HTMLe)[[[meta]]]] 要素, 
[CODE(HTMLe)[[[link]]]] 要素に適用されます。 <IW:HTML4:"struct/global.html#edef-META"> HTML 4 ではプロファイルは最初の1つの URI 参照しか意味を持ちませんから、そのプロファイルですべてのメタ・データ特性を定義しないといけないことになります。

[30]
[CITE[Welcome to GMPG]] <http://gmpg.org/>
([[名無しさん]])

[[#comment]]


** A URI or URIs?

- [3] [[HTML 4]] 本文では、値は複数指定できる (最初の1つしか意味は持たないが。) と明記されています: ''The global structure of an HTML document'' <IW:HTML4:"struct/global.html#adef-profile">
- [4] しかし [[DTD]] の [CODE(HTML)[%URI;]] の注釈は、 ''a'' URI になっています: ''HTML 4 Document Type Definition'' <IW:HTML4:"sgml/dtd.html#URI">
- [5] [CODE(HTML)[%URI;]] に対応する本文の説明は ''URIs'' になっていますが、複数 URI ではなく指定できる値の集合として複数形になっていると思われます (他の型や属性との関係上。): ''Basic HTML data types'' <IW:HTML4:"types.html#type-uri">
- [6] 意図的なのか誤りなのかは不明ですが、本文ではっきり複数書けると明記されていますから、 DTD が間違いの可能性が高いでしょう。
- [7] DTD の内容はほぼそのまま XHTML 1.0, XHTML m12n に受け継がれていますから、同様の問題があります。 XHTML 1 は要素の具体的定義は HTML4 参照でして、仕様書に全く明記されてないのが更に問題。
- [8] XHTML 2.0 (WD) では値の定義が ''URI'' とは別の ''URIs'' に改められているので、この問題は解決しそうです。
- [9] >>6-7 HTML4 にはないが XHTML には [CODE(HTML)[%URIs;]] 系のものがあるんだから、それを参照していないのは問題だよなあ

[14] >>3-9 属性値は空白分離の URI の並びだけど、
HTML 4 では最初のものだけが意味を持つと書いてあります。
複数個の URI が書かれたときの解釈は将来の版で規定する
(かもしれない) ということで、
このようなごちゃごちゃしたことになっているのでしょう。

- HTML 4 適合 UA は一つ以上の URI 参照の並びとみなすが、
意味解釈時には最初のもの以外は捨てる。
- HTML 4 文書の著者は URI 参照を一つだけ書く。
- HTML 4 妥当性検証器は複数個の URI 参照があっても妥当とするが、意味がないと警告する。

が適当な対処だと思われます。

[25]
''ちょっとしたメモ - 困ったちゃんのprofile属性'' <http://www.kanzaki.com/memo/2004/03/17-1>

これと同じ話。
([[名無しさん]] [WEAK[2004-03-18 01:10:42 +00:00]])

[35] 複数の URI 参照が認められるとすると、
相互の関係が問題になってきます。 XMDP [SRC[XMDP]] は、
HTML 4 が最初の URI 参照だけを使用すると規定していることから、
最初の URI 参照のプロファイルが一番優先度が高く、
最後の URI 参照のプロファイルが一番低いと解釈する
[WEAK[(同じ語彙が複数のプロファイルで定義されていれば、最初の方のものとみなす)]]
ことを提案しています。

[36]
HTML 4.0 で [CODE(HTMLe)[[[object]]]]
要素の [CODE(HTMLa)[[[archive]]]]
属性が [CODE(SGML)[%[[URI]]]] なのは間違いで、
複数の URI 参照を書けるとして HTML 4.01
で [CODE(SGML)[[[CDATA]]]]
に修正されました
[SRC[HTML 4.01 A.1.1.14]]。
[CODE(HTMLa)[profile]] 属性も同様に間違いで見落としただけの可能性があります。
([[名無しさん]] [sage])

[37]
[[Gecko]] の [[DOM]] で [CODE(HTMLe)[[[head]]]] 要素の
[CODE(DOMa)[[[profile]]]] [[DOM]] [[属性]]を取得すると[[絶対URI参照]]が得られますが、
[[間隔]]は [CODE(URI)[%20]] になります。
どうやら [[Gecko]] は [Q[a URI]]
として実装しているようです。

[[WinIE 6]] は
[CODE(DOMa)[[[profile]]]] [[DOM]] [[属性]]で[[要素属性]]の値が得られるのでどう考えているのかは分かりません。
([[名無しさん]] [WEAK[2005-05-07 05:56:20 +00:00]])

[38]
[[Opera 8]] も [[WinIE 6]] と同じ結果。
([[名無しさん]] [WEAK[2005-05-07 05:57:47 +00:00]])

[39]
[[Bjoern Hoehrmann]]が、いつまで種々の問題を放置しておく気だよと''[[TAG]]の''公開[[メイリング・リスト]]で指摘しました。

;; [CITE@@en[The xhtml:onkeypress architecture]]
<mid:ars1v1t936mbci521sdv2kacuhjfg4j06d@@hive.bjoern.hoehrmann.de>,
<http://permalink.gmane.org/gmane.org.w3c.tag/6797>

それに対して[[Steven Pemberton]]は、問題は解決したけど追跡システムで閉じておくのを忘れただけだと書きました。

;; [CITE@@en[Re: The xhtml:onkeypress architecture]]
<mid:43F1D421.3030600@@cwi.nl>,
<http://permalink.gmane.org/gmane.org.w3c.tag/6798>

そしてその後、追跡システムには

> The datatype for the profile was indeed changed to URI in M12N on purpose,
specifically so that it would be possible to use it as a possible means to
identify compound document profiles in the future.

> [CODE(HTMLa)@@en[[[profile]]]]の[[データ型]]は確かに[[URI]]に変更されたが、これは特に将来[[複合文書]]プロファイルの識別に使えるようにと考えてのことだ。

というメモが書かれたようです。

;; [CITE[HTML Working Group Voyager Issue Tracking System - Modularization-abstractions/8168]] 
<http://hades.mn.aptest.com/cgi-bin/voyager-issues/Modularization-abstractions?id=8168>

;; [[Bjoern Hoehrmann]]の[CITE@@en[Why profile="" allows only one URI]]
<mid:asv4v1di3rl55citjj3n4ad6dbe6svkah8@@hive.bjoern.hoehrmann.de>
<http://permalink.gmane.org/gmane.comp.web.html.general/6215>

;; 参考:
[CITE[HTML Working Group Voyager Issue Tracking System - HTML-4.01/6383]] 
<http://hades.mn.aptest.com/cgi-bin/voyager-issues/HTML-4.01?id=6383>,
[CITE[HTML Working Group Voyager Issue Tracking System - Modularization-text/8161]] <http://hades.mn.aptest.com/cgi-bin/voyager-issues/Modularization-text?id=8161>

([[名無しさん]] [WEAK[2006-02-15 08:18:17 +00:00]])


[40]
d143 130
a272 77
[CITE[XHTML Modularization 1.1 - XHTML Abstract Modules]] <http://www.w3.org/TR/2006/WD-xhtml-modularization-20060705/abstract_modules.html#s_structuremodule>
([[名無しさん]] [WEAK[2006-07-07 15:25:28 +00:00]])


[[#comment]]


** プロファイル

[18] <IW:HTML4:"struct/global.html#profiles">
によれば、利用者エージェントは [CODE(HTMLa)[profile]] URI を2種類の方法で利用できます。
:大域固有名:[CODE(HTMLa)[profile]] URI を名前として扱い、そのプロファイル [WEAK[(別にそれを URL として資源取り出しに使う必要はない。)]] の知識を使って何かするとか。 [[XML名前空間]]の[[名前空間名]]のような使い方。
:[[リンク]]:[CODE(HTMLa)[profile]] URI を資源取り出しに使って、その実際の定義に基づいて何かするとか。

[19] [CITE[[[HTMLメタ情報プロファイル]]]]の項もご覧下さい。

[[#comment]]


*** 相対 URI 参照

[20] HTML 4 では、[[相対URI参照]]が認められるのかどうか明記されてはいませんが、
HTML 4 における「URI」の定義からすると認められるとみなすのが適当でしょうね。

実際上は [[XML名前空間]]の[[名前空間名]]と同じように、
相対 URI 参照は使わないことにした方が都合がいいかもしれません。
[WEAK[(たとえば [[CSS]] の[[選択子]]に使うこととか考えると。)]]

[21] 相対 URI 参照が使われていたとして、
何を基底としたらよいのでしょう。
[[HTTP]] や [[MIME]]
のような上位プロトコルの情報はもちろん
(必要なら) 使うとして、
あるいは [[XML]] 応用であれば
(その定義に依っては) [CODE(XML)[[[xml]]:[[base]]]]
属性を考慮してもよいかもしれませんが、
それよりもなによりも、 HTML
の [CODE(HTMLe)[[[base]]]]
要素の影響がどうなるか気になるところ。

[27]
[CODE(HTMLe)[base]] 要素の規定
(<IW:HTML4:"struct/links.html#h-12.4">) には、 
[CODE(HTMLa)[profile]] への適用を妨害するものは何もないようです。

但し、[[相対URI参照]]よりも [CODE(HTMLe)[[[base]]]]
要素による[[基底URI]] の定義は[[文書順]]で先に無ければならないことになっていますが、
[CODE(HTMLe)[base]] 要素を [CODE(HTMLe)[head]] 要素よりも前に持ってくることは不可能です。

[[#comment]]


*** 実際に使われている Profile

[1] [CITE[[[HTMLメタ情報プロファイル]]]]に移動しました。


* profile 引数 (媒体型 application/xhtml+xml)

- [23] [CODE(MIME)[[[application/smil+xml]]]] == [CODE(MIME)[[[application/smil]]]] にも XHTML に倣って [CODE(MIME)[profile]] 属性が用意されています。 [WEAK[(この前その [[I-D]] 和訳したのですけど、うっかり削除してしまいました。)]]

[29]
いくらつなぎ規格だからと言っても、提案している当の W3C の規格 (XHTML 1.0 とか 1.1 とか SMIL 2.0 とか SMIL Basic とか) の [CODE(MIME)[profile]] URI が規定されていないあたり、やる気がまったく感じられませぬ。
([[名無しさん]])
[[#comment]]


** 実例

[13] [CODE(URI)[http://www.wapforum.org/xhtml]] : [[XHTML Mobile Profile]] 
(<http://www.openmobilealliance.org/wapdocs/wap-277-xhtmlmp-20011029-a.pdf> 7.2 参照)

[12] <http://www.geocities.co.jp/Hollywood-Studio/8691/>: <http://math.oheya.to/dtd/geo/geo-html11.dtd> の。

[[#comment]]


@


1.12
log
@auto-committed
@
text
@d101 20
d122 13
a134 37
[39]
[[Bjoern Hoehrmann]]が、いつまで種々の問題を放置しておく気だよと''[[TAG]]の''公開[[メイリング・リスト]]で指摘しました。

;; [CITE@@en[The xhtml:onkeypress architecture]]
<mid:ars1v1t936mbci521sdv2kacuhjfg4j06d@@hive.bjoern.hoehrmann.de>,
<http://permalink.gmane.org/gmane.org.w3c.tag/6797>

それに対して[[Steven Pemberton]]は、問題は解決したけど追跡システムで閉じておくのを忘れただけだと書きました。

;; [CITE@@en[Re: The xhtml:onkeypress architecture]]
<mid:43F1D421.3030600@@cwi.nl>,
<http://permalink.gmane.org/gmane.org.w3c.tag/6798>

そしてその後、追跡システムには
>The datatype for the profile was indeed changed to URI in M12N on purpose,
specifically so that it would be possible to use it as a possible means to
identify compound document profiles in the future.

>[CODE(HTMLa)@@en[[[profile]]]]の[[データ型]]は確かに[[URI]]に変更されたが、これは特に将来[[複合文書]]プロファイルの識別に使えるようにと考えてのことだ。

というメモが書かれたようです。

;; [CITE[HTML Working Group Voyager Issue Tracking System - Modularization-abstractions/8168]] 
<http://hades.mn.aptest.com/cgi-bin/voyager-issues/Modularization-abstractions?id=8168>

;; [[Bjoern Hoehrmann]]の[CITE@@en[Why profile="" allows only one URI]]
<mid:asv4v1di3rl55citjj3n4ad6dbe6svkah8@@hive.bjoern.hoehrmann.de>
<http://permalink.gmane.org/gmane.comp.web.html.general/6215>

;; 参考:
[CITE[HTML Working Group Voyager Issue Tracking System - HTML-4.01/6383]] 
<http://hades.mn.aptest.com/cgi-bin/voyager-issues/HTML-4.01?id=6383>,
[CITE[HTML Working Group Voyager Issue Tracking System - Modularization-text/8161]] <http://hades.mn.aptest.com/cgi-bin/voyager-issues/Modularization-text?id=8161>




d137 9
@


1.11
log
@auto-committed
@
text
@a2 1

a96 1

d100 41
@


1.10
log
@auto-committed
@
text
@a75 1

d77 7
a83 7
HTML 4.0 で [CODE(HTMLe)[[[object]]]]
要素の [CODE(HTMLa)[[[archive]]]]
属性が [CODE(SGML)[%[[URI]]]] なのは間違いで、
複数の URI 参照を書けるとして HTML 4.01
で [CODE(SGML)[[[CDATA]]]]
に修正されました
[SRC[HTML 4.01 A.1.1.14]]。
d86 16
@


1.9
log
@auto-committed
@
text
@d1 161
a161 144
* [CODE(HTMLe)[head]] 要素 [CODE(HTMLa)[profile]] 属性 (HTML, XHTML 1)

[15] [[HTML]] の [CODE(HTMLe)[[[head]]]] 要素の
[DFN[[CODE(HTMLa)[profile]] [[属性]]]]は、
[[プロファイル]] [WEAK[([[メタ情報]]の名前付き辞書)]]
を参照するために使うことができます。
プロファイルについて詳しくは[CITE[[[HTMLメタ情報プロファイル]]]]をご覧下さい。

[33] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[[[head]]]] 要素 [CODE(HTMLa)[[[profile]]]] 属性
<IW:HTML4:"struct/global.html#adef-profile">
-- [CSECTION[Meta data profiles]]
<IW:HTML4:"struct/global.html#profiles">
- [XMDP] [CITE[XMDP: Introduction and Format Description]] 
<http://gmpg.org/xmdp/description>

[34]
値は[[空白]]で分離した一つ以上の [[URI参照]]の並びで、
大文字・小文字が区別されます。但し、二つ目以降の
URI 参照は無視されます。詳しくは >>3-14 を参照。

[16] 実際には [CODE(HTMLe)[[[head]]]] 要素の属性というよりは文書全体を通した属性とする方が適切であるので、
[[XHTML 2]] では [CODE(HTMLe)[[[html]]]] 要素の属性になります。

[17] ここで指定したプロファイルは、すべての [CODE(HTMLe)[[[meta]]]] 要素, 
[CODE(HTMLe)[[[link]]]] 要素に適用されます。 <IW:HTML4:"struct/global.html#edef-META"> HTML 4 ではプロファイルは最初の1つの URI 参照しか意味を持ちませんから、そのプロファイルですべてのメタ・データ特性を定義しないといけないことになります。

[30]
[CITE[Welcome to GMPG]] <http://gmpg.org/>
([[名無しさん]])

[[#comment]]


** A URI or URIs?

- [3] [[HTML 4]] 本文では、値は複数指定できる (最初の1つしか意味は持たないが。) と明記されています: ''The global structure of an HTML document'' <IW:HTML4:"struct/global.html#adef-profile">
- [4] しかし [[DTD]] の [CODE(HTML)[%URI;]] の注釈は、 ''a'' URI になっています: ''HTML 4 Document Type Definition'' <IW:HTML4:"sgml/dtd.html#URI">
- [5] [CODE(HTML)[%URI;]] に対応する本文の説明は ''URIs'' になっていますが、複数 URI ではなく指定できる値の集合として複数形になっていると思われます (他の型や属性との関係上。): ''Basic HTML data types'' <IW:HTML4:"types.html#type-uri">
- [6] 意図的なのか誤りなのかは不明ですが、本文ではっきり複数書けると明記されていますから、 DTD が間違いの可能性が高いでしょう。
- [7] DTD の内容はほぼそのまま XHTML 1.0, XHTML m12n に受け継がれていますから、同様の問題があります。 XHTML 1 は要素の具体的定義は HTML4 参照でして、仕様書に全く明記されてないのが更に問題。
- [8] XHTML 2.0 (WD) では値の定義が ''URI'' とは別の ''URIs'' に改められているので、この問題は解決しそうです。
- [9] >>6-7 HTML4 にはないが XHTML には [CODE(HTML)[%URIs;]] 系のものがあるんだから、それを参照していないのは問題だよなあ

[14] >>3-9 属性値は空白分離の URI の並びだけど、
HTML 4 では最初のものだけが意味を持つと書いてあります。
複数個の URI が書かれたときの解釈は将来の版で規定する
(かもしれない) ということで、
このようなごちゃごちゃしたことになっているのでしょう。

- HTML 4 適合 UA は一つ以上の URI 参照の並びとみなすが、
意味解釈時には最初のもの以外は捨てる。
- HTML 4 文書の著者は URI 参照を一つだけ書く。
- HTML 4 妥当性検証器は複数個の URI 参照があっても妥当とするが、意味がないと警告する。

が適当な対処だと思われます。

[25]
''ちょっとしたメモ - 困ったちゃんのprofile属性'' <http://www.kanzaki.com/memo/2004/03/17-1>

これと同じ話。
([[名無しさん]] [WEAK[2004-03-18 01:10:42 +00:00]])

[35] 複数の URI 参照が認められるとすると、
相互の関係が問題になってきます。 XMDP [SRC[XMDP]] は、
HTML 4 が最初の URI 参照だけを使用すると規定していることから、
最初の URI 参照のプロファイルが一番優先度が高く、
最後の URI 参照のプロファイルが一番低いと解釈する
[WEAK[(同じ語彙が複数のプロファイルで定義されていれば、最初の方のものとみなす)]]
ことを提案しています。

[[#comment]]


** プロファイル

[18] <IW:HTML4:"struct/global.html#profiles">
によれば、利用者エージェントは [CODE(HTMLa)[profile]] URI を2種類の方法で利用できます。
:大域固有名:[CODE(HTMLa)[profile]] URI を名前として扱い、そのプロファイル [WEAK[(別にそれを URL として資源取り出しに使う必要はない。)]] の知識を使って何かするとか。 [[XML名前空間]]の[[名前空間名]]のような使い方。
:[[リンク]]:[CODE(HTMLa)[profile]] URI を資源取り出しに使って、その実際の定義に基づいて何かするとか。

[19] [CITE[[[HTMLメタ情報プロファイル]]]]の項もご覧下さい。

[[#comment]]


*** 相対 URI 参照

[20] HTML 4 では、[[相対URI参照]]が認められるのかどうか明記されてはいませんが、
HTML 4 における「URI」の定義からすると認められるとみなすのが適当でしょうね。

実際上は [[XML名前空間]]の[[名前空間名]]と同じように、
相対 URI 参照は使わないことにした方が都合がいいかもしれません。
[WEAK[(たとえば [[CSS]] の[[選択子]]に使うこととか考えると。)]]

[21] 相対 URI 参照が使われていたとして、
何を基底としたらよいのでしょう。
[[HTTP]] や [[MIME]]
のような上位プロトコルの情報はもちろん
(必要なら) 使うとして、
あるいは [[XML]] 応用であれば
(その定義に依っては) [CODE(XML)[[[xml]]:[[base]]]]
属性を考慮してもよいかもしれませんが、
それよりもなによりも、 HTML
の [CODE(HTMLe)[[[base]]]]
要素の影響がどうなるか気になるところ。

[27]
[CODE(HTMLe)[base]] 要素の規定
(<IW:HTML4:"struct/links.html#h-12.4">) には、 
[CODE(HTMLa)[profile]] への適用を妨害するものは何もないようです。

但し、[[相対URI参照]]よりも [CODE(HTMLe)[[[base]]]]
要素による[[基底URI]] の定義は[[文書順]]で先に無ければならないことになっていますが、
[CODE(HTMLe)[base]] 要素を [CODE(HTMLe)[head]] 要素よりも前に持ってくることは不可能です。

[[#comment]]


*** 実際に使われている Profile

[1] [CITE[[[HTMLメタ情報プロファイル]]]]に移動しました。

* profile 引数 (媒体型 application/xhtml+xml)

- [23] [CODE(MIME)[[[application/smil+xml]]]] == [CODE(MIME)[[[application/smil]]]] にも XHTML に倣って [CODE(MIME)[profile]] 属性が用意されています。 [WEAK[(この前その [[I-D]] 和訳したのですけど、うっかり削除してしまいました。)]]

[29]
いくらつなぎ規格だからと言っても、提案している当の W3C の規格 (XHTML 1.0 とか 1.1 とか SMIL 2.0 とか SMIL Basic とか) の [CODE(MIME)[profile]] URI が規定されていないあたり、やる気がまったく感じられませぬ。
([[名無しさん]])
[[#comment]]


** 実例

[13] [CODE(URI)[http://www.wapforum.org/xhtml]] : [[XHTML Mobile Profile]] 
(<http://www.openmobilealliance.org/wapdocs/wap-277-xhtmlmp-20011029-a.pdf> 7.2 参照)

[12] <http://www.geocities.co.jp/Hollywood-Studio/8691/>: <http://math.oheya.to/dtd/geo/geo-html11.dtd> の。

[[#comment]]


@


1.8
log
@auto-committed
@
text
@d1 144
a144 175



* head 要素 profile 属性 (HTML, XHTML 1)

[15] [CODE(HTMLa)[profile]] 属性は、
[[プロファイル]] ([[メタ情報]]の名前付き辞書)
を参照するために使うことができます。
<IW:HTML4:"struct/global.html#adef-profile">

値は[[空白]]で分離した一つ以上の [[URI参照]]の並びで、
大文字・小文字が区別されます。但し、二つ目以降の
URI 参照は無視されます。詳しくは >>3-14 を参照。

[16] 実際には [CODE(HTMLe)[[[head]]]] 要素の属性というよりは文書全体を通した属性とする方が適切であるので、
[[XHTML2]] では [CODE(HTMLe)[[[html]]]] 要素の属性になります。

- [17] ここで指定したプロファイルは、すべての [CODE(HTMLe)[[[meta]]]] 要素, [CODE(HTMLe)[[[link]]]] 要素に適用されます。 <IW:HTML4:"struct/global.html#edef-META"> HTML 4 ではプロファイルは最初の1つの URI 参照しか意味を持ちませんから、そのプロファイルですべてのメタ・データ特性を定義しないといけないことになります。

[30]
[CITE[Welcome to GMPG]] <http://gmpg.org/>
([[名無しさん]])

[[#comment]]


** A URI or URIs?

- [3] [[HTML4]] 本文では、値は複数指定できる (最初の1つしか意味は持たないが。) と明記されています: ''The global structure of an HTML document'' <IW:HTML4:"struct/global.html#adef-profile">
- [4] しかし [[DTD]] の [CODE(HTML)[%URI;]] の注釈は、 ''a'' URI になっています: ''HTML 4 Document Type Definition'' <IW:HTML4:"sgml/dtd.html#URI">
- [5] [CODE(HTML)[%URI;]] に対応する本文の説明は ''URIs'' になっていますが、複数 URI ではなく指定できる値の集合として複数形になっていると思われます (他の型や属性との関係上。): ''Basic HTML data types'' <IW:HTML4:"types.html#type-uri">
- [6] 意図的なのか誤りなのかは不明ですが、本文ではっきり複数書けると明記されていますから、 DTD が間違いの可能性が高いでしょう。
- [7] DTD の内容はほぼそのまま XHTML 1.0, XHTML m12n に受け継がれていますから、同様の問題があります。 XHTML 1 は要素の具体的定義は HTML4 参照でして、仕様書に全く明記されてないのが更に問題。
- [8] XHTML 2.0 (WD) では値の定義が ''URI'' とは別の ''URIs'' に改められているので、この問題は解決しそうです。
- [9] >>6-7 HTML4 にはないが XHTML には [CODE(HTML)[%URIs;]] 系のものがあるんだから、それを参照していないのは問題だよなあ

[14] >>3-9 属性値は空白分離の URI の並びだけど、
HTML 4 では最初のものだけが意味を持つと書いてあります。
複数個の URI が書かれたときの解釈は将来の版で規定する
(かもしれない) ということで、
このようなごちゃごちゃしたことになっているのでしょう。

- HTML 4 適合 UA は一つ以上の URI 参照の並びとみなすが、
意味解釈時には最初のもの以外は捨てる。
- HTML 4 文書の著者は URI 参照を一つだけ書く。
- HTML 4 妥当性検証器は複数個の URI 参照があっても妥当とするが、意味がないと警告する。

が適当な対処だと思われます。

[25]
''ちょっとしたメモ - 困ったちゃんのprofile属性'' <http://www.kanzaki.com/memo/2004/03/17-1>

これと同じ話。
([[名無しさん]] [WEAK[2004-03-18 01:10:42 +00:00]])

[[#comment]]


** プロファイル

[18] <IW:HTML4:"struct/global.html#profiles">
によれば、利用者エージェントは [CODE(HTMLa)[profile]] URI を2種類の方法で利用できます。
:大域固有名:[CODE(HTMLa)[profile]] URI を名前として扱い、そのプロファイル [WEAK[(別にそれを URL として資源取り出しに使う必要はない。)]] の知識を使って何かするとか。 [[XML名前空間]]の[[名前空間名]]のような使い方。
:[[リンク]]:[CODE(HTMLa)[profile]] URI を資源取り出しに使って、その実際の定義に基づいて何かするとか。

[19] HTML 4 でプロファイルが適用される場所:
- [CODE(HTMLe)[[[meta]]]] 要素
-- [CODE(HTMLa)[[[name]]]] 属性
-- [CODE(HTMLa)[[[scheme]]]] 属性
-- [CODE(HTMLa)[[[content]]]] 属性
- [CODE(HTMLe)[[[link]]]] 要素
-- [CODE(HTMLa)[[[rel]]]] 属性
-- [CODE(HTMLa)[[[rev]]]] 属性

[CODE(HTMLe)[[[a]]]] 要素の [CODE(HTMLa)[rel]],
[CODE(HTMLa)[rev]] 属性にも本来適用されるべきですよね?

[26]
[CODE(HTMLa)[[[class]]]] にも適用しようというのが >>24 の案。
([[名無しさん]] [WEAK[2004-03-18 01:24:13 +00:00]])

[[#comment]]


*** 相対 URI 参照

[20] HTML 4 では、[[相対URI参照]]が認められるのかどうか明記されてはいませんが、
HTML 4 における「URI」の定義からすると認められるとみなすのが適当でしょうね。

実際上は [[XML名前空間]]の[[名前空間名]]と同じように、
相対 URI 参照は使わないことにした方が都合がいいかもしれません。
[WEAK[(たとえば [[CSS]] の[[選択子]]に使うこととか考えると。)]]

[21] 相対 URI 参照が使われていたとして、
何を基底としたらよいのでしょう。
[[HTTP]] や [[MIME]]
のような上位プロトコルの情報はもちろん
(必要なら) 使うとして、
あるいは [[XML]] 応用であれば
(その定義に依っては) [CODE(XML)[[[xml]]:[[base]]]]
属性を考慮してもよいかもしれませんが、
それよりもなによりも、 HTML
の [CODE(HTMLe)[[[base]]]]
要素の影響がどうなるか気になるところ。

[27]
[CODE(HTMLe)[base]] 要素の規定
(<IW:HTML4:"struct/links.html#h-12.4">) には、 [CODE(HTMLa)[profile]] への適用を妨害するものは何もないようです。
([[名無しさん]])

[[#comment]]


*** 実際に使われている Profile

- [1] ''A Meta data Profile For Using URIs As XHTML/HTML Link Types'' <http://purl.org/net/uriprofile/>
-- [[HTML4]] で定義されている値に加えて、[[リンク型]] [CODE(HTML)[meta]]
が使えます。
-- >>1 の [[URI]] にある [[HTML]] 文書は、 HTML4 にないリンク型 
[CODE(HTML)[made]] を使っています。
-- >>1 の URI にある HTML 文書の [CODE(XPath)[head/@@profile]]
は <http://purl.org/net/uriprofile/#> です。 [[XML]]
の[[名前空間]]と同じように考えれば違う文字列ですから違う profile
ですが、 HTML4 の規定からはなんともいえません。
- [2] ''Link type profile'' <http://members.jcom.home.ne.jp/jintrick/Personal/link_type_profile.xml>
- [10] ''math.oheya.to 関連リソース profile'' <http://math.oheya.to/misc/profile.html>: [[satoshii]] タソの。
- [11] ''HyperRDF: Using XHTML Authoring Tools with XSLT to produce RDF Schemas'' <http://www.w3.org/2000/07/hs78>: [[DanConnolly]] セソセイの、 [CODE(HTML)[profile]] URI を [[XML名前空間]]的に使う仕様についての考察。
- [12] <http://www.geocities.co.jp/Hollywood-Studio/8691/>: <http://math.oheya.to/dtd/geo/geo-html11.dtd> の。
- [22] ''XHTML Profiles for http://www.w3.org/'' <http://www.w3.org/2000/08/w3c-synd/#>

[24]
- ''Embedding metadata in XHTML and extracting them as RDF'' <http://www.kanzaki.com/docs/sw/xh2rdf>
([[RFC 2731]] を応用した [CODE[.]] による[[修飾名]])
- <http://www.w3.org/2003/g/data-view>
(''Gleaning Resource Descriptions from Dialects of Languages ([[GRDDL]])'' <http://www.w3.org/2004/01/rdxh/spec>)

([[名無しさん]])

[28]
<http://diary.noasobi.net/profile.html>

''朝顔日記 2003年11月'' <http://diary.noasobi.net/0311.html#diary_031112> 
([[名無しさん]])

[31]
[CITE[XFN 1.1 profile]] <http://gmpg.org/xfn/11>
([[名無しさん]])


[32]
[CITE[ちょっとしたメモ - rel="nofollow"ほかメタデータのプロファイル]] <http://www.kanzaki.com/memo/2005/01/21-1>

>メジャーな検索エンジンが[CODE(HTML)[rel="nofollow"]]をサポートすると話題になっているので、これを含めたいくつかのリンクタイプを使うためのプロファイルを定義してみました。さらにおまけで(というより、こちらがメイン)、このプロファイルを使うと、GRDDLで文書からRDFメタデータを抽出できるようになります。
([[名無しさん]] [WEAK[2005-01-22 00:24:39 +00:00]])


[[#comment]]


* profile 引数 (媒体型 application/xhtml+xml)

- [23] [CODE(MIME)[[[application/smil+xml]]]] == [CODE(MIME)[[[application/smil]]]] にも XHTML に倣って [CODE(MIME)[profile]] 属性が用意されています。 [WEAK[(この前その [[I-D]] 和訳したのですけど、うっかり削除してしまいました。)]]

[29]
いくらつなぎ規格だからと言っても、提案している当の W3C の規格 (XHTML 1.0 とか 1.1 とか SMIL 2.0 とか SMIL Basic とか) の [CODE(MIME)[profile]] URI が規定されていないあたり、やる気がまったく感じられませぬ。
([[名無しさん]])
[[#comment]]


** 実例

- [13] [CODE(URI)[http://www.wapforum.org/xhtml]] : [[XHTMLMobileProfile]] (<http://www.openmobilealliance.org/wapdocs/wap-277-xhtmlmp-20011029-a.pdf> 7.2 参照)
[[#comment]]


@


1.7
log
@auto-committed
@
text
@d1 1
a1 1
#?SuikaWiki/0.9
d19 5
d144 13
@


1.6
log
@auto-committed
@
text
@a100 1

d102 1
a102 1
[CODE(HTMLe)[base]] 要素の規定
d133 6
d145 4
@


1.5
log
@auto-committed
@
text
@d1 124
a124 100
#?SuikaWiki/0.9
*head 要素 profile 属性 (HTML, XHTML 1)

[15] [CODE(HTMLa)[profile]] 属性は、
[[プロファイル]] ([[メタ情報]]の名前付き辞書)
を参照するために使うことができます。
<IW:HTML4:"struct/global.html#adef-profile">

値は[[空白]]で分離した一つ以上の [[URI参照]]の並びで、
大文字・小文字が区別されます。但し、二つ目以降の
URI 参照は無視されます。詳しくは >>3-14 を参照。

[16] 実際には [CODE(HTMLe)[[[head]]]] 要素の属性というよりは文書全体を通した属性とする方が適切であるので、
[[XHTML2]] では [CODE(HTMLe)[[[html]]]] 要素の属性になります。

- [17] ここで指定したプロファイルは、すべての [CODE(HTMLe)[[[meta]]]] 要素, [CODE(HTMLe)[[[link]]]] 要素に適用されます。 <IW:HTML4:"struct/global.html#edef-META"> HTML 4 ではプロファイルは最初の1つの URI 参照しか意味を持ちませんから、そのプロファイルですべてのメタ・データ特性を定義しないといけないことになります。
[[#comment]]

** A URI or URIs?
- [3] [[HTML4]] 本文では、値は複数指定できる (最初の1つしか意味は持たないが。) と明記されています: ''The global structure of an HTML document'' <IW:HTML4:"struct/global.html#adef-profile">
- [4] しかし [[DTD]] の [CODE(HTML)[%URI;]] の注釈は、 ''a'' URI になっています: ''HTML 4 Document Type Definition'' <IW:HTML4:"sgml/dtd.html#URI">
- [5] [CODE(HTML)[%URI;]] に対応する本文の説明は ''URIs'' になっていますが、複数 URI ではなく指定できる値の集合として複数形になっていると思われます (他の型や属性との関係上。): ''Basic HTML data types'' <IW:HTML4:"types.html#type-uri">
- [6] 意図的なのか誤りなのかは不明ですが、本文ではっきり複数書けると明記されていますから、 DTD が間違いの可能性が高いでしょう。
- [7] DTD の内容はほぼそのまま XHTML 1.0, XHTML m12n に受け継がれていますから、同様の問題があります。 XHTML 1 は要素の具体的定義は HTML4 参照でして、仕様書に全く明記されてないのが更に問題。
- [8] XHTML 2.0 (WD) では値の定義が ''URI'' とは別の ''URIs'' に改められているので、この問題は解決しそうです。
- [9] >>6-7 HTML4 にはないが XHTML には [CODE(HTML)[%URIs;]] 系のものがあるんだから、それを参照していないのは問題だよなあ

[14] >>3-9 属性値は空白分離の URI の並びだけど、
HTML 4 では最初のものだけが意味を持つと書いてあります。
複数個の URI が書かれたときの解釈は将来の版で規定する
(かもしれない) ということで、
このようなごちゃごちゃしたことになっているのでしょう。

- HTML 4 適合 UA は一つ以上の URI 参照の並びとみなすが、
意味解釈時には最初のもの以外は捨てる。
- HTML 4 文書の著者は URI 参照を一つだけ書く。
- HTML 4 妥当性検証器は複数個の URI 参照があっても妥当とするが、意味がないと警告する。

が適当な対処だと思われます。

[[#comment]]

** プロファイル

[18] <IW:HTML4:"struct/global.html#profiles">
によれば、利用者エージェントは [CODE(HTMLa)[profile]] URI を2種類の方法で利用できます。
:大域固有名:[CODE(HTMLa)[profile]] URI を名前として扱い、そのプロファイル [WEAK[(別にそれを URL として資源取り出しに使う必要はない。)]] の知識を使って何かするとか。 [[XML名前空間]]の[[名前空間名]]のような使い方。
:[[リンク]]:[CODE(HTMLa)[profile]] URI を資源取り出しに使って、その実際の定義に基づいて何かするとか。

[19] HTML 4 でプロファイルが適用される場所:
- [CODE(HTMLe)[[[meta]]]] 要素
-- [CODE(HTMLa)[[[name]]]] 属性
-- [CODE(HTMLa)[[[scheme]]]] 属性
-- [CODE(HTMLa)[[[content]]]] 属性
- [CODE(HTMLe)[[[link]]]] 要素
-- [CODE(HTMLa)[[[rel]]]] 属性
-- [CODE(HTMLa)[[[rev]]]] 属性

[CODE(HTMLe)[[[a]]]] 要素の [CODE(HTMLa)[rel]],
[CODE(HTMLa)[rev]] 属性にも本来適用されるべきですよね?

[[#comment]]

***相対 URI 参照

[20] HTML 4 では、[[相対URI参照]]が認められるのかどうか明記されてはいませんが、
HTML 4 における「URI」の定義からすると認められるとみなすのが適当でしょうね。

実際上は [[XML名前空間]]の[[名前空間名]]と同じように、
相対 URI 参照は使わないことにした方が都合がいいかもしれません。
[WEAK[(たとえば [[CSS]] の[[選択子]]に使うこととか考えると。)]]

[21] 相対 URI 参照が使われていたとして、
何を基底としたらよいのでしょう。
[[HTTP]] や [[MIME]]
のような上位プロトコルの情報はもちろん
(必要なら) 使うとして、
あるいは [[XML]] 応用であれば
(その定義に依っては) [CODE(XML)[[[xml]]:[[base]]]]
属性を考慮してもよいかもしれませんが、
それよりもなによりも、 HTML
の [CODE(HTMLe)[[[base]]]]
要素の影響がどうなるか気になるところ。

[[#comment]]

***実際に使われている Profile
- [1] ''A Meta data Profile For Using URIs As XHTML/HTML Link Types'' <http://purl.org/net/uriprofile/>
--[[HTML4]] で定義されている値に加えて、[[リンク型]] [CODE(HTML)[meta]]
が使えます。
-->>1 の [[URI]] にある [[HTML]] 文書は、 HTML4 にないリンク型 
[CODE(HTML)[made]] を使っています。
-->>1 の URI にある HTML 文書の [CODE(XPath)[head/@@profile]]
は <http://purl.org/net/uriprofile/#> です。 [[XML]]
の[[名前空間]]と同じように考えれば違う文字列ですから違う profile
ですが、 HTML4 の規定からはなんともいえません。
- [2] ''Link type profile'' <http://members.jcom.home.ne.jp/jintrick/Personal/link_type_profile.xml>
- [10] ''math.oheya.to 関連リソース profile'' <http://math.oheya.to/misc/profile.html>: [[satoshii]] タソの。
- [11] ''HyperRDF: Using XHTML Authoring Tools with XSLT to produce RDF Schemas'' <http://www.w3.org/2000/07/hs78>: [[DanConnolly]] セソセイの、 [CODE(HTML)[profile]] URI を [[XML名前空間]]的に使う仕様についての考察。
- [12] <http://www.geocities.co.jp/Hollywood-Studio/8691/>: <http://math.oheya.to/dtd/geo/geo-html11.dtd> の。
d126 13
a138 4
[[#comment]]

* profile 引数 (媒体型 application/xhtml+xml)

d140 10
a149 6
[[#comment]]

** 実例
-[13] [CODE(URI)[http://www.wapforum.org/xhtml]] : [[XHTMLMobileProfile]] (<http://www.openmobilealliance.org/wapdocs/wap-277-xhtmlmp-20011029-a.pdf> 7.2 参照)
[[#comment]]
*メモ@


1.4
log
@auto-committed
@
text
@d101 1
d106 1
@


1.3
log
@auto-committed
@
text
@d64 23
@


1.2
log
@auto-commited
@
text
@d2 21
a22 4
*profile 属性 (HTML, head 要素)
- [3] [[HTML4]] 本文では、値は複数指定できる (最初の1つしか意味は持たないが。) と明記されています: ''The global structure of an HTML document'' <http://www.w3.org/TR/1999/REC-html401-19991224/struct/global.html#adef-profile>
- [4] しかし [[DTD]] の [CODE(HTML)[%URI;]] の注釈は、 ''a'' URI になっています: ''HTML 4 Document Type Definition'' <http://www.w3.org/TR/1999/REC-html401-19991224/sgml/dtd.html#URI>
- [5] [CODE(HTML)[%URI;]] に対応する本文の説明は ''URIs'' になっていますが、複数 URI ではなく指定できる値の集合として複数形になっていると思われます (他の型や属性との関係上。): ''Basic HTML data types'' <http://www.w3.org/TR/1999/REC-html401-19991224/types.html#type-uri>
d27 35
d63 2
a64 1
**実際に使われている Profile
d78 8
@


1.1
log
@pre-namespace
@
text
@d3 7
a9 7
- [3] [[HTML4]] 本文では、値は複数指定できる (最初の1つしか意味は持たないが。) と明記されています: ''The global structure of an HTML document'' <http://www.w3.org/TR/1999/REC-html401-19991224/struct/global.html#adef-profile>
- [4] しかし [[DTD]] の [CODE(HTML)[%URI;]] の注釈は、 ''a'' URI になっています: ''HTML 4 Document Type Definition'' <http://www.w3.org/TR/1999/REC-html401-19991224/sgml/dtd.html#URI>
- [5] [CODE(HTML)[%URI;]] に対応する本文の説明は ''URIs'' になっていますが、複数 URI ではなく指定できる値の集合として複数形になっていると思われます (他の型や属性との関係上。): ''Basic HTML data types'' <http://www.w3.org/TR/1999/REC-html401-19991224/types.html#type-uri>
- [6] 意図的なのか誤りなのかは不明ですが、本文ではっきり複数書けると明記されていますから、 DTD が間違いの可能性が高いでしょう。
- [7] DTD の内容はほぼそのまま XHTML 1.0, XHTML m12n に受け継がれていますから、同様の問題があります。 XHTML 1 は要素の具体的定義は HTML4 参照でして、仕様書に全く明記されてないのが更に問題。
- [8] XHTML 2.0 (WD) では値の定義が ''URI'' とは別の ''URIs'' に改められているので、この問題は解決しそうです。
- [9] >>6-7 HTML4 にはないが XHTML には [CODE(HTML)[%URIs;]] 系のものがあるんだから、それを参照していないのは問題だよなあ
d21 4
a24 1
- [2] ''Link type profile'' <http://members.jcom.home.ne.jp/jintrick/Personal/link_type_profile.xml>
@

