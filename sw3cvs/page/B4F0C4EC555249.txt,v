head	1.4;
access;
symbols
	suikawiki3-final:1.4;
locks; strict;
comment	@# @;
expand	@o@;


1.4
date	2006.11.23.02.15.10;	author wakaba;	state Exp;
branches;
next	1.3;

1.3
date	2006.03.03.02.15.41;	author wakaba;	state Exp;
branches;
next	1.2;

1.2
date	2006.02.23.02.20.15;	author wakaba;	state Exp;
branches;
next	1.1;

1.1
date	2004.06.23.02.05.39;	author wakaba;	state Exp;
branches;
next	;


desc
@@


1.4
log
@auto-committed
@
text
@
[1]
[DFN[[RUBYB[基底] [Base]] URI]]
は、[[相対URI参照]]を解決するときに[[基底]]となる
[[URI]] です。

[2]
[Q[基底 URI 参照]]ではなく単に[Q[基底 URI]] とだけ言った場合でも、実は URI ではなく URI 参照であることも少なくありません。
相対 URI の解決では、素片識別子の有無は結果に影響しません。
ですが、あえて素片識別子つき URI 参照を除外する必要も普通はないので、
基底 URI と言ったときには URI 参照も含まれていたりするのでしょう。

[3] 基底 URI (参照) は、普通は絶対 URI 参照です。
[CODE(XMLa)[[[xml]]:[[base]]]] 属性のように、指定する基底 URI
が相対 URI でもよいことがありますが、
そのような場合は絶対 URI 参照を得るために更に上位の情報を入手する必要があります。
([[名無しさん]])

[4]

@@@@ [[基底URI]]が純粋に[[相対参照]]を[[解決]]するため''だけ''の[[文脈]]情報として用いられている場合と、
[[文書]]自体の[[URI]]を上書きするものとして用いられているらしき場合があります。

[[#comment]]


* [CODE(InfoProp)[XML基底]]特性 (XML情報集合)

[5] [[XML情報集合]]の[DFN[[CODE(InfoProp)[[RUBYB[基底URI] @@en[base URI]]]]]][[特性]]は、
その[[情報項目]]の[[基底URI]]を値として保持します。
この[[特性]]は、
- [[文書情報項目]]
- [[要素情報項目]]
- [[処理指令情報項目]]

で定義されています。

[6] '''仕様書'''
- [[XML情報集合]]
-- [CSECTION@@en[Base URIs]]
<IW:Infoset:"#intro.baseURIs">
-- [CSECTION@@en[2.1. The Document Information Item]]
<IW:Infoset:"#infoitem.document">
-- [CSECTION@@en[2.2. Element Information Items]]
<IW:Infoset:"#infoitem.element">
-- [CSECTION@@en[2.4. Processing Instruction Information Items]]
<IW:Infoset:"#infoitem.pi">
- [[XML基底]] <IW:XMLBase:"">

[[#comment]]


** 特性値

[7] '''文書情報項目の場合'''

= [[文書実体]]の[[基底URI]]です。 [SRC[XML情報集合 2.1]]
= [[XML基底]]仕様に従います。 [SRC[XML情報集合 1]]
= [[RFC 2396]]に従います。 [SRC[XML基底 4]]

[[XML基底]]の仕様書の内容には多少曖昧な点もありますが、
[[RFC 2396]]の規定と矛盾する規定を行う意図はなさそうなので、
= [[転送プロトコル]]によってもたらされた[[基底URI]]
= [[文書実体]]の[[取出し]]に用いた[[URI]]
([[リダイレクト]]がある場合は、最終的な[[URI]])
= [[応用]]の文脈に依存した[[URI]]

の順で決定するものと思われます。

[8] '''要素情報項目の場合'''

= [[要素]]の[[基底URI]]です。 [SRC[XML情報集合 2.2]]
= [[XML基底]]仕様に従います。 [SRC[XML情報集合 1]]
= [CODE(XMLa)@@en[[[xml]]:[[base]]]][[属性]]の項を参照。

[9] '''処理指令情報項目の場合'''

= [[処理指令]]の[[基底URI]]です。 [SRC[XML情報集合 2.4]]
= [[XML基底]]仕様に従います。 [SRC[XML情報集合 1]]
= [CODE(XMLa)@@en[[[xml]]:[[base]]]][[属性]]の項を参照。

[16] '''逃避'''

[CODE(XMLa)@@en[[[xml]]:[[base]]]][[属性]]の[[値]]を[[URI参照]]として使うためには[[逃避]]が必要です
[WEAK[([CODE(XMLa)@@en[[[xml]]:[[base]]]][[属性]]の項を参照してください。)]]
が、[[特性値]]はその''前''のものです。
[SRC[XML情報集合 1]]

[14] '''応用依存'''

[[XML基底]]仕様で[[基底URI]]が[[応用]]依存になる場合に関して、
[[XML情報集合]]仕様は[CODE(InfoProp)[[[基底URI]]]]の値を規定しません。
[SRC[XML情報集合 1]]

;; 
[15] 
[[DTD]]を[[処理]]するか否かによって結果が異なり得る[[特性]]では[[値]]が[[無値]]や[[未知]]になることもありますが、
[CODE(InfoProp)[[[基底URI]]]]ではそれは無いようです。
[[DTD]]を[[処理]]しない場合に関しても[[XML基底]]仕様で[[基底URI]]が明確に定義されているためでしょうか。
(実際[[DTD]]を[[処理]]していないからといって[[無値]]や[[未知]]にされては役に立ちませんしw)

[[#comment]]


** 関連

[13] '''合成情報集合'''

[[合成情報集合]] ([[XML]][[文書]]から生成してすぐの[[情報集合]]''以外'')
では、[CODE(InfoProp)[[[基底URI]]]]と[CODE(XMLa)@@en[[[xml]]:[[base]]]][[属性]][[情報項目]]に齟齬が生じていることもあります。
[SRC[XML情報集合 1]]

[10] '''処理指令情報項目の直列化'''

[[外部実体]]の直下に[[処理指令]]がある場合、
その[[外部実体]]の[[基底URI]]が[[処理指令]]の[[基底URI]]になりますが、
[[処理指令]][[情報項目]]を含む[[情報集合]]を[[直列化]]する時にその[[基底URI]]の情報は保存する方法がありません。
[SRC[XML情報集合 2.4]]

[11] '''[CODE(InfoProp)[宣言基底URI]]'''

[[非解析対象実体]][[情報項目]]や[[記法]][[情報項目]]には、
[CODE(InfoProp)[[[宣言基底URI]]]]という[[特性]]が定義されています。

[12] '''DOM特性'''

[[DOM]]の[CODE(DOMa)@@en[[[baseURI]]]][[特性]]は[CODE(InfoProp)[[[基底URI]]]]ではなく、
[CODE(XMLa)@@en[[[xml]]:[[base]]]][[属性]]に基づき定義されています。

[17]
[[XInclude]]では[[基底URI]]を保存するために[CODE(XMLa)@@en[[[xml]]:[[base]]]][[属性]]を追加して整合性を維持することがあります。
([[名無しさん]])

[18]
[CODE(InfoProp)[[[基底URI]]]]と[CODE(XMLa)@@en[[[xml]]:[[base]]]][[属性]]では、
[CODE(InfoProp)[[[基底URI]]]]の方を優先して[[相対参照]]の[[解決]]に使うべきとされています。
[SRC[XML情報集合 1]]

[19] '''[CODE@@en[base-uri]] アクセス子'''

[[RDF/XML]][[構文]]を定義する[[事象]]モデルでは、
[[根]][[事象]]と[[要素]][[事象]]に[CODE@@en[[[base-uri]]]][[アクセス子]]があり、
共に[CODE(InfoProp)[[[基底URI]]]][[特性]]から値を得ることとされています。

[20] '''XSLTデータ・モデル'''

[[XPath 1.0]]の[[データ・モデル]]には、
[CODE(InfoProp)[[[基底URI]]]]に相当するものがありません。

[[XSLT 1]]の[[データ・モデル]]における[CODE(InfoProp)[[[基底URI]]]]相当のものに関しては、
>>26 を参照してください。
[[#comment]]


** メモ

[[#comment]]


* 基底URI (XSLTデータ・モデル)

[26]

[[XPath 1.0]]の[[データ・モデル]]では[[基底URI]]は扱われていません。

[[XSLT 1.0]]の[[データ・モデル]]は[[基底URI]]を各[[節点]]に対して規定していますが、
[[XML基底]]よりも前に作られた仕様なので、[CODE(XMLa)@@en[[[xml]]:[[base]]]][[属性]]が反映されません。

[[XSLT 1.1]]の[[データ・モデル]]は基本的に[[XML基底]]に基づいています。

[25] '''仕様書'''
- [[XSLT 1]]
-- [CSECTION@@en[3.2 Base URI]] <IW:XSLT1:"#base-uri">
-- [CSECTION@@en[3.3 Unparsed Entities]] <IW:XSLT1:"#unparsed-entities">
-- [CITE@@en[Errata in REC-xslt-19991116]] 
<http://www.w3.org/1999/11/REC-xslt-19991116-errata/#E5>

[24]
,	,[[XSLT 1.0]]	,[[XSLT 1.1]]
,[[文書節点]]	,[[文書実体]]の[[URI]]	,(規定なし)
,[[根節点]]	,(規定なし)	,[[文書実体]]の[[URI]]
,[[要素節点]]	,[[外部実体]]中なら[[外部実体]]の[[URI]]、そうでなければ[[文書]]の[[基底URI]]	,[[XML基底]]による
,[[処理指令節点]]	,[[外部実体]]中なら[[外部実体]]の[[URI]]、そうでなければ[[文書]]の[[基底URI]]	,[[XML基底]]による
,"[[文節点]], [[注釈節点]], [[属性節点]]"	,[[親節点]]の[[基底URI]]	,==
,[[名前空間節点]]	,[[親節点]]の[[基底URI]]	,実装依存
,[[非解析対象実体]]の[[システム識別子]]	,[[実体宣言]]を含む[[資源]]の[[基底URI]]	,==

;; - [21] [Q[[[文書実体]]・[[外部実体]]の[[基底URI]]]]では''なく''て[Q[[[文書実体]]・[[外部実体]]の[[URI]]]]なのがちょっと・・・。
- [22] それでいて[Q[そうでなければ[[文書]]の[[基底URI]]]]とは何事か。
[[文書実体]]や[[文書節点]]ではなく、[[文書]]の[[基底URI]]なのか?
- [23] そもそも[[文書節点]]という語も、
ここ1箇所でしか出てこない ([[根節点]]の誤りか)。

[[#comment]]


* メモ

[27]

@@@@ [[RFC 4722]] [CODE(XMLa)@@en[[[baseurl]]]]
([[名無しさん]] [WEAK[2006-11-18 03:19:09 +00:00]])

@


1.3
log
@auto-committed
@
text
@d1 203
a203 197
[1]
[DFN[[RUBYB[基底] [Base]] URI]]
は、[[相対URI参照]]を解決するときに[[基底]]となる
[[URI]] です。

[2]
[Q[基底 URI 参照]]ではなく単に[Q[基底 URI]] とだけ言った場合でも、実は URI ではなく URI 参照であることも少なくありません。
相対 URI の解決では、素片識別子の有無は結果に影響しません。
ですが、あえて素片識別子つき URI 参照を除外する必要も普通はないので、
基底 URI と言ったときには URI 参照も含まれていたりするのでしょう。

[3] 基底 URI (参照) は、普通は絶対 URI 参照です。
[CODE(XMLa)[[[xml]]:[[base]]]] 属性のように、指定する基底 URI
が相対 URI でもよいことがありますが、
そのような場合は絶対 URI 参照を得るために更に上位の情報を入手する必要があります。
([[名無しさん]])

[4]

@@@@ [[基底URI]]が純粋に[[相対参照]]を[[解決]]するため''だけ''の[[文脈]]情報として用いられている場合と、
[[文書]]自体の[[URI]]を上書きするものとして用いられているらしき場合があります。

[[#comment]]


* [CODE(InfoProp)[XML基底]]特性 (XML情報集合)

[5] [[XML情報集合]]の[DFN[[CODE(InfoProp)[[RUBYB[基底URI] @@en[base URI]]]]]][[特性]]は、
その[[情報項目]]の[[基底URI]]を値として保持します。
この[[特性]]は、
- [[文書情報項目]]
- [[要素情報項目]]
- [[処理指令情報項目]]

で定義されています。

[6] '''仕様書'''
- [[XML情報集合]]
-- [CSECTION@@en[Base URIs]]
<IW:Infoset:"#intro.baseURIs">
-- [CSECTION@@en[2.1. The Document Information Item]]
<IW:Infoset:"#infoitem.document">
-- [CSECTION@@en[2.2. Element Information Items]]
<IW:Infoset:"#infoitem.element">
-- [CSECTION@@en[2.4. Processing Instruction Information Items]]
<IW:Infoset:"#infoitem.pi">
- [[XML基底]] <IW:XMLBase:"">

[[#comment]]


** 特性値

[7] '''文書情報項目の場合'''

= [[文書実体]]の[[基底URI]]です。 [SRC[XML情報集合 2.1]]
= [[XML基底]]仕様に従います。 [SRC[XML情報集合 1]]
= [[RFC 2396]]に従います。 [SRC[XML基底 4]]

[[XML基底]]の仕様書の内容には多少曖昧な点もありますが、
[[RFC 2396]]の規定と矛盾する規定を行う意図はなさそうなので、
= [[転送プロトコル]]によってもたらされた[[基底URI]]
= [[文書実体]]の[[取出し]]に用いた[[URI]]
([[リダイレクト]]がある場合は、最終的な[[URI]])
= [[応用]]の文脈に依存した[[URI]]

の順で決定するものと思われます。

[8] '''要素情報項目の場合'''

= [[要素]]の[[基底URI]]です。 [SRC[XML情報集合 2.2]]
= [[XML基底]]仕様に従います。 [SRC[XML情報集合 1]]
= [CODE(XMLa)@@en[[[xml]]:[[base]]]][[属性]]の項を参照。

[9] '''処理指令情報項目の場合'''

= [[処理指令]]の[[基底URI]]です。 [SRC[XML情報集合 2.4]]
= [[XML基底]]仕様に従います。 [SRC[XML情報集合 1]]
= [CODE(XMLa)@@en[[[xml]]:[[base]]]][[属性]]の項を参照。

[16] '''逃避'''

[CODE(XMLa)@@en[[[xml]]:[[base]]]][[属性]]の[[値]]を[[URI参照]]として使うためには[[逃避]]が必要です
[WEAK[([CODE(XMLa)@@en[[[xml]]:[[base]]]][[属性]]の項を参照してください。)]]
が、[[特性値]]はその''前''のものです。
[SRC[XML情報集合 1]]

[14] '''応用依存'''

[[XML基底]]仕様で[[基底URI]]が[[応用]]依存になる場合に関して、
[[XML情報集合]]仕様は[CODE(InfoProp)[[[基底URI]]]]の値を規定しません。
[SRC[XML情報集合 1]]

;; 
[15] 
[[DTD]]を[[処理]]するか否かによって結果が異なり得る[[特性]]では[[値]]が[[無値]]や[[未知]]になることもありますが、
[CODE(InfoProp)[[[基底URI]]]]ではそれは無いようです。
[[DTD]]を[[処理]]しない場合に関しても[[XML基底]]仕様で[[基底URI]]が明確に定義されているためでしょうか。
(実際[[DTD]]を[[処理]]していないからといって[[無値]]や[[未知]]にされては役に立ちませんしw)

[[#comment]]


** 関連

[13] '''合成情報集合'''

[[合成情報集合]] ([[XML]][[文書]]から生成してすぐの[[情報集合]]''以外'')
では、[CODE(InfoProp)[[[基底URI]]]]と[CODE(XMLa)@@en[[[xml]]:[[base]]]][[属性]][[情報項目]]に齟齬が生じていることもあります。
[SRC[XML情報集合 1]]

[10] '''処理指令情報項目の直列化'''

[[外部実体]]の直下に[[処理指令]]がある場合、
その[[外部実体]]の[[基底URI]]が[[処理指令]]の[[基底URI]]になりますが、
[[処理指令]][[情報項目]]を含む[[情報集合]]を[[直列化]]する時にその[[基底URI]]の情報は保存する方法がありません。
[SRC[XML情報集合 2.4]]

[11] '''[CODE(InfoProp)[宣言基底URI]]'''

[[非解析対象実体]][[情報項目]]や[[記法]][[情報項目]]には、
[CODE(InfoProp)[[[宣言基底URI]]]]という[[特性]]が定義されています。

[12] '''DOM特性'''

[[DOM]]の[CODE(DOMa)@@en[[[baseURI]]]][[特性]]は[CODE(InfoProp)[[[基底URI]]]]ではなく、
[CODE(XMLa)@@en[[[xml]]:[[base]]]][[属性]]に基づき定義されています。

[17]
[[XInclude]]では[[基底URI]]を保存するために[CODE(XMLa)@@en[[[xml]]:[[base]]]][[属性]]を追加して整合性を維持することがあります。
([[名無しさん]])


[18]
[CODE(InfoProp)[[[基底URI]]]]と[CODE(XMLa)@@en[[[xml]]:[[base]]]][[属性]]では、
[CODE(InfoProp)[[[基底URI]]]]の方を優先して[[相対参照]]の[[解決]]に使うべきとされています。
[SRC[XML情報集合 1]]

[19] '''[CODE@@en[base-uri]] アクセス子'''

[[RDF/XML]][[構文]]を定義する[[事象]]モデルでは、
[[根]][[事象]]と[[要素]][[事象]]に[CODE@@en[[[base-uri]]]][[アクセス子]]があり、
共に[CODE(InfoProp)[[[基底URI]]]][[特性]]から値を得ることとされています。

[20] '''XSLTデータ・モデル'''

[[XPath 1.0]]の[[データ・モデル]]には、
[CODE(InfoProp)[[[基底URI]]]]に相当するものがありません。

[[XSLT 1]]の[[データ・モデル]]における[CODE(InfoProp)[[[基底URI]]]]相当のものに関しては、
>>26 を参照してください。
[[#comment]]


** メモ

[[#comment]]

* 基底URI (XSLTデータ・モデル)

[26]

[[XPath 1.0]]の[[データ・モデル]]では[[基底URI]]は扱われていません。

[[XSLT 1.0]]の[[データ・モデル]]は[[基底URI]]を各[[節点]]に対して規定していますが、
[[XML基底]]よりも前に作られた仕様なので、[CODE(XMLa)@@en[[[xml]]:[[base]]]][[属性]]が反映されません。

[[XSLT 1.1]]の[[データ・モデル]]は基本的に[[XML基底]]に基づいています。

[25] '''仕様書'''
- [[XSLT 1]]
--[CSECTION@@en[3.2 Base URI]] <IW:XSLT1:"#base-uri">
--[CSECTION@@en[3.3 Unparsed Entities]] <IW:XSLT1:"#unparsed-entities">
-- [CITE@@en[Errata in REC-xslt-19991116]] 
<http://www.w3.org/1999/11/REC-xslt-19991116-errata/#E5>

[24]
,              ,[[XSLT 1.0]],[[XSLT 1.1]]
,[[文書節点]],[[文書実体]]の[[URI]],(規定なし)
,[[根節点]],(規定なし),[[文書実体]]の[[URI]]
,[[要素節点]],[[外部実体]]中なら[[外部実体]]の[[URI]]、そうでなければ[[文書]]の[[基底URI]],[[XML基底]]による
,[[処理指令節点]],[[外部実体]]中なら[[外部実体]]の[[URI]]、そうでなければ[[文書]]の[[基底URI]],[[XML基底]]による
,"[[文節点]], [[注釈節点]], [[属性節点]]",[[親節点]]の[[基底URI]],==
,[[名前空間節点]],[[親節点]]の[[基底URI]],実装依存
,[[非解析対象実体]]の[[システム識別子]],[[実体宣言]]を含む[[資源]]の[[基底URI]],==

;; 
- [21] [Q[[[文書実体]]・[[外部実体]]の[[基底URI]]]]では''なく''て[Q[[[文書実体]]・[[外部実体]]の[[URI]]]]なのがちょっと・・・。
- [22] それでいて[Q[そうでなければ[[文書]]の[[基底URI]]]]とは何事か。
[[文書実体]]や[[文書節点]]ではなく、[[文書]]の[[基底URI]]なのか?
-[23] そもそも[[文書節点]]という語も、
ここ1箇所でしか出てこない ([[根節点]]の誤りか)。


[[#comment]]

* メモ@


1.2
log
@auto-committed
@
text
@d1 4
a4 20

[1]
[DFN[[RUBYB[基底] [Base]] URI]]
は、[[相対URI参照]]を解決するときに[[基底]]となる
[[URI]] です。

[2]
[Q[基底 URI 参照]]ではなく単に[Q[基底 URI]] とだけ言った場合でも、実は URI ではなく URI 参照であることも少なくありません。
相対 URI の解決では、素片識別子の有無は結果に影響しません。
ですが、あえて素片識別子つき URI 参照を除外する必要も普通はないので、
基底 URI と言ったときには URI 参照も含まれていたりするのでしょう。

[3] 基底 URI (参照) は、普通は絶対 URI 参照です。
[CODE(XMLa)[[[xml]]:[[base]]]] 属性のように、指定する基底 URI
が相対 URI でもよいことがありますが、
そのような場合は絶対 URI 参照を得るために更に上位の情報を入手する必要があります。
([[名無しさん]])


[4]
d6 13
d21 177
a197 3
[[文書]]自体の[[URI]]を上書きするものとして用いられているらしき場合があります。
([[名無しさん]] [sage])

@


1.1
log
@auto-committed
@
text
@a0 1
#?SuikaWiki/0.9
d3 18
a20 3
[DFN[[RUBYB[基底][Base]] URI]]
は、[[相対URI参照]]を解決するときに[[基底]]となる
[[URI]] です。
a21 5
[2]
[Q[基底 URI 参照]]ではなく単に[Q[基底 URI]] とだけ言った場合でも、実は URI ではなく URI 参照であることも少なくありません。
相対 URI の解決では、素片識別子の有無は結果に影響しません。
ですが、あえて素片識別子つき URI 参照を除外する必要も普通はないので、
基底 URI と言ったときには URI 参照も含まれていたりするのでしょう。
d23 3
a25 5
[3] 基底 URI (参照) は、普通は絶対 URI 参照です。
[CODE(XMLa)[[[xml]]:[[base]]]] 属性のように、指定する基底 URI
が相対 URI でもよいことがありますが、
そのような場合は絶対 URI 参照を得るために更に上位の情報を入手する必要があります。
([[名無しさん]])
@

