head	1.1;
access;
symbols
	suikawiki3-final:1.1
	before-db-leaffile:1.1
	after-upgrade-to-suikawiki-3:1.1
	before-fork-suikawiki3:1.1
	after-restore-20040122:1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.1
date	2004.01.03.02.02.39;	author wakaba;	state Exp;
branches;
next	;


desc
@@


1.1
log
@auto-committed
@
text
@#?SuikaWiki/0.9
[1] 
> 
:[INS[[[JISX4151]]‐1992 3.]] (79) [RUBYB[現付番] [current rank]]:
[[共通識別子]]を得るために[[タグ]]の中の[[付番核]]の最後に付けられた[[10進数]]。 
- 備考 [[開始タグ]]の場合、現付番は、同一の付番核又は同じ[[付番群]]の中の付番核をもつ最新の要素の[[付番]]である。[[終了タグ]]の場合、現付番は、同一の付番核で最新の[[開いている要素]]の付番である。

[2] 以降、 [CODE(SGML)[[[RANK]] YES]]
と仮定します。

[PRE[
<![[ELEMENT]] h 1 - - %content;>
<!ELEMENT h 2 - - %content;>
]PRE]
と定義されている時、
付番要素 [SAMP(SGML)[h]] について、
[PRE[
ここでの現在付番は未定義です。
<h1>
ここでの現在付番は (1, 1) です。
<h2>
ここでの現在付番は (2, 2) です。
</h2>
ここでの現在付番は (2, 1) です。
</h1>
ここでの現在付番は (1, 未定義) です。
]PRE]
([CODE[([VAR[s]], [VAR[e]])]] は、それぞれ開始タグと終了タグにとっての現在付番。)

[3] 現在付番という概念が意味を持ってくるのは付番が省略されたときです。

[PRE[
ここでの現在付番は未定義です。
<h1>
ここでの現在付番は (1, 1) です。
<h2>
ここでの現在付番は (2, 2) です。
</h><!-- h2 と解釈されます。 -->
ここでの現在付番は (2, 1) です。
<h><!-- h2 と解釈されます。 -->
ここでの現在付番は (2, 2) です。
</h><!-- h2 と解釈されます。 -->
ここでの現在付番は (2, 1) です。
</h><!-- h1 と解釈されます。 -->
ここでの現在付番は (1, 未定義) です。
<h><!-- h1 と解釈されます。 -->
ここでの現在付番は (1, 1) です。
</h><!-- h1 と解釈されます。 -->
]PRE]

[4] 別の付番要素 [SAMP(SGML)[i]]
を定義しても、それぞれ独立した現在付番となります。

[PRE[
ここでの現在付番は未定義です。
<h1>
ここでの現在付番は h: (1, 1), i: 未定義です。
<i1>
ここでの現在付番は h: (1, 1), i: (1, 1) です。
<h2>
ここでの現在付番は h: (2, 2), i: (1, 1) です。
</h2>
ここでの現在付番は h:(2, 1), i: (1, 1) です。
<i2>
ここでの現在付番は h: (2, 1), i: (2, 2) です。
</i2>
ここでの現在付番は h: (2, 1), i: (2, 未定義) です。
</h1>
ここでの現在付番は h: (1, 未定義), i: (2, 未定義) です。
]PRE]

[5] 付番群を使うと、複数の付番要素で同じ現在付番を共有できます。

[PRE[
<!ELEMENT (h|p) 1 - - %content>
<!ELEMENT (h|p) 2 - - %content>
]PRE]

[PRE[
ここでの現在付番は未定義です。
<h1>
ここでの現在付番は (1, 1) です。
<p><!-- p1 と解釈されます。 -->
ここでの現在付番は (1, 1) です。
</p><!-- p1 と解釈されます。 -->
<h2>
ここでの現在付番は (2, 2) です。
<p><!-- p2 と解釈されます。 -->
ここでの現在付番は (2, 2) です。
</p><!-- p2 と解釈されます。 -->
ここでの現在付番は (2, 2) です。
<p><!-- p2 と解釈されます。 -->
ここでの現在付番は (2, 2) です。
</p><!-- p2 と解釈されます。 -->
ここでの現在付番は (2, 2) です。
</h><!-- h2 と解釈されます。 -->
ここでの現在付番は (2, 1) です。
<h><!-- h2 と解釈されます。 -->
ここでの現在付番は (2, 2) です。
</h><!-- h2 と解釈されます。 -->
ここでの現在付番は (2, 1) です。
</h><!-- h1 と解釈されます。 -->
ここでの現在付番は (1, 未定義) です。
<p2>
ここでの現在付番は (2, 2) です。
</p><!-- p2 と解釈されます。 -->
ここでの現在付番は (2, 未定義) です。
<h><!-- h2 と解釈されます。 -->
ここでの現在付番は (2, 2) です。
</h><!-- h2 と解釈されます。 -->
]PRE]
応用として、他の[[マーク最小化]]を併用すると、
[PRE[
<h1>1.
<p>...
<p>...
<h2>1.1
<p>...
<p>...
<h2>1.2
<p>...
<h1>2.
<p>...
]PRE]

のような一見[[フラットでリニアな構造]]を意図した通りの木にできます。

@
