head	1.20;
access;
symbols
	suikawiki3-final:1.20
	before-db-leaffile:1.6
	after-upgrade-to-suikawiki-3:1.5
	before-fork-suikawiki3:1.5
	after-restore-20040122:1.4;
locks; strict;
comment	@# @;


1.20
date	2008.11.03.02.52.13;	author wakaba;	state Exp;
branches;
next	1.19;

1.19
date	2008.04.18.02.57.37;	author wakaba;	state Exp;
branches;
next	1.18;

1.18
date	2007.04.18.02.46.43;	author wakaba;	state Exp;
branches;
next	1.17;

1.17
date	2007.04.08.02.41.57;	author wakaba;	state Exp;
branches;
next	1.16;

1.16
date	2007.01.23.02.33.28;	author wakaba;	state Exp;
branches;
next	1.15;

1.15
date	2006.10.31.02.17.53;	author wakaba;	state Exp;
branches;
next	1.14;

1.14
date	2006.10.03.02.39.45;	author wakaba;	state Exp;
branches;
next	1.13;

1.13
date	2006.06.18.02.23.07;	author wakaba;	state Exp;
branches;
next	1.12;

1.12
date	2005.07.31.02.07.38;	author wakaba;	state Exp;
branches;
next	1.11;

1.11
date	2005.05.18.02.06.54;	author wakaba;	state Exp;
branches;
next	1.10;

1.10
date	2005.03.08.02.06.23;	author wakaba;	state Exp;
branches;
next	1.9;

1.9
date	2005.02.18.02.07.35;	author wakaba;	state Exp;
branches;
next	1.8;

1.8
date	2005.01.18.02.08.25;	author wakaba;	state Exp;
branches;
next	1.7;

1.7
date	2004.07.08.02.04.48;	author wakaba;	state Exp;
branches;
next	1.6;

1.6
date	2004.03.18.02.01.12;	author wakaba;	state Exp;
branches;
next	1.5;

1.5
date	2004.01.31.02.03.44;	author wakaba;	state Exp;
branches;
next	1.4;

1.4
date	2003.10.27.02.03.11;	author wakaba;	state Exp;
branches;
next	1.3;

1.3
date	2003.03.27.07.25.04;	author make;	state Exp;
branches;
next	1.2;

1.2
date	2002.12.23.06.25.34;	author wakaba;	state Exp;
branches;
next	1.1;

1.1
date	2002.12.19.06.25.30;	author wakaba;	state Exp;
branches;
next	;


desc
@@


1.20
log
@auto-committed
@
text
@

* [CODE(char)[LATIN SMALL LETTER Q]]

[4] [DFN[[CODE(char)[q]]]] ([CODE(char)[[[LATIN SMALL LETTER Q]]]])
は、[[ラテン文字]] [CODE(char)[[[Q]]]] の[[小文字]]です。

[[#comment]]


* [CODE(HTMLe)[q]] 要素型 (HTML, XHTML 1)

[11] [ABBR[[[HTML]]] [ハイパーテキスト・マーク付け言語]] の
[DFN[[CODE(HTMLe)[q]] [[要素型]]]]は、短い、
[[段落]]区切りが要らないくらいの[[引用]]を表します。ここで
[Q[短い]]とは[Q[長い]]引用である [CODE(HTMLa)[[[blockquote]]]] 
要素型との対比であり、
[[行内要素]]が[[内容]]であることを意味します。

[7] 仕様書:
- [[HTML 4]]
-- <IW:HTML4:"struct/text.html#edef-Q">

[12]
:[[開始タグ]]:必須
:[[終了タグ]]:必須
:[[内容模型]]:[CODE(SGML)[(%[[inline]];)*]]
:[[属性]]:
,[CODE(HTMLa)[[[cite]]]]	,[[URI参照]]	,(なし)	,出典	,[HTML4]
,[CODE(HTMLa)[[[class]]]]	,	,	,[[級]]	,[HTML4] %[[coreattr]]
,[CODE(HTMLa)[[[dir]]]]	,	,	,[[書字方向]]	,[HTML4] %[[i18n]]
,[CODE(HTMLa)[[[id]]]]	,	,	,一意識別子	,[HTML4] %coreattr
,[CODE(HTMLa)[[[lang]]]]	,	,	,[[自然言語]]	,[HTML4] %i18n
,[CODE(HTMLa)[[[xml]]:lang]]	,	,	,自然言語	,[XHTML1]
,[CODE(HTMLa)[[[onclick]]]]	,	,	,	,[HTML4] %[[events]]
,[CODE(HTMLa)[[[ondblclick]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeydown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeypress]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeyup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmousedown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseout]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseover]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[style]]]]	,	,	,スタイル情報	,[HTML4] %coreattr
,[CODE(HTMLa)[[[title]]]]	,	,	,注釈的題	,[HTML4] %coreattr


[24]
HTML 4 DTD の[[注釈]] (参考) には
[Q[Inline Quotes]], 
[Q[short inline quotation]]
と説明されています。
([[名無しさん]] [sage])

[[#comment]]


** 応用

[[#comment]]


*** レンダリング

[14] <IW:HTML4:"struct/text.html#idx-quoted_text-1"> によると:
- [[視覚UA]] は区切りの[[引用符]]で内容を囲んでレンダリングしなければなりません
(must)。
- [[著者]]は、 [CODE(HTMLe)[q]] 要素の最初と最後に引用符を挿入するべきではありません
(should not)。
- UA は、言語依存の方法で引用符をレンダリングするべき (should)。
- UA は、多くの言語で採用されている、入れ子度によった適切な引用符を使うべき
(should)。

[[#comment]]


** 様々な言語・用字系の引用符

[8] 実際のところは引用符は言語, 地域, 用字系,
文脈によって様々に変わりえます。
一つの目安として :
,言語・地域	,用字系	,最外側	,==	,2番目	,==
,[CODE(lang)[en]]	,[CODE(script)[Latn]]	,“	,”	,‘	,’
,[CODE(lang)@@en[[[en]]]]	,	,[[U+201C]]	,[[U+201D]]	,[[U+2018]]	,[[U+2017]]
,[CODE(lang)[[[es]]]]	,	,[[U+201C]]	,[[U+201D]]	,[[U+2018]]	,[[U+2017]]
,[CODE(lang)[[[da]]]]	,	,[[U+00BB]]	,[[U+00AB]]
,[CODE(lang)[de]]	,[CODE(script)[Latn]]	,",,"	,”
,[CODE(lang)[[[de]]]]	,	,[[U+201E]]	,[[U+201C]]	,[[U+201A]]	,[[U+2018]]
,[CODE(lang)[[[de-CH]]]]	,	,[[U+00AB]]	,[[U+00BB]]	,[[U+2039]]	,[[U+203A]]
,[CODE(lang)[fr]]	,[CODE(script)[Latn]]	,<<	,>>
,[CODE(lang)[[[fr]]]]	,	,[[U+00AB]]	,[[U+00BB]]	,[[U+2039]]	,[[U+203A]]
,[CODE(lang)[[[it]]]]	,	,[[U+00AB]]	,[[U+00BB]]
,[CODE(lang)[ja]]	,[CODE(script)[Japn]]	,「	,」	,『	,』
,[CODE(lang)[ja]]	,[CODE(script)[Latn]]	,“	,”	,‘	,’
,[CODE(lang)[[[nl]]]]	,	,[[U+201D]]	,[[U+201D]]	,[[U+2019]]	,[[U+2019]]
,[CODE(lang)[[[no]]]]	,	,[[U+00AB]]	,[[U+00BB]]	,[[U+2039]]	,[[U+203A]]
,[CODE(lang)[[[pt]]]]	,	,[[U+00AB]]	,[[U+00BB]]	,[[U+2039]]	,[[U+203A]]
,[CODE(lang)[ru]]	,キリル文字	,<<	,>>	,
,[CODE(lang)[ru]]	,キリル文字	,“	,”	,
,[CODE(lang)[[[sv]]]]	,	,[[U+00BB]]	,[[U+00BB]]

- [15] 現実には更に著者や編集者の好み、分野の慣習なんかにも依存しますね。たとえば日本語の仮名漢字混じり文でも [CODE[“]]〜[CODE[”]] を使うことはよくある。それから、[[書字方向]]が [CODE(CSS)[[[lr-tb]]]] 以外のときにはまた様相が変わってきたりもしますね。

[16]
ドイツ語では字の文の言語ではなく引用文の言語で引用符を決定するとか小耳に挟みました。
([[名無しさん]])

[32]
[CITE[]] ([CODE[2007-01-20 10:37:37 +09:00]] 版) <http://web.nickshanks.com/stylesheets/user-quotes.css>
([[名無しさん]] [WEAK[2007-01-21 03:36:35 +00:00]])

[[#comment]]


** 実装について

[5] [[WebExplorer]] では [CODE(HTMLe)[q]] 要素型は 
[CODE(HTMLe)[[[blockquote]]]] 要素型の別名で、[[既定スタイル]]が 
[CODE(CSS)[display: block]] です。

[[#comment]]


*** Mozilla (Gecko) で

[3] [[Mozilla]] 1.3b の既定スタイルは [CODE(HTMLe)[q]]
要素の両側が常に [SAMP(char)["]] 
になって寂しいので、文脈によって適切な引用符を使うようにしようと思ってみました。

重要なポイントは、引用符は一般に、引用の周り (地の文)
の言語及びスクリプト (用字系) で決定されるということです。
例えばラテン語の英語で仮名漢字混じりの日本語文を引用するときは、

[PRE[
 For example, “こんな風になります.”
]PRE]

逆の場合は、
[PRE[
 例えば「like this example,」となります。
 (“comma style quotation mark”を使うこともありますが、
  話がややこしくなるので黙ってましょう。)
]PRE]

しかし、同じ英語と日本語の組み合わせでも、
[PRE[
 ふぉあ えくざんぷる、「こんな風になります」。
 Tatoe ba “like this example,” to narimasu.
]PRE]

のようになります。
ところが、 [[CSS2]] では言語の[[選択子]]はありますが、用字系で処理を振り分ける手段がありません。

しかも、 Mozilla は現時点では [CODE(CSS)[:[[lang]]]] 擬似級にすら対応していません。
その上、 [CODE(CSS)[[[quotes]]]] 属性には1組しか値を指定できないようです。
(それ以上指定しても無視される。)

そういう現状を踏まえて、とりあえずのスタイル指定:
[PRE[
 @@namespace xml 'http://www.w3.org/XML/1998/namespace';
 q, q q q,
 [lang=en] q, [lang=en] q q q {
   quotes: "“" "”" "‘" "’";
 }
 q q, q q q q,
 [lang=en] q q, [lang=en] q q q q {
   quotes: "‘" "’";
 }
 [xml|lang=ja] q, [xml|lang=ja] q q q, [lang=ja] q, [lang=ja] q q q {
   quotes: "「" "」" "『" "』";
 }
 [xml|lang=ja] q q, [xml|lang=ja] q q q q, [lang=ja] q q, [lang=ja] q q q q {
   quotes: "『" "』";
 }
]PRE]

テスト用 HTML 片:
[PRE[
 <span lang="en"><q>Quoted<q>Quoted <q>Quoted<q>Quoted text</q> text</q>text</q> text</q></span>
 <span lang="ja"><q>引用文<q>引用<q>引用<q>引用文字列</q>文字列</q>文字列</q>字列</q></span>
 <q>Quoted<q>Quoted <q>Quoted<q lang="ja">引用<q>引用<q>引用<q lang="en">Quoted<q>Quoted text</q> text</q>文字列</q>文字列</q>文字列</q>text</q>text</q> text</q>
]PRE]

問題点:
- 文書で言語指定が無かった場合は、とりあえず英語と同じにしてあります。
- 深い入れ子の引用では正しく動作しません。4つ目の引用まで対応しています。 (実際には十分以上でしょう。)
- 日本語の引用文の中に英語の引用文があって、更に引用部がある場合に、正しく引用符がつきません (3つ目のテスト片)。選択子の詳細度の関係でしょう。うまい選択子を与えれば解決できそうですが、複雑になりそう。
- 上述の通り、言語情報のみに頼っていて、スクリプトに応じた引用符を選択できません。
(日本語では問題になるのはローマ字書きくらいでしょう。)

[[#comment]]


** 不思議解釈

[30] '''引用符の明記'''

[CODE(HTMLe)@@en[[[q]]]] [[要素]]は[[引用符]]の働きを意味的に含んでおり、
[[文字データ]]として直接[[引用符]]を含めてはなりません。
普通、[[利用者エージェント]]が [CODE(HTMLe)@@en[[[q]]]]
[[要素]]のはじめと終わりに[[引用符]]を補って[[レンダリング]]することになっています。

しかし、よく使われている[[利用者エージェント]]である
[[WinIE]] は、[[引用符]]を補わないように実装されていました。
そのため、誤って、あるいは故意に、
[CODE(HTMLe)@@en[[[q]]]] [[タグ]]の前後に[[引用符]]を明記する人が出てきました。

[31] '''引用符の消去'''

200[VAR[x]]年代の後半になり、 [CODE(HTMLe)@@en[[[q]]]]
[[要素]]の前後に[[引用符]]を補って[[レンダリング]]する、
[[WinIE]] 以外の[[利用者エージェント]]がよく使われるようになってくると、
それらの標準に従った[[利用者エージェント]]と [[WinIE]]
の両方で[[著者]]の望む[[レンダリング]]を得るために、
[[引用符]]を[[マーク付け]]と共に明記し、更に
[[CSS]] により標準に従った[[利用者エージェント]]も[[引用符]]を補わないように指定する人が出てきました。
中には、 [CODE(HTMLe)@@en[[[q]]]] [[要素]]内に[[引用符]]を明記する
(>>28) のは[[不適合]]ながら、
[CODE(HTMLe)@@en[[[q]]]] [[要素]]の外側に[[引用符]]を明記
(>>29) しても問題ないなどと主張する人も登場しました (2006年)。

[[#comment]]


** 例

[13] [SRC[HTML 4]]
[PRE[
John said, <Q lang="en-us">I saw Lucy at lunch, she told me
<Q lang="en-us">Mary wants you
to get some ice cream on your way home.</Q> I think I will get
some at Ben and Jerry's, on Gloucester Road.</Q>
]PRE]

レンダリング例:
[PRE[
  John said, "I saw Lucy at lunch, she told me 'Mary wants you
  to get some ice cream on your way home.' I think I will get some
  at Ben and Jerry's, on Gloucester Road."
]PRE]

HTML 4 は、どちらの引用も米語だから、と言っていますが、
実際には引用言語だけではなく、引用のまわりの言語もはっきりしないと
(むしろそっちがないと) 引用符は決定できないはずです。

[22]

> <p>In Australia, <q>personal information</q> is information about an
individual <q>who can be identified, or whose identity could be reasonably
ascertained.</q> In Canada <q>personal information</q> means information
about an <q>identifiable</q> individual. In the United States, different
sectors have different standards for identifiability of data. Similarly, in
many other policy documents, terms such as <q>personally identifiable
information (PII)</q> are often not defined or the cause for heated
debate.</p>

出典: [CITE[The Platform for Privacy Preferences 1.1 (P3P1.1) Specification]] 
<http://www.w3.org/TR/2005/WD-P3P11-20050104/#def_identity>

[23]

> <[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]="qa">
<[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]="q">
<[CODE(HTMLe)[h2]] [CODE(HTMLa)[id]]='uri'>Why is it <[CODE(HTMLe)[q]]>URI</[CODE(HTMLe)[q]]> and not <[CODE(HTMLe)[q]]>URL</[CODE(HTMLe)[q]]>?</[CODE(HTMLe)[h2]]>
</[CODE(HTMLe)[div]]>
> <[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]='a'>
<[CODE(HTMLe)[p]]>URI stands for <[CODE(HTMLe)[q]]>Uniform Resource Identifiers</[CODE(HTMLe)[q]]>, URLs are a subset of URIs, please see <[CODE(HTMLe)[a]] [CODE(HTMLa)[href]]='[CODE(URI)[http://www.w3.org/Addressing/]]'>Naming and Addressing: URIs, URLs, ...</[CODE(HTMLa)[a]]> and <[CODE(HTMLe)[a]] [CODE(HTMLa)[href]]='[CODE(URI)[http://www.w3.org/TR/uri-clarification/]]'>URIs, URLs, and URNs: Clarifications and Recommendations 1.0</[CODE(HTMLe)[a]]> for details.</[CODE(HTMLe)[p]]>
</[CODE(HTMLe)[div]]>
</[CODE(HTMLe)[div]]>

出典: [CITE[W3C CSS Validator FAQ]] 
<http://www.websitedev.de/css/validator-faq#uri>
(2003年11月付け)

[25] 文学作品における会話文の例

(マーク付け)
[PRE(HTML example code)[
<p><q>恋は罪悪ですか</q>と私がその時突然聞いた。</p>
<p><q>罪悪です。たしかに</q>と答えた時の先生の語気は前と同じように強かった。</p>
<p><q>なぜですか</q></p>
<p><q>なぜだか今に解ります。今にじゃない、もう解っているはずです。
あなたの心はとっくの昔からすでに恋で動いているじゃありませんか</q></p>
<p>私は一応自分の胸の中を調べて見た。けれどもそこは案外に空虚であった。
思いあたるようなものは何にもなかった。</p>
]PRE]

(スタイル指定)
[PRE(example code)[
p 要素:
  [display: block,
   text-indent: 1em,
   margin-top: 0,
   margin-bottom: 0].
q 要素:
  [display: inline,
   open-quote: "「",
   close-quote: "」"].
p 要素のうち、第1子節点が q 要素のもの:
  [text-indent: 0].
]PRE]

文章の出典: [CITE[夏目漱石 こころ]] 
<http://www.aozora.gr.jp/cards/000148/files/773_14560.html>

原文では文の一部になっている会話部分は前後に改行なし、
前後の文と独立している会話部分は前後に改行があります。
また、改行がある部分の新しい行のはじめには1文字分の空白がありますが、
新しい行の最初が会話で鉤括弧になっている時は半角のアキと半角の鉤括弧になっています。

このマーク付け例では、改行は改段落であると考えて
[CODE(HTMLe)[[[p]]]] の区切れ目としています。
鉤括弧は [CODE(HTMLe)[[[q]]]] 要素のタグに置き換えています。

会話だけで構成される[Q[段落]]は [CODE(HTMLe)[[[p]]]]
要素の内容が [CODE(HTMLe)[[[q]]]] 要素だけになって不自然な感じがします。
[CODE(HTMLe)[[[blockquote]]]] 要素の中に [CODE(HTMLe)[[[p]]]]
要素というマークの付け方も可能ですが、やはり不自然です。
この不自然さは [[HTML]] の[[ブロック水準要素]]と[[行内要素]]の区別の仕方と元の文章があまり相性が良くないことを意味しています。

元の見栄えを実現するスタイル・シートの例も示しました。
[CODE(HTMLe)[[[q]]]] 要素だけが子供として存在する [CODE(HTMLe)[[[p]]]]
要素、というような[[選択子]]は [[CSS 2.1]] にも [[CSS 3]]
にも残念ながら存在しませんので、ここでは架空のスタイル言語でそれらしく記述しました。
実用上はマーク付けの方を多少修正して、 [CODE(HTMLe)[[[q]]]]
要素だけが含まれる [CODE(HTMLe)[[[p]]]] 要素に [SAMP[only-q]]
など適当な [CODE(HTMLa)[[[class]]]] を与えることになるでしょう。

[28] '''誤って引用符を含めた例'''
[PRE(HTML bad example code)[
小泉自民党総裁 (当時) は、<q>「自民党をぶっ壊す」</q>と述べた。
]PRE]

[CODE(HTMLe)@@en[[[q]]]] [[要素]]に[[引用符]]を含めてはなりません。
[CODE(HTMLe)@@en[[[q]]]] [[要素]]そのものが、
[[引用符]]の意味を含んでいます。

[29] '''誤って引用符を含めた例'''
[PRE(HTML bad example code)[
小泉自民党総裁 (当時) は、「<q>自民党をぶっ壊す</q>」と述べた。
]PRE]

[CODE(HTMLe)@@en[[[q]]]] [[要素]]に[[引用符]]を含めてはなりません。
だからといって、 [CODE(HTMLe)@@en[[[q]]]]
[[要素]]の外にあればよいということもありません。
[CODE(HTMLe)@@en[[[q]]]] [[要素]]が[[引用符]]の意味を含んでいることには変わりないので、
[[引用符]]で二重に括ったのと同じことになってしまいます。

[[#comment]]


** 参考文献

- [6] ''Q要素:インライン引用文のマークアップについて'' <http://natto.2ch.net/hp/kako/1002/10027/1002750163.html>: 2001年のスレで、現在の事情からするとちょっと時代遅れの感がありますが。 (但し引用符補完 WinIE がまだ release されていないのは変わっていませんね。)

[21]
''Correct usage of the q element from Nicolas Roeser on 2004-02-07 (www-html@@w3.org from February 2004)'' <http://lists.w3.org/Archives/Public/www-html/2004Feb/0033.html>

[CODE(HTMLe)[q]] や [CODE(HTMLe)[[[blockquote]]]] や [CODE(XHTMLe)[[[quote]]]] についてのあらゆる話題が芋蔓式に詰まった [[www-html]] のスレ。
([[名無しさん]])

[26]
[CITE@@en[So, You Want Text Commands, Huh?]]
([[Joe Burns]] 著、2005年7月現在、内容から1990年代後半に書かれたと推測) <http://www.htmlgoodies.com/tutorials/getting_started/article.php/3479581#q>

> It will be a replacement for the [CODE(HTMLe)[blockquote]] command. Plus it will have the same properties available as the new [CODE(HTMLe)[Span]] command.

なんで違うものが代わりになるのでしょうね?
そして [CODE(HTMLe)@@en[[[span]]]] と同じ特性って一体何?
[CODE(HTMLe)@@[[[span]]]] の説明になぜか [CODE(HTMLa)@@en[[[title]]]]
属性が紹介されているけど、それのこと?

([[名無しさん]] [sage])

[[#comment]]


** メモ

[17]
(この文のように)「いわゆる」を表すときに括弧を使うことがありますが、[Q[いわゆる]]は[Q[所''謂'']] (or [Q[so‐''called'']]) と言うくらいですから、誰かが言ったとみなして [CODE(HTMLe)[q]] を使うのはありでしょうかねぇ。拡大解釈だとか批判されてしまいそうですが。
([[名無しさん]] [WEAK[2004-03-16 03:15:26 +00:00]])

[18]
とりあえず日本語に限定して考えますと、
括弧 (一重または二重) を使うのは、主として
- (狭義の)引用
- 挿入
- 「いわゆる」
- 強調
- 書名
- 片仮名の固有名詞 (戦前の片仮名書き文での用法)

です。後の三つは明らかに引用とは距離があります。

引用と挿入は構造的には区別できないかもしれません。「いわゆる」は大抵一、二語程度なのが特徴といえましょうか。

で、どこまでを広義の「引用」としてみとめるか、すなわち [CODE(HTMLe)[q]] 要素の守備範囲と考えるかという話になるわけですが・・・。[WEAK[(そもそもこの文の「『引用』」というのは「『いわゆる』」に分類されるのか、それとも別のものなのか。別のものだとして、マークし分ける必要があるものなのか。)]]
しかし、こういう議論は色々なところで既に何ループもしているわけでして、結論なんて出ないのかもしれません。
([[名無しさん]])

[19]
ところでレンダリングの観点からすると、それがどんな性質のものであれ、どれか一種類括弧をマークに置き換えるなら、その周辺は全部マークにするべきです。
どういうことかというと、「Name_Not_Found さんは『たとえば「『いわゆる「いわゆる」と「so‐called」について』 (名無しさん著) への疑問」という論文があるとします。』と言っていますが、その論文はどこで入手できますか。」というのをマークするときに、たとえば「引用は [CODE(HTMLe)[q]] でマークするけど、『いわゆる』はマークしないで地の文に括弧を含める」という規準を設けたとすると、特定のスタイルに依存した地の文にするか、括弧の入れ子の深さと括弧の種類が一致しないことになってしまいます。

レンダリングするときに地の文の括弧も適当に置き換えればいいという考えもあるかもしれませんが、そんな面倒なことは誰がするのでしょう。
[[SGML]] なら「それはタグではないがマークだ。」というのもありですが、
XML ではそういうのは無しでしょう。
([[名無しさん]])

[20]
「『ファイル』→『名前をつけて保存』」の括弧は挿入なのだかなんなのだか。
([[名無しさん]])

[27]
[CITE[A List Apart: Articles: Long Live the Q Tag]] <http://alistapart.com/articles/qtag>
([[名無しさん]] [WEAK[2006-09-30 23:40:38 +00:00]])

[33]
[CITE[IRC logs: w3c / #html-wg / 20070403]] ([CODE[2007-04-04 20:29:48 +09:00]] 版) <http://krijnhoetmer.nl/irc-logs/html-wg/20070403#l-15>

[CODE(HTMLe)@@en[[[q]]]] は
[CODE(HTMLe)@@en[[[dfn]]]], [CODE(HTMLe)@@en[[[ins]]]],
[CODE(HTMLe)@@en[[[del]]]], [CODE(HTMLe)@@en[[[var]]]],
[CODE(HTMLe)@@en[[[kbd]]]], [[VML]]
よりもよく使われています。 [CODE(HTMLe)@@en[[[ruby]]]]
の10倍よく使われています。
([[名無しさん]])

[34]
[CITE@@en[Re: ensuring the existence & enhancing the power of Q]] ([[Ian Hickson]] 著, [CODE[2007-04-03 06:52:48 +09:00]] 版) <http://lists.w3.org/Archives/Public/public-html/2007Apr/0108.html>
([[名無しさん]] [WEAK[2007-04-14 05:32:52 +00:00]])

[35]
[CITE@@en[Re: Why the quote element doesn't add quotes by default]] ([[Bjoern Hoehrmann]] 著, [CODE[2004-08-04 04:26:29 +09:00]] 版) <http://lists.w3.org/Archives/Public/www-html/2004Aug/0011>
([[名無しさん]])

[36]
[CITE[Re: several messages about quotations]] ([[Ian Hickson <ian@@...>]] 著, [CODE[2008-04-12 00:57:41 +09:00]] 版) <http://permalink.gmane.org/gmane.org.w3c.whatwg.discuss/13685>
([[名無しさん]])

[37]
[CITE[Output of <q lang=??>aaa<q>bbb<q>ccc</q></q></q> from IE8b2 on an en-GB system]] ([CODE[2008-10-31 21:47:26 +09:00]] 版) <http://philip.html5.org/data/ie8-quotes.txt>
([[名無しさん]])


[38]
[CITE@@en[Re: Final thoughts on <q>]] ([[Philip Taylor]] 著, [TIME[2008-10-30 22:43:38 +09:00]] 版) <http://lists.w3.org/Archives/Public/public-html/2008Oct/0255.html>
([[名無しさん]])


[[#comment]]


* 品質値

- [2] [[HTTP]] などの[[内容折衝]]で [CODE(HTTP)[[[Accept]]]]
などに使われる引数。 See [CODE(WikiPage)[[[qvalue]]]],
[CODE(WikiPage)[[[品質値]]]]。
[[#comment]]


* 長さの絶対量の単位

[9] [[組版]]の世界で使われている[[長さ]]の単位です。
[CODE[級]]とか [CODE[Q]] とか言ったりします。

[[#comment]]


** JIS X 4052 組版指定交換形式において

[1]

> [[級]], [[Q]] (1q = 0.25[[mm]]) [INS[([[JISX4052]]:2000 5.3.2. b)5))]]

[[#comment]]


* メモ@


1.19
log
@auto-committed
@
text
@d438 7
d446 3
a448 2
[36]
[CITE[Re: several messages about quotations]] ([[Ian Hickson <ian@@...>]] 著, [TIME[2008-04-12 00:57:41 +09:00]] 版) <http://permalink.gmane.org/gmane.org.w3c.whatwg.discuss/13685>
@


1.18
log
@auto-committed
@
text
@a429 1

d431 1
a431 1
[CITE@@en[Re: ensuring the existence & enhancing the power of Q]] ([[Ian Hickson]] 著, [TIME[2007-04-03 06:52:48 +09:00]] 版) <http://lists.w3.org/Archives/Public/public-html/2007Apr/0108.html>
d433 9
@


1.17
log
@auto-committed
@
text
@d419 2
d422 5
a426 8
[33]
[CITE[IRC logs: w3c / #html-wg / 20070403]] ([TIME[2007-04-04 20:29:48 +09:00]] 版) <http://krijnhoetmer.nl/irc-logs/html-wg/20070403#l-15>

[CODE(HTMLe)@@en[[[q]]]] は
[CODE(HTMLe)@@en[[[dfn]]]], [CODE(HTMLe)@@en[[[ins]]]],
[CODE(HTMLe)@@en[[[del]]]], [CODE(HTMLe)@@en[[[var]]]],
[CODE(HTMLe)@@en[[[kbd]]]], [[VML]]
よりもよく使われています。 [CODE(HTMLe)@@en[[[ruby]]]]
d429 5
@


1.16
log
@auto-committed
@
text
@d109 1
a109 1
[CITE[]] ([TIME[2007-01-20 10:37:37 +09:00]] 版) <http://web.nickshanks.com/stylesheets/user-quotes.css>
d418 13
@


1.15
log
@auto-committed
@
text
@d1 446
a446 440

* [CODE(char)[LATIN SMALL LETTER Q]]

[4] [DFN[[CODE(char)[q]]]] ([CODE(char)[[[LATIN SMALL LETTER Q]]]])
は、[[ラテン文字]] [CODE(char)[[[Q]]]] の[[小文字]]です。

[[#comment]]


* [CODE(HTMLe)[q]] 要素型 (HTML, XHTML 1)

[11] [ABBR[[[HTML]]] [ハイパーテキスト・マーク付け言語]] の
[DFN[[CODE(HTMLe)[q]] [[要素型]]]]は、短い、
[[段落]]区切りが要らないくらいの[[引用]]を表します。ここで
[Q[短い]]とは[Q[長い]]引用である [CODE(HTMLa)[[[blockquote]]]] 
要素型との対比であり、
[[行内要素]]が[[内容]]であることを意味します。

[7] 仕様書:
- [[HTML 4]]
-- <IW:HTML4:"struct/text.html#edef-Q">

[12]
:[[開始タグ]]:必須
:[[終了タグ]]:必須
:[[内容模型]]:[CODE(SGML)[(%[[inline]];)*]]
:[[属性]]:
,[CODE(HTMLa)[[[cite]]]]	,[[URI参照]]	,(なし)	,出典	,[HTML4]
,[CODE(HTMLa)[[[class]]]]	,	,	,[[級]]	,[HTML4] %[[coreattr]]
,[CODE(HTMLa)[[[dir]]]]	,	,	,[[書字方向]]	,[HTML4] %[[i18n]]
,[CODE(HTMLa)[[[id]]]]	,	,	,一意識別子	,[HTML4] %coreattr
,[CODE(HTMLa)[[[lang]]]]	,	,	,[[自然言語]]	,[HTML4] %i18n
,[CODE(HTMLa)[[[xml]]:lang]]	,	,	,自然言語	,[XHTML1]
,[CODE(HTMLa)[[[onclick]]]]	,	,	,	,[HTML4] %[[events]]
,[CODE(HTMLa)[[[ondblclick]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeydown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeypress]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeyup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmousedown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseout]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseover]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[style]]]]	,	,	,スタイル情報	,[HTML4] %coreattr
,[CODE(HTMLa)[[[title]]]]	,	,	,注釈的題	,[HTML4] %coreattr


[24]
HTML 4 DTD の[[注釈]] (参考) には
[Q[Inline Quotes]], 
[Q[short inline quotation]]
と説明されています。
([[名無しさん]] [sage])

[[#comment]]


** 応用

[[#comment]]


*** レンダリング

[14] <IW:HTML4:"struct/text.html#idx-quoted_text-1"> によると:
- [[視覚UA]] は区切りの[[引用符]]で内容を囲んでレンダリングしなければなりません
(must)。
- [[著者]]は、 [CODE(HTMLe)[q]] 要素の最初と最後に引用符を挿入するべきではありません
(should not)。
- UA は、言語依存の方法で引用符をレンダリングするべき (should)。
- UA は、多くの言語で採用されている、入れ子度によった適切な引用符を使うべき
(should)。

[[#comment]]


** 様々な言語・用字系の引用符

[8] 実際のところは引用符は言語, 地域, 用字系,
文脈によって様々に変わりえます。
一つの目安として :
,言語・地域	,用字系	,最外側	,==	,2番目	,==
,[CODE(lang)[en]]	,[CODE(script)[Latn]]	,“	,”	,‘	,’
,[CODE(lang)@@en[[[en]]]]	,	,[[U+201C]]	,[[U+201D]]	,[[U+2018]]	,[[U+2017]]
,[CODE(lang)[[[es]]]]	,	,[[U+201C]]	,[[U+201D]]	,[[U+2018]]	,[[U+2017]]
,[CODE(lang)[[[da]]]]	,	,[[U+00BB]]	,[[U+00AB]]
,[CODE(lang)[de]]	,[CODE(script)[Latn]]	,",,"	,”
,[CODE(lang)[[[de]]]]	,	,[[U+201E]]	,[[U+201C]]	,[[U+201A]]	,[[U+2018]]
,[CODE(lang)[[[de-CH]]]]	,	,[[U+00AB]]	,[[U+00BB]]	,[[U+2039]]	,[[U+203A]]
,[CODE(lang)[fr]]	,[CODE(script)[Latn]]	,<<	,>>
,[CODE(lang)[[[fr]]]]	,	,[[U+00AB]]	,[[U+00BB]]	,[[U+2039]]	,[[U+203A]]
,[CODE(lang)[[[it]]]]	,	,[[U+00AB]]	,[[U+00BB]]
,[CODE(lang)[ja]]	,[CODE(script)[Japn]]	,「	,」	,『	,』
,[CODE(lang)[ja]]	,[CODE(script)[Latn]]	,“	,”	,‘	,’
,[CODE(lang)[[[nl]]]]	,	,[[U+201D]]	,[[U+201D]]	,[[U+2019]]	,[[U+2019]]
,[CODE(lang)[[[no]]]]	,	,[[U+00AB]]	,[[U+00BB]]	,[[U+2039]]	,[[U+203A]]
,[CODE(lang)[[[pt]]]]	,	,[[U+00AB]]	,[[U+00BB]]	,[[U+2039]]	,[[U+203A]]
,[CODE(lang)[ru]]	,キリル文字	,<<	,>>	,
,[CODE(lang)[ru]]	,キリル文字	,“	,”	,
,[CODE(lang)[[[sv]]]]	,	,[[U+00BB]]	,[[U+00BB]]

- [15] 現実には更に著者や編集者の好み、分野の慣習なんかにも依存しますね。たとえば日本語の仮名漢字混じり文でも [CODE[“]]〜[CODE[”]] を使うことはよくある。それから、[[書字方向]]が [CODE(CSS)[[[lr-tb]]]] 以外のときにはまた様相が変わってきたりもしますね。

[16]
ドイツ語では字の文の言語ではなく引用文の言語で引用符を決定するとか小耳に挟みました。
([[名無しさん]])
[[#comment]]


** 実装について

[5] [[WebExplorer]] では [CODE(HTMLe)[q]] 要素型は 
[CODE(HTMLe)[[[blockquote]]]] 要素型の別名で、[[既定スタイル]]が 
[CODE(CSS)[display: block]] です。

[[#comment]]


*** Mozilla (Gecko) で

[3] [[Mozilla]] 1.3b の既定スタイルは [CODE(HTMLe)[q]]
要素の両側が常に [SAMP(char)["]] 
になって寂しいので、文脈によって適切な引用符を使うようにしようと思ってみました。

重要なポイントは、引用符は一般に、引用の周り (地の文)
の言語及びスクリプト (用字系) で決定されるということです。
例えばラテン語の英語で仮名漢字混じりの日本語文を引用するときは、

[PRE[
 For example, “こんな風になります.”
]PRE]

逆の場合は、
[PRE[
 例えば「like this example,」となります。
 (“comma style quotation mark”を使うこともありますが、
  話がややこしくなるので黙ってましょう。)
]PRE]

しかし、同じ英語と日本語の組み合わせでも、
[PRE[
 ふぉあ えくざんぷる、「こんな風になります」。
 Tatoe ba “like this example,” to narimasu.
]PRE]

のようになります。
ところが、 [[CSS2]] では言語の[[選択子]]はありますが、用字系で処理を振り分ける手段がありません。

しかも、 Mozilla は現時点では [CODE(CSS)[:[[lang]]]] 擬似級にすら対応していません。
その上、 [CODE(CSS)[[[quotes]]]] 属性には1組しか値を指定できないようです。
(それ以上指定しても無視される。)

そういう現状を踏まえて、とりあえずのスタイル指定:
[PRE[
 @@namespace xml 'http://www.w3.org/XML/1998/namespace';
 q, q q q,
 [lang=en] q, [lang=en] q q q {
   quotes: "“" "”" "‘" "’";
 }
 q q, q q q q,
 [lang=en] q q, [lang=en] q q q q {
   quotes: "‘" "’";
 }
 [xml|lang=ja] q, [xml|lang=ja] q q q, [lang=ja] q, [lang=ja] q q q {
   quotes: "「" "」" "『" "』";
 }
 [xml|lang=ja] q q, [xml|lang=ja] q q q q, [lang=ja] q q, [lang=ja] q q q q {
   quotes: "『" "』";
 }
]PRE]

テスト用 HTML 片:
[PRE[
 <span lang="en"><q>Quoted<q>Quoted <q>Quoted<q>Quoted text</q> text</q>text</q> text</q></span>
 <span lang="ja"><q>引用文<q>引用<q>引用<q>引用文字列</q>文字列</q>文字列</q>字列</q></span>
 <q>Quoted<q>Quoted <q>Quoted<q lang="ja">引用<q>引用<q>引用<q lang="en">Quoted<q>Quoted text</q> text</q>文字列</q>文字列</q>文字列</q>text</q>text</q> text</q>
]PRE]

問題点:
- 文書で言語指定が無かった場合は、とりあえず英語と同じにしてあります。
- 深い入れ子の引用では正しく動作しません。4つ目の引用まで対応しています。 (実際には十分以上でしょう。)
- 日本語の引用文の中に英語の引用文があって、更に引用部がある場合に、正しく引用符がつきません (3つ目のテスト片)。選択子の詳細度の関係でしょう。うまい選択子を与えれば解決できそうですが、複雑になりそう。
- 上述の通り、言語情報のみに頼っていて、スクリプトに応じた引用符を選択できません。
(日本語では問題になるのはローマ字書きくらいでしょう。)

[[#comment]]

** 不思議解釈

[30] '''引用符の明記'''

[CODE(HTMLe)@@en[[[q]]]] [[要素]]は[[引用符]]の働きを意味的に含んでおり、
[[文字データ]]として直接[[引用符]]を含めてはなりません。
普通、[[利用者エージェント]]が [CODE(HTMLe)@@en[[[q]]]]
[[要素]]のはじめと終わりに[[引用符]]を補って[[レンダリング]]することになっています。

しかし、よく使われている[[利用者エージェント]]である
[[WinIE]] は、[[引用符]]を補わないように実装されていました。
そのため、誤って、あるいは故意に、
[CODE(HTMLe)@@en[[[q]]]] [[タグ]]の前後に[[引用符]]を明記する人が出てきました。

[31] '''引用符の消去'''

200[VAR[x]]年代の後半になり、 [CODE(HTMLe)@@en[[[q]]]]
[[要素]]の前後に[[引用符]]を補って[[レンダリング]]する、
[[WinIE]] 以外の[[利用者エージェント]]がよく使われるようになってくると、
それらの標準に従った[[利用者エージェント]]と [[WinIE]]
の両方で[[著者]]の望む[[レンダリング]]を得るために、
[[引用符]]を[[マーク付け]]と共に明記し、更に
[[CSS]] により標準に従った[[利用者エージェント]]も[[引用符]]を補わないように指定する人が出てきました。
中には、 [CODE(HTMLe)@@en[[[q]]]] [[要素]]内に[[引用符]]を明記する
(>>28) のは[[不適合]]ながら、
[CODE(HTMLe)@@en[[[q]]]] [[要素]]の外側に[[引用符]]を明記
(>>29) しても問題ないなどと主張する人も登場しました (2006年)。

[[#comment]]

** 例

[13] [SRC[HTML 4]]
[PRE[
John said, <Q lang="en-us">I saw Lucy at lunch, she told me
<Q lang="en-us">Mary wants you
to get some ice cream on your way home.</Q> I think I will get
some at Ben and Jerry's, on Gloucester Road.</Q>
]PRE]

レンダリング例:
[PRE[
  John said, "I saw Lucy at lunch, she told me 'Mary wants you
  to get some ice cream on your way home.' I think I will get some
  at Ben and Jerry's, on Gloucester Road."
]PRE]

HTML 4 は、どちらの引用も米語だから、と言っていますが、
実際には引用言語だけではなく、引用のまわりの言語もはっきりしないと
(むしろそっちがないと) 引用符は決定できないはずです。

[22]

> <p>In Australia, <q>personal information</q> is information about an
individual <q>who can be identified, or whose identity could be reasonably
ascertained.</q> In Canada <q>personal information</q> means information
about an <q>identifiable</q> individual. In the United States, different
sectors have different standards for identifiability of data. Similarly, in
many other policy documents, terms such as <q>personally identifiable
information (PII)</q> are often not defined or the cause for heated
debate.</p>

出典: [CITE[The Platform for Privacy Preferences 1.1 (P3P1.1) Specification]] 
<http://www.w3.org/TR/2005/WD-P3P11-20050104/#def_identity>

[23]

> <[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]="qa">
<[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]="q">
<[CODE(HTMLe)[h2]] [CODE(HTMLa)[id]]='uri'>Why is it <[CODE(HTMLe)[q]]>URI</[CODE(HTMLe)[q]]> and not <[CODE(HTMLe)[q]]>URL</[CODE(HTMLe)[q]]>?</[CODE(HTMLe)[h2]]>
</[CODE(HTMLe)[div]]>
> <[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]='a'>
<[CODE(HTMLe)[p]]>URI stands for <[CODE(HTMLe)[q]]>Uniform Resource Identifiers</[CODE(HTMLe)[q]]>, URLs are a subset of URIs, please see <[CODE(HTMLe)[a]] [CODE(HTMLa)[href]]='[CODE(URI)[http://www.w3.org/Addressing/]]'>Naming and Addressing: URIs, URLs, ...</[CODE(HTMLa)[a]]> and <[CODE(HTMLe)[a]] [CODE(HTMLa)[href]]='[CODE(URI)[http://www.w3.org/TR/uri-clarification/]]'>URIs, URLs, and URNs: Clarifications and Recommendations 1.0</[CODE(HTMLe)[a]]> for details.</[CODE(HTMLe)[p]]>
</[CODE(HTMLe)[div]]>
</[CODE(HTMLe)[div]]>

出典: [CITE[W3C CSS Validator FAQ]] 
<http://www.websitedev.de/css/validator-faq#uri>
(2003年11月付け)

[25] 文学作品における会話文の例

(マーク付け)
[PRE(HTML example code)[
<p><q>恋は罪悪ですか</q>と私がその時突然聞いた。</p>
<p><q>罪悪です。たしかに</q>と答えた時の先生の語気は前と同じように強かった。</p>
<p><q>なぜですか</q></p>
<p><q>なぜだか今に解ります。今にじゃない、もう解っているはずです。
あなたの心はとっくの昔からすでに恋で動いているじゃありませんか</q></p>
<p>私は一応自分の胸の中を調べて見た。けれどもそこは案外に空虚であった。
思いあたるようなものは何にもなかった。</p>
]PRE]

(スタイル指定)
[PRE(example code)[
p 要素:
  [display: block,
   text-indent: 1em,
   margin-top: 0,
   margin-bottom: 0].
q 要素:
  [display: inline,
   open-quote: "「",
   close-quote: "」"].
p 要素のうち、第1子節点が q 要素のもの:
  [text-indent: 0].
]PRE]

文章の出典: [CITE[夏目漱石 こころ]] 
<http://www.aozora.gr.jp/cards/000148/files/773_14560.html>

原文では文の一部になっている会話部分は前後に改行なし、
前後の文と独立している会話部分は前後に改行があります。
また、改行がある部分の新しい行のはじめには1文字分の空白がありますが、
新しい行の最初が会話で鉤括弧になっている時は半角のアキと半角の鉤括弧になっています。

このマーク付け例では、改行は改段落であると考えて
[CODE(HTMLe)[[[p]]]] の区切れ目としています。
鉤括弧は [CODE(HTMLe)[[[q]]]] 要素のタグに置き換えています。

会話だけで構成される[Q[段落]]は [CODE(HTMLe)[[[p]]]]
要素の内容が [CODE(HTMLe)[[[q]]]] 要素だけになって不自然な感じがします。
[CODE(HTMLe)[[[blockquote]]]] 要素の中に [CODE(HTMLe)[[[p]]]]
要素というマークの付け方も可能ですが、やはり不自然です。
この不自然さは [[HTML]] の[[ブロック水準要素]]と[[行内要素]]の区別の仕方と元の文章があまり相性が良くないことを意味しています。

元の見栄えを実現するスタイル・シートの例も示しました。
[CODE(HTMLe)[[[q]]]] 要素だけが子供として存在する [CODE(HTMLe)[[[p]]]]
要素、というような[[選択子]]は [[CSS 2.1]] にも [[CSS 3]]
にも残念ながら存在しませんので、ここでは架空のスタイル言語でそれらしく記述しました。
実用上はマーク付けの方を多少修正して、 [CODE(HTMLe)[[[q]]]]
要素だけが含まれる [CODE(HTMLe)[[[p]]]] 要素に [SAMP[only-q]]
など適当な [CODE(HTMLa)[[[class]]]] を与えることになるでしょう。

[28] '''誤って引用符を含めた例'''
[PRE(HTML bad example code)[
小泉自民党総裁 (当時) は、<q>「自民党をぶっ壊す」</q>と述べた。
]PRE]

[CODE(HTMLe)@@en[[[q]]]] [[要素]]に[[引用符]]を含めてはなりません。
[CODE(HTMLe)@@en[[[q]]]] [[要素]]そのものが、
[[引用符]]の意味を含んでいます。

[29] '''誤って引用符を含めた例'''
[PRE(HTML bad example code)[
小泉自民党総裁 (当時) は、「<q>自民党をぶっ壊す</q>」と述べた。
]PRE]

[CODE(HTMLe)@@en[[[q]]]] [[要素]]に[[引用符]]を含めてはなりません。
だからといって、 [CODE(HTMLe)@@en[[[q]]]]
[[要素]]の外にあればよいということもありません。
[CODE(HTMLe)@@en[[[q]]]] [[要素]]が[[引用符]]の意味を含んでいることには変わりないので、
[[引用符]]で二重に括ったのと同じことになってしまいます。

[[#comment]]


** 参考文献

- [6] ''Q要素:インライン引用文のマークアップについて'' <http://natto.2ch.net/hp/kako/1002/10027/1002750163.html>: 2001年のスレで、現在の事情からするとちょっと時代遅れの感がありますが。 (但し引用符補完 WinIE がまだ release されていないのは変わっていませんね。)

[21]
''Correct usage of the q element from Nicolas Roeser on 2004-02-07 (www-html@@w3.org from February 2004)'' <http://lists.w3.org/Archives/Public/www-html/2004Feb/0033.html>

[CODE(HTMLe)[q]] や [CODE(HTMLe)[[[blockquote]]]] や [CODE(XHTMLe)[[[quote]]]] についてのあらゆる話題が芋蔓式に詰まった [[www-html]] のスレ。
([[名無しさん]])

[26]
[CITE@@en[So, You Want Text Commands, Huh?]]
([[Joe Burns]] 著、2005年7月現在、内容から1990年代後半に書かれたと推測) <http://www.htmlgoodies.com/tutorials/getting_started/article.php/3479581#q>

> It will be a replacement for the [CODE(HTMLe)[blockquote]] command. Plus it will have the same properties available as the new [CODE(HTMLe)[Span]] command.

なんで違うものが代わりになるのでしょうね?
そして [CODE(HTMLe)@@en[[[span]]]] と同じ特性って一体何?
[CODE(HTMLe)@@[[[span]]]] の説明になぜか [CODE(HTMLa)@@en[[[title]]]]
属性が紹介されているけど、それのこと?

([[名無しさん]] [sage])

[[#comment]]


** メモ

[17]
(この文のように)「いわゆる」を表すときに括弧を使うことがありますが、[Q[いわゆる]]は[Q[所''謂'']] (or [Q[so‐''called'']]) と言うくらいですから、誰かが言ったとみなして [CODE(HTMLe)[q]] を使うのはありでしょうかねぇ。拡大解釈だとか批判されてしまいそうですが。
([[名無しさん]] [WEAK[2004-03-16 03:15:26 +00:00]])

[18]
とりあえず日本語に限定して考えますと、
括弧 (一重または二重) を使うのは、主として
- (狭義の)引用
- 挿入
- 「いわゆる」
- 強調
- 書名
- 片仮名の固有名詞 (戦前の片仮名書き文での用法)

です。後の三つは明らかに引用とは距離があります。

引用と挿入は構造的には区別できないかもしれません。「いわゆる」は大抵一、二語程度なのが特徴といえましょうか。

で、どこまでを広義の「引用」としてみとめるか、すなわち [CODE(HTMLe)[q]] 要素の守備範囲と考えるかという話になるわけですが・・・。[WEAK[(そもそもこの文の「『引用』」というのは「『いわゆる』」に分類されるのか、それとも別のものなのか。別のものだとして、マークし分ける必要があるものなのか。)]]
しかし、こういう議論は色々なところで既に何ループもしているわけでして、結論なんて出ないのかもしれません。
([[名無しさん]])

[19]
ところでレンダリングの観点からすると、それがどんな性質のものであれ、どれか一種類括弧をマークに置き換えるなら、その周辺は全部マークにするべきです。
どういうことかというと、「Name_Not_Found さんは『たとえば「『いわゆる「いわゆる」と「so‐called」について』 (名無しさん著) への疑問」という論文があるとします。』と言っていますが、その論文はどこで入手できますか。」というのをマークするときに、たとえば「引用は [CODE(HTMLe)[q]] でマークするけど、『いわゆる』はマークしないで地の文に括弧を含める」という規準を設けたとすると、特定のスタイルに依存した地の文にするか、括弧の入れ子の深さと括弧の種類が一致しないことになってしまいます。

レンダリングするときに地の文の括弧も適当に置き換えればいいという考えもあるかもしれませんが、そんな面倒なことは誰がするのでしょう。
[[SGML]] なら「それはタグではないがマークだ。」というのもありですが、
XML ではそういうのは無しでしょう。
([[名無しさん]])

[20]
「『ファイル』→『名前をつけて保存』」の括弧は挿入なのだかなんなのだか。
([[名無しさん]])


[27]
[CITE[A List Apart: Articles: Long Live the Q Tag]] <http://alistapart.com/articles/qtag>
([[名無しさん]] [WEAK[2006-09-30 23:40:38 +00:00]])


[[#comment]]


* 品質値

- [2] [[HTTP]] などの[[内容折衝]]で [CODE(HTTP)[[[Accept]]]]
などに使われる引数。 See [CODE(WikiPage)[[[qvalue]]]],
[CODE(WikiPage)[[[品質値]]]]。
[[#comment]]


* 長さの絶対量の単位

[9] [[組版]]の世界で使われている[[長さ]]の単位です。
[CODE[級]]とか [CODE[Q]] とか言ったりします。

[[#comment]]


** JIS X 4052 組版指定交換形式において

[1]

> [[級]], [[Q]] (1q = 0.25[[mm]]) [INS[([[JISX4052]]:2000 5.3.2. b)5))]]

[[#comment]]


@


1.14
log
@auto-committed
@
text
@d1 440
a440 392


* [CODE(char)[LATIN SMALL LETTER Q]]

[4] [DFN[[CODE(char)[q]]]] ([CODE(char)[[[LATIN SMALL LETTER Q]]]])
は、[[ラテン文字]] [CODE(char)[[[Q]]]] の[[小文字]]です。

[[#comment]]


* [CODE(HTMLe)[q]] 要素型 (HTML, XHTML 1)

[11] [ABBR[[[HTML]]] [ハイパーテキスト・マーク付け言語]] の
[DFN[[CODE(HTMLe)[q]] [[要素型]]]]は、短い、
[[段落]]区切りが要らないくらいの[[引用]]を表します。ここで
[Q[短い]]とは[Q[長い]]引用である [CODE(HTMLa)[[[blockquote]]]] 
要素型との対比であり、
[[行内要素]]が[[内容]]であることを意味します。

[7] 仕様書:
- [[HTML 4]]
-- <IW:HTML4:"struct/text.html#edef-Q">

[12]
:[[開始タグ]]:必須
:[[終了タグ]]:必須
:[[内容模型]]:[CODE(SGML)[(%[[inline]];)*]]
:[[属性]]:
,[CODE(HTMLa)[[[cite]]]]	,[[URI参照]]	,(なし)	,出典	,[HTML4]
,[CODE(HTMLa)[[[class]]]]	,	,	,[[級]]	,[HTML4] %[[coreattr]]
,[CODE(HTMLa)[[[dir]]]]	,	,	,[[書字方向]]	,[HTML4] %[[i18n]]
,[CODE(HTMLa)[[[id]]]]	,	,	,一意識別子	,[HTML4] %coreattr
,[CODE(HTMLa)[[[lang]]]]	,	,	,[[自然言語]]	,[HTML4] %i18n
,[CODE(HTMLa)[[[xml]]:lang]]	,	,	,自然言語	,[XHTML1]
,[CODE(HTMLa)[[[onclick]]]]	,	,	,	,[HTML4] %[[events]]
,[CODE(HTMLa)[[[ondblclick]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeydown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeypress]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeyup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmousedown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseout]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseover]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[style]]]]	,	,	,スタイル情報	,[HTML4] %coreattr
,[CODE(HTMLa)[[[title]]]]	,	,	,注釈的題	,[HTML4] %coreattr


[24]
HTML 4 DTD の[[注釈]] (参考) には
[Q[Inline Quotes]], 
[Q[short inline quotation]]
と説明されています。
([[名無しさん]] [sage])

[[#comment]]


** 応用

[[#comment]]


*** レンダリング

[14] <IW:HTML4:"struct/text.html#idx-quoted_text-1"> によると:
- [[視覚UA]] は区切りの[[引用符]]で内容を囲んでレンダリングしなければなりません
(must)。
- [[著者]]は、 [CODE(HTMLe)[q]] 要素の最初と最後に引用符を挿入するべきではありません
(should not)。
- UA は、言語依存の方法で引用符をレンダリングするべき (should)。
- UA は、多くの言語で採用されている、入れ子度によった適切な引用符を使うべき
(should)。

[[#comment]]


** 様々な言語・用字系の引用符

[8] 実際のところは引用符は言語, 地域, 用字系,
文脈によって様々に変わりえます。
一つの目安として :
,言語・地域	,用字系	,最外側	,==	,2番目	,==
,[CODE(lang)[en]]	,[CODE(script)[Latn]]	,“	,”	,‘	,’
,[CODE(lang)@@en[[[en]]]]	,	,[[U+201C]]	,[[U+201D]]	,[[U+2018]]	,[[U+2017]]
,[CODE(lang)[[[es]]]]	,	,[[U+201C]]	,[[U+201D]]	,[[U+2018]]	,[[U+2017]]
,[CODE(lang)[[[da]]]]	,	,[[U+00BB]]	,[[U+00AB]]
,[CODE(lang)[de]]	,[CODE(script)[Latn]]	,",,"	,”
,[CODE(lang)[[[de]]]]	,	,[[U+201E]]	,[[U+201C]]	,[[U+201A]]	,[[U+2018]]
,[CODE(lang)[[[de-CH]]]]	,	,[[U+00AB]]	,[[U+00BB]]	,[[U+2039]]	,[[U+203A]]
,[CODE(lang)[fr]]	,[CODE(script)[Latn]]	,<<	,>>
,[CODE(lang)[[[fr]]]]	,	,[[U+00AB]]	,[[U+00BB]]	,[[U+2039]]	,[[U+203A]]
,[CODE(lang)[[[it]]]]	,	,[[U+00AB]]	,[[U+00BB]]
,[CODE(lang)[ja]]	,[CODE(script)[Japn]]	,「	,」	,『	,』
,[CODE(lang)[ja]]	,[CODE(script)[Latn]]	,“	,”	,‘	,’
,[CODE(lang)[[[nl]]]]	,	,[[U+201D]]	,[[U+201D]]	,[[U+2019]]	,[[U+2019]]
,[CODE(lang)[[[no]]]]	,	,[[U+00AB]]	,[[U+00BB]]	,[[U+2039]]	,[[U+203A]]
,[CODE(lang)[[[pt]]]]	,	,[[U+00AB]]	,[[U+00BB]]	,[[U+2039]]	,[[U+203A]]
,[CODE(lang)[ru]]	,キリル文字	,<<	,>>	,
,[CODE(lang)[ru]]	,キリル文字	,“	,”	,
,[CODE(lang)[[[sv]]]]	,	,[[U+00BB]]	,[[U+00BB]]

- [15] 現実には更に著者や編集者の好み、分野の慣習なんかにも依存しますね。たとえば日本語の仮名漢字混じり文でも [CODE[“]]〜[CODE[”]] を使うことはよくある。それから、[[書字方向]]が [CODE(CSS)[[[lr-tb]]]] 以外のときにはまた様相が変わってきたりもしますね。

[16]
ドイツ語では字の文の言語ではなく引用文の言語で引用符を決定するとか小耳に挟みました。
([[名無しさん]])
[[#comment]]


** 実装について

[5] [[WebExplorer]] では [CODE(HTMLe)[q]] 要素型は 
[CODE(HTMLe)[[[blockquote]]]] 要素型の別名で、[[既定スタイル]]が 
[CODE(CSS)[display: block]] です。

[[#comment]]


*** Mozilla (Gecko) で

[3] [[Mozilla]] 1.3b の既定スタイルは [CODE(HTMLe)[q]]
要素の両側が常に [SAMP(char)["]] 
になって寂しいので、文脈によって適切な引用符を使うようにしようと思ってみました。

重要なポイントは、引用符は一般に、引用の周り (地の文)
の言語及びスクリプト (用字系) で決定されるということです。
例えばラテン語の英語で仮名漢字混じりの日本語文を引用するときは、

[PRE[
 For example, “こんな風になります.”
]PRE]

逆の場合は、
[PRE[
 例えば「like this example,」となります。
 (“comma style quotation mark”を使うこともありますが、
  話がややこしくなるので黙ってましょう。)
]PRE]

しかし、同じ英語と日本語の組み合わせでも、
[PRE[
 ふぉあ えくざんぷる、「こんな風になります」。
 Tatoe ba “like this example,” to narimasu.
]PRE]

のようになります。
ところが、 [[CSS2]] では言語の[[選択子]]はありますが、用字系で処理を振り分ける手段がありません。

しかも、 Mozilla は現時点では [CODE(CSS)[:[[lang]]]] 擬似級にすら対応していません。
その上、 [CODE(CSS)[[[quotes]]]] 属性には1組しか値を指定できないようです。
(それ以上指定しても無視される。)

そういう現状を踏まえて、とりあえずのスタイル指定:
[PRE[
 @@namespace xml 'http://www.w3.org/XML/1998/namespace';
 q, q q q,
 [lang=en] q, [lang=en] q q q {
   quotes: "“" "”" "‘" "’";
 }
 q q, q q q q,
 [lang=en] q q, [lang=en] q q q q {
   quotes: "‘" "’";
 }
 [xml|lang=ja] q, [xml|lang=ja] q q q, [lang=ja] q, [lang=ja] q q q {
   quotes: "「" "」" "『" "』";
 }
 [xml|lang=ja] q q, [xml|lang=ja] q q q q, [lang=ja] q q, [lang=ja] q q q q {
   quotes: "『" "』";
 }
]PRE]

テスト用 HTML 片:
[PRE[
 <span lang="en"><q>Quoted<q>Quoted <q>Quoted<q>Quoted text</q> text</q>text</q> text</q></span>
 <span lang="ja"><q>引用文<q>引用<q>引用<q>引用文字列</q>文字列</q>文字列</q>字列</q></span>
 <q>Quoted<q>Quoted <q>Quoted<q lang="ja">引用<q>引用<q>引用<q lang="en">Quoted<q>Quoted text</q> text</q>文字列</q>文字列</q>文字列</q>text</q>text</q> text</q>
]PRE]

問題点:
- 文書で言語指定が無かった場合は、とりあえず英語と同じにしてあります。
- 深い入れ子の引用では正しく動作しません。4つ目の引用まで対応しています。 (実際には十分以上でしょう。)
- 日本語の引用文の中に英語の引用文があって、更に引用部がある場合に、正しく引用符がつきません (3つ目のテスト片)。選択子の詳細度の関係でしょう。うまい選択子を与えれば解決できそうですが、複雑になりそう。
- 上述の通り、言語情報のみに頼っていて、スクリプトに応じた引用符を選択できません。
(日本語では問題になるのはローマ字書きくらいでしょう。)

[[#comment]]


** 例

[13] [SRC[HTML 4]]
[PRE[
John said, <Q lang="en-us">I saw Lucy at lunch, she told me
<Q lang="en-us">Mary wants you
to get some ice cream on your way home.</Q> I think I will get
some at Ben and Jerry's, on Gloucester Road.</Q>
]PRE]

レンダリング例:
[PRE[
  John said, "I saw Lucy at lunch, she told me 'Mary wants you
  to get some ice cream on your way home.' I think I will get some
  at Ben and Jerry's, on Gloucester Road."
]PRE]

HTML 4 は、どちらの引用も米語だから、と言っていますが、
実際には引用言語だけではなく、引用のまわりの言語もはっきりしないと
(むしろそっちがないと) 引用符は決定できないはずです。

[22]

> <p>In Australia, <q>personal information</q> is information about an
individual <q>who can be identified, or whose identity could be reasonably
ascertained.</q> In Canada <q>personal information</q> means information
about an <q>identifiable</q> individual. In the United States, different
sectors have different standards for identifiability of data. Similarly, in
many other policy documents, terms such as <q>personally identifiable
information (PII)</q> are often not defined or the cause for heated
debate.</p>

出典: [CITE[The Platform for Privacy Preferences 1.1 (P3P1.1) Specification]] 
<http://www.w3.org/TR/2005/WD-P3P11-20050104/#def_identity>

[23]

> <[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]="qa">
<[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]="q">
<[CODE(HTMLe)[h2]] [CODE(HTMLa)[id]]='uri'>Why is it <[CODE(HTMLe)[q]]>URI</[CODE(HTMLe)[q]]> and not <[CODE(HTMLe)[q]]>URL</[CODE(HTMLe)[q]]>?</[CODE(HTMLe)[h2]]>
</[CODE(HTMLe)[div]]>
> <[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]='a'>
<[CODE(HTMLe)[p]]>URI stands for <[CODE(HTMLe)[q]]>Uniform Resource Identifiers</[CODE(HTMLe)[q]]>, URLs are a subset of URIs, please see <[CODE(HTMLe)[a]] [CODE(HTMLa)[href]]='[CODE(URI)[http://www.w3.org/Addressing/]]'>Naming and Addressing: URIs, URLs, ...</[CODE(HTMLa)[a]]> and <[CODE(HTMLe)[a]] [CODE(HTMLa)[href]]='[CODE(URI)[http://www.w3.org/TR/uri-clarification/]]'>URIs, URLs, and URNs: Clarifications and Recommendations 1.0</[CODE(HTMLe)[a]]> for details.</[CODE(HTMLe)[p]]>
</[CODE(HTMLe)[div]]>
</[CODE(HTMLe)[div]]>

出典: [CITE[W3C CSS Validator FAQ]] 
<http://www.websitedev.de/css/validator-faq#uri>
(2003年11月付け)

[25] 文学作品における会話文の例

(マーク付け)
[PRE(HTML example code)[
<p><q>恋は罪悪ですか</q>と私がその時突然聞いた。</p>
<p><q>罪悪です。たしかに</q>と答えた時の先生の語気は前と同じように強かった。</p>
<p><q>なぜですか</q></p>
<p><q>なぜだか今に解ります。今にじゃない、もう解っているはずです。
あなたの心はとっくの昔からすでに恋で動いているじゃありませんか</q></p>
<p>私は一応自分の胸の中を調べて見た。けれどもそこは案外に空虚であった。
思いあたるようなものは何にもなかった。</p>
]PRE]

(スタイル指定)
[PRE(example code)[
p 要素:
  [display: block,
   text-indent: 1em,
   margin-top: 0,
   margin-bottom: 0].
q 要素:
  [display: inline,
   open-quote: "「",
   close-quote: "」"].
p 要素のうち、第1子節点が q 要素のもの:
  [text-indent: 0].
]PRE]

文章の出典: [CITE[夏目漱石 こころ]] 
<http://www.aozora.gr.jp/cards/000148/files/773_14560.html>

原文では文の一部になっている会話部分は前後に改行なし、
前後の文と独立している会話部分は前後に改行があります。
また、改行がある部分の新しい行のはじめには1文字分の空白がありますが、
新しい行の最初が会話で鉤括弧になっている時は半角のアキと半角の鉤括弧になっています。

このマーク付け例では、改行は改段落であると考えて
[CODE(HTMLe)[[[p]]]] の区切れ目としています。
鉤括弧は [CODE(HTMLe)[[[q]]]] 要素のタグに置き換えています。

会話だけで構成される[Q[段落]]は [CODE(HTMLe)[[[p]]]]
要素の内容が [CODE(HTMLe)[[[q]]]] 要素だけになって不自然な感じがします。
[CODE(HTMLe)[[[blockquote]]]] 要素の中に [CODE(HTMLe)[[[p]]]]
要素というマークの付け方も可能ですが、やはり不自然です。
この不自然さは [[HTML]] の[[ブロック水準要素]]と[[行内要素]]の区別の仕方と元の文章があまり相性が良くないことを意味しています。

元の見栄えを実現するスタイル・シートの例も示しました。
[CODE(HTMLe)[[[q]]]] 要素だけが子供として存在する [CODE(HTMLe)[[[p]]]]
要素、というような[[選択子]]は [[CSS 2.1]] にも [[CSS 3]]
にも残念ながら存在しませんので、ここでは架空のスタイル言語でそれらしく記述しました。
実用上はマーク付けの方を多少修正して、 [CODE(HTMLe)[[[q]]]]
要素だけが含まれる [CODE(HTMLe)[[[p]]]] 要素に [SAMP[only-q]]
など適当な [CODE(HTMLa)[[[class]]]] を与えることになるでしょう。

[[#comment]]


** 参考文献

- [6] ''Q要素:インライン引用文のマークアップについて'' <http://natto.2ch.net/hp/kako/1002/10027/1002750163.html>: 2001年のスレで、現在の事情からするとちょっと時代遅れの感がありますが。 (但し引用符補完 WinIE がまだ release されていないのは変わっていませんね。)

[21]
''Correct usage of the q element from Nicolas Roeser on 2004-02-07 (www-html@@w3.org from February 2004)'' <http://lists.w3.org/Archives/Public/www-html/2004Feb/0033.html>

[CODE(HTMLe)[q]] や [CODE(HTMLe)[[[blockquote]]]] や [CODE(XHTMLe)[[[quote]]]] についてのあらゆる話題が芋蔓式に詰まった [[www-html]] のスレ。
([[名無しさん]])

[26]
[CITE@@en[So, You Want Text Commands, Huh?]]
([[Joe Burns]] 著、2005年7月現在、内容から1990年代後半に書かれたと推測) <http://www.htmlgoodies.com/tutorials/getting_started/article.php/3479581#q>

> It will be a replacement for the [CODE(HTMLe)[blockquote]] command. Plus it will have the same properties available as the new [CODE(HTMLe)[Span]] command.

なんで違うものが代わりになるのでしょうね?
そして [CODE(HTMLe)@@en[[[span]]]] と同じ特性って一体何?
[CODE(HTMLe)@@[[[span]]]] の説明になぜか [CODE(HTMLa)@@en[[[title]]]]
属性が紹介されているけど、それのこと?

([[名無しさん]] [sage])

[[#comment]]


** メモ

[17]
(この文のように)「いわゆる」を表すときに括弧を使うことがありますが、[Q[いわゆる]]は[Q[所''謂'']] (or [Q[so‐''called'']]) と言うくらいですから、誰かが言ったとみなして [CODE(HTMLe)[q]] を使うのはありでしょうかねぇ。拡大解釈だとか批判されてしまいそうですが。
([[名無しさん]] [WEAK[2004-03-16 03:15:26 +00:00]])

[18]
とりあえず日本語に限定して考えますと、
括弧 (一重または二重) を使うのは、主として
- (狭義の)引用
- 挿入
- 「いわゆる」
- 強調
- 書名
- 片仮名の固有名詞 (戦前の片仮名書き文での用法)

です。後の三つは明らかに引用とは距離があります。

引用と挿入は構造的には区別できないかもしれません。「いわゆる」は大抵一、二語程度なのが特徴といえましょうか。

で、どこまでを広義の「引用」としてみとめるか、すなわち [CODE(HTMLe)[q]] 要素の守備範囲と考えるかという話になるわけですが・・・。[WEAK[(そもそもこの文の「『引用』」というのは「『いわゆる』」に分類されるのか、それとも別のものなのか。別のものだとして、マークし分ける必要があるものなのか。)]]
しかし、こういう議論は色々なところで既に何ループもしているわけでして、結論なんて出ないのかもしれません。
([[名無しさん]])

[19]
ところでレンダリングの観点からすると、それがどんな性質のものであれ、どれか一種類括弧をマークに置き換えるなら、その周辺は全部マークにするべきです。
どういうことかというと、「Name_Not_Found さんは『たとえば「『いわゆる「いわゆる」と「so‐called」について』 (名無しさん著) への疑問」という論文があるとします。』と言っていますが、その論文はどこで入手できますか。」というのをマークするときに、たとえば「引用は [CODE(HTMLe)[q]] でマークするけど、『いわゆる』はマークしないで地の文に括弧を含める」という規準を設けたとすると、特定のスタイルに依存した地の文にするか、括弧の入れ子の深さと括弧の種類が一致しないことになってしまいます。

レンダリングするときに地の文の括弧も適当に置き換えればいいという考えもあるかもしれませんが、そんな面倒なことは誰がするのでしょう。
[[SGML]] なら「それはタグではないがマークだ。」というのもありですが、
XML ではそういうのは無しでしょう。
([[名無しさん]])

[20]
「『ファイル』→『名前をつけて保存』」の括弧は挿入なのだかなんなのだか。
([[名無しさん]])


[27]
[CITE[A List Apart: Articles: Long Live the Q Tag]] <http://alistapart.com/articles/qtag>
([[名無しさん]] [WEAK[2006-09-30 23:40:38 +00:00]])


[[#comment]]


* 品質値

- [2] [[HTTP]] などの[[内容折衝]]で [CODE(HTTP)[[[Accept]]]]
などに使われる引数。 See [CODE(WikiPage)[[[qvalue]]]],
[CODE(WikiPage)[[[品質値]]]]。
[[#comment]]


* 長さの絶対量の単位

[9] [[組版]]の世界で使われている[[長さ]]の単位です。
[CODE[級]]とか [CODE[Q]] とか言ったりします。

[[#comment]]


** JIS X 4052 組版指定交換形式において

[1]

> [[級]], [[Q]] (1q = 0.25[[mm]]) [INS[([[JISX4052]]:2000 5.3.2. b)5))]]

[[#comment]]


@


1.13
log
@auto-committed
@
text
@d1 392
a392 387

* [CODE(char)[LATIN SMALL LETTER Q]]

[4] [DFN[[CODE(char)[q]]]] ([CODE(char)[[[LATIN SMALL LETTER Q]]]])
は、[[ラテン文字]] [CODE(char)[[[Q]]]] の[[小文字]]です。

[[#comment]]


* [CODE(HTMLe)[q]] 要素型 (HTML, XHTML 1)

[11] [ABBR[[[HTML]]] [ハイパーテキスト・マーク付け言語]] の
[DFN[[CODE(HTMLe)[q]] [[要素型]]]]は、短い、
[[段落]]区切りが要らないくらいの[[引用]]を表します。ここで
[Q[短い]]とは[Q[長い]]引用である [CODE(HTMLa)[[[blockquote]]]] 
要素型との対比であり、
[[行内要素]]が[[内容]]であることを意味します。

[7] 仕様書:
- [[HTML 4]]
-- <IW:HTML4:"struct/text.html#edef-Q">

[12]
:[[開始タグ]]:必須
:[[終了タグ]]:必須
:[[内容模型]]:[CODE(SGML)[(%[[inline]];)*]]
:[[属性]]:
,[CODE(HTMLa)[[[cite]]]]	,[[URI参照]]	,(なし)	,出典	,[HTML4]
,[CODE(HTMLa)[[[class]]]]	,	,	,[[級]]	,[HTML4] %[[coreattr]]
,[CODE(HTMLa)[[[dir]]]]	,	,	,[[書字方向]]	,[HTML4] %[[i18n]]
,[CODE(HTMLa)[[[id]]]]	,	,	,一意識別子	,[HTML4] %coreattr
,[CODE(HTMLa)[[[lang]]]]	,	,	,[[自然言語]]	,[HTML4] %i18n
,[CODE(HTMLa)[[[xml]]:lang]]	,	,	,自然言語	,[XHTML1]
,[CODE(HTMLa)[[[onclick]]]]	,	,	,	,[HTML4] %[[events]]
,[CODE(HTMLa)[[[ondblclick]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeydown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeypress]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeyup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmousedown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseout]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseover]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[style]]]]	,	,	,スタイル情報	,[HTML4] %coreattr
,[CODE(HTMLa)[[[title]]]]	,	,	,注釈的題	,[HTML4] %coreattr


[24]
HTML 4 DTD の[[注釈]] (参考) には
[Q[Inline Quotes]], 
[Q[short inline quotation]]
と説明されています。
([[名無しさん]] [sage])

[[#comment]]


** 応用

[[#comment]]


*** レンダリング

[14] <IW:HTML4:"struct/text.html#idx-quoted_text-1"> によると:
- [[視覚UA]] は区切りの[[引用符]]で内容を囲んでレンダリングしなければなりません
(must)。
- [[著者]]は、 [CODE(HTMLe)[q]] 要素の最初と最後に引用符を挿入するべきではありません
(should not)。
- UA は、言語依存の方法で引用符をレンダリングするべき (should)。
- UA は、多くの言語で採用されている、入れ子度によった適切な引用符を使うべき
(should)。

[[#comment]]


** 様々な言語・用字系の引用符

[8] 実際のところは引用符は言語, 地域, 用字系,
文脈によって様々に変わりえます。
一つの目安として :
,言語・地域	,用字系	,最外側	,==	,2番目	,==
,[CODE(lang)[en]]	,[CODE(script)[Latn]]	,“	,”	,‘	,’
,[CODE(lang)@@en[[[en]]]],,[[U+201C]],[[U+201D]],[[U+2018]],[[U+2017]]
,[CODE(lang)[[[es]]]],,[[U+201C]],[[U+201D]],[[U+2018]],[[U+2017]]
,[CODE(lang)[[[da]]]],,[[U+00BB]],[[U+00AB]]
,[CODE(lang)[de]]	,[CODE(script)[Latn]]	,",,"	,”
,[CODE(lang)[[[de]]]],,[[U+201E]],[[U+201C]],[[U+201A]],[[U+2018]]
,[CODE(lang)[[[de-CH]]]],,[[U+00AB]],[[U+00BB]],[[U+2039]],[[U+203A]]
,[CODE(lang)[fr]]	,[CODE(script)[Latn]]	,<<	,>>
,[CODE(lang)[[[fr]]]],,[[U+00AB]],[[U+00BB]],[[U+2039]],[[U+203A]]
,[CODE(lang)[[[it]]]],,[[U+00AB]],[[U+00BB]]
,[CODE(lang)[ja]]	,[CODE(script)[Japn]]	,「	,」	,『	,』
,[CODE(lang)[ja]]	,[CODE(script)[Latn]]	,“	,”	,‘	,’
,[CODE(lang)[[[nl]]]],,[[U+201D]],[[U+201D]],[[U+2019]],[[U+2019]]
,[CODE(lang)[[[no]]]],,[[U+00AB]],[[U+00BB]],[[U+2039]],[[U+203A]]
,[CODE(lang)[[[pt]]]],,[[U+00AB]],[[U+00BB]],[[U+2039]],[[U+203A]]
,[CODE(lang)[ru]]	,キリル文字	,<<	,>>	,
,[CODE(lang)[ru]]	,キリル文字	,“	,”	,
,[CODE(lang)[[[sv]]]],,[[U+00BB]],[[U+00BB]]

- [15] 現実には更に著者や編集者の好み、分野の慣習なんかにも依存しますね。たとえば日本語の仮名漢字混じり文でも [CODE[“]]〜[CODE[”]] を使うことはよくある。それから、[[書字方向]]が [CODE(CSS)[[[lr-tb]]]] 以外のときにはまた様相が変わってきたりもしますね。

[16]
ドイツ語では字の文の言語ではなく引用文の言語で引用符を決定するとか小耳に挟みました。
([[名無しさん]])
[[#comment]]


** 実装について

[5] [[WebExplorer]] では [CODE(HTMLe)[q]] 要素型は 
[CODE(HTMLe)[[[blockquote]]]] 要素型の別名で、[[既定スタイル]]が 
[CODE(CSS)[display: block]] です。

[[#comment]]


*** Mozilla (Gecko) で

[3] [[Mozilla]] 1.3b の既定スタイルは [CODE(HTMLe)[q]]
要素の両側が常に [SAMP(char)["]] 
になって寂しいので、文脈によって適切な引用符を使うようにしようと思ってみました。

重要なポイントは、引用符は一般に、引用の周り (地の文)
の言語及びスクリプト (用字系) で決定されるということです。
例えばラテン語の英語で仮名漢字混じりの日本語文を引用するときは、

[PRE[
 For example, “こんな風になります.”
]PRE]

逆の場合は、
[PRE[
 例えば「like this example,」となります。
 (“comma style quotation mark”を使うこともありますが、
  話がややこしくなるので黙ってましょう。)
]PRE]

しかし、同じ英語と日本語の組み合わせでも、
[PRE[
 ふぉあ えくざんぷる、「こんな風になります」。
 Tatoe ba “like this example,” to narimasu.
]PRE]

のようになります。
ところが、 [[CSS2]] では言語の[[選択子]]はありますが、用字系で処理を振り分ける手段がありません。

しかも、 Mozilla は現時点では [CODE(CSS)[:[[lang]]]] 擬似級にすら対応していません。
その上、 [CODE(CSS)[[[quotes]]]] 属性には1組しか値を指定できないようです。
(それ以上指定しても無視される。)

そういう現状を踏まえて、とりあえずのスタイル指定:
[PRE[
 @@namespace xml 'http://www.w3.org/XML/1998/namespace';
 q, q q q,
 [lang=en] q, [lang=en] q q q {
   quotes: "“" "”" "‘" "’";
 }
 q q, q q q q,
 [lang=en] q q, [lang=en] q q q q {
   quotes: "‘" "’";
 }
 [xml|lang=ja] q, [xml|lang=ja] q q q, [lang=ja] q, [lang=ja] q q q {
   quotes: "「" "」" "『" "』";
 }
 [xml|lang=ja] q q, [xml|lang=ja] q q q q, [lang=ja] q q, [lang=ja] q q q q {
   quotes: "『" "』";
 }
]PRE]

テスト用 HTML 片:
[PRE[
 <span lang="en"><q>Quoted<q>Quoted <q>Quoted<q>Quoted text</q> text</q>text</q> text</q></span>
 <span lang="ja"><q>引用文<q>引用<q>引用<q>引用文字列</q>文字列</q>文字列</q>字列</q></span>
 <q>Quoted<q>Quoted <q>Quoted<q lang="ja">引用<q>引用<q>引用<q lang="en">Quoted<q>Quoted text</q> text</q>文字列</q>文字列</q>文字列</q>text</q>text</q> text</q>
]PRE]

問題点:
- 文書で言語指定が無かった場合は、とりあえず英語と同じにしてあります。
- 深い入れ子の引用では正しく動作しません。4つ目の引用まで対応しています。 (実際には十分以上でしょう。)
- 日本語の引用文の中に英語の引用文があって、更に引用部がある場合に、正しく引用符がつきません (3つ目のテスト片)。選択子の詳細度の関係でしょう。うまい選択子を与えれば解決できそうですが、複雑になりそう。
- 上述の通り、言語情報のみに頼っていて、スクリプトに応じた引用符を選択できません。
(日本語では問題になるのはローマ字書きくらいでしょう。)

[[#comment]]


** 例

[13] [SRC[HTML 4]]
[PRE[
John said, <Q lang="en-us">I saw Lucy at lunch, she told me
<Q lang="en-us">Mary wants you
to get some ice cream on your way home.</Q> I think I will get
some at Ben and Jerry's, on Gloucester Road.</Q>
]PRE]

レンダリング例:
[PRE[
  John said, "I saw Lucy at lunch, she told me 'Mary wants you
  to get some ice cream on your way home.' I think I will get some
  at Ben and Jerry's, on Gloucester Road."
]PRE]

HTML 4 は、どちらの引用も米語だから、と言っていますが、
実際には引用言語だけではなく、引用のまわりの言語もはっきりしないと
(むしろそっちがないと) 引用符は決定できないはずです。

[22]

> <p>In Australia, <q>personal information</q> is information about an
individual <q>who can be identified, or whose identity could be reasonably
ascertained.</q> In Canada <q>personal information</q> means information
about an <q>identifiable</q> individual. In the United States, different
sectors have different standards for identifiability of data. Similarly, in
many other policy documents, terms such as <q>personally identifiable
information (PII)</q> are often not defined or the cause for heated
debate.</p>

出典: [CITE[The Platform for Privacy Preferences 1.1 (P3P1.1) Specification]] 
<http://www.w3.org/TR/2005/WD-P3P11-20050104/#def_identity>

[23]

> <[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]="qa">
<[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]="q">
<[CODE(HTMLe)[h2]] [CODE(HTMLa)[id]]='uri'>Why is it <[CODE(HTMLe)[q]]>URI</[CODE(HTMLe)[q]]> and not <[CODE(HTMLe)[q]]>URL</[CODE(HTMLe)[q]]>?</[CODE(HTMLe)[h2]]>
</[CODE(HTMLe)[div]]>
> <[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]='a'>
<[CODE(HTMLe)[p]]>URI stands for <[CODE(HTMLe)[q]]>Uniform Resource Identifiers</[CODE(HTMLe)[q]]>, URLs are a subset of URIs, please see <[CODE(HTMLe)[a]] [CODE(HTMLa)[href]]='[CODE(URI)[http://www.w3.org/Addressing/]]'>Naming and Addressing: URIs, URLs, ...</[CODE(HTMLa)[a]]> and <[CODE(HTMLe)[a]] [CODE(HTMLa)[href]]='[CODE(URI)[http://www.w3.org/TR/uri-clarification/]]'>URIs, URLs, and URNs: Clarifications and Recommendations 1.0</[CODE(HTMLe)[a]]> for details.</[CODE(HTMLe)[p]]>
</[CODE(HTMLe)[div]]>
</[CODE(HTMLe)[div]]>

出典: [CITE[W3C CSS Validator FAQ]] 
<http://www.websitedev.de/css/validator-faq#uri>
(2003年11月付け)

[25] 文学作品における会話文の例

(マーク付け)
[PRE(HTML example code)[
<p><q>恋は罪悪ですか</q>と私がその時突然聞いた。</p>
<p><q>罪悪です。たしかに</q>と答えた時の先生の語気は前と同じように強かった。</p>
<p><q>なぜですか</q></p>
<p><q>なぜだか今に解ります。今にじゃない、もう解っているはずです。
あなたの心はとっくの昔からすでに恋で動いているじゃありませんか</q></p>
<p>私は一応自分の胸の中を調べて見た。けれどもそこは案外に空虚であった。
思いあたるようなものは何にもなかった。</p>
]PRE]

(スタイル指定)
[PRE(example code)[
p 要素:
  [display: block,
   text-indent: 1em,
   margin-top: 0,
   margin-bottom: 0].
q 要素:
  [display: inline,
   open-quote: "「",
   close-quote: "」"].
p 要素のうち、第1子節点が q 要素のもの:
  [text-indent: 0].
]PRE]

文章の出典: [CITE[夏目漱石 こころ]] 
<http://www.aozora.gr.jp/cards/000148/files/773_14560.html>

原文では文の一部になっている会話部分は前後に改行なし、
前後の文と独立している会話部分は前後に改行があります。
また、改行がある部分の新しい行のはじめには1文字分の空白がありますが、
新しい行の最初が会話で鉤括弧になっている時は半角のアキと半角の鉤括弧になっています。

このマーク付け例では、改行は改段落であると考えて
[CODE(HTMLe)[[[p]]]] の区切れ目としています。
鉤括弧は [CODE(HTMLe)[[[q]]]] 要素のタグに置き換えています。

会話だけで構成される[Q[段落]]は [CODE(HTMLe)[[[p]]]]
要素の内容が [CODE(HTMLe)[[[q]]]] 要素だけになって不自然な感じがします。
[CODE(HTMLe)[[[blockquote]]]] 要素の中に [CODE(HTMLe)[[[p]]]]
要素というマークの付け方も可能ですが、やはり不自然です。
この不自然さは [[HTML]] の[[ブロック水準要素]]と[[行内要素]]の区別の仕方と元の文章があまり相性が良くないことを意味しています。

元の見栄えを実現するスタイル・シートの例も示しました。
[CODE(HTMLe)[[[q]]]] 要素だけが子供として存在する [CODE(HTMLe)[[[p]]]]
要素、というような[[選択子]]は [[CSS 2.1]] にも [[CSS 3]]
にも残念ながら存在しませんので、ここでは架空のスタイル言語でそれらしく記述しました。
実用上はマーク付けの方を多少修正して、 [CODE(HTMLe)[[[q]]]]
要素だけが含まれる [CODE(HTMLe)[[[p]]]] 要素に [SAMP[only-q]]
など適当な [CODE(HTMLa)[[[class]]]] を与えることになるでしょう。

[[#comment]]


** 参考文献

- [6] ''Q要素:インライン引用文のマークアップについて'' <http://natto.2ch.net/hp/kako/1002/10027/1002750163.html>: 2001年のスレで、現在の事情からするとちょっと時代遅れの感がありますが。 (但し引用符補完 WinIE がまだ release されていないのは変わっていませんね。)

[21]
''Correct usage of the q element from Nicolas Roeser on 2004-02-07 (www-html@@w3.org from February 2004)'' <http://lists.w3.org/Archives/Public/www-html/2004Feb/0033.html>

[CODE(HTMLe)[q]] や [CODE(HTMLe)[[[blockquote]]]] や [CODE(XHTMLe)[[[quote]]]] についてのあらゆる話題が芋蔓式に詰まった [[www-html]] のスレ。
([[名無しさん]])


[26]
[CITE@@en[So, You Want Text Commands, Huh?]]
([[Joe Burns]] 著、2005年7月現在、内容から1990年代後半に書かれたと推測) <http://www.htmlgoodies.com/tutorials/getting_started/article.php/3479581#q>

>It will be a replacement for the [CODE(HTMLe)[blockquote]] command. Plus it will have the same properties available as the new [CODE(HTMLe)[Span]] command.

なんで違うものが代わりになるのでしょうね?
そして [CODE(HTMLe)@@en[[[span]]]] と同じ特性って一体何?
[CODE(HTMLe)@@[[[span]]]] の説明になぜか [CODE(HTMLa)@@en[[[title]]]]
属性が紹介されているけど、それのこと?

([[名無しさん]] [sage])


[[#comment]]


** メモ

[17]
(この文のように)「いわゆる」を表すときに括弧を使うことがありますが、[Q[いわゆる]]は[Q[所''謂'']] (or [Q[so‐''called'']]) と言うくらいですから、誰かが言ったとみなして [CODE(HTMLe)[q]] を使うのはありでしょうかねぇ。拡大解釈だとか批判されてしまいそうですが。
([[名無しさん]] [WEAK[2004-03-16 03:15:26 +00:00]])

[18]
とりあえず日本語に限定して考えますと、
括弧 (一重または二重) を使うのは、主として
- (狭義の)引用
- 挿入
- 「いわゆる」
- 強調
- 書名
- 片仮名の固有名詞 (戦前の片仮名書き文での用法)

です。後の三つは明らかに引用とは距離があります。

引用と挿入は構造的には区別できないかもしれません。「いわゆる」は大抵一、二語程度なのが特徴といえましょうか。

で、どこまでを広義の「引用」としてみとめるか、すなわち [CODE(HTMLe)[q]] 要素の守備範囲と考えるかという話になるわけですが・・・。[WEAK[(そもそもこの文の「『引用』」というのは「『いわゆる』」に分類されるのか、それとも別のものなのか。別のものだとして、マークし分ける必要があるものなのか。)]]
しかし、こういう議論は色々なところで既に何ループもしているわけでして、結論なんて出ないのかもしれません。
([[名無しさん]])

[19]
ところでレンダリングの観点からすると、それがどんな性質のものであれ、どれか一種類括弧をマークに置き換えるなら、その周辺は全部マークにするべきです。
どういうことかというと、「Name_Not_Found さんは『たとえば「『いわゆる「いわゆる」と「so‐called」について』 (名無しさん著) への疑問」という論文があるとします。』と言っていますが、その論文はどこで入手できますか。」というのをマークするときに、たとえば「引用は [CODE(HTMLe)[q]] でマークするけど、『いわゆる』はマークしないで地の文に括弧を含める」という規準を設けたとすると、特定のスタイルに依存した地の文にするか、括弧の入れ子の深さと括弧の種類が一致しないことになってしまいます。

レンダリングするときに地の文の括弧も適当に置き換えればいいという考えもあるかもしれませんが、そんな面倒なことは誰がするのでしょう。
[[SGML]] なら「それはタグではないがマークだ。」というのもありですが、
XML ではそういうのは無しでしょう。
([[名無しさん]])

[20]
「『ファイル』→『名前をつけて保存』」の括弧は挿入なのだかなんなのだか。
([[名無しさん]])

[[#comment]]


* 品質値

- [2] [[HTTP]] などの[[内容折衝]]で [CODE(HTTP)[[[Accept]]]]
などに使われる引数。 See [CODE(WikiPage)[[[qvalue]]]],
[CODE(WikiPage)[[[品質値]]]]。
[[#comment]]


* 長さの絶対量の単位

[9] [[組版]]の世界で使われている[[長さ]]の単位です。
[CODE[級]]とか [CODE[Q]] とか言ったりします。

[[#comment]]


** JIS X 4052 組版指定交換形式において

[1]

> [[級]], [[Q]] (1q = 0.25[[mm]]) [INS[([[JISX4052]]:2000 5.3.2. b)5))]]

[[#comment]]


@


1.12
log
@auto-committed
@
text
@d1 306
a306 296


* [CODE(char)[LATIN SMALL LETTER Q]]

[4] [DFN[[CODE(char)[q]]]] ([CODE(char)[[[LATIN SMALL LETTER Q]]]])
は、[[ラテン文字]] [CODE(char)[[[Q]]]] の[[小文字]]です。

[[#comment]]


* [CODE(HTMLe)[q]] 要素型 (HTML, XHTML 1)

[11] [ABBR[[[HTML]]] [ハイパーテキスト・マーク付け言語]] の
[DFN[[CODE(HTMLe)[q]] [[要素型]]]]は、短い、
[[段落]]区切りが要らないくらいの[[引用]]を表します。ここで
[Q[短い]]とは[Q[長い]]引用である [CODE(HTMLa)[[[blockquote]]]] 
要素型との対比であり、
[[行内要素]]が[[内容]]であることを意味します。

[7] 仕様書:
- [[HTML 4]]
-- <IW:HTML4:"struct/text.html#edef-Q">

[12]
:[[開始タグ]]:必須
:[[終了タグ]]:必須
:[[内容模型]]:[CODE(SGML)[(%[[inline]];)*]]
:[[属性]]:
,[CODE(HTMLa)[[[cite]]]]	,[[URI参照]]	,(なし)	,出典	,[HTML4]
,[CODE(HTMLa)[[[class]]]]	,	,	,[[級]]	,[HTML4] %[[coreattr]]
,[CODE(HTMLa)[[[dir]]]]	,	,	,[[書字方向]]	,[HTML4] %[[i18n]]
,[CODE(HTMLa)[[[id]]]]	,	,	,一意識別子	,[HTML4] %coreattr
,[CODE(HTMLa)[[[lang]]]]	,	,	,[[自然言語]]	,[HTML4] %i18n
,[CODE(HTMLa)[[[xml]]:lang]]	,	,	,自然言語	,[XHTML1]
,[CODE(HTMLa)[[[onclick]]]]	,	,	,	,[HTML4] %[[events]]
,[CODE(HTMLa)[[[ondblclick]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeydown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeypress]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeyup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmousedown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseout]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseover]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[style]]]]	,	,	,スタイル情報	,[HTML4] %coreattr
,[CODE(HTMLa)[[[title]]]]	,	,	,注釈的題	,[HTML4] %coreattr


[24]
HTML 4 DTD の[[注釈]] (参考) には
[Q[Inline Quotes]], 
[Q[short inline quotation]]
と説明されています。
([[名無しさん]] [sage])

[[#comment]]


** 応用

[[#comment]]


*** レンダリング

[14] <IW:HTML4:"struct/text.html#idx-quoted_text-1"> によると:
- [[視覚UA]] は区切りの[[引用符]]で内容を囲んでレンダリングしなければなりません
(must)。
- [[著者]]は、 [CODE(HTMLe)[q]] 要素の最初と最後に引用符を挿入するべきではありません
(should not)。
- UA は、言語依存の方法で引用符をレンダリングするべき (should)。
- UA は、多くの言語で採用されている、入れ子度によった適切な引用符を使うべき
(should)。

[[#comment]]


** 様々な言語・用字系の引用符

[8] 実際のところは引用符は言語, 地域, 用字系,
文脈によって様々に変わりえます。
一つの目安として :
,言語・地域	,用字系	,最外側	,==	,2番目	,==
,[CODE(lang)[en]]	,[CODE(script)[Latn]]	,“	,”	,‘	,’
,[CODE(lang)[de]]	,[CODE(script)[Latn]]	,",,"	,”
,[CODE(lang)[fr]]	,[CODE(script)[Latn]]	,<<	,>>
,[CODE(lang)[ja]]	,[CODE(script)[Japn]]	,「	,」	,『	,』
,[CODE(lang)[ja]]	,[CODE(script)[Latn]]	,“	,”	,‘	,’
,[CODE(lang)[ru]]	,キリル文字	,<<	,>>	,
,[CODE(lang)[ru]]	,キリル文字	,“	,”	,

- [15] 現実には更に著者や編集者の好み、分野の慣習なんかにも依存しますね。たとえば日本語の仮名漢字混じり文でも [CODE[“]]〜[CODE[”]] を使うことはよくある。それから、[[書字方向]]が [CODE(CSS)[[[lr-tb]]]] 以外のときにはまた様相が変わってきたりもしますね。

[16]
ドイツ語では字の文の言語ではなく引用文の言語で引用符を決定するとか小耳に挟みました。
([[名無しさん]])
[[#comment]]


** 実装について

[5] [[WebExplorer]] では [CODE(HTMLe)[q]] 要素型は 
[CODE(HTMLe)[[[blockquote]]]] 要素型の別名で、[[既定スタイル]]が 
[CODE(CSS)[display: block]] です。

[[#comment]]


*** Mozilla (Gecko) で

[3] [[Mozilla]] 1.3b の既定スタイルは [CODE(HTMLe)[q]]
要素の両側が常に [SAMP(char)["]] 
になって寂しいので、文脈によって適切な引用符を使うようにしようと思ってみました。

重要なポイントは、引用符は一般に、引用の周り (地の文)
の言語及びスクリプト (用字系) で決定されるということです。
例えばラテン語の英語で仮名漢字混じりの日本語文を引用するときは、

[PRE[
 For example, “こんな風になります.”
]PRE]

逆の場合は、
[PRE[
 例えば「like this example,」となります。
 (“comma style quotation mark”を使うこともありますが、
  話がややこしくなるので黙ってましょう。)
]PRE]

しかし、同じ英語と日本語の組み合わせでも、
[PRE[
 ふぉあ えくざんぷる、「こんな風になります」。
 Tatoe ba “like this example,” to narimasu.
]PRE]

のようになります。
ところが、 [[CSS2]] では言語の[[選択子]]はありますが、用字系で処理を振り分ける手段がありません。

しかも、 Mozilla は現時点では [CODE(CSS)[:[[lang]]]] 擬似級にすら対応していません。
その上、 [CODE(CSS)[[[quotes]]]] 属性には1組しか値を指定できないようです。
(それ以上指定しても無視される。)

そういう現状を踏まえて、とりあえずのスタイル指定:
[PRE[
 @@namespace xml 'http://www.w3.org/XML/1998/namespace';
 q, q q q,
 [lang=en] q, [lang=en] q q q {
   quotes: "“" "”" "‘" "’";
 }
 q q, q q q q,
 [lang=en] q q, [lang=en] q q q q {
   quotes: "‘" "’";
 }
 [xml|lang=ja] q, [xml|lang=ja] q q q, [lang=ja] q, [lang=ja] q q q {
   quotes: "「" "」" "『" "』";
 }
 [xml|lang=ja] q q, [xml|lang=ja] q q q q, [lang=ja] q q, [lang=ja] q q q q {
   quotes: "『" "』";
 }
]PRE]

テスト用 HTML 片:
[PRE[
 <span lang="en"><q>Quoted<q>Quoted <q>Quoted<q>Quoted text</q> text</q>text</q> text</q></span>
 <span lang="ja"><q>引用文<q>引用<q>引用<q>引用文字列</q>文字列</q>文字列</q>字列</q></span>
 <q>Quoted<q>Quoted <q>Quoted<q lang="ja">引用<q>引用<q>引用<q lang="en">Quoted<q>Quoted text</q> text</q>文字列</q>文字列</q>文字列</q>text</q>text</q> text</q>
]PRE]

問題点:
- 文書で言語指定が無かった場合は、とりあえず英語と同じにしてあります。
- 深い入れ子の引用では正しく動作しません。4つ目の引用まで対応しています。 (実際には十分以上でしょう。)
- 日本語の引用文の中に英語の引用文があって、更に引用部がある場合に、正しく引用符がつきません (3つ目のテスト片)。選択子の詳細度の関係でしょう。うまい選択子を与えれば解決できそうですが、複雑になりそう。
- 上述の通り、言語情報のみに頼っていて、スクリプトに応じた引用符を選択できません。
(日本語では問題になるのはローマ字書きくらいでしょう。)

[[#comment]]


** 例

[13] [SRC[HTML 4]]
[PRE[
John said, <Q lang="en-us">I saw Lucy at lunch, she told me
<Q lang="en-us">Mary wants you
to get some ice cream on your way home.</Q> I think I will get
some at Ben and Jerry's, on Gloucester Road.</Q>
]PRE]

レンダリング例:
[PRE[
  John said, "I saw Lucy at lunch, she told me 'Mary wants you
  to get some ice cream on your way home.' I think I will get some
  at Ben and Jerry's, on Gloucester Road."
]PRE]

HTML 4 は、どちらの引用も米語だから、と言っていますが、
実際には引用言語だけではなく、引用のまわりの言語もはっきりしないと
(むしろそっちがないと) 引用符は決定できないはずです。

[22]

> <p>In Australia, <q>personal information</q> is information about an
individual <q>who can be identified, or whose identity could be reasonably
ascertained.</q> In Canada <q>personal information</q> means information
about an <q>identifiable</q> individual. In the United States, different
sectors have different standards for identifiability of data. Similarly, in
many other policy documents, terms such as <q>personally identifiable
information (PII)</q> are often not defined or the cause for heated
debate.</p>

出典: [CITE[The Platform for Privacy Preferences 1.1 (P3P1.1) Specification]] 
<http://www.w3.org/TR/2005/WD-P3P11-20050104/#def_identity>

[23]

> <[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]="qa">
<[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]="q">
<[CODE(HTMLe)[h2]] [CODE(HTMLa)[id]]='uri'>Why is it <[CODE(HTMLe)[q]]>URI</[CODE(HTMLe)[q]]> and not <[CODE(HTMLe)[q]]>URL</[CODE(HTMLe)[q]]>?</[CODE(HTMLe)[h2]]>
</[CODE(HTMLe)[div]]>
> <[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]='a'>
<[CODE(HTMLe)[p]]>URI stands for <[CODE(HTMLe)[q]]>Uniform Resource Identifiers</[CODE(HTMLe)[q]]>, URLs are a subset of URIs, please see <[CODE(HTMLe)[a]] [CODE(HTMLa)[href]]='[CODE(URI)[http://www.w3.org/Addressing/]]'>Naming and Addressing: URIs, URLs, ...</[CODE(HTMLa)[a]]> and <[CODE(HTMLe)[a]] [CODE(HTMLa)[href]]='[CODE(URI)[http://www.w3.org/TR/uri-clarification/]]'>URIs, URLs, and URNs: Clarifications and Recommendations 1.0</[CODE(HTMLe)[a]]> for details.</[CODE(HTMLe)[p]]>
</[CODE(HTMLe)[div]]>
</[CODE(HTMLe)[div]]>

出典: [CITE[W3C CSS Validator FAQ]] 
<http://www.websitedev.de/css/validator-faq#uri>
(2003年11月付け)

[25] 文学作品における会話文の例

(マーク付け)
[PRE(HTML example code)[
<p><q>恋は罪悪ですか</q>と私がその時突然聞いた。</p>
<p><q>罪悪です。たしかに</q>と答えた時の先生の語気は前と同じように強かった。</p>
<p><q>なぜですか</q></p>
<p><q>なぜだか今に解ります。今にじゃない、もう解っているはずです。
あなたの心はとっくの昔からすでに恋で動いているじゃありませんか</q></p>
<p>私は一応自分の胸の中を調べて見た。けれどもそこは案外に空虚であった。
思いあたるようなものは何にもなかった。</p>
]PRE]

(スタイル指定)
[PRE(example code)[
p 要素:
  [display: block,
   text-indent: 1em,
   margin-top: 0,
   margin-bottom: 0].
q 要素:
  [display: inline,
   open-quote: "「",
   close-quote: "」"].
p 要素のうち、第1子節点が q 要素のもの:
  [text-indent: 0].
]PRE]

文章の出典: [CITE[夏目漱石 こころ]] 
<http://www.aozora.gr.jp/cards/000148/files/773_14560.html>

原文では文の一部になっている会話部分は前後に改行なし、
前後の文と独立している会話部分は前後に改行があります。
また、改行がある部分の新しい行のはじめには1文字分の空白がありますが、
新しい行の最初が会話で鉤括弧になっている時は半角のアキと半角の鉤括弧になっています。

このマーク付け例では、改行は改段落であると考えて
[CODE(HTMLe)[[[p]]]] の区切れ目としています。
鉤括弧は [CODE(HTMLe)[[[q]]]] 要素のタグに置き換えています。

会話だけで構成される[Q[段落]]は [CODE(HTMLe)[[[p]]]]
要素の内容が [CODE(HTMLe)[[[q]]]] 要素だけになって不自然な感じがします。
[CODE(HTMLe)[[[blockquote]]]] 要素の中に [CODE(HTMLe)[[[p]]]]
要素というマークの付け方も可能ですが、やはり不自然です。
この不自然さは [[HTML]] の[[ブロック水準要素]]と[[行内要素]]の区別の仕方と元の文章があまり相性が良くないことを意味しています。

元の見栄えを実現するスタイル・シートの例も示しました。
[CODE(HTMLe)[[[q]]]] 要素だけが子供として存在する [CODE(HTMLe)[[[p]]]]
要素、というような[[選択子]]は [[CSS 2.1]] にも [[CSS 3]]
にも残念ながら存在しませんので、ここでは架空のスタイル言語でそれらしく記述しました。
実用上はマーク付けの方を多少修正して、 [CODE(HTMLe)[[[q]]]]
要素だけが含まれる [CODE(HTMLe)[[[p]]]] 要素に [SAMP[only-q]]
など適当な [CODE(HTMLa)[[[class]]]] を与えることになるでしょう。

[[#comment]]


** 参考文献

- [6] ''Q要素:インライン引用文のマークアップについて'' <http://natto.2ch.net/hp/kako/1002/10027/1002750163.html>: 2001年のスレで、現在の事情からするとちょっと時代遅れの感がありますが。 (但し引用符補完 WinIE がまだ release されていないのは変わっていませんね。)

[21]
''Correct usage of the q element from Nicolas Roeser on 2004-02-07 (www-html@@w3.org from February 2004)'' <http://lists.w3.org/Archives/Public/www-html/2004Feb/0033.html>

[CODE(HTMLe)[q]] や [CODE(HTMLe)[[[blockquote]]]] や [CODE(XHTMLe)[[[quote]]]] についてのあらゆる話題が芋蔓式に詰まった [[www-html]] のスレ。
([[名無しさん]])


[26]
d316 72
a387 72

([[名無しさん]] [sage])


[[#comment]]


** メモ

[17]
(この文のように)「いわゆる」を表すときに括弧を使うことがありますが、[Q[いわゆる]]は[Q[所''謂'']] (or [Q[so‐''called'']]) と言うくらいですから、誰かが言ったとみなして [CODE(HTMLe)[q]] を使うのはありでしょうかねぇ。拡大解釈だとか批判されてしまいそうですが。
([[名無しさん]] [WEAK[2004-03-16 03:15:26 +00:00]])

[18]
とりあえず日本語に限定して考えますと、
括弧 (一重または二重) を使うのは、主として
- (狭義の)引用
- 挿入
- 「いわゆる」
- 強調
- 書名
- 片仮名の固有名詞 (戦前の片仮名書き文での用法)

です。後の三つは明らかに引用とは距離があります。

引用と挿入は構造的には区別できないかもしれません。「いわゆる」は大抵一、二語程度なのが特徴といえましょうか。

で、どこまでを広義の「引用」としてみとめるか、すなわち [CODE(HTMLe)[q]] 要素の守備範囲と考えるかという話になるわけですが・・・。[WEAK[(そもそもこの文の「『引用』」というのは「『いわゆる』」に分類されるのか、それとも別のものなのか。別のものだとして、マークし分ける必要があるものなのか。)]]
しかし、こういう議論は色々なところで既に何ループもしているわけでして、結論なんて出ないのかもしれません。
([[名無しさん]])

[19]
ところでレンダリングの観点からすると、それがどんな性質のものであれ、どれか一種類括弧をマークに置き換えるなら、その周辺は全部マークにするべきです。
どういうことかというと、「Name_Not_Found さんは『たとえば「『いわゆる「いわゆる」と「so‐called」について』 (名無しさん著) への疑問」という論文があるとします。』と言っていますが、その論文はどこで入手できますか。」というのをマークするときに、たとえば「引用は [CODE(HTMLe)[q]] でマークするけど、『いわゆる』はマークしないで地の文に括弧を含める」という規準を設けたとすると、特定のスタイルに依存した地の文にするか、括弧の入れ子の深さと括弧の種類が一致しないことになってしまいます。

レンダリングするときに地の文の括弧も適当に置き換えればいいという考えもあるかもしれませんが、そんな面倒なことは誰がするのでしょう。
[[SGML]] なら「それはタグではないがマークだ。」というのもありですが、
XML ではそういうのは無しでしょう。
([[名無しさん]])

[20]
「『ファイル』→『名前をつけて保存』」の括弧は挿入なのだかなんなのだか。
([[名無しさん]])

[[#comment]]


* 品質値

- [2] [[HTTP]] などの[[内容折衝]]で [CODE(HTTP)[[[Accept]]]]
などに使われる引数。 See [CODE(WikiPage)[[[qvalue]]]],
[CODE(WikiPage)[[[品質値]]]]。
[[#comment]]


* 長さの絶対量の単位

[9] [[組版]]の世界で使われている[[長さ]]の単位です。
[CODE[級]]とか [CODE[Q]] とか言ったりします。

[[#comment]]


** JIS X 4052 組版指定交換形式において

[1]

> [[級]], [[Q]] (1q = 0.25[[mm]]) [INS[([[JISX4052]]:2000 5.3.2. b)5))]]

[[#comment]]


@


1.11
log
@auto-committed
@
text
@d1 377
a377 364


* [CODE(char)[LATIN SMALL LETTER Q]]

[4] [DFN[[CODE(char)[q]]]] ([CODE(char)[[[LATIN SMALL LETTER Q]]]])
は、[[ラテン文字]] [CODE(char)[[[Q]]]] の[[小文字]]です。

[[#comment]]


* [CODE(HTMLe)[q]] 要素型 (HTML, XHTML 1)

[11] [ABBR[[[HTML]]] [ハイパーテキスト・マーク付け言語]] の
[DFN[[CODE(HTMLe)[q]] [[要素型]]]]は、短い、
[[段落]]区切りが要らないくらいの[[引用]]を表します。ここで
[Q[短い]]とは[Q[長い]]引用である [CODE(HTMLa)[[[blockquote]]]] 
要素型との対比であり、
[[行内要素]]が[[内容]]であることを意味します。

[7] 仕様書:
- [[HTML 4]]
-- <IW:HTML4:"struct/text.html#edef-Q">

[12]
:[[開始タグ]]:必須
:[[終了タグ]]:必須
:[[内容模型]]:[CODE(SGML)[(%[[inline]];)*]]
:[[属性]]:
,[CODE(HTMLa)[[[cite]]]]	,[[URI参照]]	,(なし)	,出典	,[HTML4]
,[CODE(HTMLa)[[[class]]]]	,	,	,[[級]]	,[HTML4] %[[coreattr]]
,[CODE(HTMLa)[[[dir]]]]	,	,	,[[書字方向]]	,[HTML4] %[[i18n]]
,[CODE(HTMLa)[[[id]]]]	,	,	,一意識別子	,[HTML4] %coreattr
,[CODE(HTMLa)[[[lang]]]]	,	,	,[[自然言語]]	,[HTML4] %i18n
,[CODE(HTMLa)[[[xml]]:lang]]	,	,	,自然言語	,[XHTML1]
,[CODE(HTMLa)[[[onclick]]]]	,	,	,	,[HTML4] %[[events]]
,[CODE(HTMLa)[[[ondblclick]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeydown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeypress]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeyup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmousedown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseout]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseover]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[style]]]]	,	,	,スタイル情報	,[HTML4] %coreattr
,[CODE(HTMLa)[[[title]]]]	,	,	,注釈的題	,[HTML4] %coreattr



[24]
HTML 4 DTD の[[注釈]] (参考) には
[Q[Inline Quotes]], 
[Q[short inline quotation]]
と説明されています。
([[名無しさん]] [sage])


[[#comment]]


** 応用

[[#comment]]


*** レンダリング

[14] <IW:HTML4:"struct/text.html#idx-quoted_text-1"> によると:
- [[視覚UA]] は区切りの[[引用符]]で内容を囲んでレンダリングしなければなりません
(must)。
- [[著者]]は、 [CODE(HTMLe)[q]] 要素の最初と最後に引用符を挿入するべきではありません
(should not)。
- UA は、言語依存の方法で引用符をレンダリングするべき (should)。
- UA は、多くの言語で採用されている、入れ子度によった適切な引用符を使うべき
(should)。

[[#comment]]


** 様々な言語・用字系の引用符

[8] 実際のところは引用符は言語, 地域, 用字系,
文脈によって様々に変わりえます。
一つの目安として :
,言語・地域	,用字系	,最外側	,==	,2番目	,==
,[CODE(lang)[en]]	,[CODE(script)[Latn]]	,“	,”	,‘	,’
,[CODE(lang)[de]]	,[CODE(script)[Latn]]	,",,"	,”
,[CODE(lang)[fr]]	,[CODE(script)[Latn]]	,<<	,>>
,[CODE(lang)[ja]]	,[CODE(script)[Japn]]	,「	,」	,『	,』
,[CODE(lang)[ja]]	,[CODE(script)[Latn]]	,“	,”	,‘	,’
,[CODE(lang)[ru]]	,キリル文字	,<<	,>>	,
,[CODE(lang)[ru]]	,キリル文字	,“	,”	,

- [15] 現実には更に著者や編集者の好み、分野の慣習なんかにも依存しますね。たとえば日本語の仮名漢字混じり文でも [CODE[“]]〜[CODE[”]] を使うことはよくある。それから、[[書字方向]]が [CODE(CSS)[[[lr-tb]]]] 以外のときにはまた様相が変わってきたりもしますね。

[16]
ドイツ語では字の文の言語ではなく引用文の言語で引用符を決定するとか小耳に挟みました。
([[名無しさん]])
[[#comment]]


** 実装について

[5] [[WebExplorer]] では [CODE(HTMLe)[q]] 要素型は 
[CODE(HTMLe)[[[blockquote]]]] 要素型の別名で、[[既定スタイル]]が 
[CODE(CSS)[display: block]] です。

[[#comment]]


*** Mozilla (Gecko) で

[3] [[Mozilla]] 1.3b の既定スタイルは [CODE(HTMLe)[q]]
要素の両側が常に [SAMP(char)["]] 
になって寂しいので、文脈によって適切な引用符を使うようにしようと思ってみました。

重要なポイントは、引用符は一般に、引用の周り (地の文)
の言語及びスクリプト (用字系) で決定されるということです。
例えばラテン語の英語で仮名漢字混じりの日本語文を引用するときは、

[PRE[
 For example, “こんな風になります.”
]PRE]

逆の場合は、
[PRE[
 例えば「like this example,」となります。
 (“comma style quotation mark”を使うこともありますが、
  話がややこしくなるので黙ってましょう。)
]PRE]

しかし、同じ英語と日本語の組み合わせでも、
[PRE[
 ふぉあ えくざんぷる、「こんな風になります」。
 Tatoe ba “like this example,” to narimasu.
]PRE]

のようになります。
ところが、 [[CSS2]] では言語の[[選択子]]はありますが、用字系で処理を振り分ける手段がありません。

しかも、 Mozilla は現時点では [CODE(CSS)[:[[lang]]]] 擬似級にすら対応していません。
その上、 [CODE(CSS)[[[quotes]]]] 属性には1組しか値を指定できないようです。
(それ以上指定しても無視される。)

そういう現状を踏まえて、とりあえずのスタイル指定:
[PRE[
 @@namespace xml 'http://www.w3.org/XML/1998/namespace';
 q, q q q,
 [lang=en] q, [lang=en] q q q {
   quotes: "“" "”" "‘" "’";
 }
 q q, q q q q,
 [lang=en] q q, [lang=en] q q q q {
   quotes: "‘" "’";
 }
 [xml|lang=ja] q, [xml|lang=ja] q q q, [lang=ja] q, [lang=ja] q q q {
   quotes: "「" "」" "『" "』";
 }
 [xml|lang=ja] q q, [xml|lang=ja] q q q q, [lang=ja] q q, [lang=ja] q q q q {
   quotes: "『" "』";
 }
]PRE]

テスト用 HTML 片:
[PRE[
 <span lang="en"><q>Quoted<q>Quoted <q>Quoted<q>Quoted text</q> text</q>text</q> text</q></span>
 <span lang="ja"><q>引用文<q>引用<q>引用<q>引用文字列</q>文字列</q>文字列</q>字列</q></span>
 <q>Quoted<q>Quoted <q>Quoted<q lang="ja">引用<q>引用<q>引用<q lang="en">Quoted<q>Quoted text</q> text</q>文字列</q>文字列</q>文字列</q>text</q>text</q> text</q>
]PRE]

問題点:
- 文書で言語指定が無かった場合は、とりあえず英語と同じにしてあります。
- 深い入れ子の引用では正しく動作しません。4つ目の引用まで対応しています。 (実際には十分以上でしょう。)
- 日本語の引用文の中に英語の引用文があって、更に引用部がある場合に、正しく引用符がつきません (3つ目のテスト片)。選択子の詳細度の関係でしょう。うまい選択子を与えれば解決できそうですが、複雑になりそう。
- 上述の通り、言語情報のみに頼っていて、スクリプトに応じた引用符を選択できません。
(日本語では問題になるのはローマ字書きくらいでしょう。)

[[#comment]]


** 例

[13] [SRC[HTML 4]]
[PRE[
John said, <Q lang="en-us">I saw Lucy at lunch, she told me
<Q lang="en-us">Mary wants you
to get some ice cream on your way home.</Q> I think I will get
some at Ben and Jerry's, on Gloucester Road.</Q>
]PRE]

レンダリング例:
[PRE[
  John said, "I saw Lucy at lunch, she told me 'Mary wants you
  to get some ice cream on your way home.' I think I will get some
  at Ben and Jerry's, on Gloucester Road."
]PRE]

HTML 4 は、どちらの引用も米語だから、と言っていますが、
実際には引用言語だけではなく、引用のまわりの言語もはっきりしないと
(むしろそっちがないと) 引用符は決定できないはずです。

[22]

> <p>In Australia, <q>personal information</q> is information about an
individual <q>who can be identified, or whose identity could be reasonably
ascertained.</q> In Canada <q>personal information</q> means information
about an <q>identifiable</q> individual. In the United States, different
sectors have different standards for identifiability of data. Similarly, in
many other policy documents, terms such as <q>personally identifiable
information (PII)</q> are often not defined or the cause for heated
debate.</p>

出典: [CITE[The Platform for Privacy Preferences 1.1 (P3P1.1) Specification]] 
<http://www.w3.org/TR/2005/WD-P3P11-20050104/#def_identity>

[23]

> <[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]="qa">
<[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]="q">
<[CODE(HTMLe)[h2]] [CODE(HTMLa)[id]]='uri'>Why is it <[CODE(HTMLe)[q]]>URI</[CODE(HTMLe)[q]]> and not <[CODE(HTMLe)[q]]>URL</[CODE(HTMLe)[q]]>?</[CODE(HTMLe)[h2]]>
</[CODE(HTMLe)[div]]>
> <[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]='a'>
<[CODE(HTMLe)[p]]>URI stands for <[CODE(HTMLe)[q]]>Uniform Resource Identifiers</[CODE(HTMLe)[q]]>, URLs are a subset of URIs, please see <[CODE(HTMLe)[a]] [CODE(HTMLa)[href]]='[CODE(URI)[http://www.w3.org/Addressing/]]'>Naming and Addressing: URIs, URLs, ...</[CODE(HTMLa)[a]]> and <[CODE(HTMLe)[a]] [CODE(HTMLa)[href]]='[CODE(URI)[http://www.w3.org/TR/uri-clarification/]]'>URIs, URLs, and URNs: Clarifications and Recommendations 1.0</[CODE(HTMLe)[a]]> for details.</[CODE(HTMLe)[p]]>
</[CODE(HTMLe)[div]]>
</[CODE(HTMLe)[div]]>

出典: [CITE[W3C CSS Validator FAQ]] 
<http://www.websitedev.de/css/validator-faq#uri>
(2003年11月付け)

[25] 文学作品における会話文の例

(マーク付け)
[PRE(HTML example code)[
<p><q>恋は罪悪ですか</q>と私がその時突然聞いた。</p>
<p><q>罪悪です。たしかに</q>と答えた時の先生の語気は前と同じように強かった。</p>
<p><q>なぜですか</q></p>
<p><q>なぜだか今に解ります。今にじゃない、もう解っているはずです。
あなたの心はとっくの昔からすでに恋で動いているじゃありませんか</q></p>
<p>私は一応自分の胸の中を調べて見た。けれどもそこは案外に空虚であった。
思いあたるようなものは何にもなかった。</p>
]PRE]

(スタイル指定)
[PRE(example code)[
p 要素:
  [display: block,
   text-indent: 1em,
   margin-top: 0,
   margin-bottom: 0].
q 要素:
  [display: inline,
   open-quote: "「",
   close-quote: "」"].
p 要素のうち、第1子節点が q 要素のもの:
  [text-indent: 0].
]PRE]

文章の出典: [CITE[夏目漱石 こころ]] 
<http://www.aozora.gr.jp/cards/000148/files/773_14560.html>

原文では文の一部になっている会話部分は前後に改行なし、
前後の文と独立している会話部分は前後に改行があります。
また、改行がある部分の新しい行のはじめには1文字分の空白がありますが、
新しい行の最初が会話で鉤括弧になっている時は半角のアキと半角の鉤括弧になっています。

このマーク付け例では、改行は改段落であると考えて
[CODE(HTMLe)[[[p]]]] の区切れ目としています。
鉤括弧は [CODE(HTMLe)[[[q]]]] 要素のタグに置き換えています。

会話だけで構成される[Q[段落]]は [CODE(HTMLe)[[[p]]]]
要素の内容が [CODE(HTMLe)[[[q]]]] 要素だけになって不自然な感じがします。
[CODE(HTMLe)[[[blockquote]]]] 要素の中に [CODE(HTMLe)[[[p]]]]
要素というマークの付け方も可能ですが、やはり不自然です。
この不自然さは [[HTML]] の[[ブロック水準要素]]と[[行内要素]]の区別の仕方と元の文章があまり相性が良くないことを意味しています。

元の見栄えを実現するスタイル・シートの例も示しました。
[CODE(HTMLe)[[[q]]]] 要素だけが子供として存在する [CODE(HTMLe)[[[p]]]]
要素、というような[[選択子]]は [[CSS 2.1]] にも [[CSS 3]]
にも残念ながら存在しませんので、ここでは架空のスタイル言語でそれらしく記述しました。
実用上はマーク付けの方を多少修正して、 [CODE(HTMLe)[[[q]]]]
要素だけが含まれる [CODE(HTMLe)[[[p]]]] 要素に [SAMP[only-q]]
など適当な [CODE(HTMLa)[[[class]]]] を与えることになるでしょう。

[[#comment]]


** 参考文献

- [6] ''Q要素:インライン引用文のマークアップについて'' <http://natto.2ch.net/hp/kako/1002/10027/1002750163.html>: 2001年のスレで、現在の事情からするとちょっと時代遅れの感がありますが。 (但し引用符補完 WinIE がまだ release されていないのは変わっていませんね。)

[21]
''Correct usage of the q element from Nicolas Roeser on 2004-02-07 (www-html@@w3.org from February 2004)'' <http://lists.w3.org/Archives/Public/www-html/2004Feb/0033.html>

[CODE(HTMLe)[q]] や [CODE(HTMLe)[[[blockquote]]]] や [CODE(XHTMLe)[[[quote]]]] についてのあらゆる話題が芋蔓式に詰まった [[www-html]] のスレ。
([[名無しさん]])

[[#comment]]


** メモ

[17]
(この文のように)「いわゆる」を表すときに括弧を使うことがありますが、[Q[いわゆる]]は[Q[所''謂'']] (or [Q[so‐''called'']]) と言うくらいですから、誰かが言ったとみなして [CODE(HTMLe)[q]] を使うのはありでしょうかねぇ。拡大解釈だとか批判されてしまいそうですが。
([[名無しさん]] [WEAK[2004-03-16 03:15:26 +00:00]])

[18]
とりあえず日本語に限定して考えますと、
括弧 (一重または二重) を使うのは、主として
- (狭義の)引用
- 挿入
- 「いわゆる」
- 強調
- 書名
- 片仮名の固有名詞 (戦前の片仮名書き文での用法)

です。後の三つは明らかに引用とは距離があります。

引用と挿入は構造的には区別できないかもしれません。「いわゆる」は大抵一、二語程度なのが特徴といえましょうか。

で、どこまでを広義の「引用」としてみとめるか、すなわち [CODE(HTMLe)[q]] 要素の守備範囲と考えるかという話になるわけですが・・・。[WEAK[(そもそもこの文の「『引用』」というのは「『いわゆる』」に分類されるのか、それとも別のものなのか。別のものだとして、マークし分ける必要があるものなのか。)]]
しかし、こういう議論は色々なところで既に何ループもしているわけでして、結論なんて出ないのかもしれません。
([[名無しさん]])

[19]
ところでレンダリングの観点からすると、それがどんな性質のものであれ、どれか一種類括弧をマークに置き換えるなら、その周辺は全部マークにするべきです。
どういうことかというと、「Name_Not_Found さんは『たとえば「『いわゆる「いわゆる」と「so‐called」について』 (名無しさん著) への疑問」という論文があるとします。』と言っていますが、その論文はどこで入手できますか。」というのをマークするときに、たとえば「引用は [CODE(HTMLe)[q]] でマークするけど、『いわゆる』はマークしないで地の文に括弧を含める」という規準を設けたとすると、特定のスタイルに依存した地の文にするか、括弧の入れ子の深さと括弧の種類が一致しないことになってしまいます。

レンダリングするときに地の文の括弧も適当に置き換えればいいという考えもあるかもしれませんが、そんな面倒なことは誰がするのでしょう。
[[SGML]] なら「それはタグではないがマークだ。」というのもありですが、
XML ではそういうのは無しでしょう。
([[名無しさん]])

[20]
「『ファイル』→『名前をつけて保存』」の括弧は挿入なのだかなんなのだか。
([[名無しさん]])

[[#comment]]


* 品質値

- [2] [[HTTP]] などの[[内容折衝]]で [CODE(HTTP)[[[Accept]]]]
などに使われる引数。 See [CODE(WikiPage)[[[qvalue]]]],
[CODE(WikiPage)[[[品質値]]]]。
[[#comment]]


* 長さの絶対量の単位

[9] [[組版]]の世界で使われている[[長さ]]の単位です。
[CODE[級]]とか [CODE[Q]] とか言ったりします。

[[#comment]]


** JIS X 4052 組版指定交換形式において

[1]

> [[級]], [[Q]] (1q = 0.25[[mm]]) [INS[([[JISX4052]]:2000 5.3.2. b)5))]]

[[#comment]]


@


1.10
log
@auto-committed
@
text
@d1 49
a49 50



* [CODE(char)[LATIN SMALL LETTER Q]]

[4] [DFN[[CODE(char)[q]]]] ([CODE(char)[[[LATIN SMALL LETTER Q]]]])
は、[[ラテン文字]] [CODE(char)[[[Q]]]] の[[小文字]]です。

[[#comment]]


* [CODE(HTMLe)[q]] 要素型 (HTML, XHTML 1)

[11] [ABBR[[[HTML]]] [ハイパーテキスト・マーク付け言語]] の
[DFN[[CODE(HTMLe)[q]] [[要素型]]]]は、短い、
[[段落]]区切りが要らないくらいの[[引用]]を表します。ここで
[Q[短い]]とは[Q[長い]]引用である [CODE(HTMLa)[[[blockquote]]]] 
要素型との対比であり、
[[行内要素]]が[[内容]]であることを意味します。

[7] 仕様書:
- [[HTML 4]]
-- <IW:HTML4:"struct/text.html#edef-Q">

[12]
:[[開始タグ]]:必須
:[[終了タグ]]:必須
:[[内容模型]]:[CODE(SGML)[(%[[inline]];)*]]
:[[属性]]:
,[CODE(HTMLa)[[[cite]]]]	,[[URI参照]]	,(なし)	,出典	,[HTML4]
,[CODE(HTMLa)[[[class]]]]	,	,	,[[級]]	,[HTML4] %[[coreattr]]
,[CODE(HTMLa)[[[dir]]]]	,	,	,[[書字方向]]	,[HTML4] %[[i18n]]
,[CODE(HTMLa)[[[id]]]]	,	,	,一意識別子	,[HTML4] %coreattr
,[CODE(HTMLa)[[[lang]]]]	,	,	,[[自然言語]]	,[HTML4] %i18n
,[CODE(HTMLa)[[[xml]]:lang]]	,	,	,自然言語	,[XHTML1]
,[CODE(HTMLa)[[[onclick]]]]	,	,	,	,[HTML4] %[[events]]
,[CODE(HTMLa)[[[ondblclick]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeydown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeypress]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeyup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmousedown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseout]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseover]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[style]]]]	,	,	,スタイル情報	,[HTML4] %coreattr
,[CODE(HTMLa)[[[title]]]]	,	,	,注釈的題	,[HTML4] %coreattr



[24]
d53 312
a364 258
と説明されています。
([[名無しさん]] [sage])


[[#comment]]


** 応用

[[#comment]]


*** レンダリング

[14] <IW:HTML4:"struct/text.html#idx-quoted_text-1"> によると:
- [[視覚UA]] は区切りの[[引用符]]で内容を囲んでレンダリングしなければなりません
(must)。
- [[著者]]は、 [CODE(HTMLe)[q]] 要素の最初と最後に引用符を挿入するべきではありません
(should not)。
- UA は、言語依存の方法で引用符をレンダリングするべき (should)。
- UA は、多くの言語で採用されている、入れ子度によった適切な引用符を使うべき
(should)。

[[#comment]]


** 様々な言語・用字系の引用符

[8] 実際のところは引用符は言語, 地域, 用字系,
文脈によって様々に変わりえます。
一つの目安として :
,言語・地域	,用字系	,最外側	,==	,2番目	,==
,[CODE(lang)[en]]	,[CODE(script)[Latn]]	,“	,”	,‘	,’
,[CODE(lang)[de]]	,[CODE(script)[Latn]]	,",,"	,”
,[CODE(lang)[fr]]	,[CODE(script)[Latn]]	,<<	,>>
,[CODE(lang)[ja]]	,[CODE(script)[Japn]]	,「	,」	,『	,』
,[CODE(lang)[ja]]	,[CODE(script)[Latn]]	,“	,”	,‘	,’
,[CODE(lang)[ru]]	,キリル文字	,<<	,>>	,
,[CODE(lang)[ru]]	,キリル文字	,“	,”	,

- [15] 現実には更に著者や編集者の好み、分野の慣習なんかにも依存しますね。たとえば日本語の仮名漢字混じり文でも [CODE[“]]〜[CODE[”]] を使うことはよくある。それから、[[書字方向]]が [CODE(CSS)[[[lr-tb]]]] 以外のときにはまた様相が変わってきたりもしますね。

[16]
ドイツ語では字の文の言語ではなく引用文の言語で引用符を決定するとか小耳に挟みました。
([[名無しさん]])
[[#comment]]


** 実装について

[5] [[WebExplorer]] では [CODE(HTMLe)[q]] 要素型は 
[CODE(HTMLe)[[[blockquote]]]] 要素型の別名で、[[既定スタイル]]が 
[CODE(CSS)[display: block]] です。

[[#comment]]


*** Mozilla (Gecko) で

[3] [[Mozilla]] 1.3b の既定スタイルは [CODE(HTMLe)[q]]
要素の両側が常に [SAMP(char)["]] 
になって寂しいので、文脈によって適切な引用符を使うようにしようと思ってみました。

重要なポイントは、引用符は一般に、引用の周り (地の文)
の言語及びスクリプト (用字系) で決定されるということです。
例えばラテン語の英語で仮名漢字混じりの日本語文を引用するときは、

[PRE[
 For example, “こんな風になります.”
]PRE]

逆の場合は、
[PRE[
 例えば「like this example,」となります。
 (“comma style quotation mark”を使うこともありますが、
  話がややこしくなるので黙ってましょう。)
]PRE]

しかし、同じ英語と日本語の組み合わせでも、
[PRE[
 ふぉあ えくざんぷる、「こんな風になります」。
 Tatoe ba “like this example,” to narimasu.
]PRE]

のようになります。
ところが、 [[CSS2]] では言語の[[選択子]]はありますが、用字系で処理を振り分ける手段がありません。

しかも、 Mozilla は現時点では [CODE(CSS)[:[[lang]]]] 擬似級にすら対応していません。
その上、 [CODE(CSS)[[[quotes]]]] 属性には1組しか値を指定できないようです。
(それ以上指定しても無視される。)

そういう現状を踏まえて、とりあえずのスタイル指定:
[PRE[
 @@namespace xml 'http://www.w3.org/XML/1998/namespace';
 q, q q q,
 [lang=en] q, [lang=en] q q q {
   quotes: "“" "”" "‘" "’";
 }
 q q, q q q q,
 [lang=en] q q, [lang=en] q q q q {
   quotes: "‘" "’";
 }
 [xml|lang=ja] q, [xml|lang=ja] q q q, [lang=ja] q, [lang=ja] q q q {
   quotes: "「" "」" "『" "』";
 }
 [xml|lang=ja] q q, [xml|lang=ja] q q q q, [lang=ja] q q, [lang=ja] q q q q {
   quotes: "『" "』";
 }
]PRE]

テスト用 HTML 片:
[PRE[
 <span lang="en"><q>Quoted<q>Quoted <q>Quoted<q>Quoted text</q> text</q>text</q> text</q></span>
 <span lang="ja"><q>引用文<q>引用<q>引用<q>引用文字列</q>文字列</q>文字列</q>字列</q></span>
 <q>Quoted<q>Quoted <q>Quoted<q lang="ja">引用<q>引用<q>引用<q lang="en">Quoted<q>Quoted text</q> text</q>文字列</q>文字列</q>文字列</q>text</q>text</q> text</q>
]PRE]

問題点:
- 文書で言語指定が無かった場合は、とりあえず英語と同じにしてあります。
- 深い入れ子の引用では正しく動作しません。4つ目の引用まで対応しています。 (実際には十分以上でしょう。)
- 日本語の引用文の中に英語の引用文があって、更に引用部がある場合に、正しく引用符がつきません (3つ目のテスト片)。選択子の詳細度の関係でしょう。うまい選択子を与えれば解決できそうですが、複雑になりそう。
- 上述の通り、言語情報のみに頼っていて、スクリプトに応じた引用符を選択できません。
(日本語では問題になるのはローマ字書きくらいでしょう。)

[[#comment]]


** 例

[13] [SRC[HTML 4]]
[PRE[
John said, <Q lang="en-us">I saw Lucy at lunch, she told me
<Q lang="en-us">Mary wants you
to get some ice cream on your way home.</Q> I think I will get
some at Ben and Jerry's, on Gloucester Road.</Q>
]PRE]

レンダリング例:
[PRE[
  John said, "I saw Lucy at lunch, she told me 'Mary wants you
  to get some ice cream on your way home.' I think I will get some
  at Ben and Jerry's, on Gloucester Road."
]PRE]

HTML 4 は、どちらの引用も米語だから、と言っていますが、
実際には引用言語だけではなく、引用のまわりの言語もはっきりしないと
(むしろそっちがないと) 引用符は決定できないはずです。

[22]

> <p>In Australia, <q>personal information</q> is information about an
individual <q>who can be identified, or whose identity could be reasonably
ascertained.</q> In Canada <q>personal information</q> means information
about an <q>identifiable</q> individual. In the United States, different
sectors have different standards for identifiability of data. Similarly, in
many other policy documents, terms such as <q>personally identifiable
information (PII)</q> are often not defined or the cause for heated
debate.</p>

出典: [CITE[The Platform for Privacy Preferences 1.1 (P3P1.1) Specification]] 
<http://www.w3.org/TR/2005/WD-P3P11-20050104/#def_identity>

[23]

> <[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]="qa">
<[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]="q">
<[CODE(HTMLe)[h2]] [CODE(HTMLa)[id]]='uri'>Why is it <[CODE(HTMLe)[q]]>URI</[CODE(HTMLe)[q]]> and not <[CODE(HTMLe)[q]]>URL</[CODE(HTMLe)[q]]>?</[CODE(HTMLe)[h2]]>
</[CODE(HTMLe)[div]]>
> <[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]='a'>
<[CODE(HTMLe)[p]]>URI stands for <[CODE(HTMLe)[q]]>Uniform Resource Identifiers</[CODE(HTMLe)[q]]>, URLs are a subset of URIs, please see <[CODE(HTMLe)[a]] [CODE(HTMLa)[href]]='[CODE(URI)[http://www.w3.org/Addressing/]]'>Naming and Addressing: URIs, URLs, ...</[CODE(HTMLa)[a]]> and <[CODE(HTMLe)[a]] [CODE(HTMLa)[href]]='[CODE(URI)[http://www.w3.org/TR/uri-clarification/]]'>URIs, URLs, and URNs: Clarifications and Recommendations 1.0</[CODE(HTMLe)[a]]> for details.</[CODE(HTMLe)[p]]>
</[CODE(HTMLe)[div]]>
</[CODE(HTMLe)[div]]>

出典: [CITE[W3C CSS Validator FAQ]] 
<http://www.websitedev.de/css/validator-faq#uri>
(2003年11月付け)

[[#comment]]


** 参考文献

- [6] ''Q要素:インライン引用文のマークアップについて'' <http://natto.2ch.net/hp/kako/1002/10027/1002750163.html>: 2001年のスレで、現在の事情からするとちょっと時代遅れの感がありますが。 (但し引用符補完 WinIE がまだ release されていないのは変わっていませんね。)

[21]
''Correct usage of the q element from Nicolas Roeser on 2004-02-07 (www-html@@w3.org from February 2004)'' <http://lists.w3.org/Archives/Public/www-html/2004Feb/0033.html>

[CODE(HTMLe)[q]] や [CODE(HTMLe)[[[blockquote]]]] や [CODE(XHTMLe)[[[quote]]]] についてのあらゆる話題が芋蔓式に詰まった [[www-html]] のスレ。
([[名無しさん]])

[[#comment]]


** メモ

[17]
(この文のように)「いわゆる」を表すときに括弧を使うことがありますが、[Q[いわゆる]]は[Q[所''謂'']] (or [Q[so‐''called'']]) と言うくらいですから、誰かが言ったとみなして [CODE(HTMLe)[q]] を使うのはありでしょうかねぇ。拡大解釈だとか批判されてしまいそうですが。
([[名無しさん]] [WEAK[2004-03-16 03:15:26 +00:00]])

[18]
とりあえず日本語に限定して考えますと、
括弧 (一重または二重) を使うのは、主として
- (狭義の)引用
- 挿入
- 「いわゆる」
- 強調
- 書名
- 片仮名の固有名詞 (戦前の片仮名書き文での用法)

です。後の三つは明らかに引用とは距離があります。

引用と挿入は構造的には区別できないかもしれません。「いわゆる」は大抵一、二語程度なのが特徴といえましょうか。

で、どこまでを広義の「引用」としてみとめるか、すなわち [CODE(HTMLe)[q]] 要素の守備範囲と考えるかという話になるわけですが・・・。[WEAK[(そもそもこの文の「『引用』」というのは「『いわゆる』」に分類されるのか、それとも別のものなのか。別のものだとして、マークし分ける必要があるものなのか。)]]
しかし、こういう議論は色々なところで既に何ループもしているわけでして、結論なんて出ないのかもしれません。
([[名無しさん]])

[19]
ところでレンダリングの観点からすると、それがどんな性質のものであれ、どれか一種類括弧をマークに置き換えるなら、その周辺は全部マークにするべきです。
どういうことかというと、「Name_Not_Found さんは『たとえば「『いわゆる「いわゆる」と「so‐called」について』 (名無しさん著) への疑問」という論文があるとします。』と言っていますが、その論文はどこで入手できますか。」というのをマークするときに、たとえば「引用は [CODE(HTMLe)[q]] でマークするけど、『いわゆる』はマークしないで地の文に括弧を含める」という規準を設けたとすると、特定のスタイルに依存した地の文にするか、括弧の入れ子の深さと括弧の種類が一致しないことになってしまいます。

レンダリングするときに地の文の括弧も適当に置き換えればいいという考えもあるかもしれませんが、そんな面倒なことは誰がするのでしょう。
[[SGML]] なら「それはタグではないがマークだ。」というのもありですが、
XML ではそういうのは無しでしょう。
([[名無しさん]])

[20]
「『ファイル』→『名前をつけて保存』」の括弧は挿入なのだかなんなのだか。
([[名無しさん]])

[[#comment]]


* 品質値

- [2] [[HTTP]] などの[[内容折衝]]で [CODE(HTTP)[[[Accept]]]]
などに使われる引数。 See [CODE(WikiPage)[[[qvalue]]]],
[CODE(WikiPage)[[[品質値]]]]。
[[#comment]]


* 長さの絶対量の単位

[9] [[組版]]の世界で使われている[[長さ]]の単位です。
[CODE[級]]とか [CODE[Q]] とか言ったりします。

[[#comment]]


** JIS X 4052 組版指定交換形式において

[1]

> [[級]], [[Q]] (1q = 0.25[[mm]]) [INS[([[JISX4052]]:2000 5.3.2. b)5))]]

[[#comment]]


@


1.9
log
@auto-committed
@
text
@d1 311
a311 298
* [CODE(char)[LATIN SMALL LETTER Q]]

[4] [DFN[[CODE(char)[q]]]] ([CODE(char)[[[LATIN SMALL LETTER Q]]]])
は、[[ラテン文字]] [CODE(char)[[[Q]]]] の[[小文字]]です。

[[#comment]]


* [CODE(HTMLe)[q]] 要素型 (HTML, XHTML 1)

[11] [ABBR[[[HTML]]][ハイパーテキスト・マーク付け言語]] の
[DFN[[CODE(HTMLe)[q]] [[要素型]]]]は、短い、
[[段落]]区切りが要らないくらいの[[引用]]を表します。ここで
[Q[短い]]とは[Q[長い]]引用である [CODE(HTMLa)[[[blockquote]]]] 
要素型との対比であり、
[[行内要素]]が[[内容]]であることを意味します。

[7] 仕様書:
- [[HTML 4]]
--<IW:HTML4:"struct/text.html#edef-Q">

[12]
:[[開始タグ]]:必須
:[[終了タグ]]:必須
:[[内容模型]]:[CODE(SGML)[(%[[inline]];)*]]
:[[属性]]:
,[CODE(HTMLa)[[[cite]]]]	,[[URI参照]]	,(なし)	,出典	,[HTML4]
,[CODE(HTMLa)[[[class]]]]	,	,	,[[級]]	,[HTML4] %[[coreattr]]
,[CODE(HTMLa)[[[dir]]]]	,	,	,[[書字方向]]	,[HTML4] %[[i18n]]
,[CODE(HTMLa)[[[id]]]]	,	,	,一意識別子	,[HTML4] %coreattr
,[CODE(HTMLa)[[[lang]]]]	,	,	,[[自然言語]]	,[HTML4] %i18n
,[CODE(HTMLa)[[[xml]]:lang]]	,	,	,自然言語	,[XHTML1]
,[CODE(HTMLa)[[[onclick]]]]	,	,	,	,[HTML4] %[[events]]
,[CODE(HTMLa)[[[ondblclick]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeydown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeypress]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeyup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmousedown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseout]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseover]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[style]]]]	,	,	,スタイル情報	,[HTML4] %coreattr
,[CODE(HTMLa)[[[title]]]]	,	,	,注釈的題	,[HTML4] %coreattr


[[#comment]]


** 応用

[[#comment]]


*** レンダリング

[14] <IW:HTML4:"struct/text.html#idx-quoted_text-1"> によると:
- [[視覚UA]] は区切りの[[引用符]]で内容を囲んでレンダリングしなければなりません
(must)。
- [[著者]]は、 [CODE(HTMLe)[q]] 要素の最初と最後に引用符を挿入するべきではありません
(should not)。
- UA は、言語依存の方法で引用符をレンダリングするべき (should)。
- UA は、多くの言語で採用されている、入れ子度によった適切な引用符を使うべき
(should)。

[[#comment]]


** 様々な言語・用字系の引用符

[8] 実際のところは引用符は言語, 地域, 用字系,
文脈によって様々に変わりえます。
一つの目安として :
,言語・地域	,用字系	,最外側	,==	,2番目	,==
,[CODE(lang)[en]]	,[CODE(script)[Latn]]	,“	,”	,‘	,’
,[CODE(lang)[de]]	,[CODE(script)[Latn]]	,",,"	,”
,[CODE(lang)[fr]]	,[CODE(script)[Latn]]	,<<	,>>
,[CODE(lang)[ja]]	,[CODE(script)[Japn]]	,「	,」	,『	,』
,[CODE(lang)[ja]]	,[CODE(script)[Latn]]	,“	,”	,‘	,’
,[CODE(lang)[ru]]	,キリル文字	,<<	,>>	,
,[CODE(lang)[ru]]	,キリル文字	,“	,”	,

- [15] 現実には更に著者や編集者の好み、分野の慣習なんかにも依存しますね。たとえば日本語の仮名漢字混じり文でも [CODE[“]]〜[CODE[”]] を使うことはよくある。それから、[[書字方向]]が [CODE(CSS)[[[lr-tb]]]] 以外のときにはまた様相が変わってきたりもしますね。

[16]
ドイツ語では字の文の言語ではなく引用文の言語で引用符を決定するとか小耳に挟みました。
([[名無しさん]])
[[#comment]]


** 実装について

[5] [[WebExplorer]] では [CODE(HTMLe)[q]] 要素型は 
[CODE(HTMLe)[[[blockquote]]]] 要素型の別名で、[[既定スタイル]]が 
[CODE(CSS)[display: block]] です。

[[#comment]]

*** Mozilla (Gecko) で

[3] [[Mozilla]] 1.3b の既定スタイルは [CODE(HTMLe)[q]]
要素の両側が常に [SAMP(char)["]] 
になって寂しいので、文脈によって適切な引用符を使うようにしようと思ってみました。

重要なポイントは、引用符は一般に、引用の周り (地の文)
の言語及びスクリプト (用字系) で決定されるということです。
例えばラテン語の英語で仮名漢字混じりの日本語文を引用するときは、

[PRE[
 For example, “こんな風になります.”
]PRE]

逆の場合は、
[PRE[
 例えば「like this example,」となります。
 (“comma style quotation mark”を使うこともありますが、
  話がややこしくなるので黙ってましょう。)
]PRE]

しかし、同じ英語と日本語の組み合わせでも、
[PRE[
 ふぉあ えくざんぷる、「こんな風になります」。
 Tatoe ba “like this example,” to narimasu.
]PRE]

のようになります。
ところが、 [[CSS2]] では言語の[[選択子]]はありますが、用字系で処理を振り分ける手段がありません。

しかも、 Mozilla は現時点では [CODE(CSS)[:[[lang]]]] 擬似級にすら対応していません。
その上、 [CODE(CSS)[[[quotes]]]] 属性には1組しか値を指定できないようです。
(それ以上指定しても無視される。)

そういう現状を踏まえて、とりあえずのスタイル指定:
[PRE[
 @@namespace xml 'http://www.w3.org/XML/1998/namespace';
 q, q q q,
 [lang=en] q, [lang=en] q q q {
   quotes: "“" "”" "‘" "’";
 }
 q q, q q q q,
 [lang=en] q q, [lang=en] q q q q {
   quotes: "‘" "’";
 }
 [xml|lang=ja] q, [xml|lang=ja] q q q, [lang=ja] q, [lang=ja] q q q {
   quotes: "「" "」" "『" "』";
 }
 [xml|lang=ja] q q, [xml|lang=ja] q q q q, [lang=ja] q q, [lang=ja] q q q q {
   quotes: "『" "』";
 }
]PRE]

テスト用 HTML 片:
[PRE[
 <span lang="en"><q>Quoted<q>Quoted <q>Quoted<q>Quoted text</q> text</q>text</q> text</q></span>
 <span lang="ja"><q>引用文<q>引用<q>引用<q>引用文字列</q>文字列</q>文字列</q>字列</q></span>
 <q>Quoted<q>Quoted <q>Quoted<q lang="ja">引用<q>引用<q>引用<q lang="en">Quoted<q>Quoted text</q> text</q>文字列</q>文字列</q>文字列</q>text</q>text</q> text</q>
]PRE]

問題点:
- 文書で言語指定が無かった場合は、とりあえず英語と同じにしてあります。
- 深い入れ子の引用では正しく動作しません。4つ目の引用まで対応しています。 (実際には十分以上でしょう。)
- 日本語の引用文の中に英語の引用文があって、更に引用部がある場合に、正しく引用符がつきません (3つ目のテスト片)。選択子の詳細度の関係でしょう。うまい選択子を与えれば解決できそうですが、複雑になりそう。
- 上述の通り、言語情報のみに頼っていて、スクリプトに応じた引用符を選択できません。
(日本語では問題になるのはローマ字書きくらいでしょう。)

[[#comment]]


** 例

[13] [SRC[HTML 4]]
[PRE[
John said, <Q lang="en-us">I saw Lucy at lunch, she told me
<Q lang="en-us">Mary wants you
to get some ice cream on your way home.</Q> I think I will get
some at Ben and Jerry's, on Gloucester Road.</Q>
]PRE]

レンダリング例:
[PRE[
  John said, "I saw Lucy at lunch, she told me 'Mary wants you
  to get some ice cream on your way home.' I think I will get some
  at Ben and Jerry's, on Gloucester Road."
]PRE]

HTML 4 は、どちらの引用も米語だから、と言っていますが、
実際には引用言語だけではなく、引用のまわりの言語もはっきりしないと
(むしろそっちがないと) 引用符は決定できないはずです。

[22]
> <p>In Australia, <q>personal information</q> is information about an
individual <q>who can be identified, or whose identity could be reasonably
ascertained.</q> In Canada <q>personal information</q> means information
about an <q>identifiable</q> individual. In the United States, different
sectors have different standards for identifiability of data. Similarly, in
many other policy documents, terms such as <q>personally identifiable
information (PII)</q> are often not defined or the cause for heated
debate.</p>

出典: [CITE[The Platform for Privacy Preferences 1.1 (P3P1.1) Specification]] 
<http://www.w3.org/TR/2005/WD-P3P11-20050104/#def_identity>

[23]
>
<[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]="qa">
<[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]="q">
<[CODE(HTMLe)[h2]] [CODE(HTMLa)[id]]='uri'>Why is it <[CODE(HTMLe)[q]]>URI</[CODE(HTMLe)[q]]> and not <[CPDE(HTMLe)[q]]>URL</[CODE(HTMLe)[q]]>?</[CODE(HTMLe)[h2]]>
</[CODE(HTMLe)[div]]>
>
<[CODE(HTMLe)[div]] [CODE(HTMLa)[class]]='a'>
<[CODE(HTMLe)[p]]>URI stands for <[CODE(HTMLe)[q]]>Uniform Resource Identifiers</[CODE(HTMLe)[q]]>, URLs are a subset of URIs, please see <[CODE(HTMLe)[a]] [CODE(HTMLa)[href]]='[CODE(URI)[http://www.w3.org/Addressing/]]'>Naming and Addressing: URIs, URLs, ...</[CODE(HTMLa)[a]]> and <[CODE(HTMLe)[a]] [CODE(HTMLa)[href]]='[CODE(URI)[http://www.w3.org/TR/uri-clarification/]]'>URIs, URLs, and URNs: Clarifications and Recommendations 1.0</[CODE(HTMLe)[a]]> for details.</[CODE(HTMLe)[p]]>
</[CODE(HTMLe)[div]]>
</[CODE(HTMLe)[div]]>

出典: [CITE[W3C CSS Validator FAQ]] 
<http://www.websitedev.de/css/validator-faq#uri>
(2003年11月付け)

[[#comment]]


** 参考文献

- [6] ''Q要素:インライン引用文のマークアップについて'' <http://natto.2ch.net/hp/kako/1002/10027/1002750163.html>: 2001年のスレで、現在の事情からするとちょっと時代遅れの感がありますが。 (但し引用符補完 WinIE がまだ release されていないのは変わっていませんね。)

[21]
''Correct usage of the q element from Nicolas Roeser on 2004-02-07 (www-html@@w3.org from February 2004)'' <http://lists.w3.org/Archives/Public/www-html/2004Feb/0033.html>

[CODE(HTMLe)[q]] や [CODE(HTMLe)[[[blockquote]]]] や [CODE(XHTMLe)[[[quote]]]] についてのあらゆる話題が芋蔓式に詰まった [[www-html]] のスレ。
([[名無しさん]])

[[#comment]]


** メモ

[17]
(この文のように)「いわゆる」を表すときに括弧を使うことがありますが、[Q[いわゆる]]は[Q[所''謂'']] (or [Q[so‐''called'']]) と言うくらいですから、誰かが言ったとみなして [CODE(HTMLe)[q]] を使うのはありでしょうかねぇ。拡大解釈だとか批判されてしまいそうですが。
([[名無しさん]] [WEAK[2004-03-16 03:15:26 +00:00]])

[18]
とりあえず日本語に限定して考えますと、
括弧 (一重または二重) を使うのは、主として
- (狭義の)引用
- 挿入
- 「いわゆる」
- 強調
- 書名
- 片仮名の固有名詞 (戦前の片仮名書き文での用法)

です。後の三つは明らかに引用とは距離があります。

引用と挿入は構造的には区別できないかもしれません。「いわゆる」は大抵一、二語程度なのが特徴といえましょうか。

で、どこまでを広義の「引用」としてみとめるか、すなわち [CODE(HTMLe)[q]] 要素の守備範囲と考えるかという話になるわけですが・・・。[WEAK[(そもそもこの文の「『引用』」というのは「『いわゆる』」に分類されるのか、それとも別のものなのか。別のものだとして、マークし分ける必要があるものなのか。)]]
しかし、こういう議論は色々なところで既に何ループもしているわけでして、結論なんて出ないのかもしれません。
([[名無しさん]])

[19]
ところでレンダリングの観点からすると、それがどんな性質のものであれ、どれか一種類括弧をマークに置き換えるなら、その周辺は全部マークにするべきです。
どういうことかというと、「Name_Not_Found さんは『たとえば「『いわゆる「いわゆる」と「so‐called」について』 (名無しさん著) への疑問」という論文があるとします。』と言っていますが、その論文はどこで入手できますか。」というのをマークするときに、たとえば「引用は [CODE(HTMLe)[q]] でマークするけど、『いわゆる』はマークしないで地の文に括弧を含める」という規準を設けたとすると、特定のスタイルに依存した地の文にするか、括弧の入れ子の深さと括弧の種類が一致しないことになってしまいます。

レンダリングするときに地の文の括弧も適当に置き換えればいいという考えもあるかもしれませんが、そんな面倒なことは誰がするのでしょう。
[[SGML]] なら「それはタグではないがマークだ。」というのもありですが、
XML ではそういうのは無しでしょう。
([[名無しさん]])

[20]
「『ファイル』→『名前をつけて保存』」の括弧は挿入なのだかなんなのだか。
([[名無しさん]])

[[#comment]]


* 品質値

- [2] [[HTTP]] などの[[内容折衝]]で [CODE(HTTP)[[[Accept]]]]
などに使われる引数。 See [CODE(WikiPage)[[[qvalue]]]],
[CODE(WikiPage)[[[品質値]]]]。
[[#comment]]


* 長さの絶対量の単位

[9] [[組版]]の世界で使われている[[長さ]]の単位です。
[CODE[級]]とか [CODE[Q]] とか言ったりします。

[[#comment]]


** JIS X 4052 組版指定交換形式において

[1]

> [[級]], [[Q]] (1q = 0.25[[mm]]) [INS[([[JISX4052]]:2000 5.3.2. b)5))]]

[[#comment]]


@


1.8
log
@auto-committed
@
text
@a0 1

d201 16
@


1.7
log
@auto-committed
@
text
@d1 210
a210 193
#?SuikaWiki/0.9


* LATIN SMALL LETTER Q

[4] [[Q]] の小文字。

- [7] [WEAK[2003-10-20 22:57:41 +00:00]] ''[[tor]]'': 
[[#comment]]


* q 要素型 (HTML, XHTML 1)

[11] [DFN[[CODE(HTMLe)[q]] [[要素型]]]]は、短い、[[段落]]区切りが要らないくらいの[[引用]]
を表します。ここで、「短い」とは、
「長い」引用である [CODE(HTMLa)[[[blockquote]]]] 要素型との対比であり、
[[行内要素]]が[[内容]]であることを意味します。

[[HTML4]] では <IW:HTML4:"struct/text.html#edef-Q"> を参照。

[12]
:[[開始タグ]]:必須
:[[終了タグ]]:必須
:[[内容模型]]:[CODE(SGML)[(%[[inline]];)*]]
:[[属性]]:
,[CODE(HTMLa)[[[cite]]]]	,[[URI参照]]	,(なし)	,出典	,[HTML4]
,[CODE(HTMLa)[[[class]]]]	,	,	,[[級]]	,[HTML4] %[[coreattr]]
,[CODE(HTMLa)[[[dir]]]]	,	,	,[[書字方向]]	,[HTML4] %[[i18n]]
,[CODE(HTMLa)[[[id]]]]	,	,	,一意識別子	,[HTML4] %coreattr
,[CODE(HTMLa)[[[lang]]]]	,	,	,[[自然言語]]	,[HTML4] %i18n
,[CODE(HTMLa)[[[xml]]:lang]]	,	,	,自然言語	,[XHTML1]
,[CODE(HTMLa)[[[onclick]]]]	,	,	,	,[HTML4] %[[events]]
,[CODE(HTMLa)[[[ondblclick]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeydown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeypress]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeyup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmousedown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseout]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseover]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[style]]]]	,	,	,スタイル情報	,[HTML4] %coreattr
,[CODE(HTMLa)[[[title]]]]	,	,	,注釈的題	,[HTML4] %coreattr


[[#comment]]


** 応用

[[#comment]]


*** レンダリング

[14] <IW:HTML4:"struct/text.html#idx-quoted_text-1"> によると:
- [[視覚UA]] は区切りの[[引用符]]で内容を囲んでレンダリングしなければなりません
(must)。
- [[著者]]は、 [CODE(HTMLe)[q]] 要素の最初と最後に引用符を挿入するべきではありません
(should not)。
- UA は、言語依存の方法で引用符をレンダリングするべき (should)。
- UA は、多くの言語で採用されている、入れ子度によった適切な引用符を使うべき
(should)。

[[#comment]]


** 様々な言語・用字系の引用符

[8] 実際のところは引用符は言語, 地域, 用字系,
文脈によって様々に変わりえます。
一つの目安として :
,言語・地域	,用字系	,最外側	,==	,2番目	,==
,[CODE(lang)[en]]	,[CODE(script)[Latn]]	,“	,”	,‘	,’
,[CODE(lang)[de]]	,[CODE(script)[Latn]]	,",,"	,”
,[CODE(lang)[fr]]	,[CODE(script)[Latn]]	,<<	,>>
,[CODE(lang)[ja]]	,[CODE(script)[Japn]]	,「	,」	,『	,』
,[CODE(lang)[ja]]	,[CODE(script)[Latn]]	,“	,”	,‘	,’
,[CODE(lang)[ru]]	,キリル文字	,<<	,>>	,
,[CODE(lang)[ru]]	,キリル文字	,“	,”	,

- [15] 現実には更に著者や編集者の好み、分野の慣習なんかにも依存しますね。たとえば日本語の仮名漢字混じり文でも [CODE[“]]〜[CODE[”]] を使うことはよくある。それから、[[書字方向]]が [CODE(CSS)[[[lr-tb]]]] 以外のときにはまた様相が変わってきたりもしますね。

[16]
ドイツ語では字の文の言語ではなく引用文の言語で引用符を決定するとか小耳に挟みました。
([[名無しさん]])
[[#comment]]


** 実装について

- [5] [[WebExplorer]] では [CODE(HTML)[Q]] 要素は [[blockquote]] 要素の別名で、既定スタイルが [CODE(CSS)[display:block]] です。
[[#comment]]


*** Mozilla (Gecko) で

[3] [[Mozilla]] 1.3b の既定スタイルは [CODE(HTML)[Q]]
要素の両側が常に [SAMP["]] 
になって寂しいので、文脈によって適切な引用符を使うようにしようと思ってみました。

重要なポイントは、引用符は一般に、引用の周り (地の文)
の言語及びスクリプト (用字系) で決定されるということです。
例えばラテン語の英語で仮名漢字混じりの日本語文を引用するときは、

[PRE[
 For example, “こんな風になります.”
]PRE]

逆の場合は、
[PRE[
 例えば「like this example,」となります。
 (“comma style quotation mark”を使うこともありますが、
  話がややこしくなるので黙ってましょう。)
]PRE]

しかし、同じ英語と日本語の組み合わせでも、
[PRE[
 ふぉあ えくざんぷる、「こんな風になります」。
 Tatoe ba “like this example,” to narimasu.
]PRE]

のようになります。
ところが、 [[CSS]]2 では言語の[[選択子]]はありますが、用字系で処理を振り分ける手段がありません。

しかも、 Mozilla は現時点では [CODE(CSS)[:[[lang]]]] 擬似級にすら対応していません。
その上、 [CODE(CSS)[[[quotes]]]] 属性には1組しか値を指定できないようです。
(それ以上指定しても無視される。)

そういう現状を踏まえて、とりあえずのスタイル指定:
[PRE[
 @@namespace xml 'http://www.w3.org/XML/1998/namespace';
 q, q q q,
 [lang=en] q, [lang=en] q q q {
   quotes: "“" "”" "‘" "’";
 }
 q q, q q q q,
 [lang=en] q q, [lang=en] q q q q {
   quotes: "‘" "’";
 }
 [xml|lang=ja] q, [xml|lang=ja] q q q, [lang=ja] q, [lang=ja] q q q {
   quotes: "「" "」" "『" "』";
 }
 [xml|lang=ja] q q, [xml|lang=ja] q q q q, [lang=ja] q q, [lang=ja] q q q q {
   quotes: "『" "』";
 }
]PRE]

テスト用 HTML 片:
[PRE[
 <span lang="en"><q>Quoted<q>Quoted <q>Quoted<q>Quoted text</q> text</q>text</q> text</q></span>
 <span lang="ja"><q>引用文<q>引用<q>引用<q>引用文字列</q>文字列</q>文字列</q>字列</q></span>
 <q>Quoted<q>Quoted <q>Quoted<q lang="ja">引用<q>引用<q>引用<q lang="en">Quoted<q>Quoted text</q> text</q>文字列</q>文字列</q>文字列</q>text</q>text</q> text</q>
]PRE]

問題点:
- 文書で言語指定が無かった場合は、とりあえず英語と同じにしてあります。
- 深い入れ子の引用では正しく動作しません。4つ目の引用まで対応しています。 (実際には十分以上でしょう。)
- 日本語の引用文の中に英語の引用文があって、更に引用部がある場合に、正しく引用符がつきません (3つ目のテスト片)。選択子の詳細度の関係でしょう。うまい選択子を与えれば解決できそうですが、複雑になりそう。
- 上述の通り、言語情報のみに頼っていて、スクリプトに応じた引用符を選択できません。
(日本語では問題になるのはローマ字書きくらいでしょう。)

[[#comment]]


** 例

[13] ([[HTML4]] 仕様書より)
[PRE[
John said, <Q lang="en-us">I saw Lucy at lunch, she told me
<Q lang="en-us">Mary wants you
to get some ice cream on your way home.</Q> I think I will get
some at Ben and Jerry's, on Gloucester Road.</Q>
]PRE]

レンダリング例:
[PRE[
  John said, "I saw Lucy at lunch, she told me 'Mary wants you
  to get some ice cream on your way home.' I think I will get some
  at Ben and Jerry's, on Gloucester Road."
]PRE]

HTML 4 は、どちらの引用も米語だから、と言っていますが、
実際には引用言語だけではなく、引用のまわりの言語もはっきりしないと
(むしろそっちがないと) 引用符は決定できないはずです。

[[#comment]]


** 参考文献

- [6] ''Q要素:インライン引用文のマークアップについて'' <http://natto.2ch.net/hp/kako/1002/10027/1002750163.html>: 2001年のスレで、現在の事情からするとちょっと時代遅れの感がありますが。 (但し引用符補完 WinIE がまだ release されていないのは変わっていませんね。)

[21]
d213 71
a283 71
[CODE(HTMLe)[q]] や [CODE(HTMLe)[[[blockquote]]]] や [CODE(XHTMLe)[[[quote]]]] についてのあらゆる話題が芋蔓式に詰まった [[www-html]] のスレ。
([[名無しさん]])

[[#comment]]


** メモ

[17]
(この文のように)「いわゆる」を表すときに括弧を使うことがありますが、[Q[いわゆる]]は[Q[所''謂'']] (or [Q[so‐''called'']]) と言うくらいですから、誰かが言ったとみなして [CODE(HTMLe)[q]] を使うのはありでしょうかねぇ。拡大解釈だとか批判されてしまいそうですが。
([[名無しさん]] [WEAK[2004-03-16 03:15:26 +00:00]])

[18]
とりあえず日本語に限定して考えますと、
括弧 (一重または二重) を使うのは、主として
- (狭義の)引用
- 挿入
- 「いわゆる」
- 強調
- 書名
- 片仮名の固有名詞 (戦前の片仮名書き文での用法)

です。後の三つは明らかに引用とは距離があります。

引用と挿入は構造的には区別できないかもしれません。「いわゆる」は大抵一、二語程度なのが特徴といえましょうか。

で、どこまでを広義の「引用」としてみとめるか、すなわち [CODE(HTMLe)[q]] 要素の守備範囲と考えるかという話になるわけですが・・・。[WEAK[(そもそもこの文の「『引用』」というのは「『いわゆる』」に分類されるのか、それとも別のものなのか。別のものだとして、マークし分ける必要があるものなのか。)]]
しかし、こういう議論は色々なところで既に何ループもしているわけでして、結論なんて出ないのかもしれません。
([[名無しさん]])

[19]
ところでレンダリングの観点からすると、それがどんな性質のものであれ、どれか一種類括弧をマークに置き換えるなら、その周辺は全部マークにするべきです。
どういうことかというと、「Name_Not_Found さんは『たとえば「『いわゆる「いわゆる」と「so‐called」について』 (名無しさん著) への疑問」という論文があるとします。』と言っていますが、その論文はどこで入手できますか。」というのをマークするときに、たとえば「引用は [CODE(HTMLe)[q]] でマークするけど、『いわゆる』はマークしないで地の文に括弧を含める」という規準を設けたとすると、特定のスタイルに依存した地の文にするか、括弧の入れ子の深さと括弧の種類が一致しないことになってしまいます。

レンダリングするときに地の文の括弧も適当に置き換えればいいという考えもあるかもしれませんが、そんな面倒なことは誰がするのでしょう。
[[SGML]] なら「それはタグではないがマークだ。」というのもありですが、
XML ではそういうのは無しでしょう。
([[名無しさん]])

[20]
「『ファイル』→『名前をつけて保存』」の括弧は挿入なのだかなんなのだか。
([[名無しさん]])

[[#comment]]


* 品質値

- [2] [[HTTP]] などの[[内容折衝]]で [CODE(HTTP)[[[Accept]]]]
などに使われる引数。 See [CODE(WikiPage)[[[qvalue]]]],
[CODE(WikiPage)[[[品質値]]]]。
[[#comment]]


* 長さの絶対量の単位

[9] [[組版]]の世界で使われている[[長さ]]の単位です。
[CODE[級]]とか [CODE[Q]] とか言ったりします。

[[#comment]]


** JIS X 4052 組版指定交換形式において

[1]

> [[級]], [[Q]] (1q = 0.25[[mm]]) [INS[([[JISX4052]]:2000 5.3.2. b)5))]]

[[#comment]]


@


1.6
log
@auto-committed
@
text
@d192 7
a233 1

@


1.5
log
@auto-committed
@
text
@d1 80
a80 72
#?SuikaWiki/0.9
*LATIN SMALL LETTER Q

[4] [[Q]] の小文字。

- [7] [WEAK[2003-10-20 22:57:41 +00:00]] ''[[tor]]'': 
[[#comment]]

* q 要素型 (HTML, XHTML 1)

[11] [DFN[[CODE(HTMLe)[q]] [[要素型]]]]は、短い、[[段落]]区切りが要らないくらいの[[引用]]
を表します。ここで、「短い」とは、
「長い」引用である [CODE(HTMLa)[[[blockquote]]]] 要素型との対比であり、
[[行内要素]]が[[内容]]であることを意味します。

[[HTML4]] では <IW:HTML4:"struct/text.html#edef-Q"> を参照。

[12]
: [[開始タグ]]: 必須
: [[終了タグ]]: 必須
: [[内容模型]] : [CODE(SGML)[(%[[inline]];)*]]
: [[属性]] :
,[CODE(HTMLa)[[[cite]]]]    ,[[URI参照]],(なし),出典         ,[HTML4]
,[CODE(HTMLa)[[[class]]]]   ,,,[[級]]       ,[HTML4] %[[coreattr]]
,[CODE(HTMLa)[[[dir]]]]     ,,,[[書字方向]] ,[HTML4] %[[i18n]]
,[CODE(HTMLa)[[[id]]]]      ,,,一意識別子   ,[HTML4] %coreattr
,[CODE(HTMLa)[[[lang]]]]    ,,,[[自然言語]] ,[HTML4] %i18n
,[CODE(HTMLa)[[[xml]]:lang]],,,自然言語     ,[XHTML1]
,[CODE(HTMLa)[[[onclick]]]] ,,,             ,[HTML4] %[[events]]
,[CODE(HTMLa)[[[ondblclick]]]],,,           ,[HTML4] %events
,[CODE(HTMLa)[[[onkeydown]]]],,,            ,[HTML4] %events
,[CODE(HTMLa)[[[onkeypress]]]],,,           ,[HTML4] %events
,[CODE(HTMLa)[[[onkeyup]]]] ,,,             ,[HTML4] %events
,[CODE(HTMLa)[[[onmousedown]]]],,,          ,[HTML4] %events
,[CODE(HTMLa)[[[onmouseout]]]],,,           ,[HTML4] %events
,[CODE(HTMLa)[[[onmouseover]]]],,,          ,[HTML4] %events
,[CODE(HTMLa)[[[onmouseup]]]],,,            ,[HTML4] %events
,[CODE(HTMLa)[[[style]]]]   ,,,スタイル情報 ,[HTML4] %coreattr
,[CODE(HTMLa)[[[title]]]]   ,,,注釈的題     ,[HTML4] %coreattr

[[#comment]]
** 応用

[[#comment]]

*** レンダリング

[14] <IW:HTML4:"struct/text.html#idx-quoted_text-1"> によると:
- [[視覚UA]] は区切りの[[引用符]]で内容を囲んでレンダリングしなければなりません
(must)。
- [[著者]]は、 [CODE(HTMLe)[q]] 要素の最初と最後に引用符を挿入するべきではありません
(should not)。
- UA は、言語依存の方法で引用符をレンダリングするべき (should)。
- UA は、多くの言語で採用されている、入れ子度によった適切な引用符を使うべき
(should)。

[[#comment]]

** 様々な言語・用字系の引用符

[8] 実際のところは引用符は言語, 地域, 用字系,
文脈によって様々に変わりえます。
一つの目安として :
,言語・地域      ,用字系          ,最外側,==,2番目,==
,[CODE(lang)[en]],[CODE(script)[Latn]],“,”,‘,’
,[CODE(lang)[de]],[CODE(script)[Latn]],",,",”
,[CODE(lang)[fr]],[CODE(script)[Latn]],<<,>>
,[CODE(lang)[ja]],[CODE(script)[Japn]],「,」,『,』
,[CODE(lang)[ja]],[CODE(script)[Latn]],“,”,‘,’
,[CODE(lang)[ru]],キリル文字          ,<<,>>,
,[CODE(lang)[ru]],キリル文字          ,“,”,

d82 180
a261 125
[[#comment]]


** 実装について

- [5] [[WebExplorer]] では [CODE(HTML)[Q]] 要素は [[blockquote]] 要素の別名で、既定スタイルが [CODE(CSS)[display:block]] です。
[[#comment]]

*** Mozilla (Gecko) で

[3] [[Mozilla]] 1.3b の既定スタイルは [CODE(HTML)[Q]]
要素の両側が常に [SAMP["]] 
になって寂しいので、文脈によって適切な引用符を使うようにしようと思ってみました。

重要なポイントは、引用符は一般に、引用の周り (地の文)
の言語及びスクリプト (用字系) で決定されるということです。
例えばラテン語の英語で仮名漢字混じりの日本語文を引用するときは、


[PRE[
 For example, “こんな風になります.”
]PRE]
逆の場合は、
[PRE[
 例えば「like this example,」となります。
 (“comma style quotation mark”を使うこともありますが、
  話がややこしくなるので黙ってましょう。)
]PRE]
しかし、同じ英語と日本語の組み合わせでも、
[PRE[
 ふぉあ えくざんぷる、「こんな風になります」。
 Tatoe ba “like this example,” to narimasu.
]PRE]
のようになります。
ところが、 [[CSS]]2 では言語の[[選択子]]はありますが、用字系で処理を振り分ける手段がありません。

しかも、 Mozilla は現時点では [CODE(CSS)[:[[lang]]]] 擬似級にすら対応していません。
その上、 [CODE(CSS)[[[quotes]]]] 属性には1組しか値を指定できないようです。
(それ以上指定しても無視される。)

そういう現状を踏まえて、とりあえずのスタイル指定:
[PRE[
 @@namespace xml 'http://www.w3.org/XML/1998/namespace';
 q, q q q,
 [lang=en] q, [lang=en] q q q {
   quotes: "“" "”" "‘" "’";
 }
 q q, q q q q,
 [lang=en] q q, [lang=en] q q q q {
   quotes: "‘" "’";
 }

 [xml|lang=ja] q, [xml|lang=ja] q q q, [lang=ja] q, [lang=ja] q q q {
   quotes: "「" "」" "『" "』";
 }
 [xml|lang=ja] q q, [xml|lang=ja] q q q q, [lang=ja] q q, [lang=ja] q q q q {
   quotes: "『" "』";
 }
]PRE]

テスト用 HTML 片:
[PRE[
 <span lang="en"><q>Quoted<q>Quoted <q>Quoted<q>Quoted text</q> text</q>text</q> text</q></span>
 <span lang="ja"><q>引用文<q>引用<q>引用<q>引用文字列</q>文字列</q>文字列</q>字列</q></span>
 <q>Quoted<q>Quoted <q>Quoted<q lang="ja">引用<q>引用<q>引用<q lang="en">Quoted<q>Quoted text</q> text</q>文字列</q>文字列</q>文字列</q>text</q>text</q> text</q>
]PRE]

問題点:
-文書で言語指定が無かった場合は、とりあえず英語と同じにしてあります。
-深い入れ子の引用では正しく動作しません。4つ目の引用まで対応しています。 (実際には十分以上でしょう。)
-日本語の引用文の中に英語の引用文があって、更に引用部がある場合に、正しく引用符がつきません (3つ目のテスト片)。選択子の詳細度の関係でしょう。うまい選択子を与えれば解決できそうですが、複雑になりそう。
-上述の通り、言語情報のみに頼っていて、スクリプトに応じた引用符を選択できません。
(日本語では問題になるのはローマ字書きくらいでしょう。)

[[#comment]]

** 例
[13] ([[HTML4]] 仕様書より)
[PRE[
John said, <Q lang="en-us">I saw Lucy at lunch, she told me
<Q lang="en-us">Mary wants you
to get some ice cream on your way home.</Q> I think I will get
some at Ben and Jerry's, on Gloucester Road.</Q>
]PRE]

レンダリング例:
[PRE[
  John said, "I saw Lucy at lunch, she told me 'Mary wants you
  to get some ice cream on your way home.' I think I will get some
  at Ben and Jerry's, on Gloucester Road."
]PRE]

HTML 4 は、どちらの引用も米語だから、と言っていますが、
実際には引用言語だけではなく、引用のまわりの言語もはっきりしないと
(むしろそっちがないと) 引用符は決定できないはずです。

[[#comment]]

** 参考文献
- [6] ''Q要素:インライン引用文のマークアップについて'' <http://natto.2ch.net/hp/kako/1002/10027/1002750163.html>: 2001年のスレで、現在の事情からするとちょっと時代遅れの感がありますが。 (但し引用符補完 WinIE がまだ release されていないのは変わっていませんね。)
[[#comment]]
** メモ

[[#comment]]

*品質値
-[2] [[HTTP]] などの[[内容折衝]]で [CODE(HTTP)[[[Accept]]]]
などに使われる引数。 See [CODE(WikiPage)[[[qvalue]]]],
[CODE(WikiPage)[[[品質値]]]]。
[[#comment]]

* 長さの絶対量の単位

[9] [[組版]]の世界で使われている[[長さ]]の単位です。
[CODE[級]]とか [CODE[Q]] とか言ったりします。

[[#comment]]

**JIS X 4052 組版指定交換形式において
[1]
>[[級]], [[Q]] (1q = 0.25[[mm]]) [INS[([[JISX4052]]:2000 5.3.2. b)5))]]

[[#comment]]

*メモ
@


1.4
log
@auto-committed
@
text
@d9 74
a82 1
*q 要素型 (HTML, XHTML 1)
d91 2
a107 1

d125 1
d142 4
a145 4
=文書で言語指定が無かった場合は、とりあえず英語と同じにしてあります。
=深い入れ子の引用では正しく動作しません。4つ目の引用まで対応しています。 (実際には十分以上でしょう。)
=日本語の引用文の中に英語の引用文があって、更に引用部がある場合に、正しく引用符がつきません (3つ目のテスト片)。選択子の詳細度の関係でしょう。うまい選択子を与えれば解決できそうですが、複雑になりそう。
=上述の通り、言語情報のみに頼っていて、スクリプトに応じた引用符を選択できません。
d150 21
a170 1
** 様々な言語・用字系の引用符
d172 4
a175 9
[8] 実際のところは引用符は言語, 地域, 用字系,
文脈によって様々に変わりえます。
一つの目安として :
,言語・地域      ,用字系          ,最外側,==,2番目,==
,[CODE(lang)[en]],[CODE(script)[Latn]],“,”,‘,’
,[CODE(lang)[de]],[CODE(script)[Latn]],",,",”
,[CODE(lang)[fr]],[CODE(script)[Latn]],<<,>>
,[CODE(lang)[ja]],[CODE(script)[Japn]],「,」,『,』
,[CODE(lang)[ru]],キリル文字          ,<<,>>,
d179 4
a182 2
*資質値
-[2] [[HTTP]] などの[[内容折衝]]で [[Accept:欄]]などに使われるパラメーター。 See [[qvalue]]。
d184 6
a189 1
*長さの絶対量の単位
d191 1
d194 1
a194 2
>[[級]], [[Q]] (1q = 0.25[[mm]])
>([[JISX4052]]:2000 5.3.2. b)5))
d197 1
a198 2
- [5] [[WebExplorer]] では [CODE(HTML)[Q]] 要素は [[blockquote]] 要素の別名で、既定スタイルが [CODE(CSS)[display:block]] です。
- [6] ''Q要素:インライン引用文のマークアップについて'' <http://natto.2ch.net/hp/kako/1002/10027/1002750163.html>: 2001年のスレで、現在の事情からするとちょっと時代遅れの感がありますが。 (但し引用符補完 WinIE がまだ release されていないのは変わっていませんね。)
@


1.3
log
@pre-namespace
@
text
@d6 1
d9 1
a9 1
*q 要素 (HTML, XHTML)
d18 1
a18 1

d20 1
a20 1

d22 1
a22 1

d26 1
a26 1

d28 1
a28 1

d31 1
a31 1

d36 2
a37 2
更に、 Mozilla は現時点では :[[lang]] 擬似級に対応していません。
その上、 [[quotes]] 属性には1組しか値を指定できないようです。
d41 1
a41 1

d57 1
d60 1
a60 1

d64 1
d73 1
a73 1
[[#comment]
d75 1
d77 11
d100 3
a102 3
*メモ
- [5] [[WebExplorer]] では [CODE(HTML)[Q]] 要素は [[blockquote]] 要素の別名で、既定スタイルが [CODE(CSS)[display:block]] です。
- [6] ''Q要素:インライン引用文のマークアップについて'' <http://natto.2ch.net/hp/kako/1002/10027/1002750163.html>: 2001年のスレで、現在の事情からするとちょっと時代遅れの感がありますが。 (但し引用符補完 WinIE がまだ release されていないのは変わっていませんね。)
@


1.2
log
@*** empty log message ***
@
text
@d2 72
d85 3
a87 1
*メモ@


1.1
log
@Updated.
@
text
@d2 3
@

