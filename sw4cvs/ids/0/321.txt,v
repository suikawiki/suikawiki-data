head	1.34;
access;
symbols
	suika-20100509:1.10
	before-graph-20090923:1.6;
locks; strict;
comment	@# @;
expand	@b@;


1.34
date	2014.04.07.05.29.56;	author wakaba;	state Exp;
branches;
next	1.33;

1.33
date	2014.04.07.05.24.15;	author wakaba;	state Exp;
branches;
next	1.32;

1.32
date	2013.12.06.01.15.03;	author wakaba;	state Exp;
branches;
next	1.31;

1.31
date	2013.09.27.01.32.19;	author wakaba;	state Exp;
branches;
next	1.30;

1.30
date	2013.09.14.00.26.52;	author wakaba;	state Exp;
branches;
next	1.29;

1.29
date	2013.09.14.00.24.01;	author wakaba;	state Exp;
branches;
next	1.28;

1.28
date	2013.09.14.00.17.47;	author wakaba;	state Exp;
branches;
next	1.27;

1.27
date	2013.07.10.23.06.06;	author wakaba;	state Exp;
branches;
next	1.26;

1.26
date	2013.06.18.23.50.41;	author wakaba;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.28.12.47.57;	author wakaba;	state Exp;
branches;
next	1.24;

1.24
date	2013.02.22.01.04.00;	author wakaba;	state Exp;
branches;
next	1.23;

1.23
date	2013.01.08.01.38.15;	author wakaba;	state Exp;
branches;
next	1.22;

1.22
date	2012.09.01.01.24.30;	author wakaba;	state Exp;
branches;
next	1.21;

1.21
date	2012.07.04.01.35.10;	author wakaba;	state Exp;
branches;
next	1.20;

1.20
date	2012.06.27.06.02.56;	author wakaba;	state Exp;
branches;
next	1.19;

1.19
date	2012.05.05.00.15.20;	author wakaba;	state Exp;
branches;
next	1.18;

1.18
date	2012.05.01.05.40.54;	author wakaba;	state Exp;
branches;
next	1.17;

1.17
date	2012.01.10.23.08.30;	author wakaba;	state Exp;
branches;
next	1.16;

1.16
date	2011.10.22.01.13.48;	author wakaba;	state Exp;
branches;
next	1.15;

1.15
date	2011.06.14.12.08.58;	author wakaba;	state Exp;
branches;
next	1.14;

1.14
date	2011.04.24.02.19.54;	author wakaba;	state Exp;
branches;
next	1.13;

1.13
date	2010.08.11.22.41.29;	author wakaba;	state Exp;
branches;
next	1.12;

1.12
date	2010.08.01.11.13.39;	author wakaba;	state Exp;
branches;
next	1.11;

1.11
date	2010.06.27.11.22.17;	author wakaba;	state Exp;
branches;
next	1.10;

1.10
date	2010.04.18.23.37.19;	author wakaba;	state Exp;
branches;
next	1.9;

1.9
date	2010.01.06.14.30.00;	author wakaba;	state Exp;
branches;
next	1.8;

1.8
date	2009.10.23.14.30.44;	author wakaba;	state Exp;
branches;
next	1.7;

1.7
date	2009.10.23.14.26.33;	author wakaba;	state Exp;
branches;
next	1.6;

1.6
date	2009.09.12.10.16.30;	author wakaba;	state Exp;
branches;
next	1.5;

1.5
date	2009.09.12.10.11.03;	author wakaba;	state Exp;
branches;
next	1.4;

1.4
date	2009.08.23.06.39.58;	author wakaba;	state Exp;
branches;
next	1.3;

1.3
date	2009.08.23.06.39.26;	author wakaba;	state Exp;
branches;
next	1.2;

1.2
date	2009.08.23.06.37.55;	author wakaba;	state Exp;
branches;
next	1.1;

1.1
date	2008.11.10.16.58.58;	author wakaba;	state Exp;
branches;
next	;


desc
@@


1.34
log
@updated by (anon)
@
text
@
* [CODE(HTMLe)@@en[form]] 要素 (HTML)

[23] [[HTML]] の [DFN[[CODE(HTMLe)[form]] 要素]]は、
[[フォーム]]の[[包含子]]です。フォームの配置と提出先・提出方法を記述します。

[24]
仕様書:
- [[HTML 4]] ([[Web Forms 1.0]])
-- 17.3 [CODE(HTMLe)[FORM]] element
<IW:HTML4:"interact/forms.html#edef-FORM">
- [[XHTML 1.0]]
<http://www.w3.org/TR/xhtml1/#prohibitions>
- [[Web Forms 2.0]]
-- [CSECTION@@en[2.3. Changes to existing controls]]
<IW:WF2:"#changes">
-- [CSECTION@@en[2.18. Handling unexpected elements and values]]
<IW:WF2:"#handling">
--<http://www.whatwg.org/specs/web-forms/current-work/#additions>

[25]
:状態:[[W3C]] [[勧告]]
:[[名前空間URI]]:[CODE(URI)@@en[[[http://www.w3.org/1999/xhtml]]]]
:[[局所名]]:[CODE(HTMLe)@@en[[[form]]]]
([Q@@en[[RUBYB[[[フォーム]]] [[[form]]]]より)]]
:[[開始タグ]]:必須
:[[終了タグ]]:必須
:[[内容モデル]]:零個以上の[[ブロック水準要素]]
(例外規定あり: >>39)
:出現できる文脈:
[[ブロック水準要素]]が認められる場所、または
[CODE(HTMLe)@@en[[[head]]]] の[[子供]]として
:[[属性]]:
,[[属性名]]	,[[属性値]]	,[[既定値]]	,説明	,状態	,出典
,[CODE(HTMLa)[[[accept]]]]	,[CODE(SGML)[%[[ContentTypes]]]]	,	,受入れ媒体型	,[HTML 4]
,[CODE(HTMLa)[[[accept-charset]]]]	,[CODE(SGML)[%[[Charsets]]]]	,	,受入れ [[charset]]	,[HTML 4]
,[CODE(HTMLa)[[[action]]]]	,[CODE(SGML)[%[[URI]]]]	,(必須)	,フォーム処理器	,[HTML 4]
,[CODE(HTMLa)@@en[[[autocomplete]]]]	,	,	,[[自動補完]]	,非標準	,[[WinIE]]
,[CODE(HTMLa)[[[class]]]]	,	,	,[[級]]	,[HTML4] %[[coreattr]]
,[CODE(HTMLa)[[[dir]]]]	,	,	,[[書字方向]]	,[HTML4] %[[i18n]]
,[CODE(HTMLa)[[[enctype]]]]	,[CODE(SGML)[%[[ContentType]]]]	,	,提出媒体型	,[HTML 4]
,[CODE(HTMLa)[[[id]]]]	,	,	,一意識別子	,[HTML4] %coreattr
,[CODE(HTMLa)[[[lang]]]]	,	,	,[[自然言語]]	,[HTML4] %i18n
,[CODE(HTMLa)[[[xml]]:lang]]	,	,	,自然言語	,[XHTML1]
,[CODE(HTMLa)@@en[[[lcs]]]]	,	,	,	,非標準	,[[iモード]]
,[CODE(HTMLa)@@en[[[measure]]]],,,,非標準,[[EMOBILE]]
,[CODE(HTMLa)[[[method]]]]	,	,[CODE(HTML)[[[get]]]]	,提出方式	,[HTML 4]
,[CODE(HTMLa)[[[name]]]]	,	,	,フォーム名	,[HTML 4]
,[CODE(HTMLa)[[[onclick]]]]	,	,	,	,[HTML4] %[[events]]
,[CODE(HTMLa)[[[ondblclick]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeydown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeypress]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onkeyup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmousedown]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmousemove]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseout]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseover]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onmouseup]]]]	,	,	,	,[HTML4] %events
,[CODE(HTMLa)[[[onreset]]]]	,[CODE(SGML)[%[[Script]]]]	,	,フォーム[[再設定]]時	,[HTML 4]
,[CODE(HTMLa)[[[onsubmit]]]]	,[CODE(SGML)[%[[Script]]]]	,	,フォーム[[提出]]時	,[HTML 4]
,[CODE(HTMLa)@@en[[[runat]]]]	,[CODE(HTML example)@@en[[[server]]]]	,	,	,非標準
,[CODE(HTMLa)[[[style]]]]	,	,	,スタイル情報	,[HTML4] %coreattr
,[CODE(HTMLa)[[[subject]]]]	,[CODE(SGML)[%[[Text]]]]	,	,主題	,
,[CODE(HTMLa)[[[target]]]]	,[CODE(SGML)[%[[FrameTarget]]]]	,	,対象フレーム	,[HTML 4] 非推奨
,[CODE(HTMLa)[[[title]]]]	,	,	,注釈的題	,[HTML4] %coreattr
,[CODE(HTMLa)@@en[[[utn]]]]	,([[ブール型属性]])	,([[偽]])	,製造番号送信	,非標準	,[[iモード]]
,[CODE(HTMLa)@@en[[[z]]]]	,([[真偽値属性]])	,([[偽]])	,	,非標準	,[Vodafone]


[29]
HTML 4 DTD [[注釈]] (参考) では
[Q[interactive form]] (対話的フォーム)
と説明されています。

[59] [[とほほ]]では [CODE(HTMLa)@@en[[[urn]]]]
[[属性]]が紹介されていますが、
[CODE(HTMLa)@@en[[[utn]]]] の誤りと見られます。

;; [CITE[<form> - フォーム]] ([CODE[2006-10-01 23:42:22 +09:00]] 版) 
<http://www.tohoho-web.com/html/form.htm>


** 内容

[26] [CODE(HTMLe)[form]] 要素の内容としては、
フォームの[RUBYB[配置] [layout]]を記述します [SRC[HTML 4 17.3]]。
具体的には、フォーム外同様の通常の[[内容]]・[[マーク]]に加えて、
フォーム[[制御子]]やフォーム制御子の[RUBY[札] [ラベル]]を記述できます。

[11] [CODE(HTMLe)[[[input]]]] 要素などは[[行内要素]]扱いですから、
直接内容に持つことは'''出来ません'''ので注意が必要です。 
(Transitional とかだと話は別ですが。) [CODE(HTMLe)[[[form]]]]
の直接の子供になれるのは [CODE(HTMLe)[[[p]]]]
要素などの[[ブロック水準要素]]です。

[31]
[CITE[HTML Working Group Voyager Issue Tracking System - Modularization-abstractions/591]] <http://hades.mn.aptest.com/cgi-bin/voyager-issues/Modularization-abstractions?id=591>

> Should we intentionally attempt to support the legacy content models in the
legacy redecl module?
> No - it _could_ break compatibility, and we don't want to do that in a second
edition.

([[名無しさん]] [sage] [WEAK[2006-02-15 08:59:39 +00:00]])

[[#comment]]


*** HTML 5 内容モデル

[39] [[Web Forms 2.0]] では、次の[[内容]]が認められています
[SRC@@en[WF2 2.3]]:
- [[空要素]]にする。
-- [CODE(HTMLe)@@en[[[form]]]] は[[空]]に[['''して構いません''']]。
-- [CODE(HTMLe)@@en[[[head]]]] 内の [CODE(HTMLe)@@en[[[form]]]]
は[[空]]にしなければなりません。
- [[ブロック水準要素]]だけを[[子供]]とする。
-- 原則として、 [CODE(HTMLe)@@en[[[form]]]]
の[[子供]]は[[ブロック水準要素]]と[['''しなければなりません''']]。
- [[行内水準内容]]だけを[[子供]]とする。
-- [CODE(HTMLe)@@en[[[form]]]] [[要素]]の[[祖先]]の1つが
[[ブロック水準要素]]と[[行内水準内容]]の両方を認めていて、
-- しかもそれが [CODE(HTMLe)@@en[[[div]]]] [[要素]]では''ない''場合。

[[#comment]]


*** 空要素

[32]
[[Web Forms 2.0]] では、 [CODE(HTMLe)@@en[[[form]]]]
[[要素]]は[[空]]に[['''して構いません''']]。
また、[[空]]のとき、 [CODE(HTMLe)@@en[[[head]]]]
内に入れることができます (>>33)。
[SRC@@en[WF2 2.3]]

[[#comment]]


*** [CODE(HTMLe)@@en[form]] の入れ子

[16] [CODE(HTMLe)[form]] 要素の子孫に [CODE(HTMLe)[form]] 要素は存在できません
[SRC[XHTML 1.0]]。

[36]
[[Web Forms 2.0]] では、 [CODE(HTMLe)@@en[[[form]]]]
を [CODE(HTMLe)@@en[[[form]]]]
の[[子孫]]にすることが認められています。
[SRC@@en[WF2 2.3]]

[37] '''HTML 直列化'''

([[XHTML]] ではなく) [[HTML]] では、
[CODE(HTMLe)@@en[[[form]]]] [[要素]]内の
[CODE(HTML)@@en[<[CODE(HTMLe)@@en[[[form]]]]>]]
[[開始タグ]]は虫されるのが普通なので、
[CODE(HTMLe)@@en[[[form]]]] の[[入れ子]]は認められていません。
[SRC@@en[WF2 2.3]]

;; [[HTML]] として[[構文解析]]した[[文書]]でも、
[[DOM]] を通じて [CODE(HTMLe)@@en[[[form]]]]
内に [CODE(HTMLe)@@en[[[form]]]] を入れることはできます。

[38] '''フォーム間の関係'''

[[入れ子]]にしても、[[フォーム]]間に意味的な関係はありません。
[[フォーム制御子]]は通常直近の[[祖先]]である[[フォーム]]だけに関連付けられます。
[[フォーム]]関連の[[属性]]や[[事象]]も、
[WEAK[([[DOM]] で規定された通常通りの[[事象]]の[[泡立ち]]はありますが)]]
どちらかの[[フォーム]]だけに関係します。

[[#comment]]


*** メモ

[[#comment]]


** 文脈


*** [CODE(HTMLe)@@en[head]] の子供

[33]
[CODE(HTMLe)@@en[[[form]]]] は、[[内容]]が[[空]]の場合に限り、
[CODE(HTMLe)@@en[[[head]]]] の[[子供]]とすることができます。
[SRC@@en[WF2 2.3]]

[34]
[[Web Forms 2.0]] で導入された [CODE(HTMLa)@@en[[[form]]]]
[[属性]]により、[[フォーム制御子]]は [CODE(HTMLe)@@en[[[form]]]]
外であっても特定の [CODE(HTMLe)@@en[[[form]]]]
と関連付けることができるようになりました。
従いまして、[[フォーム制御子]]は直接 [CODE(HTMLe)@@en[[[body]]]]
の子孫とし、それに対応する [CODE(HTMLe)@@en[[[form]]]]
[[要素]]は [CODE(HTMLe)@@en[[[head]]]] [[要素]]に入れるという使い方ができます。

;; これは、 [[XForms]] の[[フォーム]]の定義方法とも似ています。

[35] '''HTML 直列化との関係'''

([[XHTML]] ではなく) [[HTML]] では、
[CODE(HTML)@@en[<[CODE(HTMLe)@@en[[[form]]]]>]]
[[開始タグ]]が出現すると [CODE(HTMLe)@@en[[[body]]]]
[[要素]]が[[開いている]]と[[構文解析]]されてしまいます。

例えば、
[PRE(HTML example code)[
<html>
<head>
<title>空の form の例</title>
<form></form>
<h1>空の <code lang="en">form</code> の例</h1>
</body>
</html>
]PRE]

は
[PRE(HTML example code)[
<html>
<head>
<title>空の form の例</title>
'''</head><body>'''<form></form>
<h1>空の <code lang="en">form</code> の例</h1>
</body>
</html>
]PRE]

と解釈されてしまいます。

;; そう解釈されても[[フォーム]]としての機能は変わりありませんが、
[[DOM]] による操作や [[CSS]] による[[レンダリング]]などでの扱いが変わります。
また、他の[[要素]]の[[タグ]]の位置によっては[[文書]]が[[不適合]]となります。

;; [[HTML]] として[[構文解析]]した[[文書]]でも、
後から [[DOM]] により [CODE(HTMLe)@@en[[[head]]]]
内に [CODE(HTMLe)@@en[[[form]]]] を入れることはできます。

[[#comment]]


*** メモ

[[#comment]]


** レンダリング

[57] '''[CODE(HTMLe)@@en[head]] 内の非空 [CODE(HTMLe)@@en[form]]'''

通常[[利用者エージェント]]は [CODE(HTMLe)@@en[[[head]]]]
[[要素]]の[[内容]]を[[レンダリング]]しませんから、
[[空]]でない [CODE(HTMLe)@@en[[[form]]]]
が [CODE(HTMLe)@@en[[[head]]]] 内に含まれていても、
特別な処理は必要ありません。
[[CSS]] 等により [CODE(HTMLe)@@en[[[head]]]]
[[要素]]内の [CODE(HTMLe)@@en[[[form]]]]
を[[レンダリング]]することにした場合、
[CODE(HTMLe)@@en[[[form]]]] は通常通り
([CODE(HTMLe)@@en[[[body]]]] 内と同じように)
動作[['''しなければなりません''']]。
[SRC@@en[WF2 2.18]]

[[#comment]]


** 安全性

[[フォーム]]の安全性の項を参照。


** 例

[27] 単純なフォームの例 [SRC[HTML 4 27.3、改]]
[PRE(HTML)[
 <FORM action="http://somesite.example/prog/adduser" method="post">
 ...form contents...
 </FORM>
]PRE]

このフォームの場合、提出すると [SAMP(URI)[adduser]]
というフォーム処理エージェントに [[HTTP]] [CODE(HTTP)[[[POST]]]]
を使ってフォームのデータを送信します。

[[#comment]]


** 実装

[21] 伝統的にフォームの各欄に入力していても、
提出しないでブラウザを閉じたり他の頁に移動したりしたときに、
ブラウザは何も言ってくれません。頁移動はともかく、閉じてしまったら、
入力途中のデータは失われます。これって不親切だと思いませんか。
[WEAK[っていうか、間違って終了させちゃったんだよなあ。。。書きかけのデータが水の泡。。。]]

[22] >>21 とりあえず[[著者]]ができることとして、 [CODE(HTMLa)[[[onunload]]]] で 
check して終了をとめられないかなあ。

[28] 途中で別の作業が入って、また後から続きを・・・
と言うこともあるので、ブラウザに中途保存機能がついていると便利かも。
最近のブラウザはフォームの自動[[補完]]機能がついているものが多いですから、
利用者が意図的に保存できても良いはずです。

(嘆かわしいことですがブラウザや環境が突然動かなくなることがたまにありますから、
こまめに保存できるといいですよね。自動保存だとなお良い。)

[60]
[CITE[IE6 Form Tag Orphans by jpsykes]] ([CODE[2007-09-29 12:45:21 +09:00]] 版) <http://jpsykes.com/92/ie6-form-tag-orphans>
([[名無しさん]])

[[#comment]]


** 不思議解釈

[14] [CODE(HTMLe)[form]] 要素の典型的な[[既定スタイル・シート]]でのレンダリングでは
[CODE(HTMLe)[form]] 要素の周囲に余白が空くことがあるので、 
[CODE(HTMLe)[[[td]]]] 要素の内容にするときには [CODE(HTML)[<[CODE(HTMLe)[form]]>]] 
[[タグ]]を [CODE(HTML)[<[CODE(HTMLe)[td]]>]] タグの外に出すといい、
という素晴らしき[[不思議マーク付け]]の[[裏技]]があるそうです。

[30]
[CITE@@en[nodeType 8 and getElementsByTagName - Anne’s Weblog about Markup & Style]]
<http://annevankesteren.nl/2005/10/msn-sessions>

[[WinIE 6]] が [CODE(HTMLe)@@en[[[form]]]] [[タグ]]のところで (も)
滅茶苦茶な[[文書木]] (のようなもの) を作るというお話。
([[名無しさん]] [WEAK[2005-10-31 00:10:13 +00:00]])

[[#comment]]


** メモ

- [17] [CODE(URI)[[[mailto:]]]] URI のとき、 [[NN2]] はその宛先のメイル作成画面を開きますが、それ以上は何もしてくれません。 (入力欄の値はまったく反映されません。)

[18] >>17 [[NC]]4.01 で試してみたら、同じ結果になりました。でも電子メイルで送信します云々の警告は出るので、対応はしてるはずなんですが。謎です。

- [20] >>17 のようなのはブラウザと MUA の相性で今でもよくあることみたいです。というわけで、 [[JavaScript]] を使って無理矢理送らせる方法 : ''フォームの送信について'' <http://www.parkcity.ne.jp/~chaichan/qanda/qa4468.htm>。非本質的で呆れて物も言えなくなるような汚いやり方で、よくもまあこんなの思いつくなあという感じではありますが、誰も [CODE(HTML)[form]] + [CODE(URI)[mailto:]] を標準化しようとしない以上どうしようもないのかも。

* メモ

[62] [CITE@@en[(X)HTML5 Tracking]]
([TIME[2009-08-23 15:37:15 +09:00]] 版)
<http://html5.org/tools/web-apps-tracker?from=2420&to=2421>

[63] [CITE@@en[(X)HTML5 Tracking]]
([TIME[2009-08-23 15:37:38 +09:00]] 版)
<http://html5.org/tools/web-apps-tracker?from=2527&to=2528>

[64] [CITE@@en[(X)HTML5 Tracking]]
([TIME[2009-08-23 15:38:11 +09:00]] 版)
<http://html5.org/tools/web-apps-tracker?from=2525&to=2526>

[65] [CITE@@en-GB-x-Hixie[Web Forms 2.0]]
([TIME[2009-01-05 20:07:15 +09:00]] 版)
<http://www.whatwg.org/specs/web-forms/current-work/#form0>

[66] [CITE@@en[(X)HTML5 Tracking]]
([TIME[2009-10-23 23:26:25 +09:00]] 版)
<http://html5.org/tools/web-apps-tracker?from=4287&to=4288>

[67] [CITE[Bug 7978 – Form foster parenting introduces extra space to layout]]
([TIME[2009-10-23 23:27:12 +09:00]] 版)
<http://www.w3.org/Bugs/Public/show_bug.cgi?id=7978>

[68] [CITE@@en[(X)HTML5 Tracking]]
([TIME[2010-01-06 23:29:38 +09:00]] 版)
<http://html5.org/tools/web-apps-tracker?from=4521&to=4522>

[69] [CITE[IRC logs: freenode / #whatwg / 20100404]]
([TIME[2010-04-19 08:25:38 +09:00]] 版)
<http://krijnhoetmer.nl/irc-logs/whatwg/20100404#l-150>

[70] [CITE['''['''whatwg''']''' Constraint validation feedback (various threads)]]
([TIME[2010-08-12 07:41:12 +09:00]] 版)
<http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-August/027882.html>

[71] [CITE@@en[Opera: Opera 11.00 for Windows changelog]]
( ([[Frank M. Palinkas, Technical Writer, Opera Software ASA]] 著, [TIME[2011-04-24 11:17:12 +09:00]] 版))
<http://www.opera.com/docs/changelogs/windows/1100/>

[72] [CITE@@en[Web Applications 1.0 r6221      Remove <progress form> and <meter form> since they are basically useless.]]
( ([TIME[2011-06-14 09:33:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=6220&to=6221>

[73] [CITE@@en[Web Applications 1.0 r6727     Try to make the named getter on HTMLFormElement more Web-compatible.]]
( ([TIME[2011-10-22 06:32:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=6726&to=6727>

[74] [CITE[''''''[''''''whatwg'''''']'''''' Session Management]]
( ([TIME[2012-01-11 08:08:33 +09:00]] 版))
<http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2012-January/034331.html>

[75] [CITE[ふつうのformをつかいたい - はまちや2 - ニコニコ超会議2012]]
( ([TIME[2012-05-01 14:01:22 +09:00]] 版))
<http://hamachiya.com/form/#slide1>

[76] [CITE[''''''[''''''whatwg'''''']'''''' Localisation of form fields]]
( ([TIME[2012-05-05 09:15:30 +09:00]] 版))
<http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2012-May/035674.html>

[77] [CITE@@en[Firefox 14 for developers - MDN]]
( ([TIME[2012-06-27 06:02:50 +09:00]] 版))
<https://developer.mozilla.org/en/Firefox_14_for_developers#HTML>

[78] [CITE[サーバーにパスワードを送らないフォームを作る - 金利0無利息キャッシング – キャッシングできます - subtech]]
( ([TIME[2012-07-04 01:35:05 +09:00]] 版))
<http://subtech.g.hatena.ne.jp/mala/20120703/1341322969>

[79] [CITE@@en[Web Applications 1.0 r7305 forgot to fix the index (again) when removing form='' from <progress> and <meter>.]]
( ([TIME[2012-09-01 08:50:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=7304&to=7305>

[80] [CITE[''''''[''''''whatwg'''''']'''''' Forms-related feedback]]
( ([TIME[2013-01-08 01:23:47 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2013-January/038532.html>

[81] [CITE@@en[HTML Form HTTP Extensions]]
( ([TIME[2013-02-21 19:26:21 +09:00]] 版))
<http://cameronjones.github.com/form-http-extensions/index.html>

[82] [CITE@@en[Web Applications 1.0 r7722     Try to define order for supported property names. This is not based on testing. If there are compatibility constraints here that prevent implementing this as specced, please let me know.]]
( ([TIME[2013-02-13 09:03:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=7721&to=7722>

[83] [CITE@@en[Web Applications 1.0 r7986     Be even more explicit about the supported property names of a <form>.]]
( ([TIME[2013-06-19 07:15:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=7985&to=7986>

[84] [CITE@@en[Web Applications 1.0 r8041     Don't make form names enumerable.]]
( ([TIME[2013-07-10 05:39:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=8040&to=8041>

[85] [CITE@@en[Web Applications 1.0 r8185     Make the <form> past names map associations go away when the form owner changes, not when the element is removed from the document.]]
( ([TIME[2013-09-14 08:18:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=8184&to=8185>

[86] [CITE[''''''[''''''whatwg'''''']'''''' Elements should be removed from the past names map once it's no longer associated with the form element]]
( ([TIME[2013-09-26 22:45:44 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2013-September/040898.html>

[87] [CITE[''''''[''''''whatwg'''''']'''''' Form-associated elements and the parser]]
( ([TIME[2013-12-05 18:08:31 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2013-December/041706.html>

[88] [CITE[WWW-Talk Apr-Jun 1994: NCSA Mosaic for X 2.3 available.]]
( ([TIME[2014-04-07 05:24:12 +09:00]] 版))
<http://1997.webhistory.org/www.lists/www-talk.1994q2/0134.html>

[89] [CITE[ncsa-mosaic/CHANGES at master · alandipert/ncsa-mosaic]]
( ([TIME[2014-04-07 05:29:52 +09:00]] 版))
<https://github.com/alandipert/ncsa-mosaic/blob/master/CHANGES#L227>@


1.33
log
@updated by (anon)
@
text
@d450 5
a454 1
<http://1997.webhistory.org/www.lists/www-talk.1994q2/0134.html>@


1.32
log
@updated by (anon)
@
text
@d446 5
a450 1
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2013-December/041706.html>@


1.31
log
@updated by (anon)
@
text
@d442 5
a446 1
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2013-September/040898.html>@


1.30
log
@updated by (anon)
@
text
@d438 5
a442 1
<http://html5.org/tools/web-apps-tracker?from=8184&to=8185>@


1.29
log
@updated by (anon)
@
text
@d374 65
a438 69
<http://krijnhoetmer.nl/irc-logs/whatwg/20100404#l-150>

[70] [CITE['''['''whatwg''']''' Constraint validation feedback (various threads)]]
([TIME[2010-08-12 07:41:12 +09:00]] 版)
<http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-August/027882.html>

[71] [CITE@@en[Opera: Opera 11.00 for Windows changelog]]
( ([[Frank M. Palinkas, Technical Writer, Opera Software ASA]] 著, [TIME[2011-04-24 11:17:12 +09:00]] 版))
<http://www.opera.com/docs/changelogs/windows/1100/>

[72] [CITE@@en[Web Applications 1.0 r6221      Remove <progress form> and <meter form> since they are basically useless.]]
( ([TIME[2011-06-14 09:33:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=6220&to=6221>

[73] [CITE@@en[Web Applications 1.0 r6727     Try to make the named getter on HTMLFormElement more Web-compatible.]]
( ([TIME[2011-10-22 06:32:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=6726&to=6727>

[74] [CITE[''''''[''''''whatwg'''''']'''''' Session Management]]
( ([TIME[2012-01-11 08:08:33 +09:00]] 版))
<http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2012-January/034331.html>

[75] [CITE[ふつうのformをつかいたい - はまちや2 - ニコニコ超会議2012]]
( ([TIME[2012-05-01 14:01:22 +09:00]] 版))
<http://hamachiya.com/form/#slide1>

[76] [CITE[''''''[''''''whatwg'''''']'''''' Localisation of form fields]]
( ([TIME[2012-05-05 09:15:30 +09:00]] 版))
<http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2012-May/035674.html>

[77] [CITE@@en[Firefox 14 for developers - MDN]]
( ([TIME[2012-06-27 06:02:50 +09:00]] 版))
<https://developer.mozilla.org/en/Firefox_14_for_developers#HTML>

[78] [CITE[サーバーにパスワードを送らないフォームを作る - 金利0無利息キャッシング – キャッシングできます - subtech]]
( ([TIME[2012-07-04 01:35:05 +09:00]] 版))
<http://subtech.g.hatena.ne.jp/mala/20120703/1341322969>

[79] [CITE@@en[Web Applications 1.0 r7305 forgot to fix the index (again) when removing form='' from <progress> and <meter>.]]
( ([TIME[2012-09-01 08:50:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=7304&to=7305>

[80] [CITE[''''''[''''''whatwg'''''']'''''' Forms-related feedback]]
( ([TIME[2013-01-08 01:23:47 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2013-January/038532.html>

[81] [CITE@@en[HTML Form HTTP Extensions]]
( ([TIME[2013-02-21 19:26:21 +09:00]] 版))
<http://cameronjones.github.com/form-http-extensions/index.html>

[82] [CITE@@en[Web Applications 1.0 r7722     Try to define order for supported property names. This is not based on testing. If there are compatibility constraints here that prevent implementing this as specced, please let me know.]]
( ([TIME[2013-02-13 09:03:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=7721&to=7722>

[83] [CITE@@en[Web Applications 1.0 r7986     Be even more explicit about the supported property names of a <form>.]]
( ([TIME[2013-06-19 07:15:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=7985&to=7986>

[84] [CITE@@en[Web Applications 1.0 r8041     Don't make form names enumerable.]]
( ([TIME[2013-07-10 05:39:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=8040&to=8041>

[85] [CITE@@en[Web Applications 1.0 r8185     Make the <form> past names map associations go away when the form owner changes, not when the element is removed from the document.]]
( ([TIME[2013-09-14 08:18:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=8184&to=8185>

[86] [CITE@@en[Web Applications 1.0 r8186 Clarify which call to 'reset the form owner' is suppressed.]]
( ([TIME[2013-09-14 08:31:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=8185&to=8186>@


1.28
log
@updated by (anon)
@
text
@d438 5
a442 1
<http://html5.org/tools/web-apps-tracker?from=8184&to=8185>@


1.27
log
@updated by (anon)
@
text
@d434 5
a438 1
<http://html5.org/tools/web-apps-tracker?from=8040&to=8041>@


1.26
log
@updated by (anon)
@
text
@d430 5
a434 1
<http://html5.org/tools/web-apps-tracker?from=7985&to=7986>@


1.25
log
@updated by (anon)
@
text
@d426 5
a430 1
<http://html5.org/tools/web-apps-tracker?from=7721&to=7722>@


1.24
log
@updated by (anon)
@
text
@d422 5
a426 1
<http://cameronjones.github.com/form-http-extensions/index.html>@


1.23
log
@updated by (anon)
@
text
@d418 5
a422 1
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2013-January/038532.html>@


1.22
log
@updated by (anon)
@
text
@d414 5
a418 1
<http://html5.org/tools/web-apps-tracker?from=7304&to=7305>@


1.21
log
@updated by (anon)
@
text
@d410 5
a414 1
<http://subtech.g.hatena.ne.jp/mala/20120703/1341322969>@


1.20
log
@updated by (anon)
@
text
@d406 5
a410 1
<https://developer.mozilla.org/en/Firefox_14_for_developers#HTML>@


1.19
log
@updated by (anon)
@
text
@d402 5
a406 1
<http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2012-May/035674.html>@


1.18
log
@updated by (anon)
@
text
@d398 5
a402 1
<http://hamachiya.com/form/#slide1>@


1.17
log
@updated by (anon)
@
text
@d394 5
a398 1
<http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2012-January/034331.html>@


1.16
log
@updated by (anon)
@
text
@d390 5
a394 1
<http://html5.org/tools/web-apps-tracker?from=6726&to=6727>@


1.15
log
@updated by (anon)
@
text
@d386 5
a390 1
<http://html5.org/tools/web-apps-tracker?from=6220&to=6221>@


1.14
log
@updated by (anon)
@
text
@d382 5
a386 1
<http://www.opera.com/docs/changelogs/windows/1100/>@


1.13
log
@updated by (anon)
@
text
@d378 5
a382 1
<http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-August/027882.html>@


1.12
log
@updated by (anon)
@
text
@d374 5
a378 1
<http://krijnhoetmer.nl/irc-logs/whatwg/20100404#l-150>@


1.11
log
@updated by (anon)
@
text
@a340 229
[[#comment]]


* [CODE(HTMLa)@@en[form]] 属性 (HTML)

[40]
[[HTML]] の[[フォーム制御子]]等の
[DFN[[CODE(HTMLa)@@en[form]] [[属性]]]]は、
[[フォーム制御子]]が所属する[[フォーム]]を指定します。

[41]
:状態:[[WHATWG]] [[WD]]
:[[要素型]]:[[フォーム制御子]]、[CODE(HTMLe)@@en[[[fieldset]]]]
:[[属性名]]:[CODE(HTMLa)@@en[[[form]]]]
([Q@@en[[[form]]]] ([Q@@en[[[フォーム]]]]) より)
:[[属性値]]:[CODE@@en[[[IDREFS]]]] (>>42)
:[[既定値]]:([[先祖]]により決定) (>>43)

[44] 仕様書:
- [[Web Forms 2.0]]
-- [CSECTION@@en[2.8. The [CODE(HTMLa)@@en[[[form]]]] attribute]]
<IW:WF2:"#formAttribute">


** 属性値

[42]
[CODE(HTMLa)@@en[[[form]]]] [[属性値]]は、
零個以上の
[CODE(HTMLe)@@en[[[form]]]] [[要素]]の [CODE(XML)@@en[[[ID]]]]
の[[空白]]区切り[[並び]]です。
[SRC@@en[WF2 2.8]]

[43]
[[フォーム制御子]]は通常[[先祖]]の [CODE(HTMLe)@@en[[[form]]]]
と関連付けられますが、
[CODE(HTMLa)@@en[[[form]]]] [[属性]]はこれを上書きし、
関連付ける[[フォーム]]を明示的に指定します。
[SRC@@en[WF2 2.8]]

[46]
指定された [CODE(XML)@@en[[[ID]]]] のうち、
[[文書]]中の[[要素]]を[[識別]]しないものや、
[CODE(HTMLe)@@en[[[form]]]] [[要素]]を[[識別]]しないものは、
無視[['''しなければなりません''']]。
[SRC@@en[WF2 2.8]]

[47]
[[空文字列]]を[[属性値]]として指定する
(か、 >>46 の無視の結果 [CODE(XML)@@en[[[ID]]]]
が1つも含まれない) と、
[[フォーム制御子]]はどの[[フォーム]]にも関連付けられていない状態となります。
[SRC@@en[WF2 2.8]]

[48]
[CODE(HTMLe)@@en[[[fieldset]]]] [[要素]]に指定した場合は、
その[[子孫]]の[[フォーム制御子]]を関連付ける[[フォーム]]を指定します。
[SRC@@en[WF2 2.8]]

;; [[子孫]]の[[フォーム制御子]]や [CODE(HTMLe)@@en[[[fieldset]]]]
で更に [CODE(HTMLa)@@en[[[form]]]] が指定されている場合は、
そちらが優先します。

[[#comment]]


** フォームの決定

[49]
[[利用者エージェント]]は、[[フォーム制御子]]や
[CODE(HTMLe)@@en[[[fieldset]]]]
[[要素]]に関連付ける[[フォーム]]を次のように決定[['''しなければなりません''']]
[SRC@@en[WF2 2.8]]:
= [CODE(HTMLa)@@en[[[form]]]] [[属性]]があれば、
それに従います。
= [[直近]]の[[先祖]]である [CODE(HTMLe)@@en[[[form]]]]
[[要素]]か、 [CODE(HTMLa)@@en[[[form]]]] [[属性]]がある
[CODE(HTMLe)@@en[[[fieldset]]]] [[要素]]があれば、
その[[フォーム]]とします。
= なければ、どの[[フォーム]]にも関連付けないとします。

[[#comment]]


** フォーム操作との関係

[50]
[[提出]][[ボタン]] ([CODE(HTML)@@en[[[submit]]]]) や[[画像]]
([CODE(HTMLe)@@en[[[image]]]]) は、
関連付けられた最初の[[フォーム]]のみを[[提出]][['''しなければなりません''']]。
[SRC@@en[WF2 2.8]]

[51]
[[再設定]][[ボタン]] ([CODE(HTML)@@en[[[reset]]]])
は、関連付けられたすべての[[フォーム]]を[[再設定]][['''しなければなりません''']]。
[SRC@@en[WF2 2.8]]

[[#comment]]


** 誤り処理

[52]
[[文書]]中に複数現れる [CODE(XML)@@en[[[ID]]]]
が [CODE(HTMLa)@@en[[[form]]]] に指定された時に選択される[[フォーム]]は、
[CODE(DOMm)@@en[[[getElementById]]]] [[メソッド]]と同じものと[['''しなければなりません''']]。
[SRC@@en[WF2 2.8]]

;; [CODE(DOMm)@@en[[[getElementById]]]] [[メソッド]]は、
その場合の動作は[[未定義]]としています。
しかし、 [CODE(HTMLa)@@en[[[form]]]]
もそれと同じように動作しなければならない、ということです。

[53]
[CODE(HTMLa)@@en[[[form]]]]
[[属性値]]中に同じ[[フォーム]]を複数回指定[['''してはなりません''']]。
[[利用者エージェント]]は、その場合、
最初の指定を除き、無視[['''しなければなりません''']]。
[SRC@@en[WF2 2.8]]

[[#comment]]


** 歴史

[56]
この[[属性]]は [[Web Forms 2.0]] で導入されました。


[61]
[CITE[Cougar: ideas for <A>,<INPUT>]] ([TIME[2004-08-06 01:45:46 +09:00]] 版) <http://lists.w3.org/Archives/Public/www-html/1996Jul/0537.html>

[CODE(HTMLa)@@en[[[form]]]] [[属性]]に相当する [CODE(HTMLa)@@en[[[for]]]]
[[属性]]が提案されていました。

[70] 一瞬だけ [[HTML5]] で [CODE(HTMLe)@@en[[[legend]]]] [[要素]]にも
[CODE(HTMLa)@@en[[[form]]]] [[属性]]が追加されていましたが、すぐに削除されました。


** 例

[54]
[PRE(HTML example code)[
<table>
 <thead>
  <tr>
   <th>Name</th>
   <th>Value</th>
   <th>Action</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <form id="edit1" action="/edit" method="post">
     <input type="hidden" name="id" value="1"/>
     <input type="text" name="name" value="First Row"/>
    </form>
   </td>
   <td>
    <input form="edit1" type="text" name="value"/>
   </td>
   <td>
    <input form="edit1" type="submit" name="Edit"/>
   </td>
  </tr>
  <tr>
   <td>
    <form id="edit2" action="/edit" method="post">
     <input type="hidden" name="id" value="2"/>
     <input type="text" name="name" value="Second Row"/>
    </form>
   </td>
   <td>
    <input form="edit2" type="text" name="value"/>
   </td>
   <td>
    <input form="edit2" type="submit" name="Edit"/>
   </td>
  </tr>
 </tbody>
</table>
]PRE]

[[列]]ごとに別の[[フォーム]]になっています。
[SRC@@en[WF2 2.8]]
[CODE(HTMLe)@@en[[tbody]]]] の[[内容モデル]]の定義から、
[[Web Forms 1.0]] ではこのように[[表]]と[[フォーム]]を組合せることができませんでした。

[55]
[PRE(HTML example code)[
<form action="test.cgi">
 <input type="text" name="q" form="fg fy">
 <input type="submit" name="t" value="Test">
</form>
<form id="fg" action="google.cgi"><input type="submit" value="Google"></form>
<form id="fy" action="yahoo.cgi"><input type="submit" value="Yahoo"></form>
]PRE]

テキスト欄は2つの[[フォーム]]に関連付けられています。
また、[[フォーム]]が3つあり、それぞれが[[提出]][[ボタン]]を持っています。
[SRC@@en[WF2 2.8]]

[Q@@en[Google]] と [Q@@en[Yahoo]] の2つのボタンは、
それぞれ別の[[フォーム処理エージェント]]に、
同じテキスト欄の内容を[[提出]]します。

最初の [Q@@en[Test]] は、 [[Web Forms 2.0]]
に適合した[[利用者エージェント]]では、
テキスト欄の内容を[[提出]]しません。
未対応の[[利用者エージェント]]はテキスト欄の内容を[[提出]]します。
これは古い[[利用者エージェント]]のための fallback
として使うことができます。

[58]
<a href=' http://wwwmakingyourichercom.tlcik.dtdns.net '> wwwmakingyourichercom </a> <br /> 
<a href=' http://www-makingyouricher-com.tlcik.dtdns.net '> www makingyouricher com </a> <br /> 
<a href=' http://wwwmakingyouricher.tlcik.dtdns.net '> wwwmakingyouricher </a> <br /> 
<a href=' http://www-makingyouricher.tlcik.dtdns.net '> www makingyouricher </a> <br /> 

([[www makingyouricher com]] [uoptimer@@yahoo.com] [WEAK[2007-05-26 17:50:56 +00:00]])

[[#comment]]


** メモ

[[#comment]]

@


1.10
log
@updated by (anon)
@
text
@a474 1
([[名無しさん]])
d476 2
a477 2

[[#comment]]
d583 20
a602 20
<http://html5.org/tools/web-apps-tracker?from=2525&to=2526>

[65] [CITE@@en-GB-x-Hixie[Web Forms 2.0]]
([TIME[2009-01-05 20:07:15 +09:00]] 版)
<http://www.whatwg.org/specs/web-forms/current-work/#form0>

[66] [CITE@@en[(X)HTML5 Tracking]]
([TIME[2009-10-23 23:26:25 +09:00]] 版)
<http://html5.org/tools/web-apps-tracker?from=4287&to=4288>

[67] [CITE[Bug 7978 – Form foster parenting introduces extra space to layout]]
([TIME[2009-10-23 23:27:12 +09:00]] 版)
<http://www.w3.org/Bugs/Public/show_bug.cgi?id=7978>

[68] [CITE@@en[(X)HTML5 Tracking]]
([TIME[2010-01-06 23:29:38 +09:00]] 版)
<http://html5.org/tools/web-apps-tracker?from=4521&to=4522>

[69] [CITE[IRC logs: freenode / #whatwg / 20100404]]
([TIME[2010-04-19 08:25:38 +09:00]] 版)
@


1.9
log
@updated by (anon)
@
text
@d600 5
a604 1
<http://html5.org/tools/web-apps-tracker?from=4521&to=4522>@


1.8
log
@updated by (anon)
@
text
@d596 5
a600 1
<http://www.w3.org/Bugs/Public/show_bug.cgi?id=7978>@


1.7
log
@updated by (anon)
@
text
@d592 5
a596 1
<http://html5.org/tools/web-apps-tracker?from=4287&to=4288>@


1.6
log
@updated by (anon)
@
text
@d588 5
a592 1
<http://www.whatwg.org/specs/web-forms/current-work/#form0>@


1.5
log
@updated by (anon)
@
text
@d584 5
a588 1
<http://html5.org/tools/web-apps-tracker?from=2525&to=2526>@


1.4
log
@updated by (anon)
@
text
@d19 1
d572 12
a583 12
* メモ

[62] [CITE@@en[(X)HTML5 Tracking]]
([TIME[2009-08-23 15:37:15 +09:00]] 版)
<http://html5.org/tools/web-apps-tracker?from=2420&to=2421>

[63] [CITE@@en[(X)HTML5 Tracking]]
([TIME[2009-08-23 15:37:38 +09:00]] 版)
<http://html5.org/tools/web-apps-tracker?from=2527&to=2528>

[64] [CITE@@en[(X)HTML5 Tracking]]
([TIME[2009-08-23 15:38:11 +09:00]] 版)
@


1.3
log
@updated by (anon)
@
text
@d579 5
a583 1
<http://html5.org/tools/web-apps-tracker?from=2527&to=2528>@


1.2
log
@updated by (anon)
@
text
@d575 5
a579 1
<http://html5.org/tools/web-apps-tracker?from=2420&to=2421>@


1.1
log
@converted from SuikaWiki3 <http://suika.fam.cx/gate/cvs/suikawiki/wikidata/page/666F726D.txt>
@
text
@d571 5
a575 1
* メモ@

