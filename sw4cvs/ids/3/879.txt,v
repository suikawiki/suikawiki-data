head	1.23;
access;
symbols
	suika-20100509:1.2
	before-graph-20090923:1.2;
locks; strict;
comment	@# @;
expand	@b@;


1.23
date	2014.01.05.08.41.37;	author wakaba;	state Exp;
branches;
next	1.22;

1.22
date	2014.01.05.08.28.22;	author wakaba;	state Exp;
branches;
next	1.21;

1.21
date	2013.11.30.11.54.21;	author wakaba;	state Exp;
branches;
next	1.20;

1.20
date	2013.11.28.06.04.32;	author wakaba;	state Exp;
branches;
next	1.19;

1.19
date	2013.10.23.13.29.26;	author wakaba;	state Exp;
branches;
next	1.18;

1.18
date	2013.09.08.11.46.20;	author wakaba;	state Exp;
branches;
next	1.17;

1.17
date	2013.02.16.14.41.30;	author wakaba;	state Exp;
branches;
next	1.16;

1.16
date	2013.02.16.14.36.19;	author wakaba;	state Exp;
branches;
next	1.15;

1.15
date	2013.02.16.14.30.01;	author wakaba;	state Exp;
branches;
next	1.14;

1.14
date	2012.10.19.00.51.20;	author wakaba;	state Exp;
branches;
next	1.13;

1.13
date	2012.10.17.00.54.02;	author wakaba;	state Exp;
branches;
next	1.12;

1.12
date	2012.09.28.00.54.40;	author wakaba;	state Exp;
branches;
next	1.11;

1.11
date	2012.09.10.01.50.14;	author wakaba;	state Exp;
branches;
next	1.10;

1.10
date	2012.09.02.13.49.22;	author wakaba;	state Exp;
branches;
next	1.9;

1.9
date	2011.10.23.09.07.06;	author wakaba;	state Exp;
branches;
next	1.8;

1.8
date	2011.10.23.09.04.59;	author wakaba;	state Exp;
branches;
next	1.7;

1.7
date	2011.10.23.03.53.16;	author wakaba;	state Exp;
branches;
next	1.6;

1.6
date	2011.10.23.03.49.56;	author wakaba;	state Exp;
branches;
next	1.5;

1.5
date	2011.10.23.03.43.11;	author wakaba;	state Exp;
branches;
next	1.4;

1.4
date	2011.10.23.02.57.33;	author wakaba;	state Exp;
branches;
next	1.3;

1.3
date	2011.10.23.02.55.26;	author wakaba;	state Exp;
branches;
next	1.2;

1.2
date	2009.07.05.12.32.12;	author wakaba;	state Exp;
branches;
next	1.1;

1.1
date	2008.11.13.07.40.59;	author wakaba;	state Exp;
branches;
next	;


desc
@@


1.23
log
@updated by (anon)
@
text
@
[1] [[HTML]] の [CODE(HTMLe)[[[meta]]]] 要素の
[DFN[[CODE(HTMLa)[content]] 属性]]は、
メタ情報の値を指定します。

[2] 仕様書:
- [[HTML 2.0]]: [[RFC 1866]] 5.2.5. Associated Meta-information: META

[[#comment]]


** 属性値

[3] この属性は必須で、省略できません。

空の値を指定したい時は、 [SAMP(HTTP)[content=""]]
のように記述しなければなりません。

** 歴史

[19] [[XHTML2]] の第6次案で [[RDFa]] の一部として[[大域属性]]となりました。

;; [CITE@@en[- XHTML Metainformation Attributes Module]] ([TIME[2004-07-22 23:25:19 +09:00]] 版) <http://www.w3.org/TR/2004/WD-xhtml2-20040722/mod-metaAttributes.html#adef_metaAttributes_content>

** 関連

[4]
HTML 4 DTD の[[注釈]] (参考) には、
[CODE(HTMLe)[[[meta]]]] 要素の
[CODE(HTMLa)[[[lang]]]] 属性と
[CODE(HTMLa)[[[dir]]]] 属性は
[CODE(HTMLa)[[[content]]]] 属性に適用されると書かれています。

[27] [CITE[''''''[''''''whatwg'''''']'''''' "content" element, which we need in our documents]]
( ([TIME[2012-09-02 22:10:51 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-September/037090.html>

[28] [CITE@@en[maincontent element]]
( ([TIME[2012-09-10 01:50:05 +09:00]] 版))
<http://www.html5accessibility.com/tests/maincontent.html>

[29] [CITE[''''''[''''''whatwg'''''']'''''' Elements feedback]]
( ([TIME[2012-09-27 18:27:33 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-September/037461.html>

[30] [CITE[''''''[''''''whatwg'''''']'''''' maincontent element spec updated and supporting data provided]]
( ([TIME[2012-10-17 00:04:04 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-October/037623.html>

[31] [CITE[''''''[''''''whatwg'''''']'''''' maincontent element spec updated and supporting data provided]]
( ([TIME[2012-10-18 22:51:14 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-October/037642.html>

[32] [CITE@@en-US[XBL 2.0]]
( ([TIME[2012-05-03 02:23:03 +09:00]] 版))
<http://dev.w3.org/2006/xbl2/Overview.html#the-content-element>

[33] [CITE@@en-US[XBL 2.0]]
( ([TIME[2012-05-03 02:23:03 +09:00]] 版))
<http://dev.w3.org/2006/xbl2/Overview.html#processing-content-elements>

[34] [CITE@@en-US[XBL 2.0]]
( ([TIME[2012-05-03 02:23:03 +09:00]] 版))
<http://dev.w3.org/2006/xbl2/Overview.html#the-xblcontentelement-interface>

[35] [CITE@@en[RDFa Core 1.1 - Second Edition]]
( ([TIME[2013-08-15 17:12:47 +09:00]] 版))
<http://www.w3.org/TR/rdfa-core/#A-content>

[36] [CITE@@en[XHTML+RDFa 1.1 - Second Edition]]
( ([TIME[2013-08-15 17:11:45 +09:00]] 版))
<http://www.w3.org/TR/2013/REC-xhtml-rdfa-20130822/#A_content>

[37] [CITE@@en[HTML+RDFa 1.1]]
( ([TIME[2013-08-20 15:49:04 +09:00]] 版))
<http://www.w3.org/TR/2013/REC-html-rdfa-20130822/#extensions-to-the-html5-syntax>

[38] [CITE@@en-US[XML Binding Language (XBL) 2.0]]
( ([TIME[2007-03-16 22:20:16 +09:00]] 版))
<http://www.w3.org/TR/2007/CR-xbl-20070316/#the-content>

[39] [CITE@@en-US[XML Binding Language (XBL) 2.0]]
( ([TIME[2007-03-16 22:20:16 +09:00]] 版))
<http://www.w3.org/TR/2007/CR-xbl-20070316/#processing0>@


1.22
log
@updated by (anon)
@
text
@d80 5
a84 1
<http://www.w3.org/TR/2007/CR-xbl-20070316/#the-content>@


1.21
log
@updated by (anon)
@
text
@d76 5
a80 1
<http://www.w3.org/TR/2013/REC-html-rdfa-20130822/#extensions-to-the-html5-syntax>@


1.20
log
@updated by (anon)
@
text
@d72 5
a76 1
<http://www.w3.org/TR/2013/REC-xhtml-rdfa-20130822/#A_content>@


1.19
log
@updated by (anon)
@
text
@d68 5
a72 1
<http://www.w3.org/TR/rdfa-core/#A-content>@


1.18
log
@updated by (anon)
@
text
@d64 5
a68 1
<http://dev.w3.org/2006/xbl2/Overview.html#the-xblcontentelement-interface>@


1.17
log
@updated by (anon)
@
text
@a1 3

* meta 要素 content 属性 (HTML, XHTML 1)

d34 27
a60 6
([[名無しさん]] [sage])

[[#comment]]


* メモ
d62 2
a63 191
[5]
[CODE(CSS)@@en[[[-moz-alt-content]]]]
([[名無しさん]] [sage])

[6]
[CITE@@ja[プリント時にも役立っちゃうcontentプロパティさん|CSS HappyLife]] ([CODE[2007-05-11 20:06:40 +09:00]] 版) <http://css-happylife.com/log/css-template/000138.shtml>
([[名無しさん]] [WEAK[2007-05-11 11:08:15 +00:00]])

[7]
[CITE[HTML5 IRC logs: freenode / #whatwg / 20070624]] ([CODE[2007-06-25 08:45:09 +09:00]] 版) <http://krijnhoetmer.nl/irc-logs/whatwg/20070624#l-292>
([[名無しさん]] [WEAK[2007-06-24 23:47:02 +00:00]])

[8]
[CITE@@en[Bug 130689 - CSS 3 replaced content breaks some pages]] ([CODE[2007-10-21 15:00:17 +09:00]] 版) <http://bugs.kde.org/show_bug.cgi?id=130689>
([[名無しさん]])

[9]
[CITE@@en[Bug 130689 - CSS 3 replaced content breaks some pages]] ([CODE[2007-10-21 15:00:17 +09:00]] 版) <http://bugs.kde.org/show_bug.cgi?id=130689>
([[名無しさん]])

[10]
[[Firefox]] 2 [[構文解析]]
- 基本的に [[CSS 2.1]] 通りのようです。
- [CODE(CSS)@@en[[[none]]]]、[CODE(CSS)@@en[[[-moz-alt-content]]]]
には未対応です。
- [CODE(CSS)@@en[[[attr]]()]] の[[引数]]に [CODE(CSS)[[[|]]]]
を用いることで、[[名前空間]]を使うことができます ([[CSS 3]])。

([[名無しさん]])

[11]
[[Opera]] 9 [[構文解析]]
- 基本的に [[CSS 2.1]] 通りのようです。
- [CODE(CSS)@@en[[[none]]]] には未対応です。
- [[名前空間]]には未対応です。
- [CODE(CSS)@@en[[[counter]]()]] や [CODE(CSS)@@en[[[counters]]()]]
の最後の[[引数]] ([CODE(CSS)@@en[<'[[list-style-type]]'>]])
は、 [CODE(CSS)@@en[[[IDENT]]]] でさえあれば何でもいいようです。
([[名無しさん]])

[12]
[[Firefox]] 2 [[直列化]]
- 他の[[特性]]でなされるような[[正規化]]
([[escape]] 除去など) が基本的に適用されます。
-- [[引数]]の区切りは [CODE(CSS)@@en[[[,]]]] の後に
[CODE(charname)@@en[[[SPACE]]]] になります。
- [CODE(CSS)@@en[[[counters]]()]] の第2[[引数]]
([CODE(CSS)@@en[<[[string]]>]]) は、なぜか
[CODE(CSS)@@en[[[IDENT]]]] であるかのように
(つまり[[引用符]]なしで) [[直列化]]されます。
- [CODE(CSS)@@en[[[counter]]()]] や
[CODE(CSS)@@en[[[counters]]()]] の最後の[[引数]]
([CODE(CSS)@@en[<'[[list-style-type]]'>]]) が省略されていると、
[[既定値]] [CODE(CSS)@@en[[[decimal]]]] が補われます。
- [CODE(CSS)@@en[[[attr]]()]] 内に [CODE(CSS)[[[|]]]] があって、
その前が[[空文字列]]の場合、 [CODE(CSS)[[[|]]]] は除去されます。
- [CODE(CSS)@@en[[[attr]]()]] 内に非[[空]]の[[名前空間接頭辞]]がある場合、
なぜか代わりに[[整数]] ([[0]] 以上) が出てきます。
どうやら、[[名前空間URI]] によって定まる、
内部的に[[名前空間]]情報を保持している[[配列]]の[[索引]]か何かのようです。
- なお、 [CODE(CSS)@@en[[[counter]]()]] や
[CODE(CSS)@@en[[[counters]]()]] の第1[[引数]]の[[大文字]]・[[小文字]]は[[正規化]]されません。

([[名無しさん]])

[13]
>>12
- [[HTML]] [[文書]]の場合、 [CODE(CSS)@@en[[[attr]]()]] の中の[[局所名]]は
([[名前空間]]に関わらず) [[Unicode]] [[小文字]]に[[正規化]]されます。
- [[XML]] [[文書]]の場合、そのままです。

([[名無しさん]])

[14]
[[Opera]] 9 [[直列化]]
- 他の[[特性]]でなされるような[[正規化]]
(例えば [[escape]] の除去や[[相対参照]]の[[解決]])
が基本的になされます。
- [CODE(CSS)@@en[[[attr]]()]] の[[引数]]の特別な[[正規化]]はないようです。
- [CODE(CSS)@@en[[[counter]]()]] や [CODE(CSS)@@en[[[counters]]()]]
はおかしいです。
== 最初と最後の[[空白]]や[[注釈]]は除去します。
== [[escape]] はすべて除去 (表す[[文字]]に置換) します。
== [CODE(CSS)[[["]]]] を [CODE(CSS)[[[\]][["]]]] に置換します。
== 残った文字列を [CODE(CSS)[[["]]]] で括ります。
-- というわけで、途中の[[空白]]や[[注釈]]は除去されません。
[CODE(CSS)@@en[[[STRING]]]] の[[引用符]]は統一されません。
[CODE(CSS)[[[\]]]] も [[escape]] されません。
なぜか全体が [CODE(CSS)[[["]]]] で囲まれます。

([[名無しさん]])

[15]
[CODE(DOMm)@@en[[[getComputedStyle]]]] 確認用:
<http://suika.fam.cx/gate/2007/cssom/viewer?c=p.test%2C%20p.test%3A%3Aafter%20%7B%0D%0A%20%20content%3A%20attr(aa)%20%22aaaaaa%22%20counter(aaa%5C%22a)%3B%0D%0A%7D;h=%3Cp%3E%3Cbutton%20type%3Dbutton%20onclick%3D%22%0D%0A%20%20var%20el%20%3D%20document.getElementsByTagName%20('p')%5B1%5D%3B%0D%0A%20%20d%20%3D%20getComputedStyle%20(el%2C%20null)%3B%0D%0A%20%20w%20(d.content)%3B%0D%0A%22%3E%3Ccode%3EgetComputedStyle%3C%2Fcode%3E%3C%2Fbutton%3E%20%3Cbutton%20type%3Dbutton%20onclick%3D%22%0D%0A%20%20var%20el%20%3D%20document.getElementsByTagName%20('p')%5B1%5D%3B%0D%0A%20%20d%20%3D%20getComputedStyle%20(el%2C%20'after')%3B%0D%0A%20%20w%20(d.content)%3B%0D%0A%22%3E%3Ccode%3EgetComputedStyle%3C%2Fcode%3E%20(%3Ccode%3E%3A%3Aafter%3C%2Fcode%3E)%3C%2Fbutton%3E%3C%2Fp%3E%0D%0A%3Cp%20class%3Dtest%3Exxxxxxxxxxxxxxx;p=n;x=style-element;i=html-div>
([[名無しさん]])

[16]
[[Firefox]] 2 では [CODE(DOMm)@@en[[[getComputedStyle]]]]
上の値は常に[[空文字列]]のようです。
([[名無しさん]])

[17]
[[Opera]] 9 では、明示的に指定されなかったり
[CODE(CSS)@@en[[[normal]]]] が指定されたりした[[要素]]や[[擬似要素]]では
[CODE(CSS)@@en[[[none]]]]
(この値を直接指定することはできませんが・・・)、
それ以外は[[指定値]]になるようです。

[[URI]] は[[構文解析]]時に既に[[絶対URI]]に[[解決]]されています。

[CODE(CSS)@@en[[[attr]]()]] は [[CSS 2.1]] の記述とは異なり、
そのまま残ります。

;; [[CSS 2.1]] とは異なり、[[擬似要素]]でなくても
[CODE(CSS)@@en[[[normal]]]] は [CODE(CSS)@@en[[[none]]]]
に置き換えられます。また、 [[CSS 3]] に従い、
普通の[[要素]]でも [CODE(CSS)@@en[[[normal]]]]
以外の値がそのまま残ります。

([[名無しさん]])

[18]
[CODE(CSS)@@en[[[counter]]()]] や
[CODE(CSS)@@en[[[attr]]()]] の[[引数]]に
[CODE(CSS)@@en[[[inherit]]]] があるときにおかしなことにならないものかと一応調べてみましたが、
[[Firefox]] 2、[[Opera]] 9 のどちらでも、特に変わったことはない (仕様通りの) ようです。

;; <http://suika.fam.cx/gate/2007/cssom/viewer?c=p%20%7B%0A%20%20content%3A%20counter(inherit)%3B%0A%7D;h=%3Cp%3E%3Cbutton%20type%3Dbutton%20onclick%3D%22%0A%20%20var%20el%20%3D%20document.getElementsByTagName%20('p')%5B1%5D%3B%0A%20%20d%20%3D%20getComputedStyle%20(el%2C%20null)%3B%0A%20%20w%20(d.content)%3B%0A%22%3E%3Ccode%3EgetComputedStyle%3C%2Fcode%3E%3C%2Fbutton%3E%20%3Cbutton%20type%3Dbutton%20onclick%3D%22%0A%20%20var%20el%20%3D%20document.getElementsByTagName%20('p')%5B1%5D%3B%0A%20%20d%20%3D%20getComputedStyle%20(el%2C%20'after')%3B%0A%20%20w%20(d.content)%3B%0A%22%3E%3Ccode%3EgetComputedStyle%3C%2Fcode%3E%20(%3Ccode%3E%3A%3Aafter%3C%2Fcode%3E)%3C%2Fbutton%3E%3C%2Fp%3E%0A%3Cp%20class%3Dtest%3Exxxxxxxxxxxxxxx;p=n;x=style-element;i=html-div>
([[名無しさん]])



[20] [CITE[User Interface Enhancements]]
( ([TIME[1999-09-16 05:07:02 +09:00]] 版))
<http://www.w3.org/TR/1999/WD-css3-userint-19990916#propdef-content>

[21] [CITE@@en[User Interface for CSS3]]
( ([TIME[2000-06-23 03:09:21 +09:00]] 版))
<http://www.w3.org/TR/2000/WD-css3-userint-20000216#content>

[22] [CITE@@en[CSS3 module: Basic User Interface]]
( ([[Tantek Çelik]] 著, [TIME[2002-08-03 07:13:43 +09:00]] 版))
<http://www.w3.org/TR/2002/WD-css3-ui-20020802/#content>

[23] [CITE@@en[CSS3 Basic User Interface Module]]
( ([[Tantek Çelik]] 著, [TIME[2004-05-12 02:17:47 +09:00]] 版))
<http://www.w3.org/TR/2004/CR-css3-ui-20040511/#content0>

[24] [CITE@@en[CSS Basic User Interface Module Level 3 (CSS3 UI)]]
( ([[Tantek Çelik]] 著, [TIME[2011-09-29 17:32:08 +09:00]] 版))
<http://dev.w3.org/csswg/css3-ui/#content-property-addition>

[25] [CITE@@en[CSS3 Generated and Replaced Content Module]]
( ([TIME[2003-05-15 21:54:58 +09:00]] 版))
<http://www.w3.org/TR/2003/WD-css3-content-20030514/#content-insert>

[26] [CITE@@en[CSS Generated Content Module Level 3]]
( ([TIME[2011-04-21 02:28:30 +09:00]] 版))
<http://dev.w3.org/csswg/css3-content/#inserting-and-replacing-content-with-the>

[27] [CITE[''''''[''''''whatwg'''''']'''''' "content" element, which we need in our documents]]
( ([TIME[2012-09-02 22:10:51 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-September/037090.html>

[28] [CITE@@en[maincontent element]]
( ([TIME[2012-09-10 01:50:05 +09:00]] 版))
<http://www.html5accessibility.com/tests/maincontent.html>

[29] [CITE[''''''[''''''whatwg'''''']'''''' Elements feedback]]
( ([TIME[2012-09-27 18:27:33 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-September/037461.html>

[30] [CITE[''''''[''''''whatwg'''''']'''''' maincontent element spec updated and supporting data provided]]
( ([TIME[2012-10-17 00:04:04 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-October/037623.html>

[31] [CITE[''''''[''''''whatwg'''''']'''''' maincontent element spec updated and supporting data provided]]
( ([TIME[2012-10-18 22:51:14 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-October/037642.html>

[32] [CITE@@en-US[XBL 2.0]]
( ([TIME[2012-05-03 02:23:03 +09:00]] 版))
<http://dev.w3.org/2006/xbl2/Overview.html#the-content-element>

[33] [CITE@@en-US[XBL 2.0]]
( ([TIME[2012-05-03 02:23:03 +09:00]] 版))
<http://dev.w3.org/2006/xbl2/Overview.html#processing-content-elements>

[34] [CITE@@en-US[XBL 2.0]]
( ([TIME[2012-05-03 02:23:03 +09:00]] 版))
@


1.16
log
@updated by (anon)
@
text
@d231 5
a235 1
<http://dev.w3.org/2006/xbl2/Overview.html#processing-content-elements>@


1.15
log
@updated by (anon)
@
text
@d227 5
a231 1
<http://dev.w3.org/2006/xbl2/Overview.html#the-content-element>@


1.14
log
@updated by (anon)
@
text
@d223 5
a227 1
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-October/037642.html>@


1.13
log
@updated by (anon)
@
text
@d219 5
a223 1
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-October/037623.html>@


1.12
log
@updated by (anon)
@
text
@d215 5
a219 1
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-September/037461.html>@


1.11
log
@updated by (anon)
@
text
@d211 5
a215 1
<http://www.html5accessibility.com/tests/maincontent.html>@


1.10
log
@updated by (anon)
@
text
@d207 5
a211 1
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-September/037090.html>@


1.9
log
@updated by (anon)
@
text
@d203 5
a207 1
<http://dev.w3.org/csswg/css3-content/#inserting-and-replacing-content-with-the>@


1.8
log
@updated by (anon)
@
text
@d199 5
a203 1
<http://www.w3.org/TR/2003/WD-css3-content-20030514/#content-insert>@


1.7
log
@updated by (anon)
@
text
@d195 5
a199 1
<http://dev.w3.org/csswg/css3-ui/#content-property-addition>@


1.6
log
@updated by (anon)
@
text
@d191 5
a195 1
<http://www.w3.org/TR/2004/CR-css3-ui-20040511/#content0>@


1.5
log
@updated by (anon)
@
text
@d187 5
a191 1
<http://www.w3.org/TR/2002/WD-css3-ui-20020802/#content>@


1.4
log
@updated by (anon)
@
text
@d183 5
a187 1
<http://www.w3.org/TR/2000/WD-css3-userint-20000216#content>@


1.3
log
@updated by (anon)
@
text
@d179 5
a183 1
<http://www.w3.org/TR/1999/WD-css3-userint-19990916#propdef-content>@


1.2
log
@updated by (anon)
@
text
@d175 5
@


1.1
log
@converted from SuikaWiki3 <http://suika.fam.cx/gate/cvs/suikawiki/wikidata/page/636F6E74656E74.txt>
@
text
@d1 166
a166 163


* meta 要素 content 属性 (HTML, XHTML 1)

[1] [[HTML]] の [CODE(HTMLe)[[[meta]]]] 要素の
[DFN[[CODE(HTMLa)[content]] 属性]]は、
メタ情報の値を指定します。

[2] 仕様書:
- [[HTML 2.0]]: [[RFC 1866]] 5.2.5. Associated Meta-information: META

[[#comment]]


** 属性値

[3] この属性は必須で、省略できません。

空の値を指定したい時は、 [SAMP(HTTP)[content=""]]
のように記述しなければなりません。

[[#comment]]


** メモ

[4]
HTML 4 DTD の[[注釈]] (参考) には、
[CODE(HTMLe)[[[meta]]]] 要素の
[CODE(HTMLa)[[[lang]]]] 属性と
[CODE(HTMLa)[[[dir]]]] 属性は
[CODE(HTMLa)[[[content]]]] 属性に適用されると書かれています。

([[名無しさん]] [sage])

[[#comment]]


* メモ

[5]
[CODE(CSS)@@en[[[-moz-alt-content]]]]
([[名無しさん]] [sage])

[6]
[CITE@@ja[プリント時にも役立っちゃうcontentプロパティさん|CSS HappyLife]] ([CODE[2007-05-11 20:06:40 +09:00]] 版) <http://css-happylife.com/log/css-template/000138.shtml>
([[名無しさん]] [WEAK[2007-05-11 11:08:15 +00:00]])

[7]
[CITE[HTML5 IRC logs: freenode / #whatwg / 20070624]] ([CODE[2007-06-25 08:45:09 +09:00]] 版) <http://krijnhoetmer.nl/irc-logs/whatwg/20070624#l-292>
([[名無しさん]] [WEAK[2007-06-24 23:47:02 +00:00]])

[8]
[CITE@@en[Bug 130689 - CSS 3 replaced content breaks some pages]] ([CODE[2007-10-21 15:00:17 +09:00]] 版) <http://bugs.kde.org/show_bug.cgi?id=130689>
([[名無しさん]])

[9]
[CITE@@en[Bug 130689 - CSS 3 replaced content breaks some pages]] ([CODE[2007-10-21 15:00:17 +09:00]] 版) <http://bugs.kde.org/show_bug.cgi?id=130689>
([[名無しさん]])

[10]
[[Firefox]] 2 [[構文解析]]
- 基本的に [[CSS 2.1]] 通りのようです。
- [CODE(CSS)@@en[[[none]]]]、[CODE(CSS)@@en[[[-moz-alt-content]]]]
には未対応です。
- [CODE(CSS)@@en[[[attr]]()]] の[[引数]]に [CODE(CSS)[[[|]]]]
を用いることで、[[名前空間]]を使うことができます ([[CSS 3]])。

([[名無しさん]])

[11]
[[Opera]] 9 [[構文解析]]
- 基本的に [[CSS 2.1]] 通りのようです。
- [CODE(CSS)@@en[[[none]]]] には未対応です。
- [[名前空間]]には未対応です。
- [CODE(CSS)@@en[[[counter]]()]] や [CODE(CSS)@@en[[[counters]]()]]
の最後の[[引数]] ([CODE(CSS)@@en[<'[[list-style-type]]'>]])
は、 [CODE(CSS)@@en[[[IDENT]]]] でさえあれば何でもいいようです。
([[名無しさん]])

[12]
[[Firefox]] 2 [[直列化]]
- 他の[[特性]]でなされるような[[正規化]]
([[escape]] 除去など) が基本的に適用されます。
-- [[引数]]の区切りは [CODE(CSS)@@en[[[,]]]] の後に
[CODE(charname)@@en[[[SPACE]]]] になります。
- [CODE(CSS)@@en[[[counters]]()]] の第2[[引数]]
([CODE(CSS)@@en[<[[string]]>]]) は、なぜか
[CODE(CSS)@@en[[[IDENT]]]] であるかのように
(つまり[[引用符]]なしで) [[直列化]]されます。
- [CODE(CSS)@@en[[[counter]]()]] や
[CODE(CSS)@@en[[[counters]]()]] の最後の[[引数]]
([CODE(CSS)@@en[<'[[list-style-type]]'>]]) が省略されていると、
[[既定値]] [CODE(CSS)@@en[[[decimal]]]] が補われます。
- [CODE(CSS)@@en[[[attr]]()]] 内に [CODE(CSS)[[[|]]]] があって、
その前が[[空文字列]]の場合、 [CODE(CSS)[[[|]]]] は除去されます。
- [CODE(CSS)@@en[[[attr]]()]] 内に非[[空]]の[[名前空間接頭辞]]がある場合、
なぜか代わりに[[整数]] ([[0]] 以上) が出てきます。
どうやら、[[名前空間URI]] によって定まる、
内部的に[[名前空間]]情報を保持している[[配列]]の[[索引]]か何かのようです。
- なお、 [CODE(CSS)@@en[[[counter]]()]] や
[CODE(CSS)@@en[[[counters]]()]] の第1[[引数]]の[[大文字]]・[[小文字]]は[[正規化]]されません。

([[名無しさん]])

[13]
>>12
- [[HTML]] [[文書]]の場合、 [CODE(CSS)@@en[[[attr]]()]] の中の[[局所名]]は
([[名前空間]]に関わらず) [[Unicode]] [[小文字]]に[[正規化]]されます。
- [[XML]] [[文書]]の場合、そのままです。

([[名無しさん]])

[14]
[[Opera]] 9 [[直列化]]
- 他の[[特性]]でなされるような[[正規化]]
(例えば [[escape]] の除去や[[相対参照]]の[[解決]])
が基本的になされます。
- [CODE(CSS)@@en[[[attr]]()]] の[[引数]]の特別な[[正規化]]はないようです。
- [CODE(CSS)@@en[[[counter]]()]] や [CODE(CSS)@@en[[[counters]]()]]
はおかしいです。
== 最初と最後の[[空白]]や[[注釈]]は除去します。
== [[escape]] はすべて除去 (表す[[文字]]に置換) します。
== [CODE(CSS)[[["]]]] を [CODE(CSS)[[[\]][["]]]] に置換します。
== 残った文字列を [CODE(CSS)[[["]]]] で括ります。
-- というわけで、途中の[[空白]]や[[注釈]]は除去されません。
[CODE(CSS)@@en[[[STRING]]]] の[[引用符]]は統一されません。
[CODE(CSS)[[[\]]]] も [[escape]] されません。
なぜか全体が [CODE(CSS)[[["]]]] で囲まれます。

([[名無しさん]])

[15]
[CODE(DOMm)@@en[[[getComputedStyle]]]] 確認用:
<http://suika.fam.cx/gate/2007/cssom/viewer?c=p.test%2C%20p.test%3A%3Aafter%20%7B%0D%0A%20%20content%3A%20attr(aa)%20%22aaaaaa%22%20counter(aaa%5C%22a)%3B%0D%0A%7D;h=%3Cp%3E%3Cbutton%20type%3Dbutton%20onclick%3D%22%0D%0A%20%20var%20el%20%3D%20document.getElementsByTagName%20('p')%5B1%5D%3B%0D%0A%20%20d%20%3D%20getComputedStyle%20(el%2C%20null)%3B%0D%0A%20%20w%20(d.content)%3B%0D%0A%22%3E%3Ccode%3EgetComputedStyle%3C%2Fcode%3E%3C%2Fbutton%3E%20%3Cbutton%20type%3Dbutton%20onclick%3D%22%0D%0A%20%20var%20el%20%3D%20document.getElementsByTagName%20('p')%5B1%5D%3B%0D%0A%20%20d%20%3D%20getComputedStyle%20(el%2C%20'after')%3B%0D%0A%20%20w%20(d.content)%3B%0D%0A%22%3E%3Ccode%3EgetComputedStyle%3C%2Fcode%3E%20(%3Ccode%3E%3A%3Aafter%3C%2Fcode%3E)%3C%2Fbutton%3E%3C%2Fp%3E%0D%0A%3Cp%20class%3Dtest%3Exxxxxxxxxxxxxxx;p=n;x=style-element;i=html-div>
([[名無しさん]])

[16]
[[Firefox]] 2 では [CODE(DOMm)@@en[[[getComputedStyle]]]]
上の値は常に[[空文字列]]のようです。
([[名無しさん]])

[17]
[[Opera]] 9 では、明示的に指定されなかったり
[CODE(CSS)@@en[[[normal]]]] が指定されたりした[[要素]]や[[擬似要素]]では
[CODE(CSS)@@en[[[none]]]]
(この値を直接指定することはできませんが・・・)、
それ以外は[[指定値]]になるようです。

[[URI]] は[[構文解析]]時に既に[[絶対URI]]に[[解決]]されています。

[CODE(CSS)@@en[[[attr]]()]] は [[CSS 2.1]] の記述とは異なり、
そのまま残ります。

;; [[CSS 2.1]] とは異なり、[[擬似要素]]でなくても
[CODE(CSS)@@en[[[normal]]]] は [CODE(CSS)@@en[[[none]]]]
に置き換えられます。また、 [[CSS 3]] に従い、
普通の[[要素]]でも [CODE(CSS)@@en[[[normal]]]]
以外の値がそのまま残ります。

([[名無しさん]])

[18]
d172 3
a174 3
;; <http://suika.fam.cx/gate/2007/cssom/viewer?c=p%20%7B%0A%20%20content%3A%20counter(inherit)%3B%0A%7D;h=%3Cp%3E%3Cbutton%20type%3Dbutton%20onclick%3D%22%0A%20%20var%20el%20%3D%20document.getElementsByTagName%20('p')%5B1%5D%3B%0A%20%20d%20%3D%20getComputedStyle%20(el%2C%20null)%3B%0A%20%20w%20(d.content)%3B%0A%22%3E%3Ccode%3EgetComputedStyle%3C%2Fcode%3E%3C%2Fbutton%3E%20%3Cbutton%20type%3Dbutton%20onclick%3D%22%0A%20%20var%20el%20%3D%20document.getElementsByTagName%20('p')%5B1%5D%3B%0A%20%20d%20%3D%20getComputedStyle%20(el%2C%20'after')%3B%0A%20%20w%20(d.content)%3B%0A%22%3E%3Ccode%3EgetComputedStyle%3C%2Fcode%3E%20(%3Ccode%3E%3A%3Aafter%3C%2Fcode%3E)%3C%2Fbutton%3E%3C%2Fp%3E%0A%3Cp%20class%3Dtest%3Exxxxxxxxxxxxxxx;p=n;x=style-element;i=html-div>
([[名無しさん]])

@

