head	1.27;
access;
symbols
	suika-20100509:1.9
	before-graph-20090923:1.8;
locks; strict;
comment	@# @;
expand	@b@;


1.27
date	2014.01.05.08.42.48;	author wakaba;	state Exp;
branches;
next	1.26;

1.26
date	2013.02.16.14.36.54;	author wakaba;	state Exp;
branches;
next	1.25;

1.25
date	2012.01.19.14.27.51;	author wakaba;	state Exp;
branches;
next	1.24;

1.24
date	2011.11.03.23.01.57;	author wakaba;	state Exp;
branches;
next	1.23;

1.23
date	2011.10.23.08.48.26;	author wakaba;	state Exp;
branches;
next	1.22;

1.22
date	2011.10.23.03.41.32;	author wakaba;	state Exp;
branches;
next	1.21;

1.21
date	2011.10.23.03.24.27;	author wakaba;	state Exp;
branches;
next	1.20;

1.20
date	2011.10.23.03.22.22;	author wakaba;	state Exp;
branches;
next	1.19;

1.19
date	2011.10.23.03.14.17;	author wakaba;	state Exp;
branches;
next	1.18;

1.18
date	2011.10.23.03.02.31;	author wakaba;	state Exp;
branches;
next	1.17;

1.17
date	2011.10.23.03.01.20;	author wakaba;	state Exp;
branches;
next	1.16;

1.16
date	2011.10.22.16.11.14;	author wakaba;	state Exp;
branches;
next	1.15;

1.15
date	2011.10.22.16.06.04;	author wakaba;	state Exp;
branches;
next	1.14;

1.14
date	2011.10.22.15.58.53;	author wakaba;	state Exp;
branches;
next	1.13;

1.13
date	2011.06.09.15.11.11;	author wakaba;	state Exp;
branches;
next	1.12;

1.12
date	2011.02.17.12.43.18;	author wakaba;	state Exp;
branches;
next	1.11;

1.11
date	2010.11.16.03.25.11;	author wakaba;	state Exp;
branches;
next	1.10;

1.10
date	2010.09.11.12.12.27;	author wakaba;	state Exp;
branches;
next	1.9;

1.9
date	2010.01.05.06.52.12;	author wakaba;	state Exp;
branches;
next	1.8;

1.8
date	2009.09.12.10.15.13;	author wakaba;	state Exp;
branches;
next	1.7;

1.7
date	2009.09.12.10.14.07;	author wakaba;	state Exp;
branches;
next	1.6;

1.6
date	2009.09.12.10.11.41;	author wakaba;	state Exp;
branches;
next	1.5;

1.5
date	2009.07.19.05.02.37;	author wakaba;	state Exp;
branches;
next	1.4;

1.4
date	2009.07.05.13.42.36;	author wakaba;	state Exp;
branches;
next	1.3;

1.3
date	2008.12.27.17.11.10;	author wakaba;	state Exp;
branches;
next	1.2;

1.2
date	2008.12.15.08.52.51;	author wakaba;	state Exp;
branches;
next	1.1;

1.1
date	2008.11.13.06.14.34;	author wakaba;	state Exp;
branches;
next	;


desc
@@


1.27
log
@updated by (anon)
@
text
@

* フォーム制御子系 value 属性 (HTML, XHTML 1)

[1] [[HTML]] の [CODE(HTMLe)[[[input]]]] 要素や
[CODE(HTMLe)[[[button]]]] 要素や [CODE(HTMLe)[[[option]]]] 要素の
[DFN[[CODE(HTMLa)[value]] 属性]]は、その[[制御子]]の[[初期値]]を指定します。

[4] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[input]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-INPUT">
-- [CODE(HTMLe)[button]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-BUTTON">
-- [CODE(HTMLe)[option]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-OPTION">
-- [CITE[HTML 4 Changes]]
<IW:HTML4:"appendix/changes.html#h-A.1.1.12">
- [[Web Forms 2.0]]
-- [CSECTION@@en[2.3. Changes to existing controls]]
<IW:WF2:"#changes">
-- [CSECTION@@en[2.18. Handling unexpected elements and values]]
<IW:WF2:"#handling">


** 属性値

[8] この属性の値は [CODE(SGML)[[[CDATA]]]] です。
大文字・小文字は区別されます。

[43] '''空白'''

[[属性値]]中の[[空白]]は、除去[['''してはなりません''']]。
[SRC@@en[WF2 2.3]]

;; [[XML]] 等の規則による[[空白]]の[[正規化]]は、
必要ならば行われます。ここで禁止されているのは、
それ以上の処理です。

[26] この属性は、 [[DTD]] 的には [CODE(SGML)[#[[IMPLIED]]]] です。

[CODE(HTMLe)[input]] 要素の場合、
[CODE(HTMLa)[[[type]]]] 属性が [CODE(HTML)[[[radio]]]] または
[CODE(HTML)[[[checkbox]]]] の時''以外''は、
この属性は省略できます。 [SRC[HTML 4 17.4]]
[WEAK[(HTML 4.0 では誤って [CODE(HTML)[checkbox]] でも省略できるようなことが書いてありました [SRC[HTML 4.01 A.1.1.12]]。)]]

[CODE(HTMLe)[button]] 要素の場合も省略できます。
[SRC[HTML 4 17.5]]

[CODE(HTMLe)[option]] 要素の場合、省略すると要素の[[内容]]が初期値として使われます。

[42]
[[チェック箱制御子]] ([CODE(HTML)@@en[[[checkbox]]]])
と[[ラジオ・ボタン制御子]] ([CODE(HTML)@@en[[[radio]]]])
(>>41 を参照。) を''除き''、[[フォーム制御子]]の
[CODE(HTMLa)@@en[[[value]]]] [[属性]]の[[既定値]]は[[空文字列]]です。
[SRC@@en[WF2 2.3]]

[35]
HTML 4 DTD の[[注釈]] (参考) には
[Q[Specify for radio buttons and checkboxes]]
(ラジオ・ボタンとチェック箱に指定)
と書かれています。が、他の説明は小文字から始まるのにここだけ大文字から始まっているので、[[命令形]]で[Q[指定しなければなりません]]という意味かもしれません。

[50] '''誤り処理 ([CODE(DOM)@@en[typeMismatch]])'''

[CODE(HTMLa)@@en[[[value]]]] [[内容属性]]が
[CODE(HTMLa)@@en[[[type]]]] に照らして[[非妥当]]な場合、
[[利用者エージェント]]は無視[['''しなければなりません''']]。
[CODE(DOMa)@@en[[[defaultValue]]]] 
はその値が使われますが、[[制御子]]には使われません
([[値が選択されていない]]状態となります)。
[SRC@@en[WF2 2.18]]

[51] '''誤り処理 (制約違反)'''

[CODE(HTMLa)@@en[[[value]]]] [[内容属性]]が
[CODE(HTMLa)@@en[[[min]]]、[CODE(HTMLa)@@en[[[max]]]]、]]
[CODE(HTMLa)@@en[[[step]]]]、[CODE(HTMLa)@@en[[[maxlength]]]]
等に照らして[[非妥当]]な場合
([[原始文書]]でそうである場合や [[DOM]]
操作でそうなった場合など)、
[[利用者エージェント]]は[[制御子]]にその値を設定[['''しなければなりません''']]。
それができない場合には、最も近い値と[['''しなければなりません''']]。
[SRC@@en[WF2 2.18]]

;; 各[[属性]]に照らして適当な値に変更されるまで、
その[[フォーム]]は[[提出]]できません。

[53]
testtest
([[TEST]] [WEAK[2007-03-12 10:01:45 +00:00]])

[[#comment]]


** 押しボタン制御子 (HTML input 要素型)

[28] 押しボタン制御子 ([CODE(HTML)[type]] が [CODE(HTML)[[[button]]]])
では、 [[UA]] は [CODE(HTMLa)[value]] 属性値をボタンの札として使うべきです。
[SRC[HTML 4 17.4.1]] 詳しくは [CODE(HTML)[[[button]]]]
制御子の説明をご覧ください。

[[#comment]]


** ファイル選択制御子 (HTML input 要素型)

[27] ファイル選択制御子 ([CODE(HTMLa)[type]] が [CODE(HTML)[[[file]]]])
では、 [[UA]] は、 [CODE(HTMLa)[value]] 
属性値をファイル名の初期値として使っても構いません。
[SRC[HTML 4 17.4.1]] 詳しくは [CODE(HTML)[[[file]]]] 
制御子の説明をご覧ください。

[[#comment]]


** 画像提出ボタン制御子 (HTML input 要素型)

[33] HTML 4 では [[[CODE(HTMLe)[input]]//[CODE(HTML)[image]]]] では
[CODE(HTMLa)[value]] 属性は使われていませんが、
1996年の W3C [[NOTE]] >>32 は、 [CODE(HTMLa)[[[alt]]]] 
属性と同じ役割で使用することを推奨していました。
([[代替文]]として使われるだけで、他のボタン制御子とは異なり、
[[初期値]]・[[現在値]]として使われるものではないことに注意してください。)

[34] 実際にそれにしたがって使われたことがあったかどうかは、現在のところ不明です。

[32] [CITE[Imagemapped Images and Image-Incapable User Agents]], 
<http://www.w3.org/TR/NOTE-imagemap>, 発表当時の URI は 
<http://www.w3.org/pub/WWW/TR/NOTE-imagemap-961127>。 [Q[Status of this document]] 
によれば現在の W3C [[WD]] のような位置付けだったらしいのですが、 2004年現在、 
<http://www.w3.org/TR/> によれば [[Working Group Note]] に分類されています。
同時期の他の HTML 系 WD とは異なり、直接 HTML 4 仕様書に取込まれてはいないようです。

[[#comment]]


** チェック箱制御子 ([CODE(HTML)@@en[checkbox]])、ラジオ・ボタン制御子 ([CODE(HTML)@@en[radio]])

[41] '''既定値'''

[[チェック箱制御子]] ([CODE(HTML)@@en[[[checkbox]]]])、
[[ラジオ・ボタン制御子]] ([CODE(HTML)@@en[[[radio]]]]) の場合の
[CODE(HTMLa)@@en[[[value]]]] [[属性]]の[[既定値]]は、
[CODE(HTML)@@en[[[on]]]] です。
[SRC@@en[WF2 2.3]]

;; 従いまして、 [CODE(HTMLa)@@en[[[value]]]]
[[内容属性]]が与えられていない時の
[CODE(DOMa)@@en[[[value]]]] [[DOM属性]]の値は
[CODE(HTML)@@en[[[on]]]] です。
[[フォーム提出]]時の値も [CODE(HTML)@@en[[[on]]]]
です。

** 選択 ([CODE(HTMLe)@@en[select]] 要素、[CODE(HTMLe)@@en[option]] 要素)

[57] [CODE(DOMi)@@en[[[HTMLSelectElement]]]] の [CODE(DOMa)@@en[[[value]]]]、
[CODE(DOMi)@@en[[[HTMLOptionElement]]]] の [CODE(DOMa)@@en[[[value]]]]
のいずれも、 [[WinIE7]] では選択された [CODE(HTMLe)@@en[[[option]]]]
[[要素]]または当該 [CODE(HTMLe)@@en[[[option]]]] [[要素]]で明示的に
[CODE(HTMLa)@@en[[[value]]]] [[内容属性]]が指定されていない限り、[[空文字列]]が返されます。

** 出力 ([CODE(HTMLe)@@en[output]])

[44] [CODE(HTMLe)@@en[[[output]]]] [[要素]]に対応する
[[DOM界面]] [CODE(DOMi)@@en[[[HTMLOutputElement]]]]
の [DFN[[CODE(DOMa)@@en[[[value]]]] [[DOM属性]]]]は、
[CODE(HTMLe)@@en[[[output]]]] [[要素]]の[[現在値]]です。

;; [CODE(HTMLe)@@en[[[output]]]] の[[現在値]]は、
[[内容]]とされています。 [SRC@@en[WF2 2.13]]

[48]
:状態:[[WHATWG]] [[WD]]
:[[DOM界面]]:[CODE(DOMi)@@en[[[HTMLOutputElement]]]]
:[[属性名]]:[CODE(DOMa)@@en[[[value]]]]
([Q@@en[value]] ([Q[値]]) より)
:[[データ型]]:[CODE(DOM)@@en[[[DOMString]]]]
:[[読取専用]]:[[偽]]
:[[例外]]:[CODE(DOMa)@@en[[[textContent]]]] と同じ

[45]
仕様書:
- [[Web Forms 2.0]]
-- [CSECTION@@en[2.13. The [CODE(HTMLe)@@en[[[output]]]] element]]
<IW:WF2:"#the-output">
-- [CSECTION@@en[2.18. Handling unexpected elements and values]]
<IW:WF2:"#handling">

[46] '''読み取り'''

[CODE(DOMa)@@en[[[textContent]]]] と同じです。
[SRC@@en[WF2 2.13]]

[47] '''書き込み'''

[[利用者エージェント]]の動作は
[CODE(DOMa)@@en[[[textContent]]]] 
と同じと[['''しなければなりません''']]。
[SRC@@en[WF2 2.13, 2.18]]

[49] '''[CODE(DOMe)@@en[change]] 事象'''

[CODE(DOMa)@@en[[[value]]]] が直接的または間接的に
[[DOM]] [[木]]を介して変更された時には、
[CODE(HTMLe)@@en[[[output]]]] [[要素]]に対して
[CODE(DOMe)@@en[[[change]]]] [[事象]]を[[放火]][['''しなければなりません''']]。
[SRC@@en[WF2 2.13]]

[[#comment]]


** 例

[10] メニュー制御子の例
[PRE(HTML)[
<select name="selection">
<option value="selection-foo" selected>なにかの選択肢</option>
<option value="selection-bar">なにか別の選択肢</option>
</select>
]PRE]

[[#comment]]


** メモ

[9] >>26 [CODE(HTMLe)[option]] 要素の [CODE(HTMLa)[value]] 属性は、
送信される値が[[仮名]]・[[漢字]]だと面倒なことになるから、
要素の内容は仮名・漢字の[[日本語文]]にしつつも、 [CODE(HTMLa)[value]] は[[ラテン文字]]で、
という使い方がよくされますね (>>10)。

[29]
[[w3m]] には [CODE(HTMLe)[input]] [CODE(HTMLa)[value]] 内の改行を無視してしまう不具合があるそうです。
[SRC[[w3m-dev 04110]]
[CODE(HTMLa)[type]] が [CODE(HTML)[text]]
なら仕方がないかもしれませんが、 [CODE(HTML)[hidden]] の時に落としてしまうのは問題ですね。
([[名無しさん]] [WEAK[2004-10-31 01:00:24 +00:00]])

[30]
>>29 そういえば HTML は [CODE(SGML)[[[CDATA]]]] 属性の値の処理についての規定があるのでした。だから w3m
は HTML 4 的には正しいのだそうな。
(でも HTML 4 の仕様が現実にあってない。)
([[名無しさん]] [sage])

[31]
[CITE[Bug 15204 - hidden inputs strip line feeds from value attribute]] <https://bugzilla.mozilla.org/show_bug.cgi?id=15204>

>>29-30 と同じ話題。
([[名無しさん]] [sage])

[39]
[CITE[inputタグのvalueについて]] <http://chaichan.web.infoseek.co.jp/qanda/qa6338.htm>
([[名無しさん]])

[40]

,	,	,	,[[Firefox]] 1.5	,[[Opera]] 8.5	,[[WinIE]] 6.0
,[CODE(HTML)@@en[[[text]]]]	,[CODE(HTML)@@en[&#x0D;&#x0A;]]	,表示	,改行前まで	,改行除去	,改行除去
,	,	,[CODE(DOMa)@@en[[[value]]]]	,改行前まで	,改行除去	,改行除去
,	,	,[CODE(DOMa)@@en[[[defaultValue]]]]	,[[CRLF]]	,改行除去	,改行除去
,	,	,[CODE(DOMm)@@en[[[getAttribute]] ('[[value]]')]]	,[[CRLF]]	,改行除去	,改行除去
,	,	,[[提出]]	,改行前まで	,改行除去	,改行除去
,[CODE(HTML)@@en[[[text]]]]	,[[CRLF]]	,表示	,改行前まで	,改行除去	,改行除去
,	,	,[CODE(DOMa)@@en[[[value]]]]	,改行前まで	,改行除去	,改行除去
,	,	,[CODE(DOMa)@@en[[[defaultValue]]]]	,[[LF]]	,改行除去	,改行除去
,	,	,[CODE(DOMm)@@en[[[getAttribute]] ('[[value]]')]]	,[[LF]]	,改行除去	,改行除去
,	,	,[[提出]]	,改行前まで	,改行除去	,改行除去
,[CODE(HTML)@@en[[[hidden]]]]	,[CODE(HTML)@@en[&#x0D;&#x0A;]]	,[[CRLF]]	,[[CRLF]]	,[[CR]]
,	,	,[CODE(DOMa)@@en[[[defaultValue]]]]	,[[CRLF]]	,[[CRLF]]	,[[CR]]
,	,	,[CODE(DOMm)@@en[[[getAttribute]] ('[[value]]')]]	,[[CRLF]]	,[[CRLF]]	,[[CRLF]]
,	,	,[[提出]]	,[[CRLF]]	,[[CRLF]]	,[[CRLF]]
,[CODE(HTML)@@en[[[hidden]]]]	,[[CRLF]]	,[CODE(DOMa)@@en[[[value]]]]	,[[LF]]	,[[LF]]	,[[CRLF]]
,	,	,[CODE(DOMa)@@en[[[defaultValue]]]]	,[[LF]]	,[[LF]]	,[[CR]]
,	,	,[CODE(DOMm)@@en[[[getAttribute]] ('[[value]]')]]	,[[LF]]	,[[LF]]	,[[CRLF]]
,	,	,[[提出]]	,[[CRLF]]	,[[LF]]	,[[CRLF]]

([[名無しさん]] [WEAK[2006-05-27 09:05:02 +00:00]])

[56] [CITE[Re: introduction, plus some form input ideas]] ([[Ian Hickson <ian@@...>]] 著, [TIME[2008-11-29 20:45:28 +09:00]] 版) <http://permalink.gmane.org/gmane.org.w3c.whatwg.discuss/16924>

[58] [CITE@@en-GB-x-Hixie[Web Forms 2.0]]
([TIME[2009-01-05 20:07:15 +09:00]] 版)
<http://www.whatwg.org/specs/web-forms/current-work/#value0>

[59] [CITE@@en-GB-x-Hixie[Web Forms 2.0]]
([TIME[2009-01-05 20:07:15 +09:00]] 版)
<http://www.whatwg.org/specs/web-forms/current-work/#the-htmloutputelement>

[60] [CITE@@en-GB-x-Hixie[Web Forms 2.0]]
([TIME[2009-01-05 20:07:15 +09:00]] 版)
<http://www.whatwg.org/specs/web-forms/current-work/#value>

[61] [CITE@@en[(X)HTML5 Tracking]]
([TIME[2010-01-05 15:51:28 +09:00]] 版)
<http://html5.org/tools/web-apps-tracker?from=4471&to=4472>

[62] [CITE[IRC logs: freenode / #whatwg / 20100828]]
( ([TIME[2010-09-11 17:53:15 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20100828>

[63] [CITE['''['''whatwg''']''' Treatment of negative values for li]]
([TIME[2010-11-16 12:01:42 +09:00]] 版)
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2010-November/029048.html>

[64] [CITE@@en[Web Applications 1.0 r5902  Define that <button value=''> (empty) is ok.]]
( ([TIME[2011-02-17 11:05:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=5901&to=5902>

[65] [CITE[''''''[''''''whatwg'''''']'''''' set input.value when input element has composition string]]
( ([TIME[2011-06-10 00:10:36 +09:00]] 版))
<http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2011-June/031971.html>

* [CODE(CSS)@@en[::value]] 擬似要素 (選択子)

[66] [[選択子]]の [DFN[[CODE(CSS)@@en[[[::value]]]]]] [[擬似要素]]

** 意味

*** XForms

[REFS[
- [67] [CITE@@EN[XForms 1.1]] ([TIME[2010-08-13 07:45:33 +09:00]] 版) <http://www.w3.org/TR/xforms/#N90219>
]REFS]

[68] [[フォーム制御子]]の、[[名札]]を除く「[[活性]]」な部分を表します。
これは [[HTML]] でいう [CODE(HTMLe)@@en[[[input]]]] [[要素]]その他の[[フォーム制御子]]の[[要素]]に相当します。
この[[擬似要素]]は[[フォーム制御子]]の[[要素]]の[[子供]]であって、
必須である [CODE(XMLe)@@en[[[label]]]] [[要素]]の直後に出現します。 [SRC[>>67]]

** 歴史

*** CSS3 UI

[REFS[
- [70] [CITE@@en[CSS3 module: Basic User Interface]] ([[Tantek Çelik]] 著, [TIME[2002-08-03 07:13:43 +09:00]] 版) <http://www.w3.org/TR/2002/WD-css3-ui-20020802/#pseudo-value>
- [77] [CITE[XForms and Styling]] ([TIME[2002-08-21 23:00:56 +09:00]] 版) <http://www.w3.org/TR/2002/WD-xforms-20020821/sliceF.html#id2641223>
- [79] [CITE[XForms and Styling]] ([TIME[2002-11-07 01:02:54 +09:00]] 版) <http://www.w3.org/TR/2002/CR-xforms-20021112/sliceF.html#id2641821>
- [71] [CITE@@en[CSS3 Basic User Interface Module]] ([[Tantek Çelik]] 著, [TIME[2003-07-04 02:51:33 +09:00]] 版) <http://www.w3.org/TR/2003/WD-css3-ui-20030703/#pseudo-value>
- [80] [CITE[XForms and Styling]] ([TIME[2003-07-29 05:06:55 +09:00]] 版) <http://www.w3.org/TR/2003/PR-xforms-20030801/sliceF.html#id2645070>
- [72] [CITE@@en[CSS3 Basic User Interface Module]] ([[Tantek Çelik]] 著, [TIME[2004-05-12 02:17:47 +09:00]] 版) <http://www.w3.org/TR/2004/CR-css3-ui-20040511/#pseudo-value>
- [73] [CITE@@en[CSS Basic User Interface Module Level 3 (CSS3 UI)]] ([[Tantek Çelik]] 著, [TIME[2011-09-29 17:32:08 +09:00]] 版) <http://dev.w3.org/csswg/css3-ui/#pseudo-value>
- [74] [CITE@@EN[XForms 1.1]] ([TIME[2010-08-13 07:45:33 +09:00]] 版) <http://www.w3.org/TR/xforms/#N90219>
- [85] [CITE@@en[CSS Basic User Interface Module Level 3 (CSS3 UI)]] ([[Tantek Çelik]] 著, [TIME[2012-01-13 20:03:30 +09:00]] 版) <http://www.w3.org/TR/2012/WD-css3-ui-20120117/#pseudo-value>
]REFS]

[75] >>70 で [[CSS]] に [CODE(CSS)@@en[[[::value]]]] が追加されています。

[78] >>77、>>79 では [DFN[[CODE(CSS)@@en[[[::control]]]]]] という名前でした。 >>80
以降 [[CSS]] と同じ名前になっています。

[81] 現在この機能は十分な実績がなく、削除候補に挙がっています。 [SRC[>>73 [TIME[2011-10-23T03:40:21.100Z]], >>85]]

*** XBL2

[REFS[
- [82] [CITE@@en-US[XBL 2.0]] ([TIME[2010-09-03 10:10:02 +09:00]] 版) <http://dev.w3.org/2006/xbl2/Overview.html#matching-pseudo-elements>
]REFS]

[83] [[XBL2]] ではこの[[擬似要素]]と[[影木]]の[[要素]]を関連付けることができました。

** 例

[EG[
[69] [[XForms]] [[利用者エージェント・スタイル・シート]]の例より [SRC[>>67]]
[PRE(CSS example code)[
xf|input:enabled:readonly::value
{ 
  display: inline; background-color: #888888 
}
]PRE]
]EG]

[EG[
[76] [[XForms]] に[[架空マーク付け]]を追加した例 [SRC[>>73]]
[PRE(HTML example code)[
<input>
  <label>Zip code<label>
  '''<input::value/>'''
</input>
]PRE]
]EG]


[84] [CITE@@en[Web Applications 1.0 r6815     compat changes for <textarea>.value and .textLength]]
( ([TIME[2011-11-04 02:06:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=6814&to=6815>

[86] [CITE@@en-US[XBL 2.0]]
( ([TIME[2012-05-03 02:23:03 +09:00]] 版))
<http://dev.w3.org/2006/xbl2/Overview.html#pseudo-list>

[87] [CITE@@en-US[XML Binding Language (XBL) 2.0]]
( ([TIME[2007-03-16 22:20:16 +09:00]] 版))
<http://www.w3.org/TR/2007/CR-xbl-20070316/#pseudo-list>@


1.26
log
@updated by (anon)
@
text
@d393 5
a397 1
<http://dev.w3.org/2006/xbl2/Overview.html#pseudo-list>@


1.25
log
@updated by (anon)
@
text
@d389 5
a393 1
<http://html5.org/tools/web-apps-tracker?from=6814&to=6815>@


1.24
log
@updated by (anon)
@
text
@d346 1
d354 1
a354 1
[81] 現在この機能は十分な実績がなく、削除候補に挙がっています。 [SRC[>>73 [TIME[2011-10-23T03:40:21.100Z]]]]
d385 4
a388 4


[84] [CITE@@en[Web Applications 1.0 r6815     compat changes for <textarea>.value and .textLength]]
( ([TIME[2011-11-04 02:06:00 +09:00]] 版))
@


1.23
log
@updated by (anon)
@
text
@d384 5
@


1.22
log
@updated by (anon)
@
text
@d335 2
d355 8
@


1.21
log
@updated by (anon)
@
text
@d351 2
@


1.20
log
@updated by (anon)
@
text
@d340 1
d348 2
a349 1
[78] >>77、>>79 では [DFN[[CODE(CSS)@@en[[[::control]]]]]] という名前でした。
@


1.19
log
@updated by (anon)
@
text
@d336 1
d338 1
a338 1
- [70] [CITE@@en[CSS3 module: Basic User Interface]] ([[Tantek Çelik]] 著, [TIME[2002-08-03 07:13:43 +09:00]] 版) <http://www.w3.org/TR/2002/WD-css3-ui-20020802/#pseudo-value>
d345 1
a345 1
[78] >>77 では [DFN[[CODE(CSS)@@en[[[::control]]]]]] という名前でした。
d347 1
a347 1
[75] >>70 で [[CSS]] に追加されています。
@


1.18
log
@updated by (anon)
@
text
@d336 1
d344 3
a346 1
[75] [[XForms]] のために >>70 で追加されています。
@


1.17
log
@updated by (anon)
@
text
@d355 11
a365 1
]EG]@


1.16
log
@updated by (anon)
@
text
@d333 12
@


1.15
log
@updated by (anon)
@
text
@d332 12
@


1.14
log
@updated by (anon)
@
text
@d314 18
a331 1
<http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2011-June/031971.html>@


1.13
log
@updated by (anon)
@
text
@d282 1
a282 1
* value 属性 (DOM Attr 界面)
d284 27
a310 2
[5] 属性 [CODE[[VAR(DOMi)[[[Attr]]]].[CODE(DOMa)[value]]]]
の値は、その属性節の[[属性値]]です。
d312 2
a313 213
設定する値・得られる値の型は [CODE(DOM)[[[DOMString]]]]
です。その属性節の子節は複数個の文節や実体参照節があるかもしれませんが、
一つの文字列として設定又は取得します。

値を設定した時は、子節は一つの文節になります。

[6] この属性は method
[CODE[[VAR(DOMi)[[[Element]]]].[CODE(DOMm)[[[getAttribute]]]]]],
[CODE[[VAR(DOMi)[Element]].[CODE(DOMm)[[[setAttribute]]]]]]
と同様に機能します。

[11] >>6 というか [CODE(DOMa)[[[nodeValue]]]] だよなあ、
もろ同じじゃない? なんで2つあるんだろう。どっちかは正規化するとかでもないみたいだし。

[7] 属性節が読取専用の時は当然値を設定することはできません。
例外 [CODE(DOM)[NO_MODIFICATION_ALLOWED_ERR]]
が発生します。

- [DOM2] ''Document Object Model Core'' <http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-221662474>

[54]
[[DOM水準1]] [[FE]] の[[正誤表]]、[[DOM水準1]] [[SE]]、
[[DOM水準2]]、[[DOM水準3]]によると、[[節点]]が[[読取専用]]なら
[CODE(DOMc)@@en[[[NO_MODIFICATION_ALLOWED_ERR]]]]
です。
([[名無しさん]])

[[#comment]]


* param 要素 value 属性 (HTML, XHTML 1)

[15] [[HTML]] の [CODE(HTMLe)[[[param]] 要素の]]
[DFN[[CODE(HTMLa)[value]] 属性]]は、引数値を指定します。

[16] 仕様書:
[[HTML 4]] <IW:HTML4:"struct/objects.html#adef-value-PARAM">

[[#comment]]


** 属性値

[17] この属性の値は [CODE(SGML)[[[CDATA]]]] です。
属性値は、物体によって解釈されます。
物体が引数ごとに構文的制約などを課しているかもしれません。
(それに対して不当であった場合の処理も HTML UA・物体の実装依存でしょう。)

この属性は ([CODE(HTMLa)[[[valuetype]]]] や [CODE(HTMLa)[[[type]]]]
によって修飾されることを除いては) HTML 的な意味を持ちません。

[18] この属性は省略可能です。

[[#comment]]


** 他との関係

[19] [CODE(HTMLa)[value]] で指定する引数値は、
同じ [CODE(HTMLe)[param]] 要素の
[CODE(HTMLa)[[[name]]]] が引数名として対応します。

[20] 引数値の種類の指定として [CODE(HTMLa)[[[valuetype]]]]
と [CODE(HTMLa)[[[type]]]] があります。

[[#comment]]


** メモ

[[#comment]]


* meta 要素 value 属性 (HTML, XHTML 1)

[21] [[HTML]] の [CODE(HTMLe)[[[meta]]]] 要素で、
[DFN[[CODE(HTMLa)[value]] 属性]]が使われることがあります。
使われ方からして、 [CODE(HTMLa)[[[content]]]]
属性の誤りのようです。

[[#comment]]


** 例

[22]
[PRE(HTML)[
<meta http-equiv="content-type" value="text/html; charset=euc-jp" />
]PRE]

出典: ''Practical Scheme'' <http://www.shiro.dreamhost.com/scheme/index-j.html>
(2004年7月付け、2004年7月現在)

[24]
[PRE(HTML)[
<META HTTP-EQUIV="Content-type" 
VALUE="text/html; charset=euc-kr">
]PRE]

出典: ''WWW&#51032; &#44397;&#51228;&#54868;&#50752; &#54620;&#44544;'' <http://www.w3c.or.kr/i18n/www-i18n/>
([[W3C]] 韓国事務所のウェブ・サイトの文章。1996年11月付け、2004年7月現在。)

[23] 
<IW:Google:"\"meta http-equiv content-type value\"">
で検索すると色々な自然言語の文章で大量に見つかります。
HTML のソースは本来 (正しく設定されていれば)
[[Google]] の検索対象にはならないはずなので、
潜在的には莫大な量の文書が存在していると思われます。

[[#comment]]


** 実装

[25] [[emacs-w3m]] が正しく動作しない (正確には、
[CODE(HTMLa)[content]] 属性が無いのが原因。) という問題がありましたが、
2004年7月に修正されました。 ([emacs-w3m:7001])

[[#comment]]


** メモ

[[#comment]]


* メモ

[36]
[[WinIE 6]] の [CODE(DOM)@@en[[VAR(DOMi)[[[Attr]]]].[CODE(DOMa)[[[value]]]]]]
は[CODE(InfoProp)@@en[[[指定]]]]されていないと
[CODE(DOM)@@en[[[null]]]] になりますが、
[[内在事象属性]]ではなぜか文字列の [CODE(JS)@@en['[[null]]']]
になります。
[CODE(DOM)@@en[[[nodeValue]]]] では両方
[CODE(DOM)@@en[[[null]]]] になります。

([[名無しさん]] [WEAK[2005-09-03 11:14:50 +00:00]])

[37]
[CODE(DOM)@@en[[CODE(DOMi)@@en[[[Attr]]]].[CODE(DOMa)[[[value]]]]]]
は[[XML情報集合]]で[CODE(InfoProp)[[[正規化値]]]]に対応するとされています。

;; <IW:DOM3:"infoset-mapping.html#Attr2Infoset">

[CODE(DOM)@@en[[CODE(DOMi)[[[Attr]]]].[CODE(DOMa)[[[value]]]]]] と
[CODE(DOM)@@en[[CODE(DOMi)[[[Node]]]].[CODE(DOMa)[[[nodeValue]]]]]]
(等価) は[[構文解析器]]から渡された[[正規化値]]が最初の値になると明記もされています。
その一方で、[[実体参照]]が[[属性値]]に含まれる場合は実装と読み込みのオプションに依存するともされています。

;; 
<IW:DOM3:"core.html#ID-637646024">

ちなみに、[CODE(DOM)@@en[[CODE(DOMi)@@en[[[Node]]]].[CODE(DOMa)@@en[[[textContent]]]]]]は定義が少し異なっていて、[[子供]]の[CODE(DOMa)@@en[[[textContent]]]]の[[連接]]とされています。

;; <IW:DOM3:"core.html#Node3-textContent">

[[XML]] では、[[属性値表記]]内で[[参照]]されている[[実体]]
(の[[実体値]]) に[[空白]][[文字]]が含まれている場合は、
[CODE(charname)@@en[[[SPACE]]]] に[[正規化]]するとしています。

;; [[XML//空白]]

[[DOM]]の[CODE(DOMi)@@en[[[EntityReference]]]]は対応する[CODE(DOMi)@@en[[[Entity]]]]と同じ[[子孫]]を持つ、ただし[[名前空間]]に関する場合だけ例外だ、とされています。

そして[[正規化]]が行われるとき[CODE(DOMi)@@en[[[EntityReference]]]]が問題になるかもとは書いてありますが、その時どうしろとはいっていません。

;; <IW:DOM3:"core.html#ID-11C98490">

以上を踏まえた上で、[[DOM]]で[[属性値]]内の[[一般実体参照]]を[CODE(DOMi)@@en[[[EntityReference]]]]にする場合、[[正規化]]はどうしたらよいのでしょう??

([[名無しさん]])

[38]
[CODE(DOMi)@@en[[[EntityReference]]]]は使わないというのが、一番楽で正当な方法。

[[実体参照]]が入ったら[[属性値]]の[[正規化]]は諦めるというのが、楽なものの邪道な方法。

[CODE(DOMi)@@en[[[Attr]]]]の[[子供]]の[CODE(DOMi)@@en[[[EntityReference]]]]だけは[CODE(DOMa)@@en[[[textContent]]]]の[[空白]][[文字]]を[CODE(charname)@@en[[[SPACE]]]]に置き換えて[CODE(DOMa)@@en[[[value]]]] ([CODE(DOMa)@@en[[[nodeValue]]]], [CODE(DOMm)@@en[[[getAttribute]]]], ...) を作るというのが、面倒だけどあまり不都合なくうまく動きそうな方法。
ただし[CODE(DOM)@@en[[CODE(DOMi)[[[Attr]]]].[CODE(DOMa)@@en[[[textContent]]]]]]と[CODE(DOM)@@en[[CODE(DOMi)[[[Attr]]]].[CODE(DOMa)@@en[[[value]]]]]]が違ってしまうのがちょっとアレ。

[56] [CITE[Re: introduction, plus some form input ideas]] ([[Ian Hickson <ian@@...>]] 著, [TIME[2008-11-29 20:45:28 +09:00]] 版) <http://permalink.gmane.org/gmane.org.w3c.whatwg.discuss/16924>

[58] [CITE@@en-GB-x-Hixie[Web Forms 2.0]]
([TIME[2009-01-05 20:07:15 +09:00]] 版)
<http://www.whatwg.org/specs/web-forms/current-work/#value0>

[59] [CITE@@en-GB-x-Hixie[Web Forms 2.0]]
([TIME[2009-01-05 20:07:15 +09:00]] 版)
<http://www.whatwg.org/specs/web-forms/current-work/#the-htmloutputelement>

[60] [CITE@@en-GB-x-Hixie[Web Forms 2.0]]
([TIME[2009-01-05 20:07:15 +09:00]] 版)
<http://www.whatwg.org/specs/web-forms/current-work/#value>

[61] [CITE@@en[(X)HTML5 Tracking]]
([TIME[2010-01-05 15:51:28 +09:00]] 版)
<http://html5.org/tools/web-apps-tracker?from=4471&to=4472>

[62] [CITE[IRC logs: freenode / #whatwg / 20100828]]
( ([TIME[2010-09-11 17:53:15 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20100828>

[63] [CITE['''['''whatwg''']''' Treatment of negative values for li]]
([TIME[2010-11-16 12:01:42 +09:00]] 版)
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2010-November/029048.html>

[64] [CITE@@en[Web Applications 1.0 r5902  Define that <button value=''> (empty) is ok.]]
( ([TIME[2011-02-17 11:05:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=5901&to=5902>

[65] [CITE[''''''[''''''whatwg'''''']'''''' set input.value when input element has composition string]]
( ([TIME[2011-06-10 00:10:36 +09:00]] 版))
@


1.12
log
@updated by (anon)
@
text
@d496 5
a500 1
<http://html5.org/tools/web-apps-tracker?from=5901&to=5902>@


1.11
log
@updated by (anon)
@
text
@d492 5
a496 1
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2010-November/029048.html>@


1.10
log
@updated by (anon)
@
text
@d488 5
a492 1
<http://krijnhoetmer.nl/irc-logs/whatwg/20100828>@


1.9
log
@updated by (anon)
@
text
@d484 5
a488 1
<http://html5.org/tools/web-apps-tracker?from=4471&to=4472>@


1.8
log
@updated by (anon)
@
text
@d480 5
a484 1
<http://www.whatwg.org/specs/web-forms/current-work/#value>@


1.7
log
@updated by (anon)
@
text
@d476 5
a480 1
<http://www.whatwg.org/specs/web-forms/current-work/#the-htmloutputelement>@


1.6
log
@updated by (anon)
@
text
@d472 5
a476 1
<http://www.whatwg.org/specs/web-forms/current-work/#value0>@


1.5
log
@updated by (anon)
@
text
@d468 5
a472 1
[56] [CITE[Re: introduction, plus some form input ideas]] ([[Ian Hickson <ian@@...>]] 著, [TIME[2008-11-29 20:45:28 +09:00]] 版) <http://permalink.gmane.org/gmane.org.w3c.whatwg.discuss/16924>@


1.4
log
@updated by (anon)
@
text
@a281 67
[[#comment]]


* li 要素 value 属性 (HTML, XHTML 1)

[12] [CODE(HTMLe)[[[li]]]] 要素の [DFN[[CODE(HTMLa)[value]] 属性]]は、
現在[[並び]]項目の番号を設定します。

この属性の値は、 [CODE(SGML)[[[NUMBER]]]] 型です。
[CODE(HTMLa)[[[type]]]] 属性に関わらず、常に[[亜剌比亜数字]]で指定します。

この属性は必須ではありません。この属性は [[HTML 4]] では非推奨です。

仕様書: [HTML 4]
<IW:HTML4:"struct/lists.html#adef-value-LI">

[13] この属性による指定が、弟要素にまで影響するのかどうかは定かではありません。
HTML 4 に [Q[current list item]] と書いてあるのは影響しないという意味とも取れますが、
慣習的解釈では影響するはずです ([[Classic Mozilla]] はそう実装している)。
[[DTD]] の[[注釈]] (参考) の [Q[reset sequence number]]
もそれをほのめかしている気もしますが...

[14]
HTML 4 仕様書には、 HTML 4 では前の並びの継続であるおことや並びの項目の途中を省いたことを表す方法はないが、その代わりに、という注記と共に、次の例が示されています。
[PRE(HTML)[
<ol>
<li value="30"> makes this list item number 30.
<li value="40"> makes this list item number 40.
<li> makes this list item number 41.
</ol>
]PRE]

[[#comment]]


** 歴史

[52] [[Netscape Navigator]] は [[HTML 2.0]] の拡張として、
[CODE(HTMLe)@@en[[[ol]]]] [[要素]]の[[子供]]たる
[CODE(HTMLe)@@en[[[li]]]] [[要素]]の [CODE(HTMLa)@@en[[[value]]]]
[[属性]]を実装しました。

[CODE(HTMLa)@@en[[[value]]]] [[属性]]を使うと [CODE(HTMLe)@@en[[[ol]]]]
の途中で値を変更することができました。 [CODE(HTMLa)@@en[[[value]]]]
による変更は、その [CODE(HTMLe)@@en[[[li]]]] に適用され、
それ以後の [CODE(HTMLe)@@en[[[li]]]] の値にも影響することになっていました。

;; [CITE[Netscape Navigator Extensions to HTML]]
<http://web.archive.org/web/20000415023954/http://www.netscape.com/home/services_docs/html-extensions.html>

*** XHTML2

[58] [[XHTML2]] の第6次案で復活しています。 [CODE(HTMLe)@@en[[[ol]]]]
[[要素]]の [CODE(HTMLa)@@en[[[start]]]] [[属性]]は復活していません。

;; [CITE@@en[- XHTML List Module]] ([TIME[2004-07-22 15:25:35 +09:00]] 版) <http://www.w3.org/TR/2004/WD-xhtml2-20040722/mod-list.html#adef_list_value>

** メモ

[55]
[CITE@@en[<li value=bogus> (detailed review of Semantics)]] ([[Simon Pieters]] 著, [TIME[2007-07-15 07:22:11 +09:00]] 版) <http://lists.w3.org/Archives/Public/public-html/2007Jul/0702.html>
([[名無しさん]])


[[#comment]]


@


1.3
log
@updated by (anon)
@
text
@d332 1
a332 1
[[#comment]]
d334 4
@


1.2
log
@updated by (anon)
@
text
@d157 1
a157 1
[[#comment]]
d159 5
@


1.1
log
@converted from SuikaWiki3 <http://suika.fam.cx/gate/cvs/suikawiki/wikidata/page/76616C7565.txt>
@
text
@d1 526
a526 524


* フォーム制御子系 value 属性 (HTML, XHTML 1)

[1] [[HTML]] の [CODE(HTMLe)[[[input]]]] 要素や
[CODE(HTMLe)[[[button]]]] 要素や [CODE(HTMLe)[[[option]]]] 要素の
[DFN[[CODE(HTMLa)[value]] 属性]]は、その[[制御子]]の[[初期値]]を指定します。

[4] 仕様書:
- [[HTML 4]]
-- [CODE(HTMLe)[input]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-INPUT">
-- [CODE(HTMLe)[button]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-BUTTON">
-- [CODE(HTMLe)[option]] 要素 [CODE(HTMLa)[value]] 属性
<IW:HTML4:"interact/forms.html#adef-value-OPTION">
-- [CITE[HTML 4 Changes]]
<IW:HTML4:"appendix/changes.html#h-A.1.1.12">
- [[Web Forms 2.0]]
-- [CSECTION@@en[2.3. Changes to existing controls]]
<IW:WF2:"#changes">
-- [CSECTION@@en[2.18. Handling unexpected elements and values]]
<IW:WF2:"#handling">


** 属性値

[8] この属性の値は [CODE(SGML)[[[CDATA]]]] です。
大文字・小文字は区別されます。

[43] '''空白'''

[[属性値]]中の[[空白]]は、除去[['''してはなりません''']]。
[SRC@@en[WF2 2.3]]

;; [[XML]] 等の規則による[[空白]]の[[正規化]]は、
必要ならば行われます。ここで禁止されているのは、
それ以上の処理です。

[26] この属性は、 [[DTD]] 的には [CODE(SGML)[#[[IMPLIED]]]] です。

[CODE(HTMLe)[input]] 要素の場合、
[CODE(HTMLa)[[[type]]]] 属性が [CODE(HTML)[[[radio]]]] または
[CODE(HTML)[[[checkbox]]]] の時''以外''は、
この属性は省略できます。 [SRC[HTML 4 17.4]]
[WEAK[(HTML 4.0 では誤って [CODE(HTML)[checkbox]] でも省略できるようなことが書いてありました [SRC[HTML 4.01 A.1.1.12]]。)]]

[CODE(HTMLe)[button]] 要素の場合も省略できます。
[SRC[HTML 4 17.5]]

[CODE(HTMLe)[option]] 要素の場合、省略すると要素の[[内容]]が初期値として使われます。

[42]
[[チェック箱制御子]] ([CODE(HTML)@@en[[[checkbox]]]])
と[[ラジオ・ボタン制御子]] ([CODE(HTML)@@en[[[radio]]]])
(>>41 を参照。) を''除き''、[[フォーム制御子]]の
[CODE(HTMLa)@@en[[[value]]]] [[属性]]の[[既定値]]は[[空文字列]]です。
[SRC@@en[WF2 2.3]]

[35]
HTML 4 DTD の[[注釈]] (参考) には
[Q[Specify for radio buttons and checkboxes]]
(ラジオ・ボタンとチェック箱に指定)
と書かれています。が、他の説明は小文字から始まるのにここだけ大文字から始まっているので、[[命令形]]で[Q[指定しなければなりません]]という意味かもしれません。

[50] '''誤り処理 ([CODE(DOM)@@en[typeMismatch]])'''

[CODE(HTMLa)@@en[[[value]]]] [[内容属性]]が
[CODE(HTMLa)@@en[[[type]]]] に照らして[[非妥当]]な場合、
[[利用者エージェント]]は無視[['''しなければなりません''']]。
[CODE(DOMa)@@en[[[defaultValue]]]] 
はその値が使われますが、[[制御子]]には使われません
([[値が選択されていない]]状態となります)。
[SRC@@en[WF2 2.18]]

[51] '''誤り処理 (制約違反)'''

[CODE(HTMLa)@@en[[[value]]]] [[内容属性]]が
[CODE(HTMLa)@@en[[[min]]]、[CODE(HTMLa)@@en[[[max]]]]、]]
[CODE(HTMLa)@@en[[[step]]]]、[CODE(HTMLa)@@en[[[maxlength]]]]
等に照らして[[非妥当]]な場合
([[原始文書]]でそうである場合や [[DOM]]
操作でそうなった場合など)、
[[利用者エージェント]]は[[制御子]]にその値を設定[['''しなければなりません''']]。
それができない場合には、最も近い値と[['''しなければなりません''']]。
[SRC@@en[WF2 2.18]]

;; 各[[属性]]に照らして適当な値に変更されるまで、
その[[フォーム]]は[[提出]]できません。

[53]
testtest
([[TEST]] [WEAK[2007-03-12 10:01:45 +00:00]])

[[#comment]]


** 押しボタン制御子 (HTML input 要素型)

[28] 押しボタン制御子 ([CODE(HTML)[type]] が [CODE(HTML)[[[button]]]])
では、 [[UA]] は [CODE(HTMLa)[value]] 属性値をボタンの札として使うべきです。
[SRC[HTML 4 17.4.1]] 詳しくは [CODE(HTML)[[[button]]]]
制御子の説明をご覧ください。

[[#comment]]


** ファイル選択制御子 (HTML input 要素型)

[27] ファイル選択制御子 ([CODE(HTMLa)[type]] が [CODE(HTML)[[[file]]]])
では、 [[UA]] は、 [CODE(HTMLa)[value]] 
属性値をファイル名の初期値として使っても構いません。
[SRC[HTML 4 17.4.1]] 詳しくは [CODE(HTML)[[[file]]]] 
制御子の説明をご覧ください。

[[#comment]]


** 画像提出ボタン制御子 (HTML input 要素型)

[33] HTML 4 では [[[CODE(HTMLe)[input]]//[CODE(HTML)[image]]]] では
[CODE(HTMLa)[value]] 属性は使われていませんが、
1996年の W3C [[NOTE]] >>32 は、 [CODE(HTMLa)[[[alt]]]] 
属性と同じ役割で使用することを推奨していました。
([[代替文]]として使われるだけで、他のボタン制御子とは異なり、
[[初期値]]・[[現在値]]として使われるものではないことに注意してください。)

[34] 実際にそれにしたがって使われたことがあったかどうかは、現在のところ不明です。

[32] [CITE[Imagemapped Images and Image-Incapable User Agents]], 
<http://www.w3.org/TR/NOTE-imagemap>, 発表当時の URI は 
<http://www.w3.org/pub/WWW/TR/NOTE-imagemap-961127>。 [Q[Status of this document]] 
によれば現在の W3C [[WD]] のような位置付けだったらしいのですが、 2004年現在、 
<http://www.w3.org/TR/> によれば [[Working Group Note]] に分類されています。
同時期の他の HTML 系 WD とは異なり、直接 HTML 4 仕様書に取込まれてはいないようです。

[[#comment]]


** チェック箱制御子 ([CODE(HTML)@@en[checkbox]])、ラジオ・ボタン制御子 ([CODE(HTML)@@en[radio]])

[41] '''既定値'''

[[チェック箱制御子]] ([CODE(HTML)@@en[[[checkbox]]]])、
[[ラジオ・ボタン制御子]] ([CODE(HTML)@@en[[[radio]]]]) の場合の
[CODE(HTMLa)@@en[[[value]]]] [[属性]]の[[既定値]]は、
[CODE(HTML)@@en[[[on]]]] です。
[SRC@@en[WF2 2.3]]

;; 従いまして、 [CODE(HTMLa)@@en[[[value]]]]
[[内容属性]]が与えられていない時の
[CODE(DOMa)@@en[[[value]]]] [[DOM属性]]の値は
[CODE(HTML)@@en[[[on]]]] です。
[[フォーム提出]]時の値も [CODE(HTML)@@en[[[on]]]]
です。

[[#comment]]


** 出力 ([CODE(HTMLe)@@en[output]])

[44] [CODE(HTMLe)@@en[[[output]]]] [[要素]]に対応する
[[DOM界面]] [CODE(DOMi)@@en[[[HTMLOutputElement]]]]
の [DFN[[CODE(DOMa)@@en[[[value]]]] [[DOM属性]]]]は、
[CODE(HTMLe)@@en[[[output]]]] [[要素]]の[[現在値]]です。

;; [CODE(HTMLe)@@en[[[output]]]] の[[現在値]]は、
[[内容]]とされています。 [SRC@@en[WF2 2.13]]

[48]
:状態:[[WHATWG]] [[WD]]
:[[DOM界面]]:[CODE(DOMi)@@en[[[HTMLOutputElement]]]]
:[[属性名]]:[CODE(DOMa)@@en[[[value]]]]
([Q@@en[value]] ([Q[値]]) より)
:[[データ型]]:[CODE(DOM)@@en[[[DOMString]]]]
:[[読取専用]]:[[偽]]
:[[例外]]:[CODE(DOMa)@@en[[[textContent]]]] と同じ

[45]
仕様書:
- [[Web Forms 2.0]]
-- [CSECTION@@en[2.13. The [CODE(HTMLe)@@en[[[output]]]] element]]
<IW:WF2:"#the-output">
-- [CSECTION@@en[2.18. Handling unexpected elements and values]]
<IW:WF2:"#handling">

[46] '''読み取り'''

[CODE(DOMa)@@en[[[textContent]]]] と同じです。
[SRC@@en[WF2 2.13]]

[47] '''書き込み'''

[[利用者エージェント]]の動作は
[CODE(DOMa)@@en[[[textContent]]]] 
と同じと[['''しなければなりません''']]。
[SRC@@en[WF2 2.13, 2.18]]

[49] '''[CODE(DOMe)@@en[change]] 事象'''

[CODE(DOMa)@@en[[[value]]]] が直接的または間接的に
[[DOM]] [[木]]を介して変更された時には、
[CODE(HTMLe)@@en[[[output]]]] [[要素]]に対して
[CODE(DOMe)@@en[[[change]]]] [[事象]]を[[放火]][['''しなければなりません''']]。
[SRC@@en[WF2 2.13]]

[[#comment]]


** 例

[10] メニュー制御子の例
[PRE(HTML)[
<select name="selection">
<option value="selection-foo" selected>なにかの選択肢</option>
<option value="selection-bar">なにか別の選択肢</option>
</select>
]PRE]

[[#comment]]


** メモ

[9] >>26 [CODE(HTMLe)[option]] 要素の [CODE(HTMLa)[value]] 属性は、
送信される値が[[仮名]]・[[漢字]]だと面倒なことになるから、
要素の内容は仮名・漢字の[[日本語文]]にしつつも、 [CODE(HTMLa)[value]] は[[ラテン文字]]で、
という使い方がよくされますね (>>10)。

[29]
[[w3m]] には [CODE(HTMLe)[input]] [CODE(HTMLa)[value]] 内の改行を無視してしまう不具合があるそうです。
[SRC[[w3m-dev 04110]]
[CODE(HTMLa)[type]] が [CODE(HTML)[text]]
なら仕方がないかもしれませんが、 [CODE(HTML)[hidden]] の時に落としてしまうのは問題ですね。
([[名無しさん]] [WEAK[2004-10-31 01:00:24 +00:00]])

[30]
>>29 そういえば HTML は [CODE(SGML)[[[CDATA]]]] 属性の値の処理についての規定があるのでした。だから w3m
は HTML 4 的には正しいのだそうな。
(でも HTML 4 の仕様が現実にあってない。)
([[名無しさん]] [sage])

[31]
[CITE[Bug 15204 - hidden inputs strip line feeds from value attribute]] <https://bugzilla.mozilla.org/show_bug.cgi?id=15204>

>>29-30 と同じ話題。
([[名無しさん]] [sage])

[39]
[CITE[inputタグのvalueについて]] <http://chaichan.web.infoseek.co.jp/qanda/qa6338.htm>
([[名無しさん]])

[40]

,	,	,	,[[Firefox]] 1.5	,[[Opera]] 8.5	,[[WinIE]] 6.0
,[CODE(HTML)@@en[[[text]]]]	,[CODE(HTML)@@en[&#x0D;&#x0A;]]	,表示	,改行前まで	,改行除去	,改行除去
,	,	,[CODE(DOMa)@@en[[[value]]]]	,改行前まで	,改行除去	,改行除去
,	,	,[CODE(DOMa)@@en[[[defaultValue]]]]	,[[CRLF]]	,改行除去	,改行除去
,	,	,[CODE(DOMm)@@en[[[getAttribute]] ('[[value]]')]]	,[[CRLF]]	,改行除去	,改行除去
,	,	,[[提出]]	,改行前まで	,改行除去	,改行除去
,[CODE(HTML)@@en[[[text]]]]	,[[CRLF]]	,表示	,改行前まで	,改行除去	,改行除去
,	,	,[CODE(DOMa)@@en[[[value]]]]	,改行前まで	,改行除去	,改行除去
,	,	,[CODE(DOMa)@@en[[[defaultValue]]]]	,[[LF]]	,改行除去	,改行除去
,	,	,[CODE(DOMm)@@en[[[getAttribute]] ('[[value]]')]]	,[[LF]]	,改行除去	,改行除去
,	,	,[[提出]]	,改行前まで	,改行除去	,改行除去
,[CODE(HTML)@@en[[[hidden]]]]	,[CODE(HTML)@@en[&#x0D;&#x0A;]]	,[[CRLF]]	,[[CRLF]]	,[[CR]]
,	,	,[CODE(DOMa)@@en[[[defaultValue]]]]	,[[CRLF]]	,[[CRLF]]	,[[CR]]
,	,	,[CODE(DOMm)@@en[[[getAttribute]] ('[[value]]')]]	,[[CRLF]]	,[[CRLF]]	,[[CRLF]]
,	,	,[[提出]]	,[[CRLF]]	,[[CRLF]]	,[[CRLF]]
,[CODE(HTML)@@en[[[hidden]]]]	,[[CRLF]]	,[CODE(DOMa)@@en[[[value]]]]	,[[LF]]	,[[LF]]	,[[CRLF]]
,	,	,[CODE(DOMa)@@en[[[defaultValue]]]]	,[[LF]]	,[[LF]]	,[[CR]]
,	,	,[CODE(DOMm)@@en[[[getAttribute]] ('[[value]]')]]	,[[LF]]	,[[LF]]	,[[CRLF]]
,	,	,[[提出]]	,[[CRLF]]	,[[LF]]	,[[CRLF]]

([[名無しさん]] [WEAK[2006-05-27 09:05:02 +00:00]])

[[#comment]]


* li 要素 value 属性 (HTML, XHTML 1)

[12] [CODE(HTMLe)[[[li]]]] 要素の [DFN[[CODE(HTMLa)[value]] 属性]]は、
現在[[並び]]項目の番号を設定します。

この属性の値は、 [CODE(SGML)[[[NUMBER]]]] 型です。
[CODE(HTMLa)[[[type]]]] 属性に関わらず、常に[[亜剌比亜数字]]で指定します。

この属性は必須ではありません。この属性は [[HTML 4]] では非推奨です。

仕様書: [HTML 4]
<IW:HTML4:"struct/lists.html#adef-value-LI">

[13] この属性による指定が、弟要素にまで影響するのかどうかは定かではありません。
HTML 4 に [Q[current list item]] と書いてあるのは影響しないという意味とも取れますが、
慣習的解釈では影響するはずです ([[Classic Mozilla]] はそう実装している)。
[[DTD]] の[[注釈]] (参考) の [Q[reset sequence number]]
もそれをほのめかしている気もしますが...

[14]
HTML 4 仕様書には、 HTML 4 では前の並びの継続であるおことや並びの項目の途中を省いたことを表す方法はないが、その代わりに、という注記と共に、次の例が示されています。
[PRE(HTML)[
<ol>
<li value="30"> makes this list item number 30.
<li value="40"> makes this list item number 40.
<li> makes this list item number 41.
</ol>
]PRE]

[[#comment]]


** 歴史

[52] [[Netscape Navigator]] は [[HTML 2.0]] の拡張として、
[CODE(HTMLe)@@en[[[ol]]]] [[要素]]の[[子供]]たる
[CODE(HTMLe)@@en[[[li]]]] [[要素]]の [CODE(HTMLa)@@en[[[value]]]]
[[属性]]を実装しました。

[CODE(HTMLa)@@en[[[value]]]] [[属性]]を使うと [CODE(HTMLe)@@en[[[ol]]]]
の途中で値を変更することができました。 [CODE(HTMLa)@@en[[[value]]]]
による変更は、その [CODE(HTMLe)@@en[[[li]]]] に適用され、
それ以後の [CODE(HTMLe)@@en[[[li]]]] の値にも影響することになっていました。

;; [CITE[Netscape Navigator Extensions to HTML]]
<http://web.archive.org/web/20000415023954/http://www.netscape.com/home/services_docs/html-extensions.html>

[[#comment]]


** メモ

[55]
[CITE@@en[<li value=bogus> (detailed review of Semantics)]] ([[Simon Pieters]] 著, [TIME[2007-07-15 07:22:11 +09:00]] 版) <http://lists.w3.org/Archives/Public/public-html/2007Jul/0702.html>
([[名無しさん]])


[[#comment]]


* value 属性 (DOM Attr 界面)

[5] 属性 [CODE[[VAR(DOMi)[[[Attr]]]].[CODE(DOMa)[value]]]]
の値は、その属性節の[[属性値]]です。

設定する値・得られる値の型は [CODE(DOM)[[[DOMString]]]]
です。その属性節の子節は複数個の文節や実体参照節があるかもしれませんが、
一つの文字列として設定又は取得します。

値を設定した時は、子節は一つの文節になります。

[6] この属性は method
[CODE[[VAR(DOMi)[[[Element]]]].[CODE(DOMm)[[[getAttribute]]]]]],
[CODE[[VAR(DOMi)[Element]].[CODE(DOMm)[[[setAttribute]]]]]]
と同様に機能します。

[11] >>6 というか [CODE(DOMa)[[[nodeValue]]]] だよなあ、
もろ同じじゃない? なんで2つあるんだろう。どっちかは正規化するとかでもないみたいだし。

[7] 属性節が読取専用の時は当然値を設定することはできません。
例外 [CODE(DOM)[NO_MODIFICATION_ALLOWED_ERR]]
が発生します。

- [DOM2] ''Document Object Model Core'' <http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-221662474>

[54]
[[DOM水準1]] [[FE]] の[[正誤表]]、[[DOM水準1]] [[SE]]、
[[DOM水準2]]、[[DOM水準3]]によると、[[節点]]が[[読取専用]]なら
[CODE(DOMc)@@en[[[NO_MODIFICATION_ALLOWED_ERR]]]]
です。
([[名無しさん]])

[[#comment]]


* param 要素 value 属性 (HTML, XHTML 1)

[15] [[HTML]] の [CODE(HTMLe)[[[param]] 要素の]]
[DFN[[CODE(HTMLa)[value]] 属性]]は、引数値を指定します。

[16] 仕様書:
[[HTML 4]] <IW:HTML4:"struct/objects.html#adef-value-PARAM">

[[#comment]]


** 属性値

[17] この属性の値は [CODE(SGML)[[[CDATA]]]] です。
属性値は、物体によって解釈されます。
物体が引数ごとに構文的制約などを課しているかもしれません。
(それに対して不当であった場合の処理も HTML UA・物体の実装依存でしょう。)

この属性は ([CODE(HTMLa)[[[valuetype]]]] や [CODE(HTMLa)[[[type]]]]
によって修飾されることを除いては) HTML 的な意味を持ちません。

[18] この属性は省略可能です。

[[#comment]]


** 他との関係

[19] [CODE(HTMLa)[value]] で指定する引数値は、
同じ [CODE(HTMLe)[param]] 要素の
[CODE(HTMLa)[[[name]]]] が引数名として対応します。

[20] 引数値の種類の指定として [CODE(HTMLa)[[[valuetype]]]]
と [CODE(HTMLa)[[[type]]]] があります。

[[#comment]]


** メモ

[[#comment]]


* meta 要素 value 属性 (HTML, XHTML 1)

[21] [[HTML]] の [CODE(HTMLe)[[[meta]]]] 要素で、
[DFN[[CODE(HTMLa)[value]] 属性]]が使われることがあります。
使われ方からして、 [CODE(HTMLa)[[[content]]]]
属性の誤りのようです。

[[#comment]]


** 例

[22]
[PRE(HTML)[
<meta http-equiv="content-type" value="text/html; charset=euc-jp" />
]PRE]

出典: ''Practical Scheme'' <http://www.shiro.dreamhost.com/scheme/index-j.html>
(2004年7月付け、2004年7月現在)

[24]
[PRE(HTML)[
<META HTTP-EQUIV="Content-type" 
VALUE="text/html; charset=euc-kr">
]PRE]

出典: ''WWW&#51032; &#44397;&#51228;&#54868;&#50752; &#54620;&#44544;'' <http://www.w3c.or.kr/i18n/www-i18n/>
([[W3C]] 韓国事務所のウェブ・サイトの文章。1996年11月付け、2004年7月現在。)

[23] 
<IW:Google:"\"meta http-equiv content-type value\"">
で検索すると色々な自然言語の文章で大量に見つかります。
HTML のソースは本来 (正しく設定されていれば)
[[Google]] の検索対象にはならないはずなので、
潜在的には莫大な量の文書が存在していると思われます。

[[#comment]]


** 実装

[25] [[emacs-w3m]] が正しく動作しない (正確には、
[CODE(HTMLa)[content]] 属性が無いのが原因。) という問題がありましたが、
2004年7月に修正されました。 ([emacs-w3m:7001])

[[#comment]]


** メモ

[[#comment]]


* メモ

[36]
[[WinIE 6]] の [CODE(DOM)@@en[[VAR(DOMi)[[[Attr]]]].[CODE(DOMa)[[[value]]]]]]
は[CODE(InfoProp)@@en[[[指定]]]]されていないと
[CODE(DOM)@@en[[[null]]]] になりますが、
[[内在事象属性]]ではなぜか文字列の [CODE(JS)@@en['[[null]]']]
になります。
[CODE(DOM)@@en[[[nodeValue]]]] では両方
[CODE(DOM)@@en[[[null]]]] になります。

([[名無しさん]] [WEAK[2005-09-03 11:14:50 +00:00]])

[37]
[CODE(DOM)@@en[[CODE(DOMi)@@en[[[Attr]]]].[CODE(DOMa)[[[value]]]]]]
は[[XML情報集合]]で[CODE(InfoProp)[[[正規化値]]]]に対応するとされています。

;; <IW:DOM3:"infoset-mapping.html#Attr2Infoset">

[CODE(DOM)@@en[[CODE(DOMi)[[[Attr]]]].[CODE(DOMa)[[[value]]]]]] と
[CODE(DOM)@@en[[CODE(DOMi)[[[Node]]]].[CODE(DOMa)[[[nodeValue]]]]]]
(等価) は[[構文解析器]]から渡された[[正規化値]]が最初の値になると明記もされています。
その一方で、[[実体参照]]が[[属性値]]に含まれる場合は実装と読み込みのオプションに依存するともされています。

;; 
<IW:DOM3:"core.html#ID-637646024">

ちなみに、[CODE(DOM)@@en[[CODE(DOMi)@@en[[[Node]]]].[CODE(DOMa)@@en[[[textContent]]]]]]は定義が少し異なっていて、[[子供]]の[CODE(DOMa)@@en[[[textContent]]]]の[[連接]]とされています。

;; <IW:DOM3:"core.html#Node3-textContent">

[[XML]] では、[[属性値表記]]内で[[参照]]されている[[実体]]
(の[[実体値]]) に[[空白]][[文字]]が含まれている場合は、
[CODE(charname)@@en[[[SPACE]]]] に[[正規化]]するとしています。

;; [[XML//空白]]

[[DOM]]の[CODE(DOMi)@@en[[[EntityReference]]]]は対応する[CODE(DOMi)@@en[[[Entity]]]]と同じ[[子孫]]を持つ、ただし[[名前空間]]に関する場合だけ例外だ、とされています。

そして[[正規化]]が行われるとき[CODE(DOMi)@@en[[[EntityReference]]]]が問題になるかもとは書いてありますが、その時どうしろとはいっていません。

;; <IW:DOM3:"core.html#ID-11C98490">

以上を踏まえた上で、[[DOM]]で[[属性値]]内の[[一般実体参照]]を[CODE(DOMi)@@en[[[EntityReference]]]]にする場合、[[正規化]]はどうしたらよいのでしょう??

([[名無しさん]])

[38]
[CODE(DOMi)@@en[[[EntityReference]]]]は使わないというのが、一番楽で正当な方法。

[[実体参照]]が入ったら[[属性値]]の[[正規化]]は諦めるというのが、楽なものの邪道な方法。

[CODE(DOMi)@@en[[[Attr]]]]の[[子供]]の[CODE(DOMi)@@en[[[EntityReference]]]]だけは[CODE(DOMa)@@en[[[textContent]]]]の[[空白]][[文字]]を[CODE(charname)@@en[[[SPACE]]]]に置き換えて[CODE(DOMa)@@en[[[value]]]] ([CODE(DOMa)@@en[[[nodeValue]]]], [CODE(DOMm)@@en[[[getAttribute]]]], ...) を作るというのが、面倒だけどあまり不都合なくうまく動きそうな方法。
ただし[CODE(DOM)@@en[[CODE(DOMi)[[[Attr]]]].[CODE(DOMa)@@en[[[textContent]]]]]]と[CODE(DOM)@@en[[CODE(DOMi)[[[Attr]]]].[CODE(DOMa)@@en[[[value]]]]]]が違ってしまうのがちょっとアレ。@

