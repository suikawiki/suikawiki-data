

* 仕様書

[REFS[
- [8] [CITE@en[RFC 7239 - Forwarded HTTP Extension]] ([TIME[2014-09-07 05:21:07 +09:00]] 版) <https://tools.ietf.org/html/rfc7239>
]REFS]

* 歴史

** [CODE(HTTP)@en[Forwarded:]] ヘッダー (90年代)

[2] [CODE(HTTP)@en[[[Forwarded:]]]] は初期の [[HTTP]] 仕様案において[[電子メール]]の
[CODE(822)@en[[[Received:]]]] [[ヘッダー]]に近い形で定義されていました [SRC[>>7]]。
一時は実装されていましたが (>>3, >>1)、機能を削って [CODE(HTTP)@en[[[Via:]]]]
に置き換えられました [SRC[>>6]]。

[REFS[
- [7] [CITE@en[draft-ietf-http-v10-spec-01 - Hypertext Transfer Protocol -- HTTP/1.0]] ([TIME[2014-10-16 14:16:45 +09:00]] 版) <http://tools.ietf.org/html/draft-ietf-http-v10-spec-01#section-8.14>
- [6] [CITE[HTTP-wg Archive: Via Header Field (replaces Forwarded)]] ([TIME[2014-10-22 11:26:06 +09:00]] 版) <http://www.hpl.hp.com/personal/ange/archives/archives-96/http-wg-archive/0725.html>
]REFS]

[FIG(quote)[
[FIGCAPTION[
[3] ''Nonstandard HTTP Headers'' <http://web.archive.org/web/20020610043404/http://www.dais.is.tohoku.ac.jp/~kabe/WWW/nonstdhdr.html#Forwarded>
]FIGCAPTION]

>Forwarded: by proxy-URI [(product)] [for client-FQDN]
>draft-ietf-http-v10-spec-01.txt および draft-ietf-http-v11-spec-01.txt までの HTTP-draft に出現。 標準化に際しては 「冗長である」 という理由から Via: に置き換わっています。 "for ..." 部分は Via: から削られたため、Squid では代わりに X-Forwarded-For ヘッダを新設しました。 (当時まじめにDraft等を追っかけていたのは Squid くらいだったような気が)
]FIG]

[1] [[Netscape Proxy]] が[[仕様書]]から削除された後も [CODE(HTTP)@en[[[Forwarded:]]]]
を実装していたようです。

** [CODE(HTTP)@en[X-Forwarded-*:]] ヘッダー群

[9] [CODE(HTTP)@en[[[Forwarded:]]]] が仕様から削除された後 [[Squid]] は
[CODE(HTTP)@en[[[X-Forwarded-For:]]]] をかわりに使うようになりました。
他の[[串]]もこれを実装した他、色々な関連[[ヘッダー]]を追加していきました。

;; [CODE(HTTP)@en[[[X-Forwarded-*:]]]] を参照。

** [CODE(HTTP)@en[Forwarded:]] ヘッダー (10年代)

[REFS[
- [4] [CITE@en[draft-petersson-forwarded-for-02 - Forwarded HTTP Extension]]
( ([TIME[2011-11-20 06:43:06 +09:00]] 版))
<http://tools.ietf.org/html/draft-petersson-forwarded-for-02>
- [5] [CITE@en[RFC 7239 - Forwarded HTTP Extension]] ([TIME[2014-09-07 05:21:07 +09:00]] 版) <https://tools.ietf.org/html/rfc7239>
]REFS]