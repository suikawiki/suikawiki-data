#?SuikaWiki/0.9
[[プロトコルの脱共有化]]と関係あるのか無いのかはしりませんが、
[[M$]] 製品から送り出されるメイル・メッセージの [[MIME]] ([[IETF]])
[[charset]] 機構は (も) てきとーに扱われてます。

*M$ 解釈モード

M$ 製品の[[市場占有率]]を考えると、余裕がある実装は M$ 
製品向け解釈モードで charset (や他のもの) 
の解釈を試みるのもいいかもしれません。

=X-Mailer: Microsoft Outlook Express 5.50.4133.2400
=X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400

WinM$OE5 は、こんな頭欄を吐きます。他の M$ 系 [[UA]]
(M$OE とかの部品を流用する非 M$ 製品も含む。)
はどー吐くのかわかりませんが、 X-MimeOLE の方を
見とけばいいんじゃないでしょうか。

てことで、 [[X-MimeOLE:欄]]に 「Microsoft MimeOLE」
の文字列があれば、 M$ モード突入。

なお、 Mac 版 M$OE はこれらの領域を使わず 
[[User-Agent:欄]]を使ったと思われます。んだけど、 Mac 
版もイかれてるんですかね?
[[WinIE]] はいかれてるけど、 [[MacIE]] はケッコーまともという
実績(藁)もありますが・・・。識者教えてきぼんぬ

-<http://msdn.microsoft.com/workshop/author/dhtml/reference/charsets/charset4.asp>

怪しいものがイロイロ・・・
[[#comment]]
*ISO-2022-JP

[[JISX0208]] になくて、 [[WindowsCodePage]] 932
にある文字が混じってることが。
(M$ 製品に限ったことじゃありませんが。)

[[シフトJIS]] (Windows CP932) の 0xFxxx を変換するときに、
何も考えずに引き算するから、 ESC $ B で JIS X 0208-1983
になってるところで、 0x7F 以上を第1オクテットとする
2オクテットの組が現れたりする。 (M$ 製品に限らずある罠。)

[[IANA]] で [[ISO-2022-JP]] の別名として登録されている 
csISO2022JP は、 M$ の説に拠ると
ESC ( H で JIS X 0201 片仮名用図形文字集合が使える
[[CES]] のことらしい。
[INS[
(もちろん、 JIS X 0201 カタカナの使用は明らかに RFC 1468
に反します。)
]INS]

-[1] ''csISO2022JP'' という名前は ''ISO-2022-JP'' の alias
で、しかも RFC 1468 には載っていないので、解釈出来ない[[利用者エージェント]]も少なくないと思います。
- [2] >>1 ちなみに、これが解釈できなくても全く問題はありません。 MIME 適合性に関しても RFC 1468 適合性に関しても問題ありません。[WEAK[そもそも RFC 1468 に適合性の規定はないけど。]]
[[#comment]]
*KS_C_5601-1987

本来は GL=G0=KS C 5601-1987 の charset
(たぶん。 See [[RFC1345]]) なんだけど、何をどう間違ったか、
実体は Windows CP949 ([[UHC]])。

M$ はわざとやってるらしい。
