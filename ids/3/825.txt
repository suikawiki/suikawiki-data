[28] [[仕様書]]における[DFN[助動詞]]は、その[[文]]が[[適合性]]の[[要件]]を記述していることと、
その種別を表しています。

[EG[
[52] 例えば、「[CODE(HTMLe)@en[img]] [[要素]]には [CODE(HTMLa)@en[src]]
[[属性]]を指定し[MUST[なければなりません]]」という[[文]]は、
[[助動詞]] [MUST[なければなりません]] ([MUST[MUST]]) が使われていますから、
[[適合]]するためには「[CODE(HTMLe)@en[img]] [[要素]]には [CODE(HTMLa)@en[src]]
[[属性]]を指定」することが要求されることを表しています。

[53] このような[[助動詞]]のない[[文]]は、[[事実の文]]などと呼ばれ、
[[要件]]ではなく単なる説明に過ぎません。
]EG]

* 助動詞の一覧

[FIG(short list)[
[FIGCAPTION[
[29] 要件を表す助動詞
]FIGCAPTION]
- [[RFC 2119]] [[キーワード]]
-- [['''MUST''']], [['''SHALL''']] ([['''しなければならない''']])
-- [['''MUST NOT''']], [['''SHALL NOT''']] ([['''してはならない''']])
-- [['''REQUIRED''']] ([['''必須''']])
-- [['''SHOULD''']] ([['''するべきである''']])
-- [['''SHOULD NOT''']] ([['''するべきではない''']])
-- [['''RECOMMENDED''']] ([['''推奨''']])
-- [['''OPTIONAL''']] ([['''任意選択''']])
-- [['''MAY''']]
- [['''NEED NOT''']]
- [[expected]] ([[期待される]])
- [['''OPTIONALLY''']] ([['''任意選択''']])
- [[encouraged]], [[discouraged]]
- [[We recommends ...]]
- [[can]]
- [[WILL]]
]FIG]

[FIG(short list)[
[FIGCAPTION[
[32] 助動詞以外の要件を表す単語
]FIGCAPTION]
- [[実装依存]]
- [[実装規定]]、[[実装定義]]、[[システム定義]]、[[処理系定義]]
- [[非推奨]]
- [[廃止]]
- [[実装水準]] ([[レベル]])
]FIG]

[51] その他関連する語句:
[FIG(short list)[
- [[have to]]
- [[ought to]]
- [['''SOON''']]
- [['''SHORTLY''']]
- [['''TOO LATE''']]
- [['''NEVER MORE''']]
]FIG]

* 意味

[48] [[助動詞]]は、その[[文]]が当該[[仕様]]においてどのような意味を持つかを表すものです。
例えば「○○しなければ[RUBYB[[['''ならない''']]]@en[MUST]]」とあればそれが必須の条件であることを表し、
それに従わないのは仕様違反です。
「○○しても[RUBYB[[['''構わない''']]]@en[MAY]]」とあればそれが認められる動作 (の1つ)
であることを表しています。

;; 詳細は各[[助動詞]]の項を参照。

[49] 仕様の記述に利用する[[助動詞]]の選択や位置付けは、[[標準化団体]]や[[仕様書]]によって異なっています。
[[Web]] を含む[[インターネット]]関連技術の仕様書の多くは、 [[RFC 2119]]
が規定する[[助動詞]]を採用しています。しかしその中でも、 [[WHATWG]]
等の近代的な [[Web]] 関連の仕様書は[[助動詞]]を用いた規定の記述を徹底しているのに対し、
[[IETF]] は[[事実の文]]を用いた規定を多用し[[助動詞]]は限定的にしか用いないといった様式の違いがあります。

* アルゴリズムの適合性の記述

[34] [[HTML Standard]] などでは、[[アルゴリズム]]を記述する際に、
その各手順で要件の度合いを繰り返し記述せずに、[[アルゴリズム]]の紹介文で一度だけ[[助動詞]]を使うスタイルが採用されています
[SRC[>>35]]。

[REFS[
- [35] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2014-06-20 15:40:17 +09:00]] 版) <http://www.whatwg.org/specs/web-apps/current-work/#conformance-requirements>
]REFS]

[EG[
[36] 例えば、

>
To eat an orange, the user [['''MUST''']]:
= Peel the orange.
= Separate each slice of the orange.
= Eat the orange slices.

... のような[[アルゴリズム]]の規定は、

>
To eat an orange:
= The user [['''MUST''']] peel the orange.
= The user [['''MUST''']] separate each slice of the orange.
= The user [['''MUST''']] eat the orange slices.

... のように展開できます [SRC[>>35]]。
]EG]

[50] あるいは、「○○する手順とは△△である。」と[[事実の文]]の形で[[アルゴリズム]]の定義を述べ、
呼び出し元で「○○する手順を実行しなければ[['''ならない''']]」とすることもよくあります。
[[アルゴリズム]]が[[アルゴリズム]]を呼び出す場合には[[事実の文]]の形の定義ばかりのように見えることも多いですが、
最終的な呼び出し元までたどれば必ず[[助動詞]]が使われているはずです。

* 適合性の主語

[37] [[要件]]を表す文章は、その行為を行うもの ([[人]]や[[ソフトウェア]])
を[[主語]]として記述することもあれば、生成物の状態を[[主語]]として記述することもあります。
どちらの方法で記述されるかは、[[編集者]]の好みのスタイルや文脈などに依存するもので、
深い意味はありません。

[EG[
[38] 例えば、「[[著者]]は、 [CODE(HTMLe)@en[[[div]]]] [[要素]]を [CODE(HTMLe)@en[[[p]]]]
[[要素]]の[[子供]]としては[['''なりません''']]。」と「[CODE(HTMLe)@en[[[p]]]] [[要素]]は、 
[CODE(HTMLe)@en[[[div]]]] [[要素]]を[[子供]]として持っては[['''なりません''']]。」
は、同じ意味です。
]EG]

;; [40] [[HTML Standard]] はこのような[[適合性]]の主体について言及しています [SRC[>>39]]。
他の仕様書でも、明示的に説明していることはあまりありませんが、同じように解釈されています。
[REFS[
- [39] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2014-06-20 15:40:17 +09:00]] 版) <http://www.whatwg.org/specs/web-apps/current-work/#conformance-classes>
]REFS]

* 要求度を表す助動詞のマーク付け

[FIG(list)[
- [8] [[HTML]] [CODE(HTMLe)@en[[[em]]]] [[要素]]
([CODE(HTMLa)@en[[[class]]]] [CODE@en[RFC2119]])
-- [CITE@en[W3C Manual of Style]] <http://www.w3.org/2001/06/manual/#RFC>
の推奨する様式:
--- [[助動詞]]は[[RFC 2119]]の定義。
--- [[大文字]]。
--- [[スタイル・シート]]により[[小文字]]で[[イタリック]]に。
-- [CITE@en[Namespaces in XML 1.1]] 
<http://www.w3.org/TR/2004/REC-xml-names11-20040204/>
--- [[助動詞]]は[[RFC 2119]]の定義。
--- [[大文字]]。
--- [[スタイル・シート]]により[[小文字]]で[[イタリック]]に。
--- [CODE(HTMLa)@en[[[title]]]] [[属性]]で
[Q[RFC 2119 でいう [SPAN@en[SHOULD]]]] のような説明あり。
--- 他の使用例
---- [30] [CITE@en[Multimodal Architecture and Interfaces]] ([TIME[2012-10-25 06:46:29 +09:00]] 版) <http://www.w3.org/TR/2012/REC-mmi-arch-20121025/>
- [1] [[HTML]] [CODE(HTMLe)@en[[[em]]]] [[要素]]
([CODE(HTMLa)@en[[[class]]]] [CODE@en[rfc2119]])
-- [CITE@en[Extensible Markup Language (XML) 1.1]] 
<http://www.w3.org/TR/2004/REC-xml11-20040204/#sec-terminology>
など、 [[XMLspec]] で書かれた仕様書の [[HTML]] 版
--- 助動詞は [[RFC 2119]] の定義。
--- [[大文字]]。
--- [[スタイル・シート]]により [CODE(CSS)@en[[[small-caps]]]] に。
- [9] [[HTML]] [CODE(HTMLe)@en[[[span]]]] [[要素]]
([CODE(HTMLa)@en[[[class]]]] [CODE@en[rfc2119]])
-- [CITE@en[Character Model for the World Wide Web 1.0: Fundamentals]] 
<http://www.w3.org/TR/2005/REC-charmod-20050215/#sec-Conformance>
--- 助動詞は [[RFC 2119]] の定義。
--- [[大文字]]。
--- [[スタイル・シート]]により [CODE(CSS)@en[[[small-caps]]]] に。
-- [14] [CITE@en[How to Publish a Final Incubator Group Report (XGR)]]
<http://www.w3.org/2005/Incubator/XGR/about.html>
--- [[助動詞]]は[[RFC 2119]]の定義。
--- [[大文字]]。
--- [[スタイル・シート]]により、[[小文字]]、[[太字]]に。
- [2] [[HTML]] [CODE(HTMLe)@en[[[span]]]] [[要素]]
([CODE(HTMLa)@en[[[class]]]] [CODE@en[term]])
-- [CITE@en[SVG 1.1/1.2/2.0 Requirements]] 
<http://www.w3.org/TR/2002/WD-SVG2Reqs-20020422/#sec-terminology>
--- 各助動詞は独自の定義。
--- [[小文字]]。
--- [[スタイル・シート]]により[[赤]]色の[[太字]]に。
- [4] [[HTML]] [CODE(HTMLe)@en[[[span]]]] [[要素]]
([CODE(HTMLa)@en[[[class]]]] [CODE@en[verb]])
-- [CITE@en[XSL Transformations (XSLT) Version 2.0]] 
<http://www.w3.org/TR/2007/REC-xslt20-20070123/>
--- 各助動詞は [[RFC 2119]] の定義。
--- [[小文字]]。
--- [[スタイル・シート]]により [CODE(CSS)@en[[[small-caps]]]] に。
- [5] [[HTML]] [CODE(HTMLe)@en[[[strong]]]] [[要素]]
-- [21] [CITE@en[XSLT 2.0 and XQuery 1.0 Serialization]] 
<http://www.w3.org/TR/2007/REC-xslt-xquery-serialization-20070123/#terminology>
--- 各助動詞は [[RFC 2119]] の定義。
--- [[大文字]]。
--- [[スタイル・シート]]により[[太字]]に。
-- [15] [CITE@en-US[SPARQL Protocol for RDF]] ([TIME[2008-01-16 01:09:16 +09:00]] 版) <http://www.w3.org/TR/2008/REC-rdf-sparql-protocol-20080115/#intro>
--- 各助動詞は[[RFC 2119]]の定義。
--- [[小文字]]。
-- [18] [CITE@en[XQuery 1.0 and XPath 2.0 Data Model (XDM)]] 
<http://www.w3.org/TR/2007/REC-xpath-datamodel-20070123/#terminology>
--- 各[[助動詞]]は [[RFC 2119]] の定義。
--- [[小文字]]。
- [24] [[HTML]] [CODE(HTMLe)@en[[[strong]]]] [[要素]]
([CODE(HTMLa)@en[[[class]]]] [CODE(HTML)@en[[[keyword]]]])
-- [25] [CITE@en[Evaluation and Report Language (EARL) 1.0 Schema]] 
<http://www.w3.org/TR/2007/WD-EARL10-Schema-20070323/#keywords>
--- [[助動詞]]は [[RFC 2119]] の定義。
--- [[小文字]]。
--- [[スタイル・シート]]により[[太字]]・[[斜体]]に。
- [6] [[HTML]] [CODE(HTMLe)@en[[[b]]]] [[要素]]
-- [CITE@en[xml:id Version 1.0]] 
<http://www.w3.org/TR/2005/REC-xml-id-20050909/#dt-must>
--- 助動詞は [[RFC 2119]] の定義。
--- [[小文字]]。
-- 昔から [[XML]] 系仕様書に多い様式で、
他の定義語などにも [CODE(HTMLe)@en[[[b]]]]
が使われています。
- [17] [[HTML]] [CODE(HTMLe)@en[[[a]]]] [[要素]]
-- [19] [CITE@en[XQuery 1.0: An XML Query Language]]
<http://www.w3.org/TR/2007/REC-xquery-20070123/#id-xquery-conformance>
--- [[助動詞]]は [[RFC 2119]] の定義を参照しつつ、
同じことを仕様書中で再定義しています。
--- [[大文字]]。
--- [CODE(HTMLa)@en[[[href]]]] がその定義を指しています。
-- [20] [CITE@EN[XQuery 1.0 and XPath 2.0 Functions and Operators]] 
<http://www.w3.org/TR/2007/REC-xpath-functions-20070123/#terminology>
--- [[助動詞]]は独自の定義。
--- [[小文字]]。
--- [CODE(HTMLe)@en[[[a]]]] [[要素]]の先頭と末尾に
[Q[[CODE(HTML)@en[<span class="arrow">・</span>]]]]
が挿入されています。これは、
この仕様書で定義されている他の[[用語]]の[[参照]]でも同じです。
--- [CODE(HTMLa)@en[[[href]]]] がその定義を指しています。
-- [23] [CITE@en[XQuery Scripting Extension 1.0 Requirements]] <http://www.w3.org/TR/2007/WD-xquery-sx-10-requirements-20070323/#terminology>
--- [[助動詞]]は [[RFC 2119]] の定義。
--- [[小文字]]。
--- [CODE(HTMLa)@en[[[href]]]] が[[参考文献]]として提示されている
[[RFC 2119]] の項目を指しています。
- [3] [[XML Spec]] (2.5版以降) [CODE(XMLe)@en[[[rfc2119]]]] [[要素]]
-- [[XML 1.1]] などの [[XMLspec]] 版で。
-- [[大文字]]。
- [47] [[RFC 2629]] [CODE(XMLe)@en[[[bcp14]]]] [[要素]]
-- [[大文字]]
- [12] [[文]]全体が [[HTML]] [CODE(HTMLe)@en[[[span]]]] [[要素]]
-- [CITE@en[XHTML 2.0 - Conformance Definition]]
<http://www.w3.org/TR/2005/WD-xhtml2-20050527/conformance.html#s_conform>
--- 助動詞は [[RFC 2119]] の定義。
--- [[小文字]]。
--- 助動詞単独では[[マーク付け]]なし。
--- 助動詞が含まれる[[文]]全体が [CODE(HTMLe)@en[[[span]]]]
[[要素]]で、 [CODE(example)@en[must]] のような
[CODE(HTMLa)@en[[[class]]]] つき。
--- [[スタイル・シート]]により[[文]]全体が[[イタリック]]で[[オレンジ]]色に。
- [10] [[大文字]]で[[マーク付け]]なし
-- というのは結構多いです。
-- 最近は陽にマークするのが流行ってきているようですが、
まだよく見かけます。
- [11] [[小文字]]で[[マーク付け]]なし
-- 昔から [[W3C]] の仕様書では多いです。
-- この方法を採用する各仕様書は、
[[小文字]]の方が読みやすいからそうしているのだと主張しています。
-- 要求事項であることを明確にし、
かつ強調するという[[大文字]]助動詞の役割を失っていて不便です。
-- 最近は陽にマークするのが流行ってきているようですが、
まだよく見かけます。
]FIG]

[7] [CITE@en[QA Framework: Specification Guidelines]] 
<http://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#consistent-style-tech>

この [[W3C]] の仕様書のための指針では、 [[RFC 2119]]
の助動詞を使用し、それを[[マーク付け]]して明確にすることを勧めています
(が具体的な方法には触れず、 >>8 を参照しています)。

[13]
今のところ [[xml2rfc]] ([[RFC 2629]] の言語) で助動詞を[[マーク付け]]する方法はないみたいです。
([[名無しさん]] [WEAK[2005-11-11 05:20:45 +00:00]])

@@ WHATWG proposes class=ct and anne uses it in CSSOM
draft.

[22]
[CITE@EN[XML Syntax for XQuery 1.0 (XQueryX)]] ([CODE[2007-01-19 07:17:16 +09:00]] 版) <http://www.w3.org/TR/2007/REC-xqueryx-20070123/#xqx_conformance>

[[RFC 2119]] を[[参照]]しつつ再定義
([[名無しさん]])


[27]
[CITE@en[Transforming RFC2629-formatted XML through XSLT]] ([TIME[2007-07-23 05:30:42 +09:00]] 版) <http://greenbytes.de/tech/webdav/rfc2629xslt/rfc2629xslt.html#extensions>

* JIS における規定

[31] '''文章の末尾''' 要求事項の記述は、その内容が指示・要求、禁止、推奨若しくは許容のいずれであるか、又は単なる情報としての記述であるかを明確に区別しなければならない。

要求事項の文章の末尾は、その意味の区別によって、表3のようにする。
(以上 [[JISZ8301]]:2000 7. d) )

**JIS Z 8301:2000 表3 要求事項の文章の末尾
,意味の区別  ,末尾に置く語句      ,備考       ,国際規格での対応英語
,指示又は要求,"・・・(し)なければらならない。, ・・・する。, ・・・とする。, ・・・による。",規格に適合するためには、厳密にこれに従い、これから外れることを認めない。,"shall 同類: is to・・・, is required to・・・, it is required that・・・, has to・・・, only ・・・ is permitted, it is necessary・・・"
,禁止,"・・・(し)てはならない。, ・・・(し)ない。",〃,"shall not 同類: it is not allowed [permitted] [acceptable] [permissible]・・・, is required to be not・・・, is required that・・・be not, is not be・・・"
,推奨,"・・・することが望ましい。, ・・・するのがよい。",このほかでもよいが、これが特に適しているとして示す。又はこれが好ましいが、必要条件とはしない。,"should 同類: it is recommended that・・・, ought to・・・"
,緩い禁止,・・・しないほうがよい。,これは好ましくないが、必ずしも禁止しない。,"should not 同類: it is recommended that・・・not, ought not to・・・"
,許容,"・・・(し)てもよい。, ・・・差し支えない。",規格の立場に立って、これを許すことを示す。,"may 同類: is permitted, is allowed, is permissible"
,不必要,"・・・する必要がない。, ・・・しなくてもよい。",〃,"need not 同類: it is not required that・・・, no・・・is required"

* ISO/IEC の助動詞

[44] [[ISO/IEC]] [[国際標準]]で使う[[助動詞]]は、 [[ISO/IEC Directives]]
で規定されています。

[45] 次の[[助動詞]]があります [SRC[>>43]]。
[FIG(short list)[
- [[shall]]
- [[shall not]]
- [[should]]
- [[should not]]
- [[may]]
- [[need not]]
- [[can]]
- [[cannot]]
]FIG]

[REFS[
- [43] [CITE[[[ISO/IEC Directives]]]] ([TIME[2011-06-27 23:35:55 +09:00]] 版) <http://www.iec.ch/members_experts/refdocs/iec/isoiec-dir2%7Bed6.0%7Den.pdf#page=70>
]REFS]

* メモ

[42] [[RFC 2119]] [[助動詞]]は、注意して利用するべきもので、特に、
[[相互運用性]]にほんとうに必要な場合や、有害な可能性のある行為を制限する場合にのみ用いなければ[['''ならない''']]とされています
[SRC[>>41]]。
とりわけ、[[相互運用性]]のために必要でない限り特定の実装法を要求するために使ってはいけないとされています [SRC[>>41]]。

[REFS[
- [41] [CITE@en[RFC 2119 - Base Encodings]] ([TIME[2014-06-11 10:38:58 +09:00]] 版) <http://tools.ietf.org/html/rfc2119#section-6>
]REFS]

[16]
[CITE[XSPF Version 1]] <http://xspf.org/xspf-v1.html#rfc.section.2.3.2.p.1>

> The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document MUST NOT be interpreted as described in [RFC2119]. In this document these should be interpreted to mean that something shouted is important. XSPF is not a standards track document, it is an ad-hoc project by a group of individuals. Developers may, however, find that [RFC2119] is a useful source anyway.

ワロスwwwwwwww
([[名無しさん]] [WEAK[2006-08-21 12:37:11 +00:00]])

[26]
[CITE@ja[一歩先のWeb標準 ♯1 | Webデザイナー・クリエイター > アイデアノート | withD]] ([CODE[2007-04-28 11:35:15 +09:00]] 版) <http://wd.dsp.co.jp/web/idea/2159.html>

[[RFC 2119]] の用語を使っているかのように見えるが、
実のところそうではない。

> 最初の「必須レベル」は、DTD(XHTML&#8482; 1.1 - Second Editionから、XML Schemaという選択肢も加わりました)によって明示的に文法が定義されていますので、プログラムを使った文法の検証(validate)が可能です。

とかかなりあやしいことが書かれている。
([[名無しさん]] [WEAK[2007-04-28 02:49:23 +00:00]])

[33] [CITE@en[RFC 6919 - Further Key Words for Use in RFCs to Indicate Requirement Levels]]
( ([TIME[2013-04-02 05:59:46 +09:00]] 版))
<https://tools.ietf.org/html/rfc6919>

[FIG(quote)[
[FIGCAPTION[
[46] ([TIME[2015-05-12 21:52:50 +09:00]] 版)
<http://www.etsi.org/deliver/etsi_ts/103200_103299/103285/01.01.01_60/ts_103285v010101p.pdf>
]FIGCAPTION]

> In the present document "shall", "shall not", "should", "should not", "may", "need not", "will", "will not", "can" and
> "cannot" are to be interpreted as described in clause 3.2 of the ETSI Drafting Rules (Verbal forms for the expression of
> provisions).
> "must" and "must not" are NOT allowed in ETSI deliverables except when used in direct citation. 

]FIG]


[54] [CITE@en[Editorial: refactor to depend on the Infra Standard]]
([[domenic]]著, [TIME[2016-11-17 07:29:00 +09:00]])
<https://github.com/whatwg/html/commit/4ac633e08c2c9430853fc8322943bc2438ed36a3>

[55] [CITE@en[Editorial: start using the Infra Standard]]
([[annevk]]著, [TIME[2016-11-18 20:21:54 +09:00]])
<https://github.com/whatwg/encoding/commit/a26f76889bf393999e9caad84a3647ab09c39e09>

[56] [CITE@en[Editorial: start using the Infra Standard]]
([[annevk]]著, [TIME[2016-11-18 23:44:14 +09:00]])
<https://github.com/whatwg/fetch/commit/9ba4e78e5cb5fc1132f89d7e344cd2c2e1950c67>

[57] [CITE@en[Editorial: leave ASCII case-insensitive to Infra]]
([[annevk]]著, [TIME[2016-11-18 20:39:03 +09:00]])
<https://github.com/whatwg/html/commit/5f3f27bfdf0e0139f6cf5f22508f37710d917c00>

[58] [CITE@en[Editorial: make use of the Infra Standard]]
([[annevk]]著, [TIME[2016-11-18 20:06:36 +09:00]])
<https://github.com/whatwg/dom/commit/bb2890beed2be14d2f7633ec89e2bbb88ec7fdcd>

[59] [CITE@en[Editorial: use the Infra Standard]]
([[annevk]]著, [TIME[2016-11-21 20:27:58 +09:00]])
<https://github.com/whatwg/fullscreen/commit/06ae8faa6335bfdcc5c9d9e643c0cb797efbc9d9>

[FIG(quote)[
[FIGCAPTION[
[60] [CITE@en[RFC 7992 - HTML Format for RFCs]]
([TIME[2016-12-17 02:51:45 +09:00]])
<https://tools.ietf.org/html/rfc7992#section-9.9>
]FIGCAPTION]

>    This element marks up words like MUST and SHOULD '''['''BCP14''']''' with an HTML
<span> element with the CSS class "bcp14".
>    You <span class="bcp14">MUST</span> be joking.

]FIG]

[61] これ [MUST[MUST]] の利用例としておかしいだろ・・・

[62] [CITE@en[Editorial: avoid "must", "should" etc. in notes]]
([[zcorpan]]著, [TIME[2017-02-16 04:19:28 +09:00]])
<https://github.com/whatwg/html/commit/fb7f7676f625a2ce43efbccc97f356d4811972b8>