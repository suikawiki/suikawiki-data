[2] かつては、[[タイプライター]]のような[DFN[重ね打ち]]で[[基底文字]]と[[アクセント]]などの組み合わせを表現できると (理論上) されていました。

[3] 現在は[[結合文字]]が使われています。

* 規定

[10] [[ISO/IEC 646]]

[1] '''JIS X 0201 における合成文字'''
[SRC@en[[[JIS X 0201]]:1997 7.]]
- [[JIS X 0201]]:1997 で規定するすべての[[図形文字]]は、
[[現在位置の前進動作を伴う文字]] ([[スペーシング文字]])。
- [[JIS X 0211]] の [CODE(charname)@en[[[BACKSPACE]]]]
や [CODE(charname)@en[[[CARRIAGE RETURN]]]]
を使用して2[[文字]]以上の[[図形文字]]を同じ[[文字位置]]に重ねて[[表示]]できる。
-- 例えば [CODE(charname)@en[[[SOLIDUS]]]] と
[CODE(charname)@en[[[EQUAL SIGN]]]] で
[CODE(char)[≠]] を[[表示]]できる。
-- [CODE(charname)@en[[[LOW LINE]]]] や 
[CODE(charname)@en[[[OVER LINE]]]] は単独でも使用できるし、
[Q[アンダライン付き]]や[Q[オーバライン付き]]の[[文字]]を[[表示]]させることもできる。
-- [CODE(charname)@en[[[QUOTATION MARK]]]],
[CODE(charname)@en[[[APOSTROPHE]]]],
[CODE(charname)@en[[[COMMA]]]],
[CODE(charname)@en[[[CIRCUMFLEX ACCENT]]]],
[CODE(charname)@en[[[GRAVE ACCENT]]]] はそれぞれ
[Q[アクサンテギュ付き]]、[Q[ウムラウト付き]]、
[Q[セディユ付き]]、[Q[アクサンシルコンフレックス付き]]、
[Q[アクサングラーブ付き]]の[[文字]]を[[合成]]するのに使用できる。
--- そのために最初か最後が[[アクセント]]付けされる[[文字]]、
2番目が [CODE(charname)@en[[[BACKSPACE]]]]、
もう1つがこれらの[[文字]]という3[[文字]]の列が使用できる。
- [[合成文字]]を含む[[データ]]を[[情報交換]]する場合は、
当事者間で[[合成文字]]の種類と[[合成]]の方法についての合意が必要。
- [[開放型環境]]では[[合成文字]]は使用しないほうが良い。









制御文字 [[BACKSPACE]] (後退) や [[CR]] (復帰)
を使用することで、2文字以上の[[図形文字]]を同じ[[文字位置]]に
重ねて表示することが出来ます。 ([[重ね打ち]]といいます。
[[タイプライタ]]に由来します。) たとえば "/" (SOLIDUS)
と "=" (EQUALS SIGN) を組み合わせることで、 "≠"
(NOT EQUALS SIGN) を表示出来ます。組み合わせられた合成文字は
一つの[[CCデータ要素]]として扱われます。

一般に合成文字を含むデータを情報交換する場合には、
あらかじめ送受信者間で合成文字の種類及び合成方法に関する
合意が必要です。[[開放型環境]]での情報交換を確実にするために、
合成文字は使用しないほうが良いとされています。

* 禁止

[8] 
この合成方法はタイプライタの時代からのものです。
しかし、同じ[[図形記号]]の表現に BS や CR を自由自在に
組み合わせた無限の方法が存在し得るのですから、
表示以外の処理には向きません。実際この方法を使っているのは
[[タイプライタ]]と[[端末]]装置くらいでしょう。

[4] 
従ってこの合成方法は現在では推奨されず、 (例えば [[JISX0208]]:1997
は禁止しています。) 代わりに[[結合文字]]を使う方法が採られています。

[9] 
[[ISO/IEC 4873]] は禁止していました。

[FIG(quote)[ [5] [[JIS X 0208:1997]]

>
[B[8. 合成文字の取扱い]] この規格で規定する符号化文字集合中のすべての図形文字は, 現在位置の前進動
作を伴う文字 (スペーシング文字) とする。 [B[JIS X 0211]] の BACKSPACE (後退) 又は CARRIAGE RETURN
(復帰) を使用することによって, 2文字以上の図形文字を同じ文字位置に重ねて表示することができる
が, こうした合成文字を用いてはならない。
>
[BOX(indent)[
[B[備考]] 2区94点の LARGE CIRCLE (大きな丸) “◯” は, これまでの規格との互換性のため削除しな
いが, この図形文字を合成のために用いてはならない。
]BOX]

]FIG]


[FIG(quote)[ [11] [[JIS X 0213:2000]]

>
[B[8. 合成文字の取扱い]] この規格で規定する符号化文字集合中のすべての図形文字は, 別に規定するもの
を除き, 現在位置の前進動作を伴う文字とする。 [B[JIS X 0211]] の BACKSPACE (後退) 又は CARRIAGE RETURN
(復帰) を使用することによって, 2文字以上の図形文字を同じ文字位置に重ねて表示することができる
が, こうした合成文字を用いてはならない。文字合成を実装する場合は, ダイアクリティカルマーク (合
成可能) は, 現在位置の前進を伴わない文字として用いてもよい。
>
[BOX(indent)[
[B[備考]] 1面2区94点の LARGE CIRCLE (大きな丸) “◯” は, 現在位置の前進を伴う文字であり, 文
字合成を実装する場合に, 現在位置の前進を伴わない文字として用いてはならない。
]BOX]

]FIG]


[SEE[ [[LARGE CIRCLE]], [[結合文字]] ]]


[FIG(quote)[
[FIGCAPTION[
[7] 
[CITE[[[JIS X 0208]] 改正案説明資料]],
[[芝野耕司]],
[TIME[1995 年 11 月 20 日][1995-11-20]]
]FIGCAPTION]

>
JIS X 0202 (ISO/IEC 2022),すなわち,符号拡張法を含めて,符号化文字集合規格で認めている文字
の合成方法は,次に二つの方法である。一つの方法は,ISOR 646 以来の BACKSPACE 又は CARRIAGE
RETUREN 及び SPACE を組合せ,重ね打ちによって文字を合成する方法であり,もう一つの方法は,ISO
6937 などで規定される文字送りなしのアクセント記号を用いる方法である。これらの符号化文字集合にお
ける文字合成方法は,どちらも基本的には,重ね打ちに基づいている。
>
このような合成方法では,日本国内で広く用いられている丸付き数字,単位記号文字などの文字を実際
に合成することはできない。にもかかわらず,1978 年に制定した第 1 次規格以来,文字合成に関して,こ
うした具体的な技術に立脚した ISO での合成文字を厳密に議論することなく,文字合成の概念のみをあた
かも魔法のように取り扱ってきた。そのため,丸付き数字,片仮名単位字などは,日常的に広く用いられ
ているにも関わらず,合成が可能であるとして,符号化文字集合に入れられていない。このような文字に
関しては,実務上必要であるが,実際には合成できないため,各社の実装ではメーカ提供外字として取り
入れられており,規格の運用面での問題が生じている。
]FIG]

* メモ

[6] 
[[合成図形文字]]は[[書式機能]]だけを使用して作る。
[[編集機能]]は、この目的に使用してはならない。 ([[JISX0211]]-1994 6.4.2)







[12] [CITE[Character Sets: UCS/Unicode Environment: MARC 21 Specifications for Record Structure, Character Sets, and Exchange Media (Library of Congress)]]
([TIME[2007-12-04T16:23:37.000Z]], [TIME[2020-10-14T04:10:36.695Z]])
<https://www.loc.gov/marc/specifications/speccharucs.html#combining>


[13] 
[[JIS X 4153:1998]] 6.3.1.2 b)
「送りのないダイアクリティカルマーク及びe (2文字)」
(= アキュートアクセント付きe)

