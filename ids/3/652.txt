
[7] [[HTML]] では、有限個の[[キーワード]]のいずれかを取る[[属性]]を[DFN[[RUBY[列挙属性][れっきょぞくせい]@en[enumerated attribute]]]]といいます。
[SRC[[[Web Applications 1.0]]]]

[8] [[列挙属性]]は、それに対応する[DFN[[RUBY[状態]@en[じょうたい]@en[state]]]]を持ち、
[[属性値]]によってどの[[状態]]にあるかが決定します。

* 仕様書

[REFS[
- [9] [[Web Applications 1.0]]
-- <https://www.whatwg.org/specs/web-apps/current-work/complete.html#enumerated-attribute>
]REFS]

* 状態

[11] [[列挙属性]]では、
-[[属性値]]となるキーワード
-- [[空文字列]]であることもある
-- キーワードが[[不適合]]であることもある
-キーワードと[[状態]]の対応
-- キーワードに対応しない状態もある
-- 複数のキーワードが1つの状態に対応することもある
-[[非妥当値既定値]]
-- ないこともある
-[[欠値既定値]]
-- ないこともある

が定義されます。

[FIG(steps)[
= [[属性値]]がキーワードと[[ASCII大文字・小文字不区別]]でいずれかのキーワードに一致すれば、そのキーワードに相当する[[状態]]であるとします。
= そうでない場合で、[[属性]]が[[指定]]されている場合は、[DFN[[RUBYB[非妥当値既定値]@en[invalid value default]]]]があれば、その[[状態]]であるとします。
= そうでない場合で、[DFN[[RUBYB[欠値既定値]@en[missing value default]]]]があれば、その[[状態]]であるとします。
= それ以外の場合、どの[[状態]]でもありません。
]FIG]

* 列挙属性の一覧

[12] [[HTML5]] に[[適合]]する[[列挙属性]]は以下のものです。

- [CODE(HTMLa)@en[[[contenteditable]]]]
- [CODE(HTMLa)@en[[[dir]]]]
- [CODE(HTMLa)@en[[[draggable]]]]
- [CODE(HTMLa)@en[[[enctype]]]]
- [CODE(HTMLa)@en[[[formenctype]]]]
- [CODE(HTMLa)@en[[[formmethod]]]]
- [CODE(HTMLa)@en[[[method]]]]
- [CODE(HTMLa)@en[[[scope]]]]
- [CODE(HTMLa)@en[[[shape]]]]
- [CODE(HTMLa)@en[[[spellcheck]]]]
- [CODE(HTMLa)@en[[[type]]]] ([CODE(HTMLe)@en[[[command]]]])
- [CODE(HTMLa)@en[[[type]]]] ([CODE(HTMLe)@en[[[button]]]])
- [CODE(HTMLa)@en[[[type]]]] ([CODE(HTMLe)@en[[[input]]]])
- [CODE(HTMLa)@en[[[type]]]] ([CODE(HTMLe)@en[[[menu]]]])
- [CODE(HTMLa)@en[[[wrap]]]]

;; [CODE(HTMLa)@en[[[contenteditable]]]] は[[空文字列]]も[[キーワード]]である点で [[HTML5]] より前の[[列挙属性]]の定義には合致しませんでした。
[CODE(HTMLa)@en[[[method]]]] や [CODE(HTMLa)@en[[[formmethod]]]] も「/」が[[キーワード]]に含まれているため
[[HTML5]] より前の[[列挙属性]]の定義には合致しませんでした。

[25] 次の[[属性]]は、[[列挙属性]]ですが、[[仕様書]]上は状態と値を直接規定する通常の方法ではなく、
他の定義を参照する形となっています。 ([[仕様書]]の定義上は特別ですが、
利用上は特別な所はありません。)
[FIG(short list)[
- [CODE(HTMLa)@en[referrerpolicy]]
]FIG]

[13] [[HTML5]] で「[[廃止]]」として挙げられている[[列挙属性]]または[[列挙属性]]に相当するものは以下のものです。

- [CODE(HTMLa)@en[[[align]]]]
- [CODE(HTMLa)@en[[[behavior]]]]
- [CODE(HTMLa)@en[[[direction]]]]
- [CODE(HTMLa)@en[[[frame]]]]
- [CODE(HTMLa)@en[[[rules]]]]
- [CODE(HTMLa)@en[[[scrolling]]]]
- [CODE(HTMLa)@en[[[truespeed]]]]
- [CODE(HTMLa)@en[[[type]]]] ([CODE(HTMLe)@en[[[ul]]]])
- [CODE(HTMLa)@en[[[valign]]]]

[20] [CODE(HTML)@en[<link as>]] は、[[列挙属性]]に近いですが、
[[大文字]]と[[小文字]]を区別します。[[反映]]する[[IDL属性]]は
[[Web IDL]]の[[列挙型]] [CODE[RequestDestination]] として定義されています。

[19] [CODE(HTML)@en[<ol type>]]は、[[列挙属性]]に近いですが、
[[大文字]]と[[小文字]]を区別します。

[HISTORY[
[22] [[廃止]]された [CODE(HTML)@en[<li type>]] と [CODE(HTML)@en[<dir type>]]
は、[[列挙属性]]である [CODE(HTML)@en[<ul type>]] と[[大文字]]・[[小文字]]を区別する
[CODE(HTML)@en[<ol type>]] の両方の[[属性値]]を指定できることになっていました。

[21] [CODE(HTMLa)@en[autocomplete]] は、かつては[[列挙属性]]でしたが、
その後の拡張で独自の構文となりました。
]HISTORY]

* 歴史

** 列挙型 (SGML)

[1] [[WebSGML]] では同じ[[要素型]]の複数の列挙型の[[属性]]で、選択肢として同じ[[名前字句]]が含まれていてもかまいません。

例 : (素の SGML では不当、 Web SGML では妥当)
[PRE[
<!ATTLIST block
   align (left|center|right) #IMPLIED
  valign (top|center|bottom) #IMPLIED>
]PRE]

しかしながら、この場合、重複した値が使われる[[属性指定]]では[[属性名]]の省略ができなくなります。
(K.4.4.2 参照。)
例 :
-○ [SAMP(SGML)[<block left/>]]
-○ [SAMP(SGML)[<block bottom/>]]
-× [SAMP(SGML)[<block center/>]]
-○ [SAMP(SGML)[<block left bottom/>]]
-× [SAMP(SGML)[<block center center/>]]

** 90年代の HTML

[10] [[HTML]] の[[列挙属性]]は [[SGML]] の[[列挙型]]の[[属性]]に遡ります。
[[HTML4]] までの [[HTML]] 仕様は [[SGML DTD]] を使って記述されていましたので、
[[SGML]] で[[属性型]]が[[列挙型]]で規定されているものが[[列挙属性]]とされていました。
それらは後に [[XHTML]] でも [[XML DTD]] 上で[[列挙型]]として記述されました。

** Web Forms 2.0

[2]
[[Web Forms 2.0]] では、いくつかの[[属性]]が、
決められた値のうちのいずれかを取ると定義されていました。
従来の版の [[HTML]] では[[列挙型]]の[[属性]]や[[ブール型属性]]と呼ばれていたものがそれにふくまれました。

[REFS[
- [3] [[Web Forms 2.0]]
-- [CSECTION@en[2.3. Changes to existing controls]] <http://www.whatwg.org/specs/web-forms/current-work/#changes>
]REFS]

[4] '''大文字と小文字''':
[[属性値]]の[[比較]]は、[[大文字・小文字不区別]]で行います。
[SRC@en[WF2 2.3]]

[5] '''空白''':
[[Web Forms 2.0]] では、 [[HTML 4]] の定義とは異なり、
[[空白]]の削除は[['''してはなりません''']]。
[SRC@en[WF2 2.3]]

;; 但し、使用している [[DTD]] によっては、
[[XML]] の規則に従い、 [[HTML]] レベルの処理以前に[[属性値]]の[[空白]]の[[正規化]]が行われているかもしれません。

[6] 従って、 [[HTML文書]]
[PRE(HTML invalid example code)[
<input type=" text ">
]PRE]
は[[不適合]]です。

** HTML5

[14] [CITE['''['''whatwg''']''' IDL attribute reflecting enumerated attributes not limited to only know values]]
([TIME[2010-08-07 19:04:28 +09:00]] 版)
<http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-August/027697.html>

[15] [CITE[''''''[''''''whatwg'''''']'''''' IDL attribute reflecting enumerated attributes not limited to only know values]]
( ([TIME[2010-08-27 06:22:34 +09:00]] 版))
<http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-August/028201.html>

[16] [CITE@en[Web Applications 1.0 r5537     Match UAs better for 'limited to known values' reflection.Fixing http://www.w3.org/Bugs/Public/show_bug.cgi?id=10380]]
( ([TIME[2010-09-29 08:11:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=5536&to=5537>


[17] [CITE@en-US[XBL 2.0]]
( ([TIME[2012-05-03 02:23:03 +09:00]] 版))
<http://dev.w3.org/2006/xbl2/Overview.html#attributes-containing-keywords>

[18] [CITE@en-US[XML Binding Language (XBL) 2.0]]
( ([TIME[2007-03-16 22:20:16 +09:00]] 版))
<http://www.w3.org/TR/2007/CR-xbl-20070316/#state>

[23] [CITE@en[Case-sensitive as="" for <link> is weird · Issue #1665 · whatwg/html]]
([TIME[2016-08-15 13:38:23 +09:00]])
<https://github.com/whatwg/html/issues/1665>

[24] [CITE@en[Do not repeat the referrer policies]]
([[domenic]]著, [TIME[2016-08-26 06:33:48 +09:00]])
<https://github.com/whatwg/html/commit/4c228d3fd9e61dee2c45ee0cd7722e1671f6ca9f>