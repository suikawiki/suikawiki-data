[17] [[T-Time]] は、独自拡張を含む [[HTML]]
を理解します。 
[[T-Time]] というソフトウェアの性格上、
追加要素・属性は[[表現]]的なものに大きく偏っています。

[21] [[T-Time]] 以外で利用されることはありませんでしたし、それを目指していたわけでもなさそうです。
いずれにせよ、 [[HTML]] や [[CSS]] の開発の流れを逸脱した独自の拡張だったため、
普及することも、その後の [[HTML]] や [[CSS]] の仕様の拡張に影響をおよぼすこともできませんでした。

[19] 拡張を含むマークの解釈についての解説は、
T-Time 付属の文書に詳しく載っています。

-*-*-

[50] [CITE[T-Time]], [TIME[2024-09-08T13:09:44.000Z]], [TIME[1999-02-24T21:03:32.298Z]] <https://web.archive.org/web/19990224210311/http://www.voyager.co.jp/T-Time/HTML.html>

[51] >>50 これは v1 の時代のもの

[52] >>50

>また、T-Timeだけが解釈する拡張HTMLタグを使って、ルビの表示、フォントサイズ固定などのコントロールも可能です。TABを使ってインデント表示を行うこと、テキストにアウトライン構造を持たせることもできます。

[53] [CITE[T-Time]], [TIME[2024-09-08T13:12:22.000Z]], [TIME[1998-06-13T16:24:43.616Z]] <https://web.archive.org/web/19980613162100/http://www.voyager.co.jp/T-Time/7_link.html>

[54] [CITE[T-Time]], [TIME[2024-09-08T13:12:47.000Z]], [TIME[1998-06-13T16:25:16.141Z]] <https://web.archive.org/web/19980613162112/http://www.voyager.co.jp/T-Time/9_oubun.html>

[55] [CITE[T-Time]], [TIME[2024-09-08T13:14:23.000Z]], [TIME[1998-06-13T16:21:42.392Z]] <https://web.archive.org/web/19980613162054/http://www.voyager.co.jp/T-Time/6_inline.html>

[59] [CITE[T-Time Update]], [TIME[2024-09-08T13:43:06.000Z]], [TIME[1999-03-02T06:28:07.760Z]] <https://web.archive.org/web/19990302062739/http://www.voyager.co.jp/T-Time/update/index.html#ATT112>

[56] [CITE[T-Time v1.1.3 バージョンアップのポイント]], [TIME[2024-09-08T13:34:22.000Z]], [TIME[2001-03-10T11:14:58.270Z]] <https://web.archive.org/web/20010310111418/http://www.voyager.co.jp/T-Time/v113.html>

-*-*-


[41] [CITE[T-Time:v2.0.3 の新しい仕様・機能]], [TIME[2024-08-24T09:48:39.000Z]], [TIME[2001-02-21T16:04:52.634Z]] <http://web.archive.org/web/20010221160450/http://www.voyager.co.jp/T-Time/20spec.html>

[40] 
[CITE[T-Time:v2.1.1 の新しい仕様・機能]], [TIME[2024-08-24T09:47:58.000Z]], [TIME[2001-02-21T16:01:13.895Z]] <http://web.archive.org/web/20010221160032/http://www.voyager.co.jp/T-Time/21spec.html>


[39] [CITE[T-Time:v2.2 の新しい仕様・機能]], [TIME[2024-08-24T09:46:34.000Z]], [TIME[2000-11-01T11:23:01.558Z]] <http://web.archive.org/web/20001101112249/http://www.voyager.co.jp/T-Time/22spec.html>

[42] [CITE[T-Time:v2.3.1 の新しい仕様・機能]], [TIME[2024-08-24T09:49:19.000Z]], [TIME[2001-03-06T02:39:57.350Z]] <http://web.archive.org/web/20010306023952/http://www.voyager.co.jp/T-Time/23spec.html>


- [23] ''T-Time:タグ入門'' <http://web.archive.org/web/20000918090105/http://www.voyager.co.jp/T-Time/taglesson/index.html>
- [24] ''T-Timeが行うHTMLの解釈について'' <http://www.voyager.co.jp/T-Time/HTML.html>

[28] [CITE[T-Time:タグ入門「1)基本フォーム」]], [TIME[2020-10-25T03:02:04.000Z]] <https://www.voyager.co.jp/support/T-Time/taglesson/L1.html>

[29] [CITE[T-Time:タグ入門「2)テキストの回り込み」]], [TIME[2020-10-25T03:03:25.000Z]] <https://www.voyager.co.jp/support/T-Time/taglesson/L2.html>

[30] [CITE[T-Time:タグ入門「3)文字組み(インデント)」]], [TIME[2020-10-25T03:03:39.000Z]] <https://www.voyager.co.jp/support/T-Time/taglesson/L3.html>

[31] [CITE[T-Time:タグ入門「4)文字組み(行揃え)」]], [TIME[2020-10-25T03:04:11.000Z]] <https://www.voyager.co.jp/support/T-Time/taglesson/L4.html>

[32] [CITE[T-Time:タグ入門「5)文字組み(フォント指定、等)」]], [TIME[2020-10-25T03:04:33.000Z]] <https://www.voyager.co.jp/support/T-Time/taglesson/L5.html>

[33] [CITE[T-Time:タグ入門「6)文字組み(ルビ、傍点、傍線)」]], [TIME[2020-10-25T03:05:27.000Z]] <https://www.voyager.co.jp/support/T-Time/taglesson/L6.html>


[34] [CITE[T-Time:タグ入門「7)文字コード(外字フォント、外字グラフィック)」]], [TIME[2020-10-25T03:06:03.000Z]] <https://www.voyager.co.jp/support/T-Time/taglesson/L7.html>

[35] [CITE[T-Time:タグ入門「8)文字組み(テキストフィールド、段組、背景色の変更)」]], [TIME[2020-10-25T03:06:34.000Z]] <https://www.voyager.co.jp/support/T-Time/taglesson/L8.html>

[36] [CITE[T-Time:タグ入門「9)文字組み(数式、返り点)」]], [TIME[2020-10-25T03:07:46.000Z]] <https://www.voyager.co.jp/support/T-Time/taglesson/L9.html>


[37] [CITE[T-Time:タグ入門「10)画像レイアウト(テキストの回り込み II)」]], [TIME[2020-10-25T03:08:10.000Z]] <https://www.voyager.co.jp/support/T-Time/taglesson/L10.html>






[26]
>>19 [[T-Time]] 5.5にはついてないみたいです。
([[名無しさん]] [WEAK[2006-02-04 10:47:51 +00:00]])

* 独自拡張要素型

[18] T-Time 2.1 以降は、独自拡張型の接頭辞を
[CODE(HTML)[!]] から [CODE(HTML)[T-]] に変更しています。

[58] [CITE[T-Time:v2.1.1 の新しい仕様・機能]], [TIME[2024-09-08T13:40:15.000Z]], [TIME[2001-02-21T16:02:01.567Z]] <https://web.archive.org/web/20010221160032/http://www.voyager.co.jp/T-Time/21spec.html>

>なお、T-Time 専用タグに使用している冒頭の ! 記号は、t- で代替可能となりました。例:<t-pb cpl=n dan=m>
>ただし、t- タグを使用したデータは、v2.1以上のT-Timeでなければ正常動作しなくなります。 



,[[.date]]
,[[.find.key]]
,[[.mail]]
,[[.name]]
,[[.search.key]]
,[[.search.max]]
,[[.search.match]]
,[[.time]]
,[[inv]]	,反転
,[[!middle]]
,[[t-action]]
,[[t-bottom]]
,[[t-case]]
,[[t-cb]]	,Column break
,[[t-code]]	,文字参照
,[[t-em]]	,強調
,[[t-hide]]
,[[t-img]]
,[[t-left]]	,左揃え (非推奨)
,[[t-move]]	,文字位置調整
,[[t-nocase]]
,[[t-pb]]	,Page break
,[[t-pdef]]	,挿絵定義
,[[t-phead]]	,
,[[t-ptail]]	,
,[[t-r]]	,ルビ
,[[t-rb]]	,ルビ
,[[t-right]]	,右揃え (非推奨)
,[[t-tab]]	,Indentation
,[[t-time]]
,[[t-top]]

- [CODE[<t-time stroke="">]]
- [CODE[<t-pb stroke="">]]

[22] SGML 違反ですが、タグ内に注釈がかけるそうです。
[PRE[
<element attr=val // comment
  attr1=val //comment
>
]PRE]



[FIG(data)[ [46] [[HTML要素概説]]

:[F[要素名]]:[CODE[t-pb]]
:[F[要素名]]:[CODE[!pb]]
:日付:[TIME[2000-12]]
:説明:
[TIME(jp)[2000]]頃[[電子書籍]]ソフトウェア
[CITE[T-Time]]
が実装していた。
[[改頁]]を表す。
:出典:
[REFS[

-
[CITE[T-Time の解釈できるHTML <タグ> v2.3.0]],
[DATA(.author)[[[Voyager Japan Inc.]]]],
[TIME(.published jp)[2000-12]]

]REFS]

]FIG]

[FIG(data)[ [47] [[HTML要素概説]]

:[F[要素名]]:[CODE[t-cb]]
:日付:[TIME[2000-12]]
:説明:
[TIME(jp)[2000]]頃[[電子書籍]]ソフトウェア
[CITE[T-Time]]
が実装していた。
[[改段]]を表す。
:出典:
[REFS[

-
[CITE[T-Time の解釈できるHTML <タグ> v2.3.0]],
[DATA(.author)[[[Voyager Japan Inc.]]]],
[TIME(.published jp)[2000-12]]

]REFS]

]FIG]



[FIG(data)[ [216] [[HTML要素概説]]

:[F[要素名]]:[CODE[inv]]
:[F[要素名]]:[CODE[t-em]]
:[F[要素名]]:[CODE[t-left]]
:[F[要素名]]:[CODE[t-right]]
:[F[要素名]]:[CODE[t-tab]]
:[F[要素名]]:[CODE[t-code]]
:[F[要素名]]:[CODE[t-move]]
:[F[要素名]]:[CODE[!img]]
:[F[要素名]]:[CODE[t-img]]
:[F[要素名]]:[CODE[t-time]]
:[F[要素名]]:[CODE[!action]]
:[F[要素名]]:[CODE[t-action]]
:[F[要素名]]:[CODE[t-case]]
:[F[要素名]]:[CODE[t-nocase]]
:[F[要素名]]:[CODE[t-hide]]
:[F[要素名]]:[CODE[!middle]]
:日付:[TIME[2000-12]]
:説明:
[TIME(jp)[2000]]頃[[電子書籍]]ソフトウェア
[CITE[T-Time]]
が実装していた。
:出典:
[REFS[

-
[CITE[T-Time の解釈できるHTML <タグ> v2.3.0]],
[DATA(.author)[[[Voyager Japan Inc.]]]],
[TIME(.published jp)[2000-12]]

]REFS]

]FIG]

[FIG(data)[ [45] [[HTML要素概説]]

:[F[要素名]]:[CODE[t-pdef]]
:[F[要素名]]:[CODE[t-phead]]
:[F[要素名]]:[CODE[t-ptail]]
:[F[要素名]]:[CODE[!pdef]]
:[F[要素名]]:[CODE[!phead]]
:[F[要素名]]:[CODE[!ptail]]
:日付:[TIME[2000-12]]
:説明:
[TIME(jp)[2000]]頃[[電子書籍]]ソフトウェア
[CITE[T-Time]]
が実装していた。
[[挿絵]]を表す。
:出典:
[REFS[

-
[CITE[T-Time の解釈できるHTML <タグ> v2.3.0]],
[DATA(.author)[[[Voyager Japan Inc.]]]],
[TIME(.published jp)[2000-12]]

]REFS]

]FIG]

[FIG(data)[ [44] [[HTML要素概説]]

:[F[要素名]]:[CODE[t-r]]
:[F[要素名]]:[CODE[!rb]]
:[F[要素名]]:[CODE[t-rb]]
:[F[要素名]]:[CODE[t-/rb]]
:[F[要素名]]:[CODE[!]]
:日付:[TIME[2000-12]]
:説明:
[TIME(jp)[2000]]頃[[電子書籍]]ソフトウェア
[CITE[T-Time]]
が実装していた。
[[ルビ]]を表す。
:出典:
[REFS[

-
[CITE[T-Time の解釈できるHTML <タグ> v2.3.0]],
[DATA(.author)[[[Voyager Japan Inc.]]]],
[TIME(.published jp)[2000-12]]

]REFS]

]FIG]

[FIG(data)[ [43] [[HTML要素概説]]

:[F[要素名]]:[CODE[.time]]
:[F[要素名]]:[CODE[.date]]
:[F[要素名]]:[CODE[.name]]
:[F[要素名]]:[CODE[.mail]]
:[F[要素名]]:[CODE[.find.key]]
:[F[要素名]]:[CODE[.search.key]]
:[F[要素名]]:[CODE[.search.max]]
:[F[要素名]]:[CODE[.search.max]]
:日付:[TIME[2000-12]]
:説明:
[TIME(jp)[2000]]頃[[電子書籍]]ソフトウェア
[CITE[T-Time]]
が実装していた。
ファイルを開いたときに置き換えられる部分を表すという。
:出典:
[REFS[

-
[CITE[T-Time の解釈できるHTML <タグ> v2.3.0]],
[DATA(.author)[[[Voyager Japan Inc.]]]],
[TIME(.published jp)[2000-12]]

]REFS]

]FIG]


* 標準要素型・広く実装されている拡張要素型への独自拡張属性

,"*/@[[t-class]]",級
,[[a]]/@[[appl]]	,Mac Creator
,a/@[[background]]	,背景実行
,a/@bgcolor
,a/@[[caption]]	,Caption
,a/@charspace
,a/@cmd
,a/@[[exe]]	,Application
,a/@linespace
,a/@linkcolor
,a/@[[newwindow]](=newwindow)	,target=_blank (非推奨)
,a/@pointercolor
,a/@[[prop]]
,a/@[[shake]]	,onclick 微動
,a/@shadowcolor
,a/@subpointercolor
,a/@textcolor
,a/@[[xsize]]
,basefont/@[[charspace]]	,基底字間
,basefont/@[[linespace]]	,基底行間
,[[basefont]]/@[[xsize]]	,基底字寸法
,[[body]]/@[[cpl]]	,行字数
,body/@[[dan]]	,段数
,[[br]]/@[[indent]]	,Indentation
,br/@[[linemode]]	,Image inline viewing
,br/@[[start]]	,Block indenting
,[[font]]/@xsize	,字寸法
,h[VAR[n]]/@caption	,柱文字列
,h[VAR[n]]/@visible	,見出し表示
,h[VAR[n]]/@xsize	,字寸法
,img/@a
,img/@appl
,img/@background
,img/@bordercolor
,img/@caption
,img/@cmd
,img/@color
,img/@drawing
,img/@dspace
,img/@exe
,img/@gaiji
,img/@hline
,img/@href
,img/@line
,img/@linemode
,img/@mode
,img/@newwindow(=newwindow)
,img/@opcolor
,img/@orgheight
,img/@orgwidth
,img/@scale
,img/@shake
,img/@shared
,img/@snap
,img/@src
,img/@targetplane
,img/@vheight
,img/@vline
,img/@vwidth
,img/@x
,img/@y

[[#comment]]


* スタイル・シート

[20] [CODE(MIME)[[[text/t-time]]]] は [[CSS]] もどきの構文。

属性 :
,[[a]]
,[[align]]
,[[appl]]
,[[border]]
,[[bordercolor]]
,[[caption]]
,[[charspace]]
,[[cmd]]
,[[color]]
,[[cpl]]
,[[dan]]
,[[dspace]]
,[[exe]]
,[[face]]
,[[hashira]]
,[[hashiraalign]]
,[[hashirasize]]
,[[hashiravisible]]
,[[height]]
,[[hline]]
,[[href]]
,[[hspace]]
,[[line]]
,[[linemode]]
,[[linespace]]
,[[link]]
,[[midashiface]]
,[[midashisize]]
,[[opcolor]]
,[[prop]]
,[[scale]]
,[[size]]
,[[src]]
,[[text]]
,[[valign]]
,[[vline]]
,[[vspace]]
,[[width]]
,[[x]]
,[[xsize]]
,[[y]]

[[#comment]]


* 例

- [9] head/[SAMP(HTML)[<t-PDEF id=4 src="m0104.jpg" height=100% hspace=12 x=0 y=0 a=1 o=1>]] : 画像定義
-- @id は固有識別子
-- @a は原点 (画像の外枠側の辺の中央があわせられる) 位置
--- 0 : middle center
--- 1 : top left
--- 2 : top center
--- 3 : top right
--- 4 : middle right
--- 5 : bottom right
--- 6 : bottom center
--- 7 : bottom left
--- 8 : middle left
-- @x は右, @y は下方向の原点からの移動量
-- @vspace, @hspace, @width, @height
-- @o=1 : 回り込む
- [10] [SAMP(HTML)[<t-PHEAD id=16 delay=1>]] : 挿絵
-- @id : 定義識別子参照
-- @delay : 遅延頁数 (@delay=1 なら、要素が含まれる頁の次の頁で表示) 
--- @delay=0 のときは (body > :first-child | t-PB + *) に t-PHEAD がないといけない。
- [15] [SAMP(HTML)[<t-PTAIL id=16>]] : 挿絵消去
- [11] [SAMP(HTML)[<t-PB>]] : 改頁
- [12] [SAMP(HTML)[<t-LEFT>]] : 以降左/上揃え
- [13] [SAMP(HTML)[<t-RIGHT>]] : 以降右/下揃え
- [14] [SAMP(HTML)[<FONT xsize=12>・・・</FONT>]]
- [16] [SAMP(HTML)[<!MIDDLE>]]
[[#comment]]


* ruby

- [1]
-- [SAMP(HTML)[<t-R> 禅智内供''(''ぜんちないぐ'')'']]
-- [SAMP(HTML)[<t-R> 禅智内供(ぜん<!>ち<!>ない<!>ぐ)]]
- [2] [SAMP(HTML)[<t-RB> 禅智内供<!>''(''ぜんちないぐ'')''<t-/RB>]]
- [3] [SAMP(HTML)[<ruby>禅智内供<rt>ぜんちないぐ</rt></ruby>]]
- [4] [SAMP(HTML)[<ruby>禅智内供<rp>(</rp><rt>ぜんちないぐ</rt><rp>)</rp></ruby>]]
- [5] [SAMP(HTML)[<ruby><rb>禅智内供</rb><rp>(</rp><rt>ぜんちないぐ</rt><rp>)</rp></ruby>]]

(但し、 [CODE(HTML)[''('']], [CODE(HTML)['')'']]
は [CODE(char)[FULLWIDTH [VAR[*]] PARENSIS]]。)

[6] 例は''T-Time:ルビ、アンチエイリアス'' <http://www.voyager.co.jp/T-Time/t_2-2.html>
より。

[57] [CITE[T-Time:ルビ、アンチエイリアス]], [TIME[2024-09-08T13:37:31.000Z]], [TIME[2001-04-21T05:37:29.875Z]] <https://web.archive.org/web/20010421053702/http://www.voyager.co.jp/T-Time/t_2-2.html>


[7] >>5 は [[W3C]] XHTML Ruby module の形式、
>>3, >>4 は W3C Ruby で以前検討されていた SGML
風表現で、 >>1, >>2 が独自ということになります。

[PRE[
<!-- >>3-5 -->
<!ELEMENT ruby - - (rb,rp?,rt,rp?)>
<!ELEMENT rb o o %rb.content>
<!ELEMENT rp - o %rp.content>
<!ELEMENT rt - o %rt.content>
]PRE]

[8] >>2 を SGML 的に合法化するのはちょっと手間がかかる。

[PRE[
<!ENTITY % FW_OP SDATA "[FULLWIDTH LEFT PARENTHESIS]">
<!ENTITY % FW_CP SDATA "[FULLWIDTH RIGHT PARENTHESIS]">
<!-- >>1 -->
<!ELEMENT t-R - - ([rb, "%FW_OP"], [rt, "%FW_CP"])>
<!ELEMENT rb o o %rb.content>
<!ELEMENT rt o o %rb.content>
<!-- "(", ")" を捨てていいなら、
     データタグじゃなくて短縮参照を使って、 -->
<!ELEMENT t-R - - (rb, rt)>
<!ENTITY rb-end ENDTAG "rb">
<!ENTITY rt-end ENDTAG "rt">
<!SHORTREF t-R
           "%FW_OP" rb-end
           "%FW_CP" rt-end>
<!-- 但し %FW_OP と %FW_CP は SGML 宣言で shortref
     に含めないといけない。 -->
]PRE]

[PRE[
<!-- >>2 -->
<!-- 名前文字に / を追加する方法 -->
<!ELEMENT t-RB - o (rb, rt, t-/RB)>
<!-- 括弧→タグは >>1 のときと同じくデータタグ
     または短縮参照を使う。詳細省略。 -->
<!ELEMENT rb o o %rb.content>
<!ELEMENT rt o o %rt.content>
<!ELEMENT t-/RB - o EMPTY>
<!-- 短縮参照でごり押しする方法 -->
<!ELEMENT t-RB - - (rb, rt)>
<!ELEMENT t-RB-end ENDTAG "t-RB">
<!SHORTREF t-RB "<t-/RB>" t-RB-end>
<!-- もちろん、 SGML 宣言で shortref に <t-/RB>
     を追加しておかないといけない。 -->
]PRE]

>>1, >>2 では [CODE(HTML)[<!>]] を挿入して
[SAMP(HTML)[<rtc><rt>せん</rt><rt>げん</rt></rtc>]]
の [CODE(HTML)[</rt><rt>]] みたいなことができます。
そのままでも SGML 的に空[[注釈宣言]]なので問題ないですし、
XML のように解析器が応用に[[注釈節]]として渡してくれれば処理できますが、
短縮参照で頑張って要素に展開してみましょう。

[PRE[
<!ELEMENT (t-R|t-RB) - - (rbc, rtc)>
<!ELEMENT rbc - - (rb)+>
<!ELEMENT rtc - - (rt)+>
<!ELEMENT (rb|rt) o o %rbrt.content>
<!ENTITY rb-start STARTTAG "rb">
<!ENTITY rt-start STARTTAG "rt">
<!SHORTREF rb "<!>" rb-start>
<!SHORTREF rt "<!>" rt-start>
]PRE]

但し、 SGML 宣言で [CODE(SGML)[<!>]]
を[[短縮参照区切子機能]]に追加する必要が出てきますが、
そうすると文書中の他の要素の子である
[CODE(SGML)[<!>]] も短縮参照として認知されてしまいます。
[CODE(SGML)[[[mdo]]]] としての認知がなされなくなってしまうので、
文書全体で空注釈宣言が使えなくなってしまいます。

[48] [CITE[JepaX 他フォーマットとの関係]], [TIME[2024-08-25T14:29:51.000Z]], [TIME[2000-10-14T17:41:20.273Z]] <https://web.archive.org/web/20001014173803/http://x.jepa.or.jp/jepax/convert/index.html>

[49] >>48 の記述によると [[T-Time]] 1.x は [CODE[<!RB>]] に対応していたということか。

* 利用例

[25]
>>1 を使った文書の例

[CITE[源氏物語 目次]] 
<http://attic.neophilia.co.jp/aozora/genjimonogatari/htmlfiles/index.html>

* 関連

[27] [[TTZ]] は [[T-Time]] の [[HTML]] をコンパイルした独自の[[データ形式]]です。


* メモ

[38] [[ESP]]