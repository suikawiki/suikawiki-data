
* 仕様書

[REFS[
- [1] [CITE@en[RFC 2295 - Transparent Content Negotiation in HTTP]] ([TIME[2014-08-31 19:36:42 +09:00]] 版) <http://tools.ietf.org/html/rfc2295#section-6.2>
]REFS]

* 歴史

[FIG(quote)[
[FIGCAPTION[
[2] RFC 2295 (HTTP 透過内容折衝) 6.2 Feature sets
]FIGCAPTION]

> The feature set of a user agent is a data structure which records the
capabilities of the user agent and the preferences of the user.

[[利用者エージェント]]の[DFN[特徴集合]]は、
利用者エージェントの能力と利用者の好みを記録するデータ構造です。

> Feature sets are used by local variant selection algorithms (see
appendix 19 for an example).  A user agent can use the Accept-Features header (section 8.2) to make some of the contents of its
feature set known to remote variant selection algorithms.

特徴集合は[[局所変種選択算法]]で使います。
利用者エージェントは特徴集合の内容の幾つかを[[遠隔変種選択算法]]に知らせるために
[CODE(HTTP)[[[Accept-Features]]]] 頭を使っても構いません。

> Structurally, a feature set is a possibly empty set, containing
records of the form
[PRE[
      ( feature tag , set of feature tag values )
]PRE]

> If a record with a feature tag is present in the set, this means that
the user agent implements the corresponding capability, or that the
user has expressed the corresponding preference.

> Each record in a feature set has a, possibly empty, set of tag
values.  For feature tags which cannot have values associated with
it, this set is always empty.  For feature tags which can have zero,
one, or more values associated with it, this set contains those
values currently associated with the tag.  If the set of a feature
tag T has the value V in it, it is said that `the tag T is present
with the value V'.

> This specification does not define a standard notation for feature
sets.  An example of a very small feature set, in a mathematical notation, is
[PRE[
      { ( "frames" , { } ) ,
        ( "paper"  , { "A4" , "A5" } )
      }
]PRE]

> As feature registration is expected to be an ongoing process, it is
generally not possible for a user agent to know the meaning of all
feature tags it can possibly encounter in a variant description.  A
user agent SHOULD treat all features tags unknown to it as absent from its feature set.

> A user agent may change the contents of its feature set depending on
the type of request, and may also update it to reflect changing
conditions, for example a change in the window size.  Therefore, when
considering feature negotiation, one usually talks about `the feature set of the current request'.
]FIG]
