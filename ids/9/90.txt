[26] [DFN[[RUBYB[バージョン付け]@en[versioning]]]]とは、[[データ]]や[[メタデータ]]として仕様や実装の[[バージョン]]の情報を付与し、それによって処理モードを変えることをいいます。

* 版付けの失敗例

[17] [[MIME]] は [CODE(MIME)@en[[[MIME-Version:]]]] [[頭欄]]を導入しましたが、
非 [[MIME]] [[メッセージ]]との区別には次第に用いられなくなり、
また新規バージョンも互換性が失われる懸念から導入されずにいます。

[20] [[SOAP]] は元々広く実装された [[SOAP 1.1]] とそれを数年かけて [[W3C]] で標準化した
[[SOAP 1.2]] があり、両者非互換でした。そのため以後の各種 [[WS-*]]
仕様群はどちらの版にも対応させています。

[21] [[XML 1.1]] は [[XML 1.0]] の「[[整形式]]」の定義を変更することとなったため、
新しい版番号が与えられました。各種の [[XML応用]]は個別に [[XML 1.0]] と [[XML 1.1]] 
の両方に対応することが迫られました。しかし結局 [[XML 1.1]] は普及しませんでした。
[[XML 1.0]] の第5版で [[XML 1.1]] の変更の一部が取り込まれ、「[[整形式]]」
の定義が変わったのに版番号は [CODE(XML)[[[1.0]]]] のままとなりましたw
[[xml宣言]]の [CODE(XMLa)@en[[[version]]]] [[擬似属性]]の値が何であっても
([CODE(XML)[[[1.1]]]] であっても) [[XML 1.0]] 第5版 (以降) とみなすことになりました。
(しかし [[XML 1.1]] も廃止されておらず、混沌だけが残りましたw)

[27] [[HTML]] と [[CSS]] は [[DOCTYPEスイッチ]]により90年代の実装の延長にある[[奇癖モード]]と2000年前後の標準仕様に基づく[[標準モード]] (現在の[[無奇癖モード]]) で処理を分岐させる手法を00年代初頭に取り入れましたが、
00年代後半には既に実装コスト、学習コスト、標準化コストがかかるだけの失敗だったと考えられるようになっています。
00年代末には [[IE8]] が同様の異なる仕組みである[[文書モード]]
([CODE(HTTP)@en[[[X-UA-Compatible:]]]]) を導入しましたが、10年代前半の [[IE11]]
はこれを非推奨としています。

[28] [[XHTML2]] は [[XHTML1]] と非互換なことから異なる[[名前空間]]を採用し、
事実上の[[バージョニング]]を行っていました。しかし [[XHTML1]]
への機能追加の要求が強まり、徐々に新機能を [[XHTML1]] へと[[バックポート]]していきました。
その流れは最終的に [[XHTML2]] プロジェクト全体を崩壊させるに至りました。

[29] [[XPath]] と [[XSLT]] は 2.0 で大きな非互換変更を行い、 [CODE(XML)@en[[[version]]]]
を指定することで動作モードを切り替えるようにしましたが、 [[Webブラウザー]]を含む多くの実装が
2.0 の実装を嫌がり、普及の障壁となりました。

[30] [[JavaScript]] は [CODE(HTMLa)@en[[[language]]]] [[属性]]や
[[MIME型]]でバージョンの区別ができることになっていましたが、
[[Webブラウザー]]の実装も[[著者]]側の利用も正しく行えず、
次第にその意味するところが曖昧になっていきました。
最終的にはバージョンの区別はすべて無視されるようになりました。

* メモ

[1]
[CITE@en-US[David Baron's weblog: March 2007]] ([CODE[2007-03-26 09:31:27 +09:00]] 版) <http://dbaron.org/log/2007-03#e20070325a>
([[名無しさん]] [WEAK[2007-03-26 00:33:42 +00:00]])

[2]
[CITE@en[Re: Doctypes and the dialects of HTML 5]] ([[Henri Sivonen]] 著, [CODE[2007-03-25 18:16:51 +09:00]] 版) <http://lists.w3.org/Archives/Public/public-html/2007JanMar/0433>
([[名無しさん]] [WEAK[2007-03-26 10:16:32 +00:00]])

[3]
[CITE@en[Re: Doctypes and the dialects of HTML 5]] ([[Henri Sivonen]] 著, [CODE[2007-03-25 18:16:51 +09:00]] 版) <http://lists.w3.org/Archives/Public/public-html/2007JanMar/0433>
([[名無しさん]] [WEAK[2007-03-26 10:17:07 +00:00]])

[4]
[CITE@en[XForms document versioning]] ([[Mark Birbeck]] 著, [CODE[2007-04-05 01:02:12 +09:00]] 版) <http://lists.w3.org/Archives/Public/www-forms/2007Apr/0006.html>

Versioning ここに極まれり的な提案でつね。
([[名無しさん]])

[5]
[CITE[IRC logs: w3c / #html-wg / 20070404]] ([CODE[2007-04-06 23:18:21 +09:00]] 版) <http://krijnhoetmer.nl/irc-logs/html-wg/20070404#l-1997>

そりゃぁこういう冗談もいいたくなってくるわ。

;; [[言語札]]は本当に版付けが必要な気がするがw

([[名無しさん]])

[6]
[CITE@en-US[David Baron's weblog: April 2007]] ([CODE[2007-04-07 22:16:48 +09:00]] 版) <http://dbaron.org/log/2007-04#e20070405a>
([[名無しさん]] [WEAK[2007-04-07 13:19:03 +00:00]])

[7]
[CITE@en[Versioning and html'''['''5''']''']] ([[Chris Wilson]] 著, [CODE[2007-04-13 01:40:07 +09:00]] 版) <http://lists.w3.org/Archives/Public/public-html/2007Apr/0612.html>
([[名無しさん]] [WEAK[2007-04-14 05:57:29 +00:00]])

[8]
[CITE@en[Sam Ruby: Form Follows Function]] ([CODE[2007-04-16 20:51:51 +09:00]] 版) <http://www.intertwingly.net/blog/2007/04/16/Form-Follows-Function>
([[名無しさん]] [WEAK[2007-04-17 00:29:21 +00:00]])

[9]
[CITE@en[Version information (was Re: HTML5 vs HTML6)]] ([[L. David Baron]] 著, [CODE[2007-04-06 09:27:21 +09:00]] 版) <http://lists.w3.org/Archives/Public/public-html/2007Apr/0279.html>
([[名無しさん]])

[10]
[CITE@en[Technical Architecture Group -- 16 Apr 2007]] ([CODE[2007-04-17 02:29:18 +09:00]] 版) <http://www.w3.org/2001/tag/2007/04/16-minutes.html>
([[名無しさん]])

[11]
[CITE@en[crisp's blog &#187; Blog Archive &#187; HTML5: Microsoft and the opt-in catch]] ([CODE[2007-04-23 09:43:54 +09:00]] 版) <http://therealcrisp.xs4all.nl/blog/2007/04/22/html5-microsoft-and-the-opt-in-catch/>
([[名無しさん]] [WEAK[2007-04-23 00:50:52 +00:00]])

[12]
[CITE@en[HTML and version mechanisms - W3C QA Weblog]] ([CODE[2007-05-01 12:13:23 +09:00]] 版) <http://www.w3.org/QA/2007/05/html_and_version_mechanisms.html>
([[名無しさん]] [WEAK[2007-05-02 01:25:30 +00:00]])

[13]
[CITE@en[Version information (was Re: HTML5 vs HTML6)]] ([[L. David Baron]] 著, [CODE[2007-04-06 09:27:21 +09:00]] 版) <http://lists.w3.org/Archives/Public/public-html/2007Apr/0279>
([[名無しさん]])

[14]
[CITE[Todd Ditchendorf’s Blog. XML, Cocoa, JavaScript, Java. &#187; Blog Archive &#187; IE 8 and standards support confusion]] ([CODE[2007-07-01 22:38:08 +09:00]] 版) <http://www.ditchnet.org/wp/2007/05/05/ie-8-and-standards-support-confusion/>
([[名無しさん]] [WEAK[2007-07-01 13:40:16 +00:00]])

[15]
[CITE@en[Ajaxian &#187; IE 8: Opt-in for standards compliance]] ([CODE[2007-07-01 22:37:58 +09:00]] 版) <http://ajaxian.com/archives/ie-8-opt-in-for-standards-compliance>
([[名無しさん]] [WEAK[2007-07-01 13:41:17 +00:00]])


[16]
[CITE@en[Re: '''['''validator''']''' the @profile at-rule]] ([[fantasai]] 著, [TIME[2008-10-02 09:17:51 +09:00]] 版) <http://lists.w3.org/Archives/Public/www-style/2008Oct/0007.html>

[18] [CITE['''['''whatwg''']''' HTML6 Doctype]]
([TIME[2010-12-07 10:18:00 +09:00]] 版)
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2010-December/029349.html>

[19] 
[PRE(XML example code)[
  <rewriteURI uriStartString="http://www.oasis-open.org/docbook/xml/4.5/"
    rewritePrefix="file:///usr/share/sgml/docbook/xml-dtd-4.4-1.0-30.1/"/>
]PRE]

DTD が無いと言われた。4.4まではローカルにあったけど、4.5は無かった。カタログでローカル・ファイル・システムに写像されていて、ファイルが無いからエラーになっていたらしい。当該部分を削除したら、今度はネットワーク経由で実体を取りにいこうとしているとエラーになった。馬鹿か。何のために URL を使っているんだ。というわけで 4.5 のURLを 4.4 に書き換えたら動いた。なんのためのバージョンなんだ。実に馬鹿らしい。

[22] [CITE@ja[IE9ヤバイ。IE9の文字間隔・互換モード・DOCTYPE宣言について]]
([TIME[2011-05-09 16:55:35 +09:00]] 版)
<http://freesoft.tvbok.com/tips/net_tips/ie9_doctype.html>

[23] [CITE[IRC logs: freenode / #whatwg / 20140108]]
( ([TIME[2014-01-09 22:07:16 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20140108>

[24] [CITE@ja[You don't need API version 2 - yohei's diary]]
( ([TIME[2014-03-12 01:07:05 +09:00]] 版))
<http://yohei.hatenablog.com/entry/2014/03/12/001707>

[25] [CITE@en-US[Internationalization Tag Set (ITS) Version 2.0]]
( ([TIME[2013-10-27 19:39:43 +09:00]] 版))
<http://www.w3.org/TR/its20/#usage-in-legacy-html>

[31] [CITE@en-US[How are REST APIs versioned? | Lexical Scope]]
([TIME[2015-03-14 16:56:48 +09:00]] 版)
<http://www.lexicalscope.com/blog/2012/03/12/how-are-rest-apis-versioned/>