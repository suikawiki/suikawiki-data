[1] [[HTTP]] の [DFN[[CODE(HTTP)@en[Digest]] [[一般頭欄]]]]は、その[[メッセージ]]によって記述される[[実現値]]の[RUBYB[[[要約]]]@en[digest]]を表します。

;; [6] [[auth-scheme]] の [[Digest]] ([[Digest認証]]) とは関係ありません。

* 構文

[4] [CODE(HTTP)@en[[[Digest:]]]] には、名前と値の組を [CODE(HTTP)[[[,]]]]
で区切って複数指定できます。それぞれ、名前と指定された[[算法]]に基づく[[要約]]が値、
という形になっています。

[5] [[算法]]については [[IANA登録簿]]があります。 [[digest-algorithm]] の項をご覧ください。

* 仕様書から


** RFC 3230 (実現値要約) 4.3.2 Digest

> The Digest message header field provides a message digest of the
instance described by the message.

[CODE(HTTP)[Digest]] [[メッセージ頭欄]]は、
その[[メッセージ]]が記述する[[実現値]]のメッセージ[[要約]]を提供します。

>
- Digest = "Digest" ":" #(instance-digest)

> The instance described by a message might be fully contained in the
message-body, partially-contained in the message-body, or not at all
contained in the message-body.  The instance is specified by the
Request-URI and any cache-validator contained in the message.

メッセージが記述する実現値は [CODE(ABNF)[[[message-body]]]]
に完全に含まれているかもしれませんし。 [CODE(ABNF)[message-body]]
に部分的に含まれているかもしれませんし、
[CODE(ABNF)[message-body]] に全く含まれていないかもしれません。
実現値は [CODE(ABNF)[[[Request-URI]]]] とメッセージに含まれる任意の
[CODE(ABNF)[[[cache-validator]]]] ([[キャッシュ検証子]]) によって指定されます。

> A Digest header field MAY contain multiple instance-digest values.
This could be useful for responses expected to reside in caches
shared by users with different browsers, for example.

[CODE(HTTP)[Digest]] 頭欄は、複数の [CODE(ABNF)[instance-digest]]
値を含んで'''構いません'''。これは、たとえば異なる[[ブラウザ]]の利用者間で[[キャッシュ]]を共有していると存じていると思われるような応答に有用でしょう。

> A recipient MAY ignore any or all of the instance-digests in a Digest
header field.

受信者は [CODE(HTTP)[Digest]] 頭欄の [CODE(ABNF)[instance-digest]]
の一部または全部を無視して'''構いません'''。

> A sender MAY send an instance-digest using a digest-algorithm without
knowing whether the recipient supports the digest-algorithm, or even
knowing that the recipient will ignore it.

送信者は、受信者がある [CODE(ABNF)[digest-algorithm]]
に対応しているかどうか知らない場合や、あるいは受信者がこれを無視することをしっていた場合ですら、
その [CODE(ABNF)[digest-algorithm]] を使った [CODE(ABNF)[instance-digest]]
を送信して'''構いません'''。

> Examples:
- Digest: md5=HUXZLQLMuI/KZ5KDcJPcOA==
- Digest: SHA=thvDyvhfIqlvFe+A9MYgxAfm1q5=,unixsum=30637


** RFC の部分の License

[[RFCのライセンス]]

* 例

[3] [SRC[[[RFC 5843]] 1.1.]]
[PRE(HTTP example code)[
Digest: SHA-256=MWVkMWQxYTRiMzk5MDQ0MzI3NGU5NDEyZTk5OWY1ZGFmNzgyZTJlODYzYjRjYzFhOTlmNTQwYzI2M2QwM2U2MQ==
]PRE]

* 関連

[2] [[MD5]] を使った[[要約]]を入れる[[頭欄]]として [CODE(HTTP)@en[[[Content-MD5]]]]
があり、[[MIME]] や [[HTTP]] で用いられています。 [CODE(HTTP)@en[[[Digest]]]]
はこれをより一般化したものです。

[7] [CITE@en[RFC 7236 - Initial Hypertext Transfer Protocol (HTTP) Authentication Scheme Registrations]]
( ([TIME[2014-09-10 00:40:16 +09:00]] 版))
<https://tools.ietf.org/html/rfc7236#section-3>

[8] [CITE@en[draft-ietf-http-digest-aa-00 - An Extension to HTTP : Digest Access Authentication]]
( ([TIME[2014-10-16 21:03:19 +09:00]] 版))
<https://tools.ietf.org/html/draft-ietf-http-digest-aa-00>

[9] [CITE@en[draft-smith-sipping-auth-examples-01 - Digest Authentication Examples for Session Initiation Protocol (SIP)]]
( ([TIME[2014-10-16 12:01:47 +09:00]] 版))
<http://tools.ietf.org/html/draft-smith-sipping-auth-examples-01>

[10] [CITE@en[draft-yusef-sipcore-digest-scheme-04 - The Session Initiation Protocol (SIP) Digest Authentication Scheme]]
( ([TIME[2014-10-21 20:31:07 +09:00]] 版))
<https://tools.ietf.org/html/draft-yusef-sipcore-digest-scheme-04>

[11] [CITE@en[draft-ietf-httpauth-digest-08 - HTTP Digest Access Authentication]]
( ([TIME[2014-10-16 11:44:53 +09:00]] 版))
<http://tools.ietf.org/html/draft-ietf-httpauth-digest-08>