* 仕様書

[REFS[
- [505] [CITE@en[RFC 7230 - Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing]] ([TIME[2014-06-07 01:59:35 +09:00]] 版) <https://tools.ietf.org/html/rfc7230#section-3.1.1>
- [4] [CITE@en[RFC 7230 - Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing]] ([TIME[2014-06-07 01:59:35 +09:00]] 版) <https://tools.ietf.org/html/rfc7230#section-3.2.4>
- [503] [CITE@en[RFC 7230 - Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing]] ([TIME[2014-06-07 01:59:35 +09:00]] 版) <https://tools.ietf.org/html/rfc7230#page-26>
- [507] [CITE@en[RFC 7230 - Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing]] ([TIME[2014-06-07 01:59:35 +09:00]] 版) <https://tools.ietf.org/html/rfc7230#section-3.3.3>
- [510] [CITE@en[RFC 7230 - Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing]] ([TIME[2014-06-07 01:59:35 +09:00]] 版) <https://tools.ietf.org/html/rfc7230#page-35>
- [85] [CITE@en[RFC 7230 - Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing]] ([TIME[2014-06-07 01:59:35 +09:00]] 版) <https://tools.ietf.org/html/rfc7230#page-45>
]REFS]

* 文脈

[506] [[受信者]]は、[[要求行]]が[[非妥当]]である時に、 [CODE(HTTP)[[[301]]]]
を返すのでなければ [CODE(HTTP)[[[400]]]] を返す[['''べきです''']] [SRC[>>505]]。

[5] [[鯖]]は、[[要求]]の[[ヘッダー名]]と [CODE(HTTP)[[[:]]]]
の間に[[空白]]があれば、 [CODE(HTTP)[[[400]]]] を返さなければ[['''なりません''']] [SRC[>>4]]。

[504] [[鯖]]は、 [CODE(MIME)@en[[[message/http]]]] 以外の[[要求メッセージ]]で[[行折り畳み]]を見つけた時は、これを [[SP]]
に置き換えるか、または [CODE(HTTP)[[[400]]]] を返さなければ[['''なりません''']]。
その場合[[メッセージ本体]]は[[行折り畳み]]が含まれていることを示す[[表現]]が好ましいとされています。
[SRC[>>503]]

[508] [[要求メッセージ]]に[[メッセージ本体]]が存在する場合で、
[CODE(HTTP)@en[[[Transfer-Encoding:]]]] [[ヘッダー]]の最後の[[転送符号化]]が
[CODE(HTTP)@en[[[chunked]]]] 以外の時は、
[CODE(HTTP)[[[400]]]] [[応答]]を返して[[接続]]を閉じなければ[['''なりません''']] [SRC[>>507]]。

[509] [[要求メッセージ]]の [CODE(HTTP)[[[Content-Length:]]]]
が無視されない場合で、複数あったり[[非妥当]]だったりする場合は、
[CODE(HTTP)[[[400]]]] [[応答]]を返して[[接続]]を閉じなければ[['''なりません''']] [SRC[>>507]]。

[511] [[鯖]]は、[[要求メッセージ]]を受け取ることを期待していて、
文法に沿わない[[オクテット列]]を受け取った時、他の条件に合致しなければ、
[CODE(HTTP)[[[400]]]] [[応答]]を送る[['''べきです''']] [SRC[>>510]]。

[101] [[鯖]]は、 [[HTTP/1.1]] [[要求メッセージ]]に
[CODE(HTTP)@en[[[Host:]]]] [[ヘッダー]]が含まれていないか、
複数含まれているか、
[[欄値]]が[[非妥当]]であるなら、 [CODE(HTTP)[[[400]]]]
[[応答]]を返さなければ[['''なりません''']]。 [SRC[>>85]]

* 歴史

[FIG[
[FIGCAPTION[
[3] RFC 1945 (HTTP/1.0); RFC 2068 & 2616 (HTTP/1.1) 10.4.1 400 Bad Request
]FIGCAPTION]

> The request could not be understood by the server due to malformed syntax. The client [DEL[[INS[{1945}]] should not]] [INS[[INS[{2068,2616}]] SHOULD NOT]]
repeat the request without modifications.

サーバーは、不正な構文であるために要求を理解できませんでした。
クライアントはこの要求を修正なしに繰り返す'''べきではありません'''。
]FIG]

[512] [CITE@en[RFC 7252 - The Constrained Application Protocol (CoAP)]]
( ([TIME[2014-06-27 00:59:37 +09:00]] 版))
<http://tools.ietf.org/html/rfc7252#section-5.9.2.1>