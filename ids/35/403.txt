[1] [CITE@en[Picker  |  Google Developers]]
([TIME[2019-07-03 00:10:38 +09:00]])
<https://developers.google.com/picker/>


[2] 
[[Googleフォト]]の[[画像]]を選択して挿入するために使われています。

[3] 
[[Googleフォト]]からの選択には
[CODE[https://www.googleapis.com/auth/photos]]
という [[Googleフォト]]の [[API]]
の操作がいろいろできる [[OAuth]] の [[scope]]
が必要です。

[4] 
強めの権限なので、認証画面で警告を出さずに (= 本番サービス向けに)
使うには
[[Google]]
の審査が必要です。
(読取専用のもう少し弱い権限を無審査で使わせてくれればいいのに、
いまのところなさそうです。)
といっても審査はGoogleのコンソールから簡単に申し込め、
それほど厳しくないようです。
([[Web]] で探すと制度が始まった頃の厳し目の体験談がでてきますが、
今では緩くなったのでしょう。)
[TIME[2019-10-03T02:37:01.300Z]]

[5] 
[[Google Picker]] で [[Googleフォト]]の画像を選択させても、
その画像をどう使うか、
というところは[[アプリケーション]]側で自分で実装しないといけません。
[[Googleフォト]]の [[API]]
を使わずに [[Google Picker]] で得られる情報だけで知れるのは、
[[Googleフォト]]の [[Webページ]]の [[URL]]
と、
サムネイル画像の [[URL]] くらいです。後者は認証なしでアクセス可能で、
しかも事実上永続的に利用可能とみられますが、
それが保証されるとは (おそらく) どこにも書いてありません。
つまり、
[[アプリケーション]]側で貼り付けて永続的に利用する場合
([[ブログ]]や[[掲示板]]のようにずっと残る場合)
は、
この画像の [[URL]]
をそのまま使うのではなく、
画像データをコピーして使うべきということです。

[6] 
ただし
[[Google Picker]]
が返すデータに入っているサムネイル画像は、
実データより小さなものばかりです。
([[サムネイル]]なので...)
サムネイル画像として使うのではなく画像自体を貼り付けたいときは、
実サイズに近い、より大きな画像を使いたくなります。
[[Google Picker]] で [[Googleフォト]]から選択させているサービス事例を見るに、
自力で [[URL]] を組み立てるしかないみたいです。

サムネイル画像は xxx/s32-c/yyy.JPG のような URL
になっているので、 /s数字-c/ や /s数字/ のようになっている部分を /s1200/
に置き換えるといいようです。
サムネイルサイズによっては xxx/yyy.JPG 
のような [[URL]]
になるので、
xxx/s1200/yyy.JPG
のようにします。


[7] >>5 駄目だったみたいよw
[CITE@ja[Googleフォト貼り付け機能を一時的に停止しています - はてなブログ開発ブログ]], [TIME[2020-03-12 11:59:24 +09:00]] <https://staff.hatenablog.com/entry/2020/03/11/172942>