* 用法

[SEE[ [[平仮名]]、[[片仮名]] ]]

* 写像

[REFS[
- [14] [[平仮名]]から[[片仮名]]へ:
[CITE@en[[[Character]] mapping "kana:h2k"]] ([TIME[2019-07-06 10:25:20 +09:00]]) <https://chars.suikawiki.org/map/kana%3Ah2k>
- [15] [[片仮名]]から[[平仮名]]へ:
[CITE@en[[[Character]] mapping "kana:k2h"]] ([TIME[2019-07-06 10:25:33 +09:00]]) <https://chars.suikawiki.org/map/kana%3Ak2h>
]REFS]


** 文脈

[4] 次のような場面で、[[平仮名]]から[[片仮名]]、またはその逆方向の変換が必要となります。

- [5] 
[[整列]]のため[[比較]] ([[照合]]) する場合
- [6] 
(緩い) [[等価性]]の判断のため一方に[[正規化]]する場合
- [9] 
(読み仮名などのデータを) 書式の統一のため一方に[[正規化]]する場合
- [7] 
[[エディター]]ソフトウェアの機能として[[利用者]]の便宜のため提供する場合
- [8] 
[[日本語入力システム]]の候補として一方で入力されたものを他方に変更する場合

** 定義

[2] [[平仮名]]と[[片仮名]]の変換はあまりに自明であるためか明確に定めたものはあまり見当たりません。

[3] 次のものは、変換そのものではありませんが、それに近いものを定めています。

[1] 
[[JIS X 4061:1996]]
表11 [CSECTION[仮名の基底文字]]
は、
[[あ]]から[[ん]]まで ([[ゐ]]、[[ゑ]]を含む。)
の[[清音]]、
[[が]]から[[ぼ]]までの[[濁音]]、
[[ぱ行]]の[[半濁音]]、
[[ぁ]]行、
[[ゃ]]行、
[[っ]]、[[ゎ]]、
[[ゝ]]、[[ゞ]]と以上に相当する[[片仮名]]、
[[ヴ]]、[[ヵ]]、[[ヶ]]、[[ー]]の各[[文字]]について、
それに相当する[[基底文字][基底文字 (照合順番)]]を定めています。
相当する[[平仮名]]の大書きの[[清音]]、
[[ゝ]]、[[ー]]が[[基底文字][基底文字 (照合順番)]]として選ばれています。

** 実装

[10] 
[[日本語]]利用者にとってあまりに自明で基本的な操作であるにも関わらず、
[[ラテン文字]]の[[大文字]]と[[小文字]]の変換のように[[プログラミング言語]]の機能として組み込まれていることは、
それほどありません。

[11] 
かわりに[[プログラミング言語]]の[[ライブラリー]]や
[[Webサイト]]の機能として、
変換機能が用意されていることがあります。
[[日本語]]に対応した[[エディター]]に[[利用者]]が指定した範囲を変換するような機能が実装されていることもあります。

[12] 
[[日本語入力システム]]は[[平仮名]]の入力と[[片仮名]]の入力ができなければならないため、
入力中の文字列を両者のいずれにするかを選べる機能が備わっています。

** 方針

[13] 
ほとんどの実装が基本的な挙動は共通していますが、稀に使われる[[文字]]の扱いなどで細部が異なっていることもあります。


[16] 
[[小書き仮名]]
<https://chars.suikawiki.org/set/%24kana%3Akana-small>
のほとんどは、なぜか[[片仮名]]しか用意されていません。
無理に大書きの[[平仮名]]に置き換えると情報が失われてしまいますから、
[[平仮名]]への変換でも[[片仮名]]のまま残すほかありません。


* メモ