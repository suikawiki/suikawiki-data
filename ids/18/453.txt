[REFS[
[1] [CITE[Welcome to MariaDB! - [[MariaDB]]]],
[TIME[2012-03-05 21:24:30 +09:00]]
<http://mariadb.org/>
]REFS]

* Docker

[2] [CITE[mariadb - Docker Hub]]
([TIME[2020-11-09T01:36:10.000Z]])
<https://hub.docker.com/_/mariadb>

* トラブルシューティング

** docker 版が起動しない

[3] Q: エラーで起動しません。

[PRE(code)[
2022-06-22 12:48:33+00:00 [Note] [Entrypoint]: Entrypoint script for MariaDB Server 1:10.8.3+maria~jammy started.
2022-06-22 12:48:33+00:00 [ERROR] [Entrypoint]: mariadbd failed while attempting to check config
	command was: mariadbd --verbose --help --log-bin-index=/tmp/tmp.41ftPq4oZd
	Can't initialize timers
]PRE]

A: [CODE[docker]] が古いです。
20.10.10 [[以上]]に更新してください。 [SRC[>>4]]


[REFS[
- [4] [CITE@en['mariadb:latest' shows "Can't initialize timers" · Issue #434 · MariaDB/mariadb-docker · [[GitHub]]]], [TIME[2022-06-23T05:13:48.000Z]] <https://github.com/MariaDB/mariadb-docker/issues/434>
]REFS]

-*-*-

[5] Q: エラーで起動しません。

[PRE(code)[
FATAL ERROR: could not find /usr/bin/my_print_defaults
]PRE]

A: これは [CODE[mysql_install_db]] が出しているエラーです。
これが出る理由はいろいろあるみたいですが、
実行環境が整っているはずの [[docker]] 版 [[mariadb]] 
で出るということは、
[[docker]] の動作環境に問題がある可能性があります。

[TIME[令和3(2021)年][2021]]頃から
[[libseccomp2]]
の不具合によって[[シェルスクリプト]]の[[ファイルテスト演算子]] [CODE[-x]] 
の挙動がおかしくなる現象が [[Ubuntu]] 等各種の [[Linux]] 環境で確認されています。
[CODE[mysql_install_db]] がちょうどこれ ([CODE[[[test]] [[-x]]]]) を使っています。
[SEE[ [[libseccomp2]] ]]


* メモ
