[2] [[XML Schema]] の [DFN[[CODE(XML)@en[[[xs:duration]]]]]]
は、 [[ISO 8601]] をベースに定義された[[時間]]を表す[[データ型]]です。

* 仕様書

[REFS[
- [3] [CITE@EN[W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes]] ([TIME[2012-04-04 21:34:51 +09:00]] 版) <http://www.w3.org/TR/xmlschema11-2/#duration>
]REFS]

* 値空間

[4] 値は、[DFN[[RUBYB[月数]@en[months]]]]と[DFN[[RUBYB[秒数]@en[seconds]]]]で構成されます。
それぞれ[[整数]]と[[十進数]]で、両者の[[符号]]は一致していなければ[['''なりません''']]。 [SRC[>>3]]

* 字句空間

[5] [[字句空間]]は、次の[[正規表現]]に[[一致]]する[[文字列]]です [SRC[>>3]]。

>
[PRE(regexp code)[
-?P( ( ( [0-9]+Y([0-9]+M)?([0-9]+D)?
       | ([0-9]+M)([0-9]+D)?
       | ([0-9]+D)
       )
       (T ( ([0-9]+H)([0-9]+M)?([0-9]+(\.[0-9]+)?S)?
          | ([0-9]+M)([0-9]+(\.[0-9]+)?S)?
          | ([0-9]+(\.[0-9]+)?S)
          )
       )?
    )
  | (T ( ([0-9]+H)([0-9]+M)?([0-9]+(\.[0-9]+)?S)?
       | ([0-9]+M)([0-9]+(\.[0-9]+)?S)?
       | ([0-9]+(\.[0-9]+)?S)
       )
    )
  )
]PRE]

* 関連

[6] [[HTMLの時間形式]]と同じく [[ISO 8601の時間形式]]をベースにしていますが、
[[HTML]] とは違って、
- 全体を負にできます
- Y や M による指定ができます

[7] [[妥当なvEvent時間文字列]]もやはり [[ISO 8601の時間形式]]ですが、
[[vEvent]] とは違って
- 全体を負にできます
- Y や M による指定ができます
- H と S だけで M なしの指定ができます
- W による指定ができません
- 小数以下の秒を指定できます

[8] [[派生型]]として [CODE[[[xs:dayTimeDuration]]]] と [CODE[[[xs:yearMonthDuration]]]] があります。

* 歴史

[REFS[
- [1] [CITE@EN[W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes]]
( ([TIME[2012-04-05 06:34:51 +09:00]] 版))
<http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#duration>
]REFS]

[9] [CITE@EN[W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes]]
( ([TIME[2012-04-04 21:34:51 +09:00]] 版))
<http://www.w3.org/TR/xmlschema11-2/#partial-implementation>

[10] [CITE@EN[W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes]]
( ([TIME[2012-04-04 21:34:51 +09:00]] 版))
<http://www.w3.org/TR/xmlschema11-2/#sec-dt-arith>

[11] [CITE@en[README.md | master | Chris Lord / gaia-navigator | GitLab]]
([TIME[2015-06-10 21:26:19 +09:00]] 版)
<https://gitlab.com/Cwiiis/gaia-navigator/blob/master/README.md>