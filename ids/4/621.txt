
* 仕様書

[REFS[
- [5] [[[ISO-IR]], [TIME[2014-06-23T06:27:15.000Z]], [TIME[2020-12-05T05:40:34.990Z]] <https://www.itscj.ipsj.or.jp/itscj_english/iso-ir/ISO-IR.pdf#page=29>
- [7] [CITE[Character Sets: [[MARC-8]] Encoding Environment: MARC 21 Specifications for Record Structure, Character Sets, and Exchange Media (Library of Congress)]], [TIME[2007-12-05T16:31:01.000Z]], [TIME[2020-12-05T05:57:48.466Z]] <https://www.loc.gov/marc/specifications/speccharmarc8.html#technique1>
]REFS]

* 符号化単独追加制御機能

[9] [DFN[符号化単独追加制御機能]]の種類 [SRC[[[JIS X 0202]]:1998 6.5]]:

- [[標準単独制御機能]]
- [[登録単独制御機能]]
- [[私用制御機能]]

[10] >>9 は標準化の程度に拠る分類ですが、
それに合わせて[[符号化表現]] (いずれも[[エスケープ・シーケンス]])
に違いがあります。

[11] 
[[単独制御機能]]は
[[ISO/IEC2022]]:1994 6.5, [[ISO/IEC6429]]:1991 5.5 で規定されています。

=additional-control-functions = ESC-Fs / ESC-3Ft / private-control-functions
=ESC-Fs = ESC %x60-7E        ;; Standardized single control function
=ESC-3Ft = ESC %x23 [I] Ft   ;; Registered single control function
=I = %x21-23
=Ft = %x40-7E
=private-control-functions = ESC-Fp / ESC-3Fp
=ESC-Fp = ESC Fp
=ESC-3Fp = ESC %23 [I] Fp
=Fp = %x30-3F

[12] 標準化された単独制御機能 (Fs) は、 [[ISO/IEC]] JTC1/SC2
の承認が必要です。 Fs と 3Ft は [[ISO-IR]] に登録が必要です。

,*  ,*2                 ,*3   ,*4     ,*5     ,*6  ,*7
,*0 ,ACS [[告知]]      ,私用,[[C1]],[[C1]],[[DMI]],"[[PCD]], [[MARC-8]]"
,*1 ,CZD [[指示]]      ,私用,[[C1]],[[C1]],[[INT]],
,*2 ,C1D [[指示]]      ,私用,[[C1]],[[C1]],"[[EMI]], [[MARC-8]]",
,*3 ,単独制御機能      ,私用,[[C1]],[[C1]],[[RIS]],[[MARC-8]]
,*4 ,多バイト[[指示]]  ,私用,[[C1]],[[C1]],[[CMD]],
,*5 ,[[DOCS]]          ,私用,[[C1]],[[C1]],,
,*6 ,[[IRR]]           ,私用,[[C1]],[[C1]],,
,*7 ,                  ,私用,[[C1]],[[C1]],[[MARC-8]],
,*8 ,GZD4 [[指示]]     ,私用,[[C1]],[[C1]],,
,*9 ,G1D4 [[指示]]     ,私用,[[C1]],[[C1]],,
,*10,G2D4 [[指示]]     ,私用,[[C1]],[[C1]],,
,*11,G3D4 [[指示]]     ,私用,[[C1]],[[C1]],[[LS1R]],
,*12,(GZD6 [[指示]])   ,私用,[[C1]],[[C1]],[[LS2R]],LS3R
,*13,G1D6 [[指示]]     ,私用,[[C1]],[[C1]],[[LS3R]],LS2R
,*14,G2D6 [[指示]]     ,私用,[[C1]],[[C1]],LS2,LS1R
,*15,G3D6 [[指示]]     ,私用,[[C1]],[[C1]],LS3,----



* 標準単独制御機能

[1] [DFN[標準単独制御機能]]は[[符号化単独追加制御機能]]の一種です。

** 構文

[2] 
[CODE(char)[[[Fs]]]] 型の[[エスケープ・シーケンス]]、すなわち
[CODE(char)[[CODE(charname)[[[ESC]]]] [VAR[Fs]]]]
で[[表現]]します [SRC[[[JIS X 0202]]:1998 6.5.1]]。
ここで、 [CODE(char)[[VAR[Fs]]]] は [[ISOREG]] 
に登録された[[終端バイト]]
([CODE(char)[06/00]]〜[CODE(char)[07/14]]) です。

[6] [[ISO-IR]] の[[終端バイト]] [VAR[Fs]] には次のものがあります。 [SRC[>>5]]
なお [[MARC-8]] は非標準の独自の[[エスケープシーケンス]]を使っており、
一部が衝突しています。 [SRC[>>7]]

- [CODE[6/0]]: 
[CODE(charname)@en[DISABLE MANUAL INPUT]] ([CODE(charname)@en[DMI]]),
[[ISO/IEC 6429]],
[[ISO-IR]] 32
- [CODE[6/1]]: 
[CODE(charname)@en[INTERRUPT]] ([CODE(charname)@en[INT]]),
[[ISO/IEC 6429]],
[[ISO-IR]] 33
- [CODE[6/2]]: 
[CODE(charname)@en[ENABLE MANUAL INPUT]] ([CODE(charname)@en[EMI]]),
[[ISO/IEC 6429]],
[[ISO-IR]] 34
-- [[MARC-8]]: Subscript set に固定
- [CODE[6/3]]: 
[CODE(charname)@en[RESET TO INITIAL STATE]] ([CODE(charname)@en[RIS]]),
[[ISO/IEC 6429]],
[[ISO-IR]] 35
- [CODE[6/4]]: 
[CODE(charname)@en[CODING METHOD DELIMITER]] ([CODE(charname)@en[CMD]]),
[[ISO/IEC 6429]],
[[ISO-IR]] 189
- [CODE[6/5]]: [[ISO-IR]] 未割当
- [CODE[6/6]]: [[ISO-IR]] 未割当
- [CODE[6/7]]: [[ISO-IR]] 未割当
-- [[MARC-8]]: Greek Symbol set に固定
- [CODE[6/8]] - [CODE[6/10]]: [[ISO-IR]] 未割当
- [CODE[6/11]]: [[ISO-IR]] 未割当
-- [[NAPLPS]]: 旧 [CODE(charname)@en[LS1R]]
- [CODE[6/12]]: [[ISO-IR]] 未割当
-- [[NAPLPS]]: 旧 [CODE(charname)@en[LS2R]]
- [CODE[6/13]]: [[ISO-IR]] 未割当
-- [[NAPLPS]]: 旧 [CODE(charname)@en[LS3R]]
- [CODE[6/14]]: 
[CODE(charname)@en[LOCKING-SHIFT TWO]] ([CODE(charname)@en[LS2]]),
[[ISO/IEC 2022]],
[[ISO-IR]] 62
- [CODE[6/15]]: 
[CODE(charname)@en[LOCKING-SHIFT THREE]] ([CODE(charname)@en[LS3]]),
[[ISO/IEC 2022]],
[[ISO-IR]] 63
- [CODE[7/0]]: [[ISO-IR]] 未割当、予約
[SEE[ [[終端バイト]], [[PCD]] ]]
-- [[ISO-IR]] 予約
-- [[ISO 9281-1]]: [CODE(charname)@en[PCD]]
-- [[MARC-8]]: Superscript set に固定
- [CODE[7/1]]: [[ISO-IR]] 未割当
- [CODE[7/2]]: [[ISO-IR]] 未割当
- [CODE[7/3]]: [[ISO-IR]] 未割当
-- [[MARC-8]]: [[ASCII]] default character set に固定
- [CODE[7/4]] - [CODE[7/11]]: [[ISO-IR]] 未割当
- [CODE[7/12]]: 
[CODE(charname)@en[LOCKING-SHIFT THREE RIGHT]] ([CODE(charname)@en[LS3R]]),
[[ISO/IEC 2022]],
[[ISO-IR]] 64
- [CODE[7/13]]: 
[CODE(charname)@en[LOCKING-SHIFT TWO RIGHT]] ([CODE(charname)@en[LS2R]]),
[[ISO/IEC 2022]],
[[ISO-IR]] 65
- [CODE[7/14]]: 
[CODE(charname)@en[LOCKING-SHIFT ONE RIGHT]] ([CODE(charname)@en[LS1R]]),
[[ISO/IEC 2022]],
[[ISO-IR]] 66


** 標準化手続き

[3] 
[[標準単独制御機能]]は、 [[ISO/IEC]] [[JTC 1/SC 2]]
で承認された後、 [[ISO 2375]] に従って [[ISOREG]]
に登録されます。通常はその後、 [[ISO]] または [[ISO]] 
[[承認団体]]の[[規格]]として出版されます。
[SRC[[[JIS X 0202]]:1998 6.5.1]]

[4] >>2, >>3 のように、
[[制御機能]]の中では[[制御文字]]に次いで短い[[表現]]を与えられる分、
[[JTC 1/SC 2]] の承認という比較的高いハードルが設けられています。
実際には [[ISO/IEC 2022]] を構成する [CODE(charname)[[[LS1R]]]]
などの重要な[[制御機能]]が[[割当]]てられています。

* メモ