[11] [DFN[1万年問題]]は、4桁[[以下]]で[[年]]を扱うシステムにおいて、
10000年[[以上]]の[[日時]]を扱えないという[[桁溢れ問題]]です。

[12] [[2桁で年を扱う][2桁年号]]システムに関する[[2000年問題]]のついでに注目され、
一部で対策が行われましたが、完全解決には至っていません。

[19] はるか先の[[日付]]であり、[[将来の日時]]として取り扱うことすらほとんどないため、
あまり真剣には取り組まれていません。

* 対処済みの日時形式

[6] [[ISO 8601]] は、 (4桁の構文の自然な拡張では''ない'') [[展開表現]]により[[1万年問題]]に対処しています。

[7] [CODE[xs:dateTime]] は[[展開表現]]ではなく既存の構文の自然な拡張によって[[1万年問題]]に対処しています。
(意図的かどうかは書かれていませんが) [[ISO 8601]] に違反しますが、
[[XML Schema]] は [[ISO 8601]] を[[規定]]ではなく[[参考]]として参照しているので、
構わないと考えているのでしょう。

[8] [[ISO 8601]] から派生した独自の構文である[[HTMLの日時形式]]は、
[[展開表現]]ではなく既存の構文の自然な拡張によって[[1万年問題]]に対処しています。

* RFC 2550 の日時形式

[5] [TIME[1999年'''4月1日'''][1999-04-01]]に[[出版]]された [DFN[RFC 2550]]
は、[[インターネット]]における[[1万年問題]]を扱っており、
[[1万年問題]]を解決した[DFN[RFC 2550の日時形式]]を定義しています。

[REFS[
- [4] [CITE@en[RFC 2550 - Y10K and Beyond]] ([TIME[2017-03-19 16:23:49 +09:00]]) <https://tools.ietf.org/html/rfc2550>
]REFS]

[13] 単に[[年]]の桁数を増やすだけでなく、
[[ASCII]] 順での[[整列]]が[[日時]]の[[整列]]となることを重視しています。

[14] [[紀元前]]にも対応しています。

[15] [[年]]のみならず、[[月]]まで、[[日]]まで、[[時]]まで、
[[分]]まで、[[秒]]まで、任意の桁数の[[秒の小数部]]までと任意の精度の[[日時]]を表現できます。
粗い[[日時]]と細かい[[日時]]が混在する場合の[[整列]]は、
[[ASCII文字列]]の[[整列]]と同様に、粗い[[日時]]が細かい[[日時]]の最初の瞬間の前に来ます。

[16] 区切りの記号を使わず、[[年]]と[[秒の小数部]]以外は固定の桁数の
[[ASCII数字]]列となっています。どの部分も最大値の規定はなく、
実在する[[日時]]の最大値を超えた時は、次の存在する[[日時]]の直前の瞬間を表すことになっています。
(例えば [CODE[A999991232]] (12月32日) は [CODE[B100000]] の前の瞬間を表しています。)

-*-*-

[17] [TIME[4月1日][--04-01]]に発行された [[RFC]] であり、
検討するのも野暮な話かもしれませんが、
現実的にはあまり使い勝手の良い[[日時形式]]ではないかもしれません。

[18] [[文字列]]としての[[整列]]を重視する余り、[[可読性]]を著しく落としていますし、
1万年以上で使われる英字や記号は人間が扱うには難しすぎる (ミスする可能性が高い) ものです。
[[整数時刻系]]などの完全に機械処理向けの[[日時形式]]を使わず、
[[人間]]向けの[[年]][[月]][[日]]の構造を残した[[日時形式]]を敢えて採用する場面では、
こうした欠点は致命的です。

* 未対応の日時形式

[10] [[RFC 3339の日時形式]]は4桁固定で、[[1万年問題]]未対応です。

* 関連

[9] [[将来の日時]]も参照。

* メモ

[1]
[CITE@ja[西暦10000年問題 - Wikipedia]] ([CODE[2007-01-10 09:55:23 +09:00]] 版) <http://ja.wikipedia.org/wiki/%E8%A5%BF%E6%9A%A610000%E5%B9%B4%E5%95%8F%E9%A1%8C>
([[名無しさん]])

[2]
[CITE@en[Year 10,000 problem - Wikipedia, the free encyclopedia]] ([CODE[2007-01-17 09:39:58 +09:00]] 版) <http://en.wikipedia.org/wiki/Year_10%2C000_problem>
([[名無しさん]])


[3]
一万年問題のポイントの1つは、そんな先のことまで考えずとも、
もっと若い[[年号]]すらまともに扱えない (のがほとんどである)
ことではありますまいか。 



[20] [CITE@ja-jp[9340年問題 ‐ 通信用語の基礎知識]]
([TIME[2018-04-24 00:01:08 +09:00]])
<http://www.wdic.org/w/TECH/9340%E5%B9%B4%E5%95%8F%E9%A1%8C>