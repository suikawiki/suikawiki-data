[1] [DFN[[RUBYB[[[差分符号化]]]@en[delta encoding]]]]は、
複数の[[実現値]]の[[差分]]を求め転送することによって[[キャッシュ項目]]を更新させる仕組みです。

* 仕様書

[REFS[
- [2] '''[CITE@en[RFC 3229 - Delta encoding in HTTP]] ([TIME[2014-10-26 21:15:25 +09:00]] 版) <http://tools.ietf.org/html/rfc3229>'''
-- [6] [CITE@en[RFC 3229 - Delta encoding in HTTP]] ([TIME[2014-10-26 21:15:25 +09:00]] 版) <http://tools.ietf.org/html/rfc3229#section-6>
-- [9] [CITE@en[RFC 3229 - Delta encoding in HTTP]] ([TIME[2014-10-26 21:15:25 +09:00]] 版) <http://tools.ietf.org/html/rfc3229#section-10.1>
]REFS]

* プロトコル

[3] [[RFC 3229]] は [[HTTP]] の標準の[[キャッシュ]]の更新の仕組み
([[条件付き要求]]) は 100% ([CODE(HTTP)[[[200]]]]) と 0% ([CODE(HTTP)[[[304]]]])
の転送しかなく、実際には部分的な更新のことが多いため効率的ではないとして、
[[差分]]のみを転送する仕組みを提案していました。

[4] ただし同 [[RFC]] はそのために[[差分]]のみならず[[範囲要求]]や[[圧縮]]も統合した[[実現値操作]]なる概念を導入するよう
[[HTTP]] の[[プロトコル]]に過大に手を入れるものでした。

[5] [[差分符号化]]では次の[[プロトコル要素]]が使われます。
[FIG(short list)[
- [CODE(HTTP)@en[[[IM:]]]]
- [CODE(HTTP)@en[[[A-IM:]]]]
- [CODE(HTTP)@en[[[226]]]]
- [CODE(HTTP)@en[[[Cache-Control: im]]]]
]FIG]

[7] [[RFC 3229]] は[[差分符号化法]]として [[diff -e]]、[[diff -e]] + [[gzip]]、
[[vcdiff]] を紹介しつつ、特定の方法を推奨するものではなく、とはいえ [CODE(HTTP)@en[[[A-IM:]]]]
が長くなるのは好ましくないことから一定期間後に推奨形式を決めるべき [SRC[>>6]] と述べていました。

;; [8] しかし現在までそのような決定は行われていないようです。

* 差分符号化の一覧

[10] [[差分符号化]]は[[実現値操作]]のうち次のものとされています [SRC[>>9]]。
[FIG(short list)[
- [CODE(HTTP)@en[[[vcdiff]]]]
- [CODE(HTTP)@en[[[gdiff]]]]
- [CODE(HTTP)@en[[[diffe]]]]
]FIG]