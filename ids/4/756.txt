[18] [DFN[[CODE(HTTP)@en[[[DAV:]]]]]] [[ヘッダー]]は、対応する [[WebDAV]]
の機能を表すものです。

* 仕様書

[REFS[
- [3] [CITE@en[RFC 4918 - HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)]] ([TIME[2014-09-21 17:04:59 +09:00]] 版) <http://tools.ietf.org/html/rfc4918#section-10.1>
]REFS]

* 意味

[7] [CODE(HTTP)@en[[[DAV:]]]] [[ヘッダー]]は、[[資源]]が対応している [[WebDAV]]
の[[スキーマ]]と[[プロトコル]]を示すものです [SRC[>>3]]。

* 構文

[1] [CODE(HTTP)@en[[[DAV:]]]] [[ヘッダー]]の値は、0個以上の適合クラスの[[リスト]]
([CODE(HTTP)[#]]) です [SRC[>>3]]。

[FIG(railroad)[
= ?
== 適合クラス
== *
=== [[OWS]]
=== [CODE(HTTP)[[[,]]]]
=== [[OWS]]
=== 適合クラス
]FIG]

[5] 適合クラスは、 [CODE(HTTP)[[[1]]]]、[CODE(HTTP)[[[2]]]]、
[CODE(HTTP)[[[3]]]]、[[字句]]、[CODE[[[<]]]] と [CODE[[[>]]]]
で括った[[絶対URL]]のいずれかです [SRC[>>3]]。

[FIG(railroad)[
= |
== [[字句]]
== =
=== [CODE[[[<]]]]
=== [[ASCII絶対URL]]
=== [CODE[[[>]]]]
]FIG]

;; [6] [[絶対URL]]は [[RFC 3986]] [CODE(ABNF)@en[[[absolute-URI]]]]
の定義が参照されています [SRC[>>3]]。

[11] 適合クラスの値の順序は意味を持ちません [SRC[>>3]]。

* 文脈

[8] [[WebDAV]] に従う[[資源]]は、 [CODE(HTTP)@en[[[OPTIONS]]]] [[要求]]に対する[[応答]]で
[CODE(HTTP)@en[[[DAV:]] [[1]]]] を含めなければ[['''なりません''']] [SRC[>>3]]。

[9] [[WebDAV]] を一部の[[資源]]でしか対応していない[[鯖]]は、
>>8 を含める[['''べきではありません''']] [SRC[>>3]]。

[16] [[クライアント]]は、必要があれば[[要求]]に [CODE(HTTP)@en[[[DAV:]]]]
[[ヘッダー]]を含めることができます。しかし[[標準化過程]]の仕様書が要求しない限り、
含める[['''べきではありません''']]。 [SRC[>>3]]

;; [17] [[要求]]に含めさせる場合には、[[キャッシュ]]への影響を注意深く考慮しないといけません [SRC[>>3]]。

[19] この[[ヘッダー]]は複数指定できます。

* 適合クラス

[10] 値は[[資源]]が対応する[RUBYB[適合クラス]@en[compliance class]]を表します [SRC[>>3]]。

[12] [[字句]]は、 [[RFC]] として標準化されます [SRC[>>3]]。

[13] それ以外のものは [[URL]] を使う[['''べきです''']] [SRC[>>3]]。

[14] 適合クラス2、3に従う[[資源]]は、適合クラス1にも従わなければなりません。
しかし一般にある適合クラスに従っていても、他の適合クラスに従っているとは限りません。
適合クラス2と適合クラス3は独立しています。 [SRC[>>3]]

* 処理

[15] 多くの [[WebDAV]] [[鯖]]は[[要求対象]]が [CODE(HTTP)[[[*]]]] の
[CODE(HTTP)@en[[[OPTIONS]]]] [[要求]]に対して [CODE(HTTP)@en[[[DAV:]]]]
[[ヘッダー]]を含めません [SRC[>>3]]。

* 歴史

[FIG(quote)[
[FIGCAPTION[
[4] RFC 2518 (WebDAV) 9.1 DAV Header
]FIGCAPTION]

>
-   DAV = "DAV" ":" "1" ["," "2"] ["," 1#extend]

>This header indicates that the resource supports the DAV schema and
protocol as specified. All DAV compliant resources MUST return the
DAV header on all OPTIONS responses.

この頭は指定されている DAV schema
及びプロトコルに資源が対応していることを示します。
すべての DAV に従う資源は全ての
[CODE(HTTP)[[[OPTIONS]]]] 応答で
[CODE(HTTP)[DAV]] 頭を帰さなければ'''なりません'''。

>The value is a list of all compliance classes that the resource
supports.  Note that above a comma has already been added to the 2.
This is because a resource can not be level 2 compliant unless it is
also level 1 compliant. Please refer to section 15 for more details.
In general, however, support for one compliance class does not entail
support for any other.

値はその資源が対応していて従っている級全ての並びです。
上で読点が [CODE(HTTP)[2]]
に付されていることに注意して下さい。
これは資源が水準1に従わずに水準②に従うことができないからです。
詳細は15章を参照してください。
しかし、通常はある従う級への対応が他のものへの対応を伴うことはありません。
]FIG]
