[2]

>
:(18) [DFN[SGML部分文書実体]] ([DFN@en[SGML subdocument entity]]):
独自の[[文書型宣言]]及び[[連結型宣言]]に従う[[SGML実体]]であって、
それに先行する[[SGML文書実体]]の[[SGML宣言]]に従うもの。
少なくとも[[基本文書型宣言]]及び[[基本文書要素]]の[[開始]]及び[[終了]]を含む。

;; 出典: [[JIS X 4151]]‐1992 3.

[1]

>
:[DFN[SGML [RUBY[部分文書実体] [ぶぶんぶんしょじったい] @en[subdocument entity]]]], [DFN@en[SUBDOC]]:
[[SGML文書実体]]の [[SGML宣言]]に[[適合]]し、
自身の[[文書型宣言]]と[[連結型宣言]]にも[[適合]]する [[SGML実体]]。
少なくても[[基底文書型宣言]]と[[基底文書要素]]の[[開始]]と[[終了]]を含む。

出典:
- [[ISO/IEC 10744]]:1997
-- 3.115
<http://y12web2.y12.doe.gov/sgml/wg8/docs/n1920/html/clause-3.html#def-3.115>

[3]

> [CODE[[DFN[SGML部分文書実体]] = [[前書き]], [[文書実現値集合]], [[Ee]] —(3)]]

;; 出典: [[JIS X 4151]]‐1992 5.2

([[名無しさん]] [sage])

[4]
'''公開文種別''':
[[素のSGML]]における[[公式公開識別子]]で、[[SGML部分文書実体]]の[[公開文種別]]は[CODE(SGML)@en[[[SUBDOC]]]]でなければなりません[SRC@en[JIS 9.2.2.1]]。

([[名無しさん]] [sage])

[5]
'''実体型''':
[[外部実体指定]] [WEAK[([[実体宣言]]の一部を構成しています。)]]
では、[[外部識別子]]の後に[[実体型]]として[[鍵語]][CODE(SGML)@en[[[SUBDOC]]]]を指定できます。
この指定がある場合、その[[参照]] ([[宣言]]) されている[[実体]]が[[SGML部分文書実体]]であることを表します。
[SRC@en[JIS 9.5.5]]

([[名無しさん]] [sage])

[6]
>>5 の[[実体型]]として[CODE(SGML)@en[[[SUBDOC]]]]が指定できる場合というのは、
[[SGML宣言]]で[CODE(SGML)@en[[[SUBDOC]] [[YES]]]]としてある時だけです。[SRC@en[JIS 9.5.5]]
([[名無しさん]] [sage])

[7]
'''実体属性''':
[[属性型]]が[CODE(SGML)@en[[[ENTITY]]]]または[CODE(SGML)@en[[[ENTITIES]]]]の[[属性値]]中の[[名前]]は、[[データ実体]]または[[SGML部分文書実体]]の[[名前]]でなければなりません。しかも、[[名前群]]なしの[[一般実体参照]]で使える[[実体]]と同様に[[宣言]]していなければなりません。[SRC@en[JIS 6.9.4.3]]

([[名無しさん]] [sage])

[8]
'''SGML宣言''':
[[SGML宣言]]の[[他機能]]の部分には、[CODE(SGML block)@en[[[SUBDOC]] [[YES]] [VAR[n]]]]または[CODE(SGML block)@en[[[SUBDOC]] [[NO]]]]と指定する部分があります。
これは、[Q[同時に複数の[[SGML部分文書実体]]が開いておける[[機構]]]]を意味しています。[VAR@en[n]]は最大の個数 (1[[以上]])
を指定します。
[SRC@en[JIS 12.5.3]]
([[名無しさん]] [sage])

[9]
'''基本SGML文書では使用できない''':
[[基本SGML文書]]の[[SGML宣言]]では[CODE(SGML)@en[[[SUBDOC]] [[NO]]]]なので、[[SGML部分文書実体]]は使用できません。
[SRC@en[JIS 表8]]

([[名無しさん]] [sage])

[10]
>>7 すなわち、[[基底文書型定義]]およびその[[開始タグ]]の[[文書型指定]]で指定されている''すべて''の[[活性文書型]]の[[文書型定義]]で
(その[[名前]]で、または[[既定実体]]が) 
[[宣言]]されている[[一般実体]]でなければなりません。
[SRC@en[JIS 8.4.4.1]]

([[名無しさん]] [sage])

[11]
[[SGML部分文書実体]]は、[[SGML宣言]]''以外''は完全に[[参照]]元の[[文書]]とは独立に解釈されます。
例えば、[[参照]]元の[[文書型]]や[[実体宣言]]は[[部分文書実体]]には適用され''ません''し、
[[現在番号]]や[[識別子属性]]も別の空間にあるものとして解釈されます。
[SRC@en[JIS 参考4 4.2]]
([[名無しさん]] [sage])

[12]
[[SGML部分文書実体]]は、[[非SGMLデータ実体]]同様、
[[一般実体参照]]として[[参照]]します。[[一般実体参照]]は[[混合内容]]や[[置換可能文字データ]]などで使えます。
[[実体属性]]としても使えます。

[PRE(SGML example code)[
<!ENTITY  art1     SYSTEM SUBDOC>
<!ELEMENT article - - EMPTY>
<!ATTLIST article file ENTITY #REQUIRED>
[INS[:]]
<p>この点に関しては、次の記事に詳しい。</p>
<article file=art1>
]PRE]

[SRC@en[JIS 参考4 4.2]]
([[名無しさん]] [sage])

[13]
[[SGML部分文書実体]]は、別々に作られた[[文書型]]が様々な[[文書]]群を取り込んで一つの[[文書]] (例えば[[選集]])
を作るために使うことができます。[SRC@en[JIS 参考4 4.2]]
([[名無しさん]] [sage])

[14]
仕様書:
- [[JIS X 4151]]‐1992
-- 3.
-- [CSECTION[5.2 SGML実体]]
-- [CSECTION[6.9.4.3 一般実体名]]
-- [CSECTION[8.4.4.1 適用可能な実体宣言]]
-- [CSECTION[9.2.2.1 公開文種別]]
-- [CSECTION[9.5.5 外部実体指定]]
-- [CSECTION[12.5.3 他機構]]
-- [CSECTION[14.1.1 基本SGML文書]]
-- [CSECTION[表8 基本SGML文書に対するSGML宣言の例]]
-- 参考4 [CSECTION[4.2 SUBDOC—入れ子の部分文書実体]]
- [[Web SGML]]
-- [CSECTION[K.3.8 その他の機能]]

([[名無しさん]] [sage])

[15]
[CSECTION[8.1 置換可能文字データ]]より:
[[置換可能文字データ]]内の[[一般実体参照]]の[[参照]]する[[実体]]が[[SGML部分文書実体]]であってはなりません。
([[名無しさん]])

[16]
[CSECTION[8.4.2 SGML部分実体の量的制限]]より:
[[開いているSGML部分実体]]の個数は[CODE(SGML)@en[[[SUBDOC]]]]で指定した[[数]] (>>8) [[以下]]でなければなりません。
([[名無しさん]])


[17]
[CSECTION[8.4 実体参照]]より:
>[[実体参照]]の[[置換文]]は、その[[参照]]の[[文脈]]での[[構文]]及び[[意味]]についての[[要件]]に従っていなければならない。[[SGML部分文書実体]]又は[[非SGMLデータ実体]]への[[参照]]は、[[データ文字]]への[[参照]]として扱う。

- [18] [CODE(ABNF)[[DFN[SGML 部分文書実体]] := [ *[[s]] [[SGML宣言]] ] [[前書き]] [[文書実現値集合]] [CODE(SGML)[[[Ee]]]] ;; [[WebSGML]] [3] ]]


* SUBDOC (SGML 宣言の引数である見出し語)

[19] [CODE(SGML)[SUBDOC YES]] だと、
[[実体文]]の実体型の指定で [CODE(SGML)[SUBDOC]] と書けます。

* SUBDOC (実体宣言の引数である見出し語)

[20] [[実体文]]の実体型の指定で使って、
宣言する実体 (外部実体。) が[[SGML部分文書実体]]であることを示します。

* メモ


[21] 
[CITE[[[JIS X 4153:1998]][BR[]]文書スタイル意味指定言語(DSSSL)  解説]]
[TIME[2001-08-19T05:29:36.000Z]], [TIME[2023-11-19T13:04:37.509Z]] <http://www.y-adagio.com/public/standards/jis_dsssl/tutr.txt>


>  訳語選定に際しては,SGMLを規定しているJIS X 4151,SGMLの拡張規格であるJIS X 4155, 及びSGML関連規格であるJIS X 4171との整合を第一に配慮した。しかし次の用語などについては,その後関連分野で普及した訳語表記に従っている。
>
>  原語                           訳語           
>  ------------------------------------------------
>[SNIP[]]
>  SGML subdocument entity        SGML副文書実体   



