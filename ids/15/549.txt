[35] [[URL]] には、[DFN[[RUBYB[利用者名]@en[username]]]]と[DFN[[RUBYB[パスワード]@en[password]]]]を記述できる欄があります。

* 仕様書

[REFS[
- [34] [CITE@en[URL Standard]] ([TIME[2017-01-04 18:29:56 +09:00]]) <https://url.spec.whatwg.org/#urls>
]REFS]

* URL 記録

[36] [[URL記録]]は、
[DFN[[F[[RUBYB[[[利用者名]]]@en[username]]]]]]を持ちます。
[[利用者名]]を表します。
値は [[ASCII文字列]]です。初期値は[[空文字列]]です。 [SRC[>>34]]

[37] [[URL記録]]は、
[DFN[[RUBYB[[[パスワード]]]@en[password]]]]を持ちます。
[[パスワード]]を表します。
値は [[ASCII文字列]]です。初期値は[[空文字列]]です。 [SRC[>>34]]

* 各 URL scheme における用法

** 利用者名と合言葉

- [8] [CODE(URI)@en[[[ftp:]]]]
- [2] [CODE(URI)@en[[[http:]]]]
- [3] [CODE(URI)@en[[[https:]]]]
- [9] [CODE(URI)@en[[[telnet:]]]]
- [4] [CODE(URI)@en[[[tn3270:]]]]

** 利用者名 (合言葉も使えるのか不明)

- [5] [CODE(URI)@en[[[rlogin:]]]]
- [10] [CODE(URI)@en[[[ssh:]]]]

** 暗号鍵

- [6] [CODE(URI)@en[[[http+aes:]]]]
- [7] [CODE(URI)@en[[[https+aes:]]]]

** その他のプロトコル上の識別子

[FIG(short list)[
- [CODE(URI)@en[[[reload:]]]]
]FIG]

* 文字コード

@@
[27] XXX

* userinfo 符号化集合

** 仕様書

[REFS[
- [30] [CITE@en[URL Standard]] ([TIME[2016-03-08 02:00:58 +09:00]] 版) <https://url.spec.whatwg.org/#userinfo-encode-set>
]REFS]

** 文字の一覧

[REFS[
- [31] [CITE@en[Character set "userinfo encode set"]] ([TIME[2016-03-08 21:14:51 +09:00]] 版) <https://chars.suikawiki.org/set/%24url%3Auserinfo-encode-set>
]REFS]

** 文脈

[33] [[URLの構文解析]]で使われます。 [CODE[userinfo]] が含まれる入力の場合や、
[[URL]] の[F[利用者名]]や[F[合言葉]]を設定する時に参照されます。

* 歴史

[REFS[
- [1] [CITE[パスワード保護されたフィードをGoogle Readerからアクセスする方法 : ライフハッカー[日本版], 仕事も生活も上手くこなすライフハック情報満載のブログ・メディア]]
([TIME[2010-01-05 09:11:11 +09:00]] 版)
<http://www.lifehacker.jp/2010/01/20100104google_reader.html>
]REFS]


[11] [CITE[Issue 82250 - chromium - HTTP username:password stripped out from links - An open-source browser project to help move the web forward. - Google Project Hosting]]
([TIME[2012-05-15 12:31:08 +09:00]] 版)
<http://code.google.com/p/chromium/issues/detail?id=82250>

[12] [CITE[Masato Kinugawa Security Blog: CVE-2012-0678: Safariのfeed:// URLのUXSS]]
( ([TIME[2012-11-27 08:37:19 +09:00]] 版))
<http://masatokinugawa.l0.cm/2012/11/safari-feed-url-uxss.html>

[13] [CITE@en[Factor out set the username and password algorithms for use by XMLHttpRe... · 4e2f350 · whatwg/url]]
( ([TIME[2014-10-21 09:49:41 +09:00]] 版))
<https://github.com/whatwg/url/commit/4e2f35062170f11924a35f06abb5e2fb014e48c6>

[14] [CITE@en[Use the set the username/password algorithms · d699900 · whatwg/fetch]]
( ([TIME[2014-10-21 09:51:32 +09:00]] 版))
<https://github.com/whatwg/fetch/commit/d699900add11588f35a1d6c74987f288f975f103>

[15] [CITE@en[Throw if URL includes credentials. Fixes #26. Also more HTTPS. · whatwg/fetch@32ab411]]
([TIME[2015-04-04 11:59:46 +09:00]] 版)
<https://github.com/whatwg/fetch/commit/32ab4119f9aa5d280507d6201b0784cfe5669106>

[16] [CITE@en[479038 – Should the suspicious-auth warning apply to all loads? Should URI userinfo be banned?]]
([TIME[2015-04-05 18:48:09 +09:00]] 版)
<https://bugzilla.mozilla.org/show_bug.cgi?id=479038>

[17] [CITE@en-us[Internet Explorer does not support user names and passwords in Web site addresses (HTTP or HTTPS URLs)]]
([TIME[2015-04-05 18:48:28 +09:00]] 版)
<https://support.microsoft.com/en-us/kb/834489>

[18] [CITE@en[Copy username/password for relative URLs · whatwg/url@06b2e68]]
([TIME[2015-06-10 21:55:33 +09:00]] 版)
<https://github.com/whatwg/url/commit/06b2e6895dff2e6efaeba65f4eb1bc27ecc21581>

[19] [CITE@en[Encode { and } in username/password/path to fix #16. Also acknowledge… · whatwg/url@c296e2f]]
([TIME[2015-06-11 12:55:19 +09:00]] 版)
<https://github.com/whatwg/url/commit/c296e2f8519a1d6614d664708d368a342682c9a1>

[20] [CITE@en[Make it non-conforming to place a username and/or password in a URL. … · whatwg/url@e0c721b]]
([TIME[2015-06-16 15:08:21 +09:00]] 版)
<https://github.com/whatwg/url/commit/e0c721b680d0977013ef2a14ba578388c01bd331>

[21] [CITE@en[Use the username and password encode sets within authority state. Fix… · whatwg/url@7876306]]
([TIME[2015-06-17 16:52:39 +09:00]] 版)
<https://github.com/whatwg/url/commit/78763066648b921c51b0920493c67fc166c3e6f3>

[22] [CITE@en[Bug 26340 – Ignoring username and password from the base URL?]]
([TIME[2015-07-05 11:36:42 +09:00]] 版)
<https://www.w3.org/Bugs/Public/show_bug.cgi?id=26340#c2>

[FIG(quote)[
[FIGCAPTION[
[23] [CITE@en[URL scheme sequelpro:// Usage | Sequel Pro]]
([TIME[2015-01-20 10:39:03 +09:00]] 版)
<http://www.sequelpro.com/docs/URL_Scheme>
]FIGCAPTION]

> sequelpro://$SP_PROCESS_ID@chooseItemFromList/item1/item2/…

]FIG]


[24] [CITE@en[Encode more code points for usernames and passwords. Fixes #30. · whatwg/url@9ca26e5]]
([TIME[2015-08-15 11:53:55 +09:00]] 版)
<https://github.com/whatwg/url/commit/9ca26e5b0edc131f9cca81d0fef4ab92815bc289>

[25] [CITE@en[Use "include credentials" from the URL Standard rather than copying i… · whatwg/fetch@2c68504]]
([TIME[2015-08-19 23:49:57 +09:00]] 版)
<https://github.com/whatwg/fetch/commit/2c68504a5ea6c6742212a31dc357ceab12862296>

[FIG(quote)[
[FIGCAPTION[
[26] [CITE[GNU Wget 1.16.2 Manual]]
([TIME[2015-09-14 23:23:19 +09:00]] 版)
<http://www.gnu.org/software/wget/manual/wget.html>
]FIGCAPTION]

> Some proxy servers require authorization to enable you to use them. The authorization consists of username and password, which must be sent by Wget. As with HTTP authorization, several authentication schemes exist. For proxy authorization only the Basic authentication scheme is currently implemented.
> You may specify your username and password either through the proxy URL or through the command-line options. Assuming that the company’s proxy is located at ‘proxy.company.com’ at port 8001, a proxy URL location containing authorization data might look like this:
> http://hniksic:mypassword@proxy.company.com:8001/

]FIG]


[28] [CITE@en[Fix #44: replace "relative flag" with non-null host check · whatwg/xhr@fabeb1a]]
([TIME[2016-01-21 12:13:22 +09:00]] 版)
<https://github.com/whatwg/xhr/commit/fabeb1a5de040041e213ccd68c63a0d694c2879b>

[FIG(quote)[
[FIGCAPTION[
[29] [CITE@ja-jp[Internet Explorer では Web サイト アドレス (HTTP URL および HTTPS URL) に含まれるユーザー名およびパスワードがサポートされない]]
([TIME[2016-03-01 10:03:21 +09:00]] 版)
<https://support.microsoft.com/ja-jp/kb/834489>
]FIGCAPTION]

> Internet Explorer 3.0 ~ 6.0 では HTTP URL および HTTPS URL で次の構文がサポートされています。
> http(s)://username:password@server/resource.ext
> この URL 構文を使用すると、基本認証方式をサポートする Web サイトにユーザー情報が自動的に送信されます。
> この資料の「背景情報」に記載されている問題を抑制するため、Internet Explorer およびエクスプローラーでは、この形式の HTTP URL および HTTPS URL の処理をサポートしないようになりました。エクスプローラーおよび Internet Explorer では、ユーザー情報を含む URL を使用して HTTP サイトまたは HTTPS サイトを開くことはできません。ユーザー情報が HTTP URL または HTTPS URL に含まれている場合、既定で次のタイトルの Web ページが表示されます。
> 無効な構文エラー
> 注: この既定の動作の変更は、他のプロトコルには影響を与えません。たとえば、セキュリティ更新プログラム 832894 をインストールした後でも、FTP URL にはユーザー情報を含めることができます。
> この既定の動作の変更は、セキュリティ更新プログラム 832894 のリリース以降にリリースされたセキュリティ更新プログラム、Service Pack、および Internet Explorer の各バージョンでも実装されています。

]FIG]

[FIG(quote)[
[FIGCAPTION[
[32] [CITE@en[Connection String URI Format — MongoDB Manual 3.2]]
([TIME[2016-10-28 23:53:37 +09:00]])
<https://docs.mongodb.com/manual/reference/connection-string/>
]FIGCAPTION]

> The following connects to a replica set with two members, one on db1.example.net and the other on db2.example.net:
> mongodb://db1.example.net,db2.example.com

]FIG]
