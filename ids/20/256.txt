[4] [DFN[[RUBYB[環境設定群オブジェクト]@en[environment settings object]]]]は、
[[スクリプト]]実行や[[イベントループ]]に関わる諸条件の集合体です。
[[大域オブジェクト]]ごとに存在します。

* 仕様書

[REFS[
- [3] '''[CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2014-10-14 21:54:07 +09:00]] 版) <https://html.spec.whatwg.org/#environment-settings-object>'''
-- [49] 旧 [CITE@en-US-x-hixie[HTML Standard]] ([TIME[2014-04-03 03:44:44 +09:00]] 版) <http://www.whatwg.org/specs/web-apps/current-work/#script-settings-object>
- [34] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2014-10-14 21:54:07 +09:00]] 版) <https://html.spec.whatwg.org/#set-up-a-worker-environment-settings-object>
-- [50] 旧 [CITE@en-US-x-hixie[HTML Standard]] ([TIME[2014-04-03 03:44:44 +09:00]] 版) <http://www.whatwg.org/specs/web-apps/current-work/#set-up-a-worker-script-settings-object>
- [45] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2016-03-27 03:13:07 +09:00]] 版) <https://html.spec.whatwg.org/#concept-realm-settings-object>
- [39] [CITE@en-US-x-hixie[HTML Standard]] ([TIME[2014-04-03 03:44:44 +09:00]] 版) <http://www.whatwg.org/specs/web-apps/current-work/#calling-scripts>
- [59] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-04-25 04:40:19 +09:00]] 版) <https://html.spec.whatwg.org/#garbage-collection-and-browsing-contexts>
- [24] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-12-22 10:28:15 +09:00]] 版) <https://html.spec.whatwg.org/#javascript-execution-context's-settings-object>
- [69] [CITE@en[Upgrade Insecure Requests]] ([TIME[2015-10-07 03:24:10 +09:00]] 版) <https://w3c.github.io/webappsec-upgrade-insecure-requests/#nesting>
]REFS]

* 意味

[18] [[環境設定群オブジェクト]]と[[大域オブジェクト]]には常に1対1の関係があります。
[DFN[[RUBYB[[[大域オブジェクトの関連する設定群オブジェクト]]]@en[relevant settings object for a global object]]]]とは、
その[[大域オブジェクト]]が用いられている (>>8) [[環境設定群オブジェクト]]のことをいいます。 [SRC[>>3]]

;; [19] [[大域オブジェクト]]が[[ごみ収集]]されない間は[[大域オブジェクトのスクリプト設定群オブジェクト]]も[[ごみ収集]]されないものと思われます。

[57] [[大域オブジェクト]]以外の[[プラットフォームオブジェクト]]の[DFN[[RUBYB[[[関連する設定群オブジェクト]]]@en[relevant settings object]]]]は、
当該[[オブジェクト]]に[F[関連付けられた大域環境]]の[F[大域オブジェクト]]の[F[環境設定群オブジェクト]]です
[SRC[>>3]]。

[HISTORY[
[65] 以前は[DFN[[RUBYB[[[スクリプト設定群オブジェクト]]]@en[script settings object]]]]と呼ばれていました。
]HISTORY]

;; [70] [[複合語]]となるときは、省略されて「[RUBYB[設定群オブジェクト]@en[settings object]]」となります。

* 状態

[5] [[環境設定群オブジェクト]]は、次の[[状態]]を持ちます。

[FIG(list members)[
: [F[[[realm実行文脈]]]] :
本[[環境設定群オブジェクト]]を使うすべての[[スクリプト]]
(同じ [[realm]] のすべての[[スクリプト]]) で共有する[[JavaScript実行文脈]]。 [SRC[>>3]]
: [F[[[モジュール写像]]]] [SRC[>>3]] : 利用する[[モジュール]]に関する情報を保持する[[写像]]です。
:[10] [DFN[[RUBYB[[[有責閲覧文脈]]]@en[responsible browsing context]]]]:
本[[設定群オブジェクト]]を使う[[スクリプト]]による動作に責任をもつ[[閲覧文脈]]です。 [SRC[>>3]] [[強い参照]]です [SRC[>>59]]。
:[11] [DFN[[RUBYB[[[有責文書]]]@en[responsible document]]]]:
本[[設定群オブジェクト]]を使う[[スクリプト]]による動作に責任を持つ[[文書]]です。 [SRC[>>3]]
[[強い参照]]です [SRC[>>59]]。
:[12] [DFN[[RUBYB[[[有責イベントループ]]]@en[responsible event loop]]]]:
どの[[イベントループ]]を使うか自明でない時に使う[[イベントループ]]です。 [SRC[>>3]]
[[イベントループ]]から逆方向に参照されることもあります。
:[14] [DFN[[RUBYB[[[API URL文字符号化]]]@en[API URL character encoding]]]]:
本[[設定群オブジェクト]]を使う[[スクリプト]]が呼ぶ [[API]] で [[URL]]
を[[符号化]]するために使われる[[文字符号化]]です。 [SRC[>>3]]
:[15] [DFN[[RUBYB[[[API基底URL]]]@en[API base URL]]]]:
本[[設定群オブジェクト]]を使う[[スクリプト]]が呼ぶ [[API]] で[[相対URL]]
を[[解決]]するために使われる[[絶対URL]]です。 [SRC[>>3]]
:[16] [[起源]] [SRC[>>3]]:
[[スクリプト]]を介した多くの操作の[[セキュリティー]]検査に使われる[[起源]]です。
:[17] [[実効スクリプト起源]] [SRC[>>3]]:
[[スクリプト]]を介した一部の操作の[[セキュリティー]]検査に使われる[[起源]]です。
[CODE(JS)@en[document.domain]] の影響を受けます。
:[[HTTPS状態]]:本[[環境設定群オブジェクト]]に関連付けられた[[資源]]の[[輸送路]]の保安特性です [SRC[>>3]]。
:[62] [DFN[[RUBYB[作成URL]@en[creation URL]]]]:[[環境設定群オブジェクト]]が関連付けられた[[資源]]の [[URL]] です [SRC[>>3]]。
[[文書の番地]]とは違って、 [CODE(DOMm)@en[[[pushState]]]] などにより変化しません。
:[[非保安要求ポリシー]]: [CODE(URI)@en[[[http:]]]] → [CODE(URI)@en[[[https:]]]]
の [[URL]] 書き換えを行うか否か。
:[[非保安navigate格上げ集合]]: [[navigate]] 時に
[CODE(URI)@en[[[http:]]]] → [CODE(URI)@en[[[https:]]]] の [[URL]] 書き換えを行うか否か。
:[F[[[未決拒絶された約束弱集合]]]]: 
[[拒絶]]された[[約束]]オブジェクトのリスト。初期状態では[[空]]です。
:[F[[[これから通知する拒絶された約束リスト]]]]:
[[拒絶]]された[[約束]]オブジェクトのリスト。初期状態では[[空]]です。
: [F[[[大域オブジェクト]]]] : [F[Realm]]の[F(ss)[GlobalObject]] [SRC[>>3]]。
[[強い参照]]です [SRC[>>59]]。
: [F[[[Realm]]]] : [F[[[realm実行文脈]]]]の[F[[[Realm]]]] [SRC[>>3]]。
]FIG]

;; [23] 仕様上各構成要素は値ではなく、[[アルゴリズム]]となっています。各構成要素は固定の値を持つのではなく、
参照される時点で評価した結果の値が用いられることになります。

[HISTORY[
[73] かつては次のような規定がありました。

[FIG(list members)[
:[6] [DFN[[RUBYB[[[スクリプト実行環境]]]@en[script execution environment]]]]:
[[利用者エージェント]]が対応している各[[スクリプト言語]]について、
当該[[スクリプト言語]]に依存した[[スクリプト実行環境]]の性質です。 [SRC[>>3]]
[7] [[JavaScript]] の場合、[RUBYB[[[解釈器]]]@en[interpreter]]、
[[実行文脈のスタック]]、[[大域コード]]と[[関数コード]]と得られた [CODE(JS)@en[[[Function]]]]
[[オブジェクト]]、その他です。 [SRC[>>3]]
これは [[JavaScript]] 以外の言語への対応が廃止されたため、
[[realm実行文脈]]に変更されました。
:[8] [DFN[[RUBYB[[[大域オブジェクト]]]@en[global object]]]]:
本[[設定群オブジェクト]]を使う[[スクリプト]]の[[コード]]が呼べる [[API]] 
を提供する[[オブジェクト]]です。 [SRC[>>3]]
[9] これが空の[[オブジェクト]]だと、環境に作用することを何もできません。 [SRC[>>3]]
[60] [[強い参照]]です [SRC[>>59]]。
:[13] [DFN[[F[[RUBYB[[[API参照子源]]]@en[API referrer source]]]]]]:
[[リファラー]]の決定に使われていました。
[fetch]] との統合により廃止されています。 [[Referrer Policy]] との統合により [[referrer]]
の決定はかなり複雑化しています。
]FIG]
]HISTORY]

* [CODE(DOMi)@en[Window]] の場合

[21] [[JavaScript実行文脈]][VAR[実行文脈]]の[[環境設定群オブジェクト]]は、
次のようなものです [SRC[>>3]]。
ここで、
[VAR[realm]] は、[VAR[実行文脈]]の [F[Realm]] とします。
[VAR[窓]]は、[VAR[realm]] の[F[大域オブジェクト]]とします。

[FIG(list members)[
[FIGCAPTION[
[[環境設定群オブジェクト]]
]FIGCAPTION]
:[22] [F[[[realm実行文脈]]]]: [VAR[実行文脈]]
:[25] [F[[[有責閲覧文脈]]]]: [VAR[窓]]の[F[[[閲覧文脈]]]]。
:[26] [F[[[有責文書]]]]: [VAR[窓]]の [F[[CODE(DOMi)@en[[[Document]]]]]]。
:[27] [F[[[有責イベントループ]]]]: [VAR[窓]]の[F[[[閲覧文脈]]]]が属する[[関連する類似起源閲覧文脈の単位]]の[F[[[イベントループ]]]]。
:[29] [F[[[API URL文字符号化]]]]: [VAR[窓]]の [F[[CODE(DOMi)@en[[[Document]]]]]] の[F[[[文字符号化]]]]。
:[30] [F[[[API基底URL]]]]: [VAR[窓]]の [F[[CODE(DOMi)@en[[[Document]]]]]] の[F[[[基底URL]]]]です。
:[31] [F[[[起源]]]]: [VAR[窓]]の [F[[CODE(DOMi)@en[[[Document]]]]]] の[F[[[起源]]]]。
:[32] [F[[[実効スクリプト起源]]]]: [VAR[窓]]の [F[[CODE(DOMi)@en[[[Document]]]]]]
の[F[[[実効スクリプト起源]]]]。
:[F[[[HTTPS状態]]]]: [VAR[窓]]の [F[[CODE(DOMi)@en[[[Document]]]]]] の[F[[[HTTPS状態]]]]。
:[F[[[作成URL]]]]: 作成時点での、[VAR[窓]]の [F[[CODE(DOMi)@en[[[Document]]]]]] の[F[[[文書の番地]]]]。
]FIG]

[71] この初期設定の実行を [[HTML Standard]] は[VAR[実行文脈]]に関する[DFN[[RUBYB[閲覧文脈環境設定群オブジェクトの設定]@en[set up a browsing context environment settings object]]]]
[SRC[>>3]]
と呼んでいます。
[[閲覧文脈の作成]]や [CODE(JS)@en[[[document.open]]]] から呼び出されます。
その際、 [VAR[realm]] の [F(ss)[HostDefined]] は、この初期設定された[[環境設定群オブジェクト]]に設定されます [SRC[>>3]]。

* ワーカーの場合

[35] [[ワーカー]]については、
[[JavaScript実行文脈]][VAR[実行文脈]]と[VAR[[[現職設定群オブジェクト]]]]について[DFN[[RUBYB[[[ワーカー環境設定群オブジェクトを設定]]]@en[set up a worker environment settings object]]]]する手順により、
次のような[[環境設定群オブジェクト]]が[[ワーカー]]作成時に作られます。
ただし[VAR[大域オブジェクト]]は、[VAR[実行文脈]]の[F[[[大域オブジェクト]]]]とします。

[FIG(list members)[
[FIGCAPTION[
[[環境設定群オブジェクト]]
]FIGCAPTION]
:[36] [F[[[realm実行文脈]]]]: [VAR[実行文脈]]。 [SRC[>>34]]
:[F[[[有責閲覧文脈]]]]: 作成時点での、[VAR[現職設定群オブジェクト]]の[F[[[有責閲覧文脈]]]]。 [SRC[>>34]]
:[F[[[有責文書]]]]: なし。 [SRC[>>34]]
:[F[[[有責イベントループ]]]]:新たに作成した[[イベントループ]]。 [SRC[>>34]]
:[F[[[API URL文字符号化]]]]: [[UTF-8]]。 [SRC[>>34]]
:[F[[[API基底URL]]]]: [VAR[大域オブジェクト]]の[F[[[ワーカーのURL]]]]。 [SRC[>>34]]
:[F[[[起源]]]]: 作成時点での、[VAR[現職設定群オブジェクト]]の[F[[[起源]]]]。 [SRC[>>34]]
:[F[[[実効スクリプト起源]]]]: 作成時点での、[VAR[現職設定群オブジェクト]]の[F[[[起源]]]]。 [SRC[>>34]]
:[F[[[HTTPS状態]]]]: [VAR[大域オブジェクト]]の [F[[[HTTPS状態]]]]。 [SRC[>>34]]
:[F[[[作成URL]]]]: [VAR[大域オブジェクト]]の[F[[[ワーカーのURL]]]]。 [SRC[>>34]]
:[F[[[非保安要求ポリシー]]]]: 作成時点で、[VAR[現職設定群オブジェクト]]の[F[[[非保安要求ポリシー]]]]が
「格上げする」なら、「格上げする」 [SRC[>>69]]、それ以外の場合は「格上げしない」。
:[F[[[非保安navigate格上げ集合]]]]: 作成時点での、[VAR[現職設定群オブジェクト]]の[F[[[非保安navigate格上げ集合]]]]の各値を含む[[集合]]。 [SRC[>>69]]
]FIG]

;; [33] [[ワーカー]]は[[閲覧文脈]]のように他の[[文書]]に切り替わることがないので、
作成時の値がその後もそのまま使われます。

* 演算

[38] [CODE(DOMm)@en[[[postMessage]]]] では、[[設定群オブジェクト]]に関して
[[transfer a [CODE(DOMi)@en[Transferable]] object]] が実行されます。この手順では、
特定環境で作られたオブジェクトを他の環境へと移し替える操作が行われます。

* [F[設定群オブジェクト]] (JavaScript 実行文脈)

[41] [DFN[[RUBYB[[[JavaScript実行文脈]]の[[設定群オブジェクト]]]@en[JavaScript execution context's settings object]]]]は、
その[[JavaScript実行文脈]]の [F[[CODE[[[ScriptOrModule]]]]]] の
[CODE[[F(ss)[[[HostDefined]]]]]] の[[スクリプト]]の[F[[[設定群オブジェクト]]]]です
[SRC[>>24]]。

* [F[設定群オブジェクト]] (Realm)

[61] [DFN[[RUBYB[[[Realm]] の[F[設定群オブジェクト]]]@en[the Realm's [F[settings object]]]]]]
[SRC[>>45]]
は、 [[Realm]] に対応する[[環境設定群オブジェクト]]です。
両者には常に1:1の対応関係が存在します。

[74] [[JavaScript]] の[[仕様書]]上の概念では、 [[Realm]] の [F(ss)[HostDefined]]
が[F[設定群オブジェクト]]を表しています。

* スタック

[54] [[JavaScript実行文脈スタック]]上の状態に応じて、
[[入口設定群オブジェクト]]や[[現職設定群オブジェクト]]が決まります。

[HISTORY[
[40] かつては[[関連する類似起源閲覧文脈の単位]]ごとに1つ、
[[スクリプト設定群オブジェクトのスタック]]があるとされていました。
]HISTORY]

* 関連

[20] [[スクリプト]]はその構成要素として[[環境設定群オブジェクト]]を1つ持っています。
これを[[スクリプトの関連する設定群オブジェクト]]といいます。

[52] [[環境設定群オブジェクト]]と類する概念として他に[[クライアント]]、 [[Realm]]、
[[大域オブジェクト]]などがありますが、各仕様からはそれらよりも[[環境設定群オブジェクト]]を参照する方が良いとされています
[SRC[>>51]]。

;; [44] [[環境設定群オブジェクト]]、[[大域オブジェクト]]、[[Realm]]
には常に1:1:1対応関係があります。

* 歴史

[REFS[
- [246] [CITE@en[Web Applications 1.0 r7236     Recast how the origin handling is done for data: URLs in workers, and fix the shared worker origin handling for data: URLs so that you can actually reconnect to a data: shared worker.]]
( ([TIME[2012-08-10 03:29:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=7235&to=7236>
- [282] [CITE@en[Web Applications 1.0 r8262 Move the spec from a stack of incumbent scripts to a stack of script settings object. This should in theory have no concrete effects (though I may have changed some of the origin used for Web Workers started from document.domain-affected scripts that were called from other scripts with different original origins).]]
( ([TIME[2013-11-09 08:21:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=8261&to=8262>
- [1] [CITE@en[Web Applications 1.0 r8263 Prepare for WebIDL integration]]
( ([TIME[2013-11-12 03:10:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=8262&to=8263>
- [2] [CITE@en[Web Applications 1.0 r8264 Some more tidying around script settings objects.]]
( ([TIME[2013-11-12 03:53:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=8263&to=8264>
]REFS]

[46] [[スクリプトの起源]]は[[スクリプト設定群オブジェクト]]導入前は次のような規定でした。

[FIG[

[REFS[
- [135] [CITE@en-US-x-hixie[HTML Standard]] ([TIME[2012-02-22 20:11:59 +09:00]] 版) <http://www.whatwg.org/specs/web-apps/current-work/#origin>
- [248] [CITE@en-US-x-hixie[HTML Standard]] ([TIME[2012-11-16 20:26:18 +09:00]] 版) <http://www.whatwg.org/specs/web-apps/current-work/#worker-origin>
]REFS]

* 所有者により決まる場合

[164] [[スクリプト]]の[[起源]]は[DFN[[RUBYB[所有子]@en[owner]]]]の[[起源]]の[[別名]]であり、
[[実効スクリプト起源]]は[[所有子]]の[[実効スクリプト起源]]の[[別名]]です。
[[所有子]]は[[スクリプト]]の種類により次の通り定まります。 [SRC[>>135]]

:[CODE(HTMLe)@en[[[script]]]] [[要素]]:[CODE(HTMLe)@en[[[script]]]] [[要素]]の所属する [CODE(DOMi)@en[[[Document]]]]
[SRC[>>135]]
:[[事象取扱器内容属性]]:[[属性]]の所属する [CODE(DOMi)@en[[[Document]]]] [SRC[>>135]]
:他の[[スクリプト]]により作られた[[関数]]その他のコード参照:作った[[スクリプト]] [SRC[>>135]]
:[[HTTP]] [[リダイレクト]] (や[[他のプロトコルで等価なもの]]) により返された [CODE(URI)@en[[[javascript]]]] [[URL]]:
[CODE(URI)@en[[[javascript:]]]] [[URL]] に[[リダイレクト]]した [[URL]] [SRC[>>135]]
:[[属性]]にあった [CODE(URI)@en[[[javascript]]]] [[URL]]:
[[属性]]の所属する [CODE(DOMi)@en[[[Document]]]] [SRC[>>135]]
:[[スタイル・シート]]にあった [CODE(URI)@en[[[javascript]]]] [[URL]]:[[スタイル・シート]]の [[URL]] [SRC[>>135]]
:[[閲覧文脈]]が [[navigate]] 中の [CODE(URI)@en[[[javascript]]]] [[URL]] であって、[[利用者]]によって提供されたもの (例えば[[ブックマークレット]]):
[[閲覧文脈]]の[[活性文書]]の [CODE(DOMi)@en[[[Document]]]] [SRC[>>135]]
:[[閲覧文脈]]が [[navigate]] 中の [CODE(URI)@en[[[javascript]]]] [[URL]] であって、[[マーク付け]]によって提供されたもの:
[[URL]] を宣言している[[要素]] (例えば [CODE(HTMLe)@en[[[a]]]] [[要素]]) の [CODE(DOMi)@en[[[Document]]]]
[SRC[>>135]]
:[[閲覧文脈]]が [[navigate]] 中の [CODE(URI)@en[[[javascript]]]] [[URL]] であって、[[スクリプト]]によって提供されたもの:
[[URL]] を提供した[[スクリプト]] [SRC[>>135]]

* その他のものから決まる場合

[223] その他の場合、[[スクリプト]]の[[起源]]・[[実効スクリプト起源]]は次に示すように定まります。

:[[ワーカー]]で走っている[[スクリプト]]:[[ワーカー]]の [CODE(JS)@en[[[location]]]]
[[属性]]の[[絶対URL]]の[[起源]]
(通常はその [[URL]] 自体から決まる[[起源]]・[[実効スクリプト起源]]であるが、
[CODE(URI)@en[[[data]]]] [[URL]] が[[構築子]]に指定されて作られた[[ワーカー]]ではその
[[entry script]] の[[起源]]・[[実効スクリプト起源]]と同じ値となる (>>243)。) [SRC[>>131]]

* ワーカー起源

[249] [DFN[[RUBYB[ワーカー起源]@en[worker origin]]]]は、 [CODE(DOMi)@en[[[WorkerGlobalScope]]]]
[[オブジェクト]]が作られるときに決まる[[起源]]です。 [SRC[>>248]]
[[エントリー・スクリプト]]の[[起源]]だったり、 [CODE(DOMi)@en[[[SharedWorker]]]]
[[構築子]]の引数として指定された [[URL]] の[[起源]]だったりします。
>>246 で導入されました。
]FIG]

[42] [CITE[IRC logs: freenode / #whatwg / 20140416]]
( ([TIME[2014-04-17 16:38:42 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20140416>

[283] [CITE[IRC logs: freenode / #whatwg / 20141013]]
( ([TIME[2014-10-18 02:52:30 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20141013#l-519>

** 改称

[48] 2014年10月に[[スクリプト設定群オブジェクト]]から[[環境設定群オブジェクト]]に改称されました
[SRC[>>47]]。

[REFS[
- [51] [CITE@en[Bug 26836 – Extend script settings objects to be environment settings objects for use by fetch et al]] ([TIME[2014-10-23 02:47:17 +09:00]] 版) <https://www.w3.org/Bugs/Public/show_bug.cgi?id=26836>
- [47] [CITE@en[Web Applications 1.0 r8834 Rename script settings objects to environment settings objects to make reuse saner.]] ([TIME[2014-10-11 08:43:00 +09:00]] 版) <https://html5.org/r/8834>
- [284] [CITE@en[Make client refer to an environment settings object rather than a JavaSc... · 88b1117 · whatwg/fetch]]
( ([TIME[2014-10-18 14:21:51 +09:00]] 版))
<https://github.com/whatwg/fetch/commit/88b11177f158406479284ae3412c5fa34d184440>
- [285] [CITE@en[MIX: Drop "JavaScript Global Environment". · 5d32821 · w3c/webappsec]]
( ([TIME[2014-10-21 09:48:40 +09:00]] 版))
<https://github.com/w3c/webappsec/commit/5d32821b21f3cb06a651c966f729b3044292a08a>
]REFS]

** 

[REFS[
- [53] [CITE@en[Web Applications 1.0 r8853  Drop the 'responsible document' concept. This also changes the referrer to use when launching a nested worker to be the URL of the outer worker instead of the URL of the outer Document, which made no sense really.]] ([TIME[2014-11-20 08:35:00 +09:00]] 版) <https://html5.org/r/8853>
]REFS]

[286] [CITE@en[Service workers, dedicated workers, and the environment settings object]]
( ([[Anne van Kesteren]] 著, [TIME[2014-10-24 20:09:56 +09:00]] 版))
<http://lists.w3.org/Archives/Public/public-webappsec/2014Oct/0120.html>

[287] [CITE@en[Service workers, dedicated workers, and the environment settings object]]
( ([[Anne van Kesteren]] 著, [TIME[2014-10-24 20:09:56 +09:00]] 版))
<http://lists.w3.org/Archives/Public/public-webappsec/2014Oct/0120.html>

[288] [CITE@en[MIX: Convert checks to environment settings objects. · d065309 · w3c/webappsec]]
( ([TIME[2014-10-30 03:03:36 +09:00]] 版))
<https://github.com/w3c/webappsec/commit/d06530978dafbd99881ca74f93ed67d720b161da>

[289] [CITE@en[Web Applications 1.0 r8860 Used the wrong variable in the worker's environment settings objects]]
( ([TIME[2014-11-27 07:18:00 +09:00]] 版))
<https://html5.org/r/8860>

[63] [CITE@en[Close #123: add creation URL to environment settings objects · whatwg/html@9d4276a]] ([TIME[2015-09-10 23:40:27 +09:00]] 版) <https://github.com/whatwg/html/commit/9d4276a62d0191b98f6bceaf9e0451e478ae8b47>

[64] [CITE@en[SECURE: Use the new 'creation URL' concept to resolve some issues. · w3c/webappsec@43adcd0]] ([TIME[2015-09-10 23:42:29 +09:00]] 版) <https://github.com/w3c/webappsec/commit/43adcd079327dd0258f5f250538bffca8579a7df>

[66] [CITE@en[Integrate Fetch into HTML · whatwg/html@7c5555a]]
([TIME[2015-09-18 19:44:33 +09:00]] 版)
<https://github.com/whatwg/html/commit/7c5555a16f2920c02244c10756bb2f1a11e87a22>

[67] [CITE@en[Add 'HTTPS state' to settings objects · whatwg/html@6de5241]] ([TIME[2015-09-30 00:03:32 +09:00]] 版) <https://github.com/whatwg/html/commit/6de524157fcf341e10efb3eec634bcf7325e6ee4>

[68] [CITE@en[Environment settings objects vs global objects]]
([[Anne van Kesteren]] 著, [TIME[2015-09-22 02:15:26 +09:00]] 版)
<https://lists.w3.org/Archives/Public/www-archive/2015Sep/0020.html>

[28] [CITE@en[Move 'HTTPS state' from Window to Document · whatwg/html@68390ce]] ([TIME[2015-11-06 23:34:31 +09:00]] 版) <https://github.com/whatwg/html/commit/68390cea99f9f19881a16e1c8adaf1b130b4d1cc>

** 

[72] [CITE@en[Rewrite script execution on top of ES · whatwg/html@4891d18]]
([TIME[2015-12-22 20:48:06 +09:00]] 版)
<https://github.com/whatwg/html/commit/4891d18aaf2df1d40aa61f467a5a10cfc19dd85d>

[37] [CITE@en[Initialize a window variable before using it · whatwg/html@862c8b1]]
([TIME[2016-01-21 12:11:05 +09:00]] 版)
<https://github.com/whatwg/html/commit/862c8b1bff2a62c0eb471ff636676a044eeef6ec>

[55] [CITE@en[Add <script type="module"> and module resolution/fetching/evaluation · whatwg/html@cd1a9fb]]
([TIME[2016-01-21 22:24:18 +09:00]] 版)
<https://github.com/whatwg/html/commit/cd1a9fb1e83f7d0bc30be8b34ecdaf444a0b19a4>

[56] [CITE@en[Fix #47: not all settings objects have a responsible document anymore · whatwg/xhr@cc15c94]]
([TIME[2016-01-22 23:26:53 +09:00]] 版)
<https://github.com/whatwg/xhr/commit/cc15c9443f774264cb32d33a13be3a8b58314867>

[58] [CITE@en[Define "relevant settings object" for any platform object · whatwg/html@25eaf88]] ([TIME[2016-01-28 23:42:51 +09:00]] 版) <https://github.com/whatwg/html/commit/25eaf8811be45dd40f961e7a5f111a4ad1e8fcee>

[43] [CITE@en[Clarify settings object, realm, and global relationships · whatwg/html@0866f1b]]
([TIME[2016-03-27 23:11:18 +09:00]] 版)
<https://github.com/whatwg/html/commit/0866f1b3f4b4ea5a99a30909e9bbe557dea0b460>