[4] [DFN[[[I-JSON]]]] ã¯ã€[[IETF]] ãŒ [DFN[[[RFC 7493]]]] ã§è¦å®šã™ã‚‹ [[JSON]]
ã®[[ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«]]ã§ã™ã€‚

;; [5] åç§°ã¯ [[Internet JSON]] ã®ç•¥ [SRC[>>3]] ã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚

[13] ã•ã—ã¦æœ‰ç”¨ãªè¦å®šã‚‚å«ã¾ã‚Œã¦ãŠã‚‰ãšã€ã„ãã¤ã‹ã®ä»•æ§˜æ›¸ãŒå‚ç…§ã—ã¦ã„ã‚‹ä»–ã¯ã€ä¸–é–“ã‹ã‚‰ã¯ã»ã¼å®Œå…¨ã«ç„¡è¦–ã•ã‚Œã¦ã„ã¾ã™ã€‚

* ä»•æ§˜æ›¸

[REFS[
- [3] [CITE@en[RFC 7493 - The I-JSON Message Format]]
([TIME[2015-03-24 03:09:18 +09:00]] ç‰ˆ)
<https://tools.ietf.org/html/rfc7493>
]REFS]

* è¨€èª

[6] [DFN[[RUBYB[[[I-JSONãƒ¡ãƒƒã‚»ãƒ¼ã‚¸]]]@en[I-JSON message]]]] [SRC[>>3]] ã¯ã€ [[RFC 7159]]
([[IETF]] ç‹¬è‡ªã® [[JSON]] ä»•æ§˜) ã«å¾“ã† [[JSON text]] ã®ã†ã¡ã€ [[RFC 7493]]
ã®åˆ¶é™ã«å¾“ã†ã‚‚ã®ã‚’ã„ã„ã¾ã™ã€‚å…·ä½“çš„ã«ã¯æ¬¡ã®ã‚ˆã†ãªåˆ¶é™ãŒã‚ã‚Šã¾ã™ [SRC[>>3]]ã€‚
[FIG(list)[
- [15] [[RFC 3629]] [[UTF-8]] ã§[[ç¬¦å·åŒ–]]ã—ãªã‘ã‚Œã°[['''ãªã‚Šã¾ã›ã‚“''']]ã€‚
- [16] [[ã‚µãƒ­ã‚²ãƒ¼ãƒˆ]]ã‚„[[éæ–‡å­—]]ã‚’ (ç›´æ¥ã§ã‚ã‚Œ[[ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—]]ã¨ã—ã¦ã§ã‚ã‚Œ)
å«ã‚“ã§ã¯[['''ãªã‚Šã¾ã›ã‚“''']]ã€‚
- [17] [[IEEE 754å€ç²¾åº¦æµ®å‹•å°æ•°ç‚¹æ•°]]ã§è¡¨ã›ãªã„[[æ•°]]ã‚’å«ã‚ã‚‹[['''ã¹ãã§ã¯ã‚ã‚Šã¾ã›ã‚“''']]ã€‚
- [18] [[IEEE 754å€ç²¾åº¦æµ®å‹•å°æ•°ç‚¹æ•°]]ã§è¡¨ã›ãªã„[[æ•°]]ã¯ã€[[æ–‡å­—åˆ—]]ã¨ã™ã‚‹[['''ã¹ãã§ã™''']]ã€‚
- [19] [[ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ]]ã®[[ãƒ¡ãƒ³ãƒãƒ¼]]ã®[[åå‰]]ã«é‡è¤‡ãŒã‚ã£ã¦ã¯[['''ãªã‚Šã¾ã›ã‚“''']]ã€‚
]FIG]

;; [27] ã¤ã¾ã‚Š[[I-JSONãƒ¡ãƒƒã‚»ãƒ¼ã‚¸]]ã¯[[ãƒã‚¤ãƒˆåˆ—]]ã§ã™ã€‚ [[I-JSONãƒ¡ãƒƒã‚»ãƒ¼ã‚¸]]ã‚’
[[HTML]] ãªã©ã«ç›´æ¥åŸ‹ã‚è¾¼ã‚€ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚

[20] [[ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ]]ã®[[ãƒ¡ãƒ³ãƒãƒ¼]]ã®é †åºã«æ„å‘³ã¯ãªã„ã¨ã‚‚è¦å®šã•ã‚Œã¦ã„ã¾ã™ [SRC[>>3]]ã€‚

[7] [[RFC 7493]] ã¯ãã®ä»–ã«ãƒ—ãƒ­ãƒˆã‚³ãƒ«è¨­è¨ˆè€…ã«å¯¾ã™ã‚‹[['''æ¨å¥¨''']]ã‚‚å¹¾ã¤ã‹è¦å®šã—ã¦ã„ã¾ã™
[SRC[>>3]]ã€‚
[FIG(list)[
- [21] [[I-JSONãƒ¡ãƒƒã‚»ãƒ¼ã‚¸]]ã®åˆ¶ç´„ã«å¾“ã‚ãªã„ã‚‚ã®ã‚’å—ä¿¡ã—ãŸã‚‰ã€
ãã®æ—¨ã‚’é€ä¿¡è€…ã«é€šçŸ¥ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹[['''ã¹ãã§ã™''']]ã€‚
- [22] æœ€ä¸Šä½ã«[[ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ]]ã‚„[[é…åˆ—]]''ä»¥å¤–''ã‚’ä½¿ã†[['''ã¹ãã§ã¯ã‚ã‚Šã¾ã›ã‚“''']]ã€‚
- [23] åŸå‰‡ã¨ã—ã¦ã€æœªçŸ¥ã®ã‚‚ã®ã‚’èª¤ã‚Šã¨ã™ã‚‹ [DFN[[[Must-Understand]]]] æ–¹é‡ã‚ˆã‚Šã€
ç„¡è¦–ã™ã‚‹ [DFN[[[Must-Ignore]]]] æ–¹é‡ã®æ–¹ãŒè‰¯ã„ã¨è€ƒãˆã‚‰ã‚Œã¾ã™ã€‚
Must-Ignore æ³•ã‚’ä½¿ã†ãªã‚‰ã€æœ€ä¸Šä½ã‚’[[ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ]]ã¨ã—ã€
æœªçŸ¥ã®ãƒ¡ãƒ³ãƒãƒ¼ã¯ç„¡è¦–ã—ãªã‘ã‚Œã°[['''ãªã‚‰ãªã„''']]ã¨è¦å®šã™ã‚‹ã®ãŒè‰¯ã„ã§ã™ã€‚
- [24] [[æ—¥æ™‚å½¢å¼]]ã¯ [[RFC 3339ã®æ—¥æ™‚å½¢å¼]]ã§[[å¤§æ–‡å­—]]ã‚’ä½¿ã„ã€
[[æ™‚é–“å¸¯]]ã‚‚[[ç§’]]ã‚‚æ˜ç¤ºã™ã‚‹å½¢å¼ã¨ã™ã‚‹[['''ã¹ãã§ã™''']]ã€‚
- [25] [[æ™‚é–“å½¢å¼]]ã¯ [[RFC 3339ã®æ™‚é–“å½¢å¼]]ã§[[æ—¥æ™‚å½¢å¼]]ã¯ >>24 ã¨ã™ã‚‹[['''ã¹ãã§ã™''']]ã€‚
- [26] [[ãƒã‚¤ãƒŠãƒªãƒ¼ãƒ‡ãƒ¼ã‚¿]]ã¯ã€ [[RFC 4646]] [[base64url]] ã§ç¬¦å·åŒ–ã™ã‚‹[['''ã¹ãã§ã™''']]ã€‚
]FIG]

* ç›¸äº’é‹ç”¨æ€§

[14] [[I-JSON]] ãƒ‡ãƒ¼ã‚¿ã¯ã€ã™ã¹ã¦ [[JSON]] ãƒ‡ãƒ¼ã‚¿ã§ã™ã€‚é€†ã«ä»»æ„ã® [[JSON]]
ãƒ‡ãƒ¼ã‚¿ã¯ã€ [[I-JSON]] ãƒ‡ãƒ¼ã‚¿ã¨ã¯é™ã‚Šã¾ã›ã‚“ã€‚

[9] [[I-JSON]] ã«ã‚ˆã‚Š [[JSON]] ã®å®Ÿè£…ãŒç°¡å˜ã«ãªã‚‹ã¨ã„ã†äººã‚‚ã„ã¾ã™ãŒã€
[[I-JSON]] ä»¥å¤–ã® [[JSON]] ã‚’å®Œå…¨ã«ç¦æ­¢ã§ãã‚‹ç‰¹æ®Šãªç’°å¢ƒã§ä½¿ã†å ´åˆã‚’é™¤ãã€
[[I-JSON]] ã®ã¿ã—ã‹å—ã‘å…¥ã‚Œãªã„å®Ÿè£…ã¯æœ‰ç”¨ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

;; [10] æ—¢å­˜ã® [[JSON]] ã®å®Ÿè£…ãŒå…¥åŠ›ãŒ [[I-JSON]] ã«å¾“ã†ã‹ã©ã†ã‹ã‚‚æ¤œæŸ»ã™ã‚‹å‹•ä½œãƒ¢ãƒ¼ãƒ‰ã‚‚å®Ÿè£…ã™ã‚‹å ´åˆã€
å®Ÿè£…ã®æ‰‹é–“ã¯ã‹ãˆã£ã¦å¢—ãˆã¦ã—ã¾ã„ã¾ã™ã€‚ [[I-JSON]] ã®ã¿å—ã‘å…¥ã‚Œã‚‹å®Ÿè£…ã¨ã€
ä¸€èˆ¬ã® [[JSON]] ã¨ã—ã¦ [[I-JSON]] ã‚’å—ã‘å…¥ã‚Œã‚‹å®Ÿè£…ãŒæ··åœ¨ã™ã‚‹ã¨ã€
[[I-JSON]] ã§ã¯ãªã„ã‚‚ã®ãŒ [[I-JSON]] ã¨ã—ã¦é€ä¿¡ã•ã‚ŒãŸæ™‚ã«ã€
å®Ÿè£…ã«ã‚ˆã£ã¦å—ã‘å…¥ã‚Œã‚‰ã‚ŒãŸã‚Šå—ã‘å…¥ã‚Œã‚‰ã‚Œãªã‹ã£ãŸã‚Šã—ã¾ã™ã‹ã‚‰ã€
[[ç›¸äº’é‹ç”¨æ€§]]ã®å•é¡Œã«ã¤ãªãŒã‚Šã¾ã™ã€‚
å¾“ã£ã¦ã€ [[I-JSON]] ã§ãªã„ [[JSON]] ã‚’æ‹’çµ¶ã™ã‚‹[[æ§‹æ–‡è§£æå™¨]]ã‚’ä½œã£ã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚

* æ­´å²

[1] [CITE@en[The I-JSON Message Format]]
( ([TIME[2013-07-03 21:37:36 +09:00]] ç‰ˆ))
<https://www.tbray.org/tmp/i-json.html>

[2] [CITE@en[draft-ietf-json-i-json-00 - The I-JSON Message Format]]
( ([TIME[2014-05-01 03:54:47 +09:00]] ç‰ˆ))
<http://tools.ietf.org/html/draft-ietf-json-i-json-00>

[8] [CITE@en[ongoing by Tim Bray Â· RFC 7493: The I-JSON Message Format]]
([TIME[2015-04-01 01:55:02 +09:00]] ç‰ˆ)
<https://www.tbray.org/ongoing/When/201x/2015/03/23/i-json>

[FIG(quote)[
[FIGCAPTION[
[11] [CITE[OData JSON Format Version 4.0 Plus Errata 02]]
([TIME[2014-10-31 01:00:00 +09:00]] ç‰ˆ)
<http://docs.oasis-open.org/odata/odata-json-format/v4.0/odata-json-format-v4.0.html>
]FIGCAPTION]

> The IEEE754Compatible=true format parameter indicates that the service MUST serialize Edm.Int64 and Edm.Decimal numbers (including the odata.count, if requested) as strings. This is in conformance with '''['''I-JSON''']'''.

]FIG]

[FIG(quote)[
[FIGCAPTION[
[12] [CITE@en-US[JSR-000367 Java API for JSON Binding Early Draft Review]] ([TIME[2015-08-19 22:44:28 +09:00]] ç‰ˆ) <http://download.oracle.com/otndocs/jcp/json_b-1-edr-spec/index.html>
]FIGCAPTION]

>JSON Binding provides full support for I-JSON standard. Without any configuration, JSON Binding produces
JSON documents which are compliant with I-JSON with three exceptions.
- JSON Binding does not restrict the serialization of top-level JSON texts that are neither objects nor
arrays. The restriction should happen at application level.
- JSON Binding does not serialize binary data with base64url encoding.
- JSON Binding does not enforce additional restrictions on dates/times/duration.
>
These exceptions refer only to recommended areas of I-JSON.
>
To enforce strict compliance of serialized JSON documents, JSON Binding implementations MUST implement
configuration option â€jsonb.i-json.strict-ser-complianceâ€. [JSB-4.4-1]
>
The way to enable strict compliance of serialized JSON documents, is to call method
JsonbConfig::withStrictIJSONSerializationCompliance with parameter true.
]FIG]


[FIG(quote)[
[FIGCAPTION[
[28] [CITE[JSON Mail Access Protocol Specification (JMAP)]]
([TIME[2016-03-11 14:55:42 +09:00]] ç‰ˆ)
<http://jmap.io/spec.html>
]FIGCAPTION]

> JSON is a text-based data interchange format as specified in RFC7159. The I-JSON format defined in RFC7493 is a strict subset of this, adding restrictions to avoid potentially confusing scenarios (for example, it mandates that an object MUST NOT have two properties with the same key). All data sent from the client to the server or from the server to the client MUST be valid I-JSON according to the RFC, is case-sensitive, and encoded in UTF-8.

]FIG]


[FIG(quote)[
[FIGCAPTION[
[29] [CITE@en[RFC 7946 - The GeoJSON Format]]
([TIME[2016-08-19 22:23:34 +09:00]])
<https://tools.ietf.org/html/rfc7946>
]FIGCAPTION]

>    GeoJSON texts should follow the constraints of Internet JSON (I-JSON)
>    '''['''RFC7493''']''' for maximum interoperability.

]FIG]


[30] [CITE['''['''Json''']''' I-JSON]]
([TIME[2016-11-20 11:20:02 +09:00]])
<https://www.ietf.org/mail-archive/web/json/current/msg03982.html>

[FIG(quote)[
[FIGCAPTION[
[31] [CITE@en[RFC 8006 - Content Delivery Network Interconnection (CDNI) Metadata]]
([TIME[2016-12-14 14:55:04 +09:00]])
<https://tools.ietf.org/html/rfc8006#section-6.4>
]FIGCAPTION]

> CDNI Metadata objects MUST be encoded as I-JSON objects '''['''RFC7493''']'''
>    containing a dictionary of (key,value) pairs where the keys are the
>    property names and the values are the associated property values.

]FIG]


[FIG(quote)[
[FIGCAPTION[
[32] [CITE@en[RFC 8008 - Content Delivery Network Interconnection (CDNI) Request Routing: Footprint and Capabilities Semantics]]
([TIME[2016-12-20 02:50:06 +09:00]])
<https://tools.ietf.org/html/rfc8008#section-5.2>
]FIGCAPTION]

> CDNI FCI objects MUST be encoded using JSON '''['''RFC7159''']''' and MUST also
>    follow the recommendations of I-JSON (Internet JSON) '''['''RFC7493''']'''. 

]FIG]
