[29] [DFN[[[旧暦]]]]は、明治5年まで[[日本]]で用いられていた[[太陰太陽暦]]と、
それを過去あるいは明治6年以降に延長した[[暦]]です。

[36] 改暦から100年以上経過した現在、日常生活では使われなくなりましたが、
一部の行事や[[カレンダー]]の記述、[[六曜]]の根拠などとして根強く使われ続けています。

* 定義

[19] [[平山清次]]が「天保暦の準據せる暦法原則を今の術語によりて記載」[SRC[>>18]]
したものが現在の[[旧暦]]の説明の原典と考えられています [SRC[>>22, >>20]]。

[FIG(quote)[
>(一) 太陽と太陰の黄經の相等しき時刻を''朔''とす。 (定朔)
>(二) 各宮の原點に太陽の在る時刻を''中氣''とす。 (定氣)。
>(三) ''暦日''は京都に於ける地方眞太陽時午前零時に始まる。
>(四) ''暦月''は朔を含む暦日に始まる。
>(五) 暦月中冬至を含むものを十一月、春分を含むものを二月、夏至を含むを五月、秋分を含むを八月とす。
>(六) ''閏''は中氣を含まざる暦月に置く。中氣を含まざる暦月必ずしもみな閏月とならず。
>
明治五年改暦以後同四十二年迄、太陽暦に附して頒布したる太陰暦も亦、此原則に據りたるものなり。但し第三項の日の始は明治二十年迄は東京に於ける地方平均太陽時午前零時を採り、以後は中央標準時午前零時に改めたり。

[FIGCAPTION[
[CITE[暦法及時法]] 二 太陰暦 [SRC[>>18]] 46ページ
]FIGCAPTION]
]FIG]

[23] >>22 は更に
[FIG(quote)[
> (七) 月番号に跳びがあってはならない
]FIG]
... との「当然の条件」を補っています [SRC[>>22]]。 
(この条件は[[旧暦2033年問題]]に関わります。)

[REFS[
- [18] [CITE[暦法及時法 - 平山清次 - Google ブックス]] ([TIME[2014-09-06 14:08:26 +09:00]] 版) <http://books.google.co.jp/books?id=88p29z44kzoC&hl=ja&pg=PP5#v=onepage&q&f=false>
- [20] [CITE@ja[suchowan's UniWiki Calendar/When/Exe/暦説明/本編/日本/補足/天保暦置閏法の謎]] ([TIME[2014-09-06 14:21:11 +09:00]] 版) <http://hosi.org/u/wiki.cgi?Calendar%2FWhen%2FExe%2F%E6%9A%A6%E8%AA%AC%E6%98%8E%2F%E6%9C%AC%E7%B7%A8%2F%E6%97%A5%E6%9C%AC%2F%E8%A3%9C%E8%B6%B3%2F%E5%A4%A9%E4%BF%9D%E6%9A%A6%E7%BD%AE%E9%96%8F%E6%B3%95%E3%81%AE%E8%AC%8E>
]REFS]

;; [21] >>18 は昭和8年/1933年12月5日発行 [SRC[>>18]] ですが、第2章末には
「[[日本百科大辭典]]より轉載」と注記があり、同著者の原稿の再出版と思われます。
また >>22 は“平山清次 (1912) の『日本百科大辭典』「太陰暦」の項”
から同文を引いています。

* 旧暦2033年問題

[26] >>25 は2033年を「7月→8月→9月→10月→11月→閏11月→12月(→1月)としています。

[30] [[qreki]] (>>9) は対処を諦めており、
[[2033年]]は7月→閏7月→8月→9月→10月→閏11月→12月(→1月)となります。

[REFS[
- [1] [CITE@ja[旧暦2033年問題について]]
( ([TIME[2013-09-19 06:29:34 +09:00]] 版))
<http://eco.mtk.nao.ac.jp/koyomi/topics/html/topics2014.html>
- [3] [CITE@ja[旧暦2033年問題 - Wikipedia]]
( ([TIME[2013-11-21 17:02:54 +09:00]] 版))
<http://ja.wikipedia.org/wiki/%E6%97%A7%E6%9A%A62033%E5%B9%B4%E5%95%8F%E9%A1%8C>
]REFS]

* 誤差

[24] 自転速度や誤差により[[旧暦]]に影響する可能性がある日として、
2033年問題以外に次の日が指摘されています。

[FIG(list)[
- 2017年旧暦2月朔日
-- 2月26日ではなく2月27日となる「可能性が (極めて少ないが) ある」[SRC[>>25]]
- 2051年旧暦10月朔日
-- 11月3日ではなく11月4日となる「可能性がある」 [SRC[>>25]]
- 2074年旧暦7月朔日
-- 8月22日ではなく8月23日となる「可能性がある」 [SRC[>>25]]
- 2097年の旧暦2096年12月朔日
-- 1月14日ではなく1月13日となる「可能性がある」 [SRC[>>25]]
]FIG]

[REFS[
- [25] [CITE[Amazon.co.jp: 21世紀暦―曜日・干支・九星・旧暦・六曜: 日外アソシエーツ編集部: 本]] ([TIME[2014-09-06 15:12:56 +09:00]] 版) <http://www.amazon.co.jp/exec/obidos/ASIN/481691630X/wakaba1-22/>
]REFS]

* 過去

[33] 現在「旧暦」という場合、[[天保暦]]実施以前の日付は当時の日付なのか、
[[天保暦]]を過去に延長したものなのか不明瞭です。

[34] [[戦国時代]]頃は暦の運用も混乱しており、地方では日付のずれがあったり [SRC[>>22]]、
異なる閏月を実施したりしたこともあるといわれています。

* 実装

[9] [[qreki]] [SRC[>>8]] というスクリプトが色々な言語に移植されて広く使われています。
このスクリプトは[[先発グレゴリオ暦]] (0年あり) を入力とし、
[[旧暦]] ([[中央標準時]]に基づく先発天保暦?) と[[六曜]]を出力としています。

;; [28] [[qreki]] のドキュメントには詳細な解説が含まれています。 >>8
からダウンロードできるほか、 >>27 にも転載されています。

;; [35] ただしこのスクリプトは[[自由ソフトウェア]]ではありませんから、
注意が必要です。

[REFS[
- [8] [CITE[QRSAMPの詳細情報 : Vector ソフトを探す!]] ([TIME[2014-09-05 03:38:32 +09:00]] 版) <http://www.vector.co.jp/soft/dos/personal/se016093.html>
- [27] [CITE[旧暦計算サンプルスクリプト Rev 1.1 説明書]] ([TIME[2008-02-08 08:59:26 +09:00]] 版) <http://api.sekido.info/qreki-doc>
]REFS]

* メモ

[REFS[
- [25] [CITE[Amazon.co.jp: 日本暦日原典: 内田 正男: 本]] ([TIME[2014-09-06 15:12:56 +09:00]] 版) <http://www.amazon.co.jp/exec/obidos/ASIN/463900091X/wakaba1-22/>
]REFS]

[31] >>25 には445年から1872年までのデータが掲載されており、
「新旧暦対照表の中でも最も信頼性が高いもの」[SRC[>>27]]
とされています。大半はデータですが、「暦法編」にも日本の暦について詳しい説明があります。

[REFS[
- [22] [CITE[Amazon.co.jp: 暦の百科事典: 暦の会: 本]] ([TIME[2014-09-06 15:30:05 +09:00]] 版) <http://www.amazon.co.jp/exec/obidos/ASIN/4404013396/wakaba1-22/>
]REFS]

[32] >>22 には日本を含む各地の暦についてかなり詳細な解説があります。

[2] [CITE@ja[旧暦 - Wikipedia]]
( ([TIME[2013-10-26 03:57:10 +09:00]] 版))
<http://ja.wikipedia.org/wiki/%E6%97%A7%E6%9A%A6>

[4] [CITE@ja[国立天文台 | 質問3-5)「旧暦」は現在の暦より季節に合っているの?]]
( ([TIME[2013-04-18 02:18:46 +09:00]] 版))
<http://www.nao.ac.jp/faq/a0305.html>

[5] [[米国]]統治下の[[琉球政府]]によって定められた[[祝祭日]]として、[[お盆の日]]が[[旧暦]]の[[7月15日]]とされていました。

;; [6] [[琉球政府]]は正式な[[旧暦]]を決定していたのでしょうか?

[7] [CITE@ja[Wikipedia:表記ガイド - Wikipedia]]
( ([TIME[2014-08-30 10:54:34 +09:00]] 版))
<http://ja.wikipedia.org/wiki/Wikipedia:%E8%A1%A8%E8%A8%98%E3%82%AC%E3%82%A4%E3%83%89#.E5.B9.B4.E6.9C.88.E6.97.A5.E3.83.BB.E6.99.82.E9.96.93>

[10] [CITE@ja[和暦(宣明暦)について 【OKWave】]]
( ([TIME[2014-09-05 04:01:25 +09:00]] 版))
<http://okwave.jp/qa/q3758502.html>

[11] [CITE[幕末期の暦と時刻の違いによる混乱 - かつて日本は美しかった]]
( ([TIME[2013-07-30 14:34:15 +09:00]] 版))
<http://d.hatena.ne.jp/jjtaro_maru/20130104/1357288107>

[12] [CITE@ja[暦Wiki/歴史 - 国立天文台暦計算室]]
( ([TIME[2014-06-25 06:18:53 +09:00]] 版))
<http://eco.mtk.nao.ac.jp/koyomi/wiki/CEF2BBCB.html>

[13] [CITE@ja[暦Wiki/歴史/旧暦併記をめぐる議論 - 国立天文台暦計算室]]
( ([TIME[2014-06-25 06:18:53 +09:00]] 版))
<http://eco.mtk.nao.ac.jp/koyomi/wiki/CEF2BBCB2FB5ECCEF1CABBB5ADA4F2A4E1A4B0A4EBB5C4CFC0.html>
