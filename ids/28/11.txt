[8] [DFN[Slack]] は、[[チャット]] ([[IM][即席メッセージ]]) [[サービス]]です。

[1] [CITE@en[Bot Users | Slack]]
( ([[Slack]]著, [TIME[2016-08-27 16:35:21 +09:00]]))
<https://api.slack.com/bot-users>

[2] [CITE@en[Slack Button | Slack]]
( ([[Slack]]著, [TIME[2016-08-27 16:40:32 +09:00]]))
<https://api.slack.com/docs/slack-button>

[3] [CITE@en-US[Incoming Webhooks | Slack]]
([[Slack]]著, [TIME[2018-01-14 10:02:43 +09:00]])
<https://api.slack.com/incoming-webhooks>

[4] <https://my.slack.com/services/new/incoming-webhook/>

[FIG(quote)[
[FIGCAPTION[
[5] [CITE@ja[IRCとXMPPを使って Slack に接続する – Slack]]
([TIME[2018-03-08 03:44:30 +09:00]])
<https://get.slack.help/hc/ja/articles/201727913-IRC%E3%81%A8XMPP%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6-Slack-%E3%81%AB%E6%8E%A5%E7%B6%9A%E3%81%99%E3%82%8B>
]FIGCAPTION]

> まことに残念ですが、ゲートウェイへのサポートを終了いたします。5月15日以降、XMPP および IRC ゲートウェイを使用して Slack へ接続することはできなくなります。

]FIG]

>
March 6, 2018: No longer available to newly-created workspaces
>April 3, 2018: Removed from workspaces where they’re not in use
>May 15, 2018: Closed for all remaining workspaces

[6] 突然の標準プロトコル切り捨て、自社クライアント以外の締め出しひどい。
一度シェアを取ったらこういうことするのは、 [[Twitter]] を見習ったんだなw
[TIME[2018-03-15T03:46:51.900Z]]


[9] [[Slack]] が流行ってからシステムの運用に組み込んでいるところも少なくないと思うんですが
(なんか [[chatops]] とか[[バズワード]]化してましたよね)、
こんな独善的な変更を移行期間2ヶ月で強制されるんだとしたら、
インフラとしてはとても信用できないですよね。


[7] [CITE@en[ekmartin/slack-irc: Connects Slack and IRC channels by sending messages back and forth.]]
([TIME[2018-03-15 12:49:09 +09:00]])
<https://github.com/ekmartin/slack-irc>



[10] [CITE@en[PyYoshi/slack-dump: Export History For Channel, Private Group and Direct Message From Slack]]
([TIME[2018-07-28 15:56:46 +09:00]])
<https://github.com/PyYoshi/slack-dump>

[11] [CITE@ja[Slack のログを自動で Google Spreadsheet に保存する - 詩と創作・思索のひろば]]
([TIME[2018-07-28 15:59:55 +09:00]])
<https://motemen.hatenablog.com/entry/2015/11/gas-slack-log-spreadsheet>

[12] 
この前非互換な仕様変更があったと思ったら、今度はまた [[API]] の非互換変更。
ほんとひどいなー


[13] 
[[Slack]] は技術者に人気らしいが、[[非互換変更]]してはいけないという基本中の基本もろくに守れないサービスをなんで平気で使えるんだろうね?
(そういえば [[Twitter]] も技術者に人気だったなあ(遠い目))


[14] 
Slack App はどこか1つの workspace に属することとされています。
作成時に選択して、後から変更できないそうです。

[15] 
作成時に所属させたからといって、
その場で直ちにその workspace にインストールされるわけではありません。
そこは普通の利用時と同じように個別の操作が必要みたいです。


[16] 
Slack App は作成直後は所属 workspace でだけ使えます。
public distribution
できるようにしたら、他の workspace でも使えるようになります。

App Directory に登録 (要審査) しない限り誰でも見つけられるようにはならないのですが、
public にしただけで、知っている人は誰でも使える状態になるようです。

[17] 
所属 workspace でインストールしようとしたときは、
その workspace の誰かが作った App です、とインストール画面に出てきます。
そうでないときは、
Slack が検証したものでないですと出てきます。


[18] 
[[OAuth 2.0]] ということになっているが、微妙に違う似て非なるものなので要注意。
[SEE[ [[持参人トークン]], [[トークンエンドポイント]] ]]


[19] 
[[チャンネル]]に見えるものは conversations と呼ばれており、
4種類ある:
channels im: mpim groups。
[[scope]]
がいちいち違っていて面倒くさい。
昔は[[エンドポイント]]もばらばらだったが今は同じ API 群で扱える。

[20] 
返信は親メッセージにぶらさがる thread という形になっている。
thread_ts というIDを使って replies という API で取得できる。

返信には thread だけへの返信と、親メッセージと同じ conversation
にも[[クロスポスト]]するものの2種類がある。
後者は当然 conversations の API で取得できるのだが、
前者は replies から個別に取るしかない。

[21] 
利用者向けの UI には返信スレッドをまとめて見るページがあるが、
API にはそれに相当するものがない。
thread_ts を探して、1つずつ replies API を呼び出していくしかない。
親メッセージに thread_ts と一緒に latest_reply というタイムスタンプが入っているので、
2回目からはそれを見て差分があるかないか判断できる。
(しかしその親メッセージを効率よく探す方法は提供されていないので、
親メッセージが入っているかもしれない conversations を攫うしかない。
それをしたくなければ Events API で常時監視しておく必要がある。)



[FIG(quote)[
[FIGCAPTION[
[22] [CITE@ja-JP[Slack 初の料金改定とフリープランの内容変更のお知らせ | Slack]]
([[Slack]], [TIME[2022-07-19T01:38:20.000Z]])
<https://slack.com/intl/ja-jp/blog/news/pricing-and-plan-updates>
]FIGCAPTION]

> これまでフリープランでは、メッセージ数 10,000 件、ストレージ容量 5 GB という制限がありましたが、今後は過去 90 日間のメッセージ履歴とファイルストレージを無制限に利用できるため、チームはいつ上限に達するのか心配する必要はありません。フリープランを活用しているチームでは、ほとんどの場合、制限が 90 日に変わったことでアクセスできるメッセージ履歴が増えるでしょう。過去 90 日間にどれほど Slack を使っていても、その間の履歴には必ずアクセスできます。

]FIG]


[23] 
この手のサービスが料金プラン改定する場合、十中八九値上げなのですけど、
それをいかにポジティブに告知するかの[[大喜利]]大会になりますね。
上限の単位を変えて、条件の悪化がわかりにくいように変更する、
というのはメジャーな手法です。

[24] 
>>22 の場合、1万件のメッセージに90日で達していたとすると、1日あたり111件。
そんなにやり取りが多いのは、かなり [[Slack]] を活用している組織でしょう。
「ほとんどの場合」、そんなに大量のメッセージを送っていないので、
いままで見えていた90日より前のメッセージが見えなくなるだけです。
ただの値上げです。

[25] 
昔ならこんなことをしたら大炎上必至ですけど、今はどこの会社もこういうことやってますからね。

[26] 
せめてこういう不誠実な告知を出さないよう、[[消費者庁]]ががんばってくれればいいのですが。。。



[27] 
90日以上経過したメッセージとファイルが消去されるのではなく課金するまで非表示になるのって、
[[ランサムウェア]]地味てて悪質感あるな。


[28] 
うっかりしても課金すれば取り戻せますという言い方だとマイルドになるけど、やってること同じだから言い方変えてもevil感は拭いきれない。

[29] 
データを保管するにもストレージコスト、サービス提供コストかかってるのだから負担しろ、有料オプションなら長期保存できるようになります、
なら納得感あるし提供サービスに対する正当な対価のような印象がある。
データはどっちにしろ保存してるけど課金するまで見せてあげないよー、だとサーバー代負担分ですみたいな建前もなくデータを人質に金をせびられてるようにしか読めないんだなこれが。

[30] 
しかも古いメッセージがあるチャンネル全部に金払えメッセージが出てくるっていうのがもうw


[31] 
[[Slack]] くらいのサービスだったらちゃんと利用料払いますって人はそれなりにいそうなのに、
気持ちよく金を払ってもらうためのイメージ戦略をしっかりしないと損してるんじゃないかなあ。



[32] 
今まで普通に使ってるAPIがいつのまにか非推奨になって新規で使うのが難しくなってる、って文句を書きに来たらもう十分なくらい文句が溜まってるやんwww


[33] 
[[Slack]] は [[API]] が充実してて技術者に優しいとか寝言言ってるやつどこ見て言ってるんやろねw 
[[Twitter]] の [[API]] 見ても同じこと言ってそうだな

[34] 
[[Slack]] も [[Twitter]] も技術者受け狙ってシェア伸ばしてから梯子外すの同じビジネスモデルやんなあ

[35] 
まあ最近は [[Slack]] より [[Discord]] の方が人気ぽいけど、でも [[Discord]] のUIのあのノリはビジネスで使い始めるのちょっと躊躇するところあるかもね、
そういうところだとまだ [[Slack]] なのかも




[36] [CITE@ja[new Slack appへの移行のはまりどころとか - cookies.txt      .scr]]
([TIME[2023-06-12T06:16:25.000Z]])
<https://cookies.hatenablog.jp/entry/2022/12/17/000000>


[37] 
こういうの見てるとそろそろ [[Slack]] から足を洗うべきなのかと考えさせられますね。





[38] 
なぜか発言がボカされててなんだこれ、って思ったら、無料枠で表示できないやつはただ見せないんじゃなくてボカして表示するようになってるのか。。。
なんかいやらしいな。こんなんされてじゃあ課金しよってなるんかなあ?


[39] 
有料ウェブサービスでこんなのやってるの他で見たこと無いよなあ? 

[40] 
有料コンテンツで冒頭チラ見せタイプのやつならあるなあ。エロサイトとかでw

[41] 
自分たちがせっせと作ったコンテンツがモザイクエロ扱いで売られてるとか草こえて草




