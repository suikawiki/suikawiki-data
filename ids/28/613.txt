[1] [DFN[[CITE[超漢字]]]]は、
[[平成時代]]に開発、販売されていた[[パーソナルメディア]]社の [[OS]] 
でした。[[BTRON]] の事実上唯一の実装でした。

[31] 
既に積極的な開発は停止して久しいようですが、
未だに販売は続けられているようです。
令和4年に小さな更新があったことが確認できます。

* 版

[35] 
最新版は
[DFN[[CITE[超漢字V]]]]
です。


[REFS[

- [34] 
[CITE@ja-jp[Amazon | [[超漢字V]] SP1 簡易包装版 | Windows | PCソフト]], [TIME[2026-01-11T06:33:46.000Z]] <https://www.amazon.co.jp/exec/obidos/ASIN/B00JH47WXS/wakaba1-22/>

]REFS]


[7] [CITE@ja[超漢字V バージョンアップ版 変更内容 - 超漢字ウェブサイト]], [TIME[2025-02-12T01:17:46.000Z]], [TIME[2025-11-05T16:02:05.399Z]] <http://www.chokanji.com/ckv/change_ckv.html>



[11] 
「[L[インストールCD]]」
に入っている
[CODE[install.pdf]]
[CITE[[L[超漢字 V インストールガイド]]]]
の最後のページの奥付:

>
[LEFT[
2006年10月 初版1刷発行[BR[]]
2008年 8月 初版2刷発行[BR[]]
2011年10月 2版1刷発行[BR[]]
2014年 3月 3版1刷発行[BR[]]
2022年 5月 4版1刷発行[BR[]]
]LEFT]


[12] 
なんとこの版は令和4年! ちょくちょく更新されてるんだな、と思ってよく見ると8年ぶりの更新w


** 本体インストール後に追加するべき差分


[90] 
同梱されているものの初期状態でインストールされていないプログラムがかなりあります。

- [91] 「超漢字サンプル集」→「多漢字・多文字入力の支援」 : 文字入力システム各種
- [92] 「フリーソフト・フリーデータ集」 : 各種ソフトウェア

-*-*-

[93] 
公式サイトでも追加ソフトウェアがいろいろ配布されています。


[REFS[

- [16] 
[CITE@ja[超漢字V R4.560 バージョンアップ版 - 超漢字ウェブサイト]], [TIME[2025-11-26T22:30:38.000Z]], [TIME[2026-01-09T13:56:36.417Z]] <https://www.chokanji.com/ckv/ckv4_560.html>
- [17] 
[CITE@ja[Tフォントプロジェクト]], [TIME[2021-10-13T05:53:03.000Z]], [TIME[2026-01-09T14:01:17.527Z]] <https://charcenter.tron.org/tfont/download.html>
- [18] 
[CITE@ja[ホツマ文字用世界文字入力追加モジュール - 超漢字ウェブサイト]], [TIME[2025-11-26T22:30:40.000Z]], [TIME[2026-01-09T14:26:18.216Z]] <https://www.chokanji.com/ckv/hotsuma.html>
- [19] 
[CITE@ja[超漢字V英語対応キット - 超漢字ウェブサイト]], [TIME[2025-11-26T22:30:39.000Z]], [TIME[2026-01-09T14:47:45.543Z]] <https://www.chokanji.com/ckv/ckveng.html>
- [20] 
[CITE@ja[超漢字Vエスペラント対応キット - 超漢字ウェブサイト]], [TIME[2025-11-26T22:30:41.000Z]], [TIME[2026-01-09T14:48:05.799Z]] <https://www.chokanji.com/ckv/ckvesp.html>
- [21] 
[CITE@ja[Mozilla Firebird 0.7 for 超漢字]], [TIME[2025-11-26T22:30:43.000Z]], [TIME[2026-01-09T15:08:06.027Z]] <https://www.chokanji.com/download/mozilla_firebird07.html>


]REFS]

[22] インストール直後の状態だと、文字一覧表のうち一部はフォントがないために表示できません。
>>17 をインストールするとそれらが表示できるようになります。

[23] [[アーヴ文字]]もフォントがインストールされていない状態なので表示できません。
こちらは文字一覧表の案内に従って操作していけば表示できるようになります。

[24] 
ここまでインストールした状態でディスクイメージは1.2GBになりました。
(ダウンロードした[[書庫]]がそのまま放置してあったりするのも込みです。)

[REFS[

- [25] 
[CITE[開発環境のダウンロード]], [TIME[2025-11-26T22:30:37.000Z]], [TIME[2026-01-10T01:52:22.187Z]] <https://www.chokanji.com/developer/download.html#self>
-- [27] 
[CITE@ja[ネットワークログイン、ファイル転送 - 超漢字ウェブサイト]], [TIME[2025-11-26T22:30:39.000Z]], [TIME[2026-01-10T01:53:03.426Z]] <https://www.chokanji.com/ckv/manual/01-09-16.html>
-- [26] 
[CITE[開発環境のインストール]], [TIME[2025-11-26T22:30:37.000Z]], [TIME[2026-01-10T01:52:47.215Z]] <https://www.chokanji.com/developer/install.html#self>

]REFS]

[96] 
公式でこれ以外にもいくつか配布物があり、必要そうなら入れると良いでしょう。

-*-*-

[29] その他、一般利用者が開発したものが [[Web]] 上にいろいろ残っています。

[94] そのうち特にインストールしておくべきもの :

[REFS[

- [30] 
[CITE@ja[レコードエディタ]], [TIME[2023-12-02T03:20:38.000Z]], [TIME[2026-01-10T02:17:37.637Z]] <https://yashiromann.sakura.ne.jp/prog/beav/>
- [37] 
[CITE[Vector:ftpd と ftp (他のOS用 / TRON-OS)]], [TIME[2026-01-11T06:38:06.000Z]] <https://www.vector.co.jp/download/file/other/tron/fh149436.html>

]REFS]


[39] 
>>30、 >>37 のサイトには他にもいろいろソフトウェアがあるので、必要に応じて入れてみるといいかもしれません。

[95] 
[[Web]] 上に現存しないものでも運良く >>92 に収録されてることがあります。


* 動作環境

[32] 
本来 [[OS]] として [[PC/AT互換機]]で普通に動作させる想定で開発されたようですが、
[CITE[超漢字V]]は [CITE[VMware]] が同梱され、 [CITE[Windows]]
上で動作させる前提で販売されています。

[33] 
一応技術的には単体で動作させることも未だ可能と思われますが、適切なハードウェアを準備するのが難しいかもしれませんし、
そのメリットも皆無と思われます。


[9] [CITE[超漢字(初代)を仮想環境にインストールする試み - for2ando's public project]], [TIME[2025-11-06T05:04:46.000Z]] <https://scrapbox.io/for2ando/%E8%B6%85%E6%BC%A2%E5%AD%97(%E5%88%9D%E4%BB%A3)%E3%82%92%E4%BB%AE%E6%83%B3%E7%92%B0%E5%A2%83%E3%81%AB%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B%E8%A9%A6%E3%81%BF>

** [CITE[VirtualBox]] で動かす

[40] 
[CITE[Windows]] 上の [CITE[VirtualBox]] で [[VM]] を作って、
システムCDを挿入して起動すればインストールできます。


[13] 
Windows 上の VirtualBox でイメージ作ってシステムCDから起動したら普通に動いちゃって拍子抜け。 もうちょっと苦労するかと思ったけど全然。




** 開発環境

[53] 
[CITE[超漢字]]上で動作する[DFN[セルフ開発環境]]と、
外部で動作する[DFN[クロス開発環境]]があります。
[SRC[>>38]]

[54] 
[[セルフ開発環境]]は使い物にならないという評価で一致しているようですが、
一応インストールしておいて「なんだか [[Unix]] 風味の何か」
が取り敢えず使える状態にしておくのは悪いことではないと思われます。

[55] 
[[クロス開発環境]]はいくつかの環境の[[バイナリー]]と[[ソースコード]]が提供されています。
今となっては[[バイナリー]]が動く環境を用意するのが一苦労で、
[[Linux]] で[[ソースコード]]をコンパイルするのが良さそうです。

[56] 
取り敢えず [CODE[gterm]] だけコンパイルしてみました。

= [57] >>38 から共通、 [[Linux]] 用、 [CODE[gterm]] の更新版を同じディレクトリーに展開します。
-- [58] [CODE[gterm]] だけ [CODE[tool/]] に入れます (古いのを置き換えます)。
= [59] [CODE[tool/gterm/src]] で [CODE[make]] します。
-- [60] 今の [CITE[GNU make]] と [CITE[gcc]] ではエラーになってコンパイルできません。
-- [61] 
面倒ですがエラーを1つずつ潰していきます。
-- [64] 
[CODE[Makefile]]
には
[CODE[%.o: %.c]] を [CODE[$(CC) $(CFLAGS) -c $< -o $@]]
とするなど書き加える。
--- [62] 
[CODE[#include        <stdlib.h>]]
を追加すれば解決するものが多数。
--- [63] [CODE[gterm.c]] の [CODE[getline]] は名前が衝突するので適当に改名する。
呼び出し元がいくつかあるので全部書き換える。
--- [65] 返り値が [CODE[int]] なのに [CODE[return;]] しているのを
[CODE[return 0;]] にしておく。
--- [66] 
などいくつかあるが、面倒なのでエラーメッセージを [[ChatGPT]]
に貼り付ければやるべきことを全部教えてくれるので楽。
= [67] [CODE[./gterm -l/tmp/mytty]] のように[[シリアルポート]]を指定して実行します。


[68] 
[[シリアルポート]]で[CITE[超漢字]]のコンソールにアクセスする方法は、
一般的な文字列 (バイト) データの単純なやり取りなので、
普通の読み書きだけでいいなら [CODE[gterm]] でなくても可です。

[69] 
[CITE[VirtualBox]] の場合[[シリアルポート]]を他の [[VM]] に接続することもできますし、
[[TCP]] サーバーとしてアクセス可能にすることもできます。
端末のシリアルポートの設定で、
「ポートモード」を TCP に、
「存在するパイプ/ソケットに接続」をオフに、
「パス/アドレス」を [[listen]] したいポート番号に ([[ホスト名]]は不要。) 設定します。


[70] 
[[TCP]] サーバーになっているなら [CODE[telnet]] [[命令]]で接続すれば読み書きが可能。


[82] 
接続してから[[改行]]を送ると、プロンプトが出てきます。


[71] 
ただいずれの方法にしてもなんだか不安定で、反応が返ってこないなどおかしな挙動をすることがままあります。
[CODE[gterm]] が固まることもあります。 [CITE[VirtalBox]] で [[VM]] にリセットを送っても、
再起動途中の画面で固まってしまうことがあります。 最初から諦めて [[VM]] を強制終了して
1から起動し直した方が早いかも。

[72] 
[CITE[超漢字]]本体内でコンソールが開いているときは外部から接続して何か送っても結果が返ってこないみたいです。


[83] 
何かを実行途中で接続を切ったときは、次に接続しなおしたらその続きからになります。


[73] 
送受信とも[[改行コード]]は [CC[CRLF]]。 [CC[LF]] だけだと[[改行]]にならないので要注意。

[74] 
どういう仕組みなのかわかりませんが、[[コンソール]]から見える世界 ([[ファイル名]]や[[コマンド]]のメッセージや[[ヘルプ]]など)
は[[EUC-JP]]になっています。

[75] 
今の時代 [[Linux]] だと [[UTF-8]] しか入出力で使えなかったりするので要注意。
なんとか [[EUC-JP]] が使えるソフトウェア環境を用意しましょう。


[85] [[実身]]名に [CH[/]] が入っていると、
[[ファイル名]]にも [CH[/]] が入って [CODE[ls]]
に表示されます。しかし、その名前を使ってもアクセスできずエラーになります。
[[全角]]にしても同じようです。これにアクセスする方法があるのかは不明です。
実身の名前を変えて [CH[/]] をなくせばアクセスできるようになります。

[88] [[実身]]名に[[間隔]] ([[和字間隔]]) が入っていると [CODE[ls]] の表示は [CH[ ]]
になります。ところがコンソールのプロンプトでは [CH[ ]]
は引数区切りになります。このようなファイルにアクセスする方法があるのかは不明です。
プログラムを自作すればアクセスできる可能性はありそうです。

[97] 同じく [CH[:]] も、特殊な意味 (同名[[実身]]の区別) に使われるらしく、 [CODE[ls]]
で表示されるのにアクセスできません。

[89] [[実身]]名に [[JIS X 0208]] にない文字が入っていると [CODE[ls]]
の表示はその文字以外が消えます。その短縮された[[ファイル名]]ではアクセスできずエラーになります。
[CODE[/SYS/USR/超漢字サンプル集/多漢字・多文字の世界/三国志DB]]
にいくつかある[[空文字列]]のファイルは1文字目から [[JIS X 0208]] にないものと思われます。


[77] 
コンソールでは [CODE[*]] を[[ワイルドカード]]として使え、
[CODE[*A*]] のように複数使うこともできるものの、
[CODE[*A*/*]] のように階層をまたいで複数は使えません
(この機能がコンソール側の機能なのか[[命令]]側の機能なのかは知りません)。
[KEY[TAB]] による[[補完]]もありません。
[[バイト]]や[[文字]]の [[escape]] のようなものもなさそう。
こうなると、 [[UTF-8]] だけの[[端末]]からアクセスしてもほとんどのファイルにはアクセスできません。

[76] 
[CODE[gterm]] では[KEY[↑]]で入力の履歴を辿れるものの、
[CITE[超漢字]]内の「システムコンソール」にはこれがありません。


[84] 
コンソールで [CODE[exit]] すると一段外側の 「[IMS]% 」 コンソールに出ます。
ここから [CODE[exit -1]] すると終了、 [CODE[exit -2]] すると再起動します。


[REFS[

- [38] [CITE[開発環境のダウンロード]], [TIME[2025-11-26T22:30:37.000Z]], [TIME[2026-01-11T06:41:33.142Z]] <https://www.chokanji.com/developer/download.html>

]REFS]


[6] [CITE@ja-JP[超漢字Vの開発環境を整える。|madeli]], [TIME[2025-11-05T16:00:25.000Z]] <https://note.com/madeli/n/ne89e0e63e7a6>

-[10] 
[CITE@ja[TRON OS (超漢字V)版「DOOM」を作った話。トロンOSはWindowsより優れていたとかいう都市伝説の謎。 - 人生に疲れた男のblog]], [TIME[2025-11-06T05:06:18.000Z]] <https://bcc.hatenablog.com/entry/2025/04/26/195306>
-[8] [CITE@ja[トロンOSはTwitterの夢を見るか? - 人生に疲れた男のblog]], [TIME[2025-11-06T05:03:24.000Z]] <https://bcc.hatenablog.com/entry/2025/05/11/192943>


** 外部とのデータの送受信



[41] 
>>40 の状態で[CITE[超漢字]]と外部との[[ファイル]]のやり取りしたいなら、

- [45] 「共有フォルダ参照」[[小物]]は [CITE[VMware]] 用なので >>40 の構成では使えません。
- [42] [CITE[基本ブラウザ]]でファイルをダウンロードできます。
-- [43] 現在の一般的なサイトの [[TLS]] とは通信できません。[[素のHTTP]]を使う必要があります。
- [44] 「ファイル変換」[[小物]]に [[FTP]] クライアント機能があります。 (動作未確認)
- [46] [[セルフ開発環境]]でコンソールを開いて [CODE[fget]], [CODE[fput]]
コマンドで [[FTP]] の送受信ができるとされています。
-- [47] [CODE[fput]] を試してみましたが、 [[passive mode]]
に対応しておらず、 [[active mode]] で [CODE[PORT]] [[命令]]の引数として指定される自身の
[[IPアドレス]]は自動設定 ([[利用者]]による指定ができない)。
[CITE[VirtualBox]] のネットワークを介して接続可能な
[[FTP]] サーバーを用意できずに諦めました。
- [51] [[クロス開発環境]]の 
[CODE[gterm]]
で
[CODE[recv]] 
を使って外部からファイルを受け取れます。
-- [52] 外部にファイルを取り出すことはできません。
- [48] >>37 の [CODE[ftp]] (クライアント) は [[passive mode]]
にも対応していて、これでファイルを外部 [[FTP]]
サーバーに送信できることを確認しました。
-- [49] ただし通常ファイルの[[レコードタイプ]] [N[31]] の[[レコード]]しか送信できません。
それ以外は、事前に [CODE[apd]] で目的の[[レコード]]を取り出す手間が必要になります
(付属ドキュメントに方法が説明されています)。
-- [50] [CODE[ftpd]] (サーバー) もありますが、こちらは起動しても外部から接続できませんでした。
詳しくは調べていません。
- [86] 
[CITE[超漢字V]]内の「超漢字」→「超漢字サンプル集」 →「フリーソフト・フリーデータ集」 →
「データをやりとりしたい」
に
[CITE[μFTP]] があります。 [[FTP]] クライアントとして使えます。 (動作未確認)


[87] 
[[Web]] 上の情報によるとかつて
[CODE[smbclient]]
の移植版が存在していたようですが、
[[Internet Archive]]
にも現存していません。







* 技術

[FIG(short list)[ [36] [CITE[超漢字]]

- [[TAD]]
- [[TRONコード]]


]FIG]

** 文字コード

[2] [[TRONコード]]を採用しており、多くの[[漢字]]を使えることを売りにしていました。

** プログラム開発



[28] 
[CITE@ja[超漢字プログラミング入門]], [TIME[2023-12-02T03:19:46.000Z]], [TIME[2026-01-10T01:57:17.283Z]] <https://yashiromann.sakura.ne.jp/bprimer/>

** ファイルシステム

[78] 
コンソールでは [CODE[/SYS/tmp]] のような [[Unix]] っぽい [[path]] が見えますが、
[CODE[ls /]]
しても Not Found になります。 [CODE[/]] は存在しないらしく、
[CODE[/SYS]] が最上位になります。

;; [79] [CODE[/SYS]] 以外に何かあるのかどうかは知りません。

[80] 
[[ファイル]]はいくつかの[[レコード]]で構成されています。
[[レコード]]には[[レコードタイプ]]があります。

;; [81] [[フォーク]]がいくつあってもいい [[HFS]] みたいなイメージ?

* アプリケーション

[FIG(short list)[ [5] [CITE[超漢字]]の[[アプリケーション]]
- [CITE[[[超漢字メール]]]]
- [CITE[[[BBB]]]]
- [CITE[[[Mozilla]]]]

]FIG]

** Web ブラウザー

[3] 独自の [[BBB]] の他、 [[Mozilla]] (独自ビルド) が提供されていました。

[4] [[BBB]] は[[テキスト形式TRONコード]]に対応していました。



* メモ



[14] 
時代ゆえだと思うけどあらゆる操作がダブルクリックなのちょっとストレス溜まるねえ



[15] 
デフォルトが[[かな入力]]なの実に味わい深い。せっかくだからそのまま使ってみようと思ったけど秒で挫折。。。


