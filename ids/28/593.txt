* 種別

[FIG(short list)[ [8] [[文字]]を[[記号]]として[[バイト]]や[[文字]]を[[符号化]]する

- [[UTF-8符号化されたバイト列と文字列]]
- [[フォント依存符号化]]
- [[鍵盤符号化]]
- [[HZ]]
- [[UTF-7]]
- [[外字]]
- [4] [[点字]]
- [5] [[モールス符号]]
- [[翻字]]
- [[SERA]]
- [[EWTS]]
- [[mnem]]
- [[VIQR]]
- [[escape]]
- [[転送符号化]]
- [[文字としてのバイト]]


]FIG]


* 二階建ての8ビット符号

[1] 
[[フォント依存符号化]]で非常によくある形態は、

- [2] [[8ビット符号]] : [[バイト]]に対する[[文字]]を割り当ての[[集合]] (概念上の存在)
- [10] [[windows-1252]] : [[バイト]]と [[Unicode符号位置]]の対応関係の[[集合]]
- [7] [[文書形式]]として保存されるデータ : [[windows-1252]] の[[バイト]]の列であり、
[[Unicode符号位置]]の [[escape]] を含む
- [6] [[応用]]の保持する[[文書]]オブジェクト上の[[文字列]] : [[Unicode符号位置]]の列
- [3] [[フォント]] : [[Unicode符号位置]]に対する[[グリフ]]の[[集合]]

... で構成されます。

[11] 
[[8ビット符号]]が[[バイト]] [ [N[0]], [N[255]] ] と[[文字]]の[[写像]]であることは[[第一級]]の[[符号化文字集合]]と同じです。

[12] 
ところが[[第一級]]の[[8ビット符号]]の実装とは違って[[フォント依存符号化]]は[[応用]]や[[プラットフォーム]]が直接支援するものではないため、
他の[[第一級]]の[[8ビット符号]]で代用されます。ほとんどの場合はそれが
[[windows-1252]] 
です。ここでは [[windows-1252]] の[[符号化文字]]は重要ではなく、
それが[[バイト]]と [[Unicode符号位置]]の[[写像]]であることだけが意味を持ちます。

[13] 
実際に[[ファイル]]として保存される [[HTML]] や [[RTF]] などの[[文書形式]]のデータは、
[[windows-1252]] に従った[[バイト列]]で構成されており、必要に応じて[[文書形式]]によって定義される
[[Unicode符号位置]]を表す[[エスケープ]]表現を含むことがあります。

[14] 
[[応用]]の内部では、これらのデータは[[Unicode符号位置]]の列として保持されます ([[参照符号化モデル]])。
ただし、この [[Unicode符号位置]]はあくまで[[バイト]]の表現であり、
本来の [[Unicode文字]]の意味で使われているものではありません。

[15] 
[[応用]]は[[フォント]]を使って[[文字]]を表示します。[[フォント依存符号化]]の一般的な
[[TrueType]] [[フォント]]は、実際には[[8ビット符号]]ではなく、
[[Unicode符号位置]]から[[グリフ]]への[[写像]]の[[集合]] ([CODE[cmap]]) です。

[16] 
つまり[[フォント依存符号化]]は第一層として [[windows-1252]] 
が[[バイト]]と[[バイト]]たる[[Unicode文字]]の対応関係を定め、
第二層として当該符号が[[バイト]]たる[[Unicode文字]]と[[文字]]との対応関係を定める2階層の構造であり、
しかも第一層の結果はただの[[文字列]]ではなく[[文書形式]]に依存する構文や [[escape]]
を含んでいることがあります。

[EG[

[17] [[HTML]] では [[Latin1]] [[文字参照]]が使われていることがありますが、
本来の [[Latin1]] の[[文字]]ではなく、[[フォント]]がその[[符号位置]]に割り当てている[[文字]]を表します。

[18] 同様に [[RTF]] では [[windows-1252]] の[[文字]]を表す[[命令]]が使われていることがありますが、
本来の[[文字]]ではなく[[フォント]]の[[文字]]を表します。

]EG]

* 二階建ての多バイト符号

[19] 
二階建ての8ビット符号と同様の要領で[[多バイト符号]]が使われることがあります。

[20] 
[[8ビット符号]]の場合と違って第二層は [[EUC-CN]] や [[Big5]] や [[EUC-KR]] などの一般的な[[多バイト符号]]のことが多いです。

[21] 
[[欧米]]や[[東南アジア]]のような[[東アジア]]以外で[[20世紀]]末から[[21世紀]]初頭 ([[平成時代]]前半) 頃に使われた[[著述ソフトウェア]]
([[Webサイト]]提供サービス付属のものを含みます。) が生成した [[HTML文書]]でこの種のものがちらほら見られます。

* 関連

[9] 関連:
[[文字コード]],
[[字母]],
[[文字コードの変換]],
[[文字コードの判定]],
[[文字コードの修復]]

* メモ

