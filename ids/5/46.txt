* 仕様書

[REFS[
- [1] [CITE@en[RFC 6570 - URI Template]] ([TIME[2014-10-27 23:08:55 +09:00]] 版) <http://tools.ietf.org/html/rfc6570#section-2.3>
]REFS]

* 構文

[2] [[雛形式]]に指定する[DFN[[RUBYB[[[変数リスト]]]@en[variable-list]]]]は、
1つ[[以上]]の[[変数指定子]]の[[コンマ]]区切りリストです。 [SRC[>>1]]

[FIG(railroad)[
= [[変数指定子]]
= *
== [CODE[[[,]]]]
== [[変数指定子]]
]FIG]

[3] [DFN[[RUBYB[変数指定子]@en[variable specifier]]]]
([DFN[[[varspec]]]]) は、[[変数名]]と省略可能な[[値修飾子]]です。 [SRC[>>1]]

[FIG(railroad)[
= [[変数名]]
= ?
== [[値修飾子]]
]FIG]

[15] [DFN[[RUBYB[[[値修飾子]]]@en[value modifier]]]]には、
[[接頭辞修飾子]] ([CODE[[[:]]]]) と[[爆発修飾子]] ([CODE[[[*]]]]) があります [SRC[>>1]]。

* 変数名

[4] 変数名は、
[FIG(list)[
- [5] どのような種類の値が期待されるかを[[文書化]]したもの
- [6] [[雛形処理器]]での値の関連付けのための[[識別子]]
- [7] 名前=値の形で[[展開]]するときの名前に使う文字列
]FIG]
... という役割を持ちます [SRC[>>1]]。

[9] [[変数名]]は、[[ASCIIラテン文字]]、[[ASCII数字]]、 [CODE[[[_]]]]、
[[パーセント符号化]]、[CODE[[[.]]]] の1つ以上の列です。ただし
[CODE[[[.]]]] は最初と最後には使えません。 [SRC[>>1]]

[FIG(railroad)[
= |
== [[ASCIIラテン文字]]
== [[ASCII数字]]
== [CODE[[[_]]]]
== [[パーセント符号化]]
= *
== ?
=== [CODE[[[.]]]]
== |
=== [[ASCIIラテン文字]]
=== [[ASCII数字]]
=== [CODE[[[_]]]]
=== [[パーセント符号化]]
]FIG]

[8] [[変数名]]は、[[大文字・小文字を区別します]] [SRC[>>1]]。

[10] [[パーセント符号化]]は[[変数名]]の一部として扱い、
[[復号]]はしません。[[パーセント符号化]]された[[変数名]]とそれを[[復号]]した[[変数名]]は、
異なるものとします。 [SRC[>>1]]

* 展開

[11] [[雛形式]]は、[[雛形処理器]]が知らない[[変数]]や、
特別な「[RUBYB[未定義]@en[undefined]]」値に設定された[[変数]]を参照しても構いません [SRC[>>1]]。

;; [12] [[変数]]の値が[[空文字列]]なものと、未定義は異なります [SRC[>>1]]。

[13] [[水準4]]では、値は[[リスト]]や名前と値の組の[[連想配列]]のような[RUBYB[[[合成値]]]@en[composite value]]となることがあります。
[[雛形]]の構文的にはこれは現れませんが、[[展開]]の処理は単純な値の場合と異なります。 [SRC[>>1]]

[14] [[リスト]]に含まれる個数が0個の時や、[[連想配列]]の名前と値の組の個数が0個の時や、
名前がすべて未定義に関連付けられている時には、未定義とします。 [SRC[>>1]]
