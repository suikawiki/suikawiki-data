

* 一般実体 &nbsp;

[1] [[HTML 4]] <IW:HTML4:"struct/text.html#nbsp"> によると、
[CODE(HTML)[&nbsp;]] == [CODE(HTML)[&#160;]] ==
[CODE(HTML)[&#xA0;]] を使って、[[著者]]は、二つの語の間で[[改行]]が起こらないように指示できます。
常識的に考えて、[[参照]]ではない [CODE(char)[U+00A0]] ([CODE(char)[[[NBSP]]]])
を使っても同じ結果を期待できるはずです。

** 歴史

[2] 当初は [CODE(HTML)[&nbsp;]] の位置付けは不安定であり、
[[処理指令]]が[[置換文]]である参照とすることや
[CODE(HTML)[&#x20;]] の意味の参照とすることが提案されたこともありました。
処理指令案では[[属性値表記]]内で使えないという問題がありますし、
後者の案では [[SGML]] 的には生の [CODE(char)[[[SP]]]]
と同義となり、連続する[[空白]]に関する HTML
の表示規則の SGML 的立場が微妙となります。

結局 HTML の[[文書文字集合]]に [[ISO/IEC 8859]]‐1
が選ばれ、同名の文字である [CODE(char)[[[NBSP]]]]
の参照であるという解釈に落ち着きました。

[9]
[CITE[Toward Closure on HTML]] ([CODE[1994-04-07 09:56:59 +09:00]] 版) <http://www.w3.org/People/Connolly/drafts/html-direction.html>
([[名無しさん]])

[[#comment]]


* メモ

[8]
[[日本語]]で使われることを想定していない
(というより [[ISO/IEC 8859]]−1 か [[CP1251]] 辺りを想定している)
[[HTML]] [[著述器]]なり変換器なりをつかったらしく、[[シフトJIS]]
の[[第2バイト]]の [CODE(char)@en[0xA0]] が
[CODE(HTML)@en[&nbsp;]] に[Q[[[文字化け]]]]している古い [[HTML]]
[[文書]]が、ままよく見受けられます。

;; [[右半分]]の[[バイト]]がすべて[[文字化け]]していてもよさそうなものですが、なぜか [CODE(char)@en[0xA0]] だけのものが多いです。
おそらく、 [CODE(charname)@en[[[NBSP]]]] は透明だから[[実体参照]]に変換しておいたほうがよいというお節介な設計のソフトウェアなのでしょう。

;; 
[[著者]]は[[文書]]がきちんと見えることを確認しなかったのでしょうかね?
それとも、システムの[[文字コード]]にかかわらず [[Latin-1]]
の[[符号位置]]そのままで出力していた古い時代の [[Webブラウザ]]では[Q[きちんと]]見えたのでしょうかね?

([[名無しさん]])

[11]
[CITE[Tables in Netscape 1.1]] ([CODE[2007-07-01 20:32:43 +09:00]] 版) <http://wp.netscape.com/assist/net_sites/tables.html>

> Blank cells which contain no displayable elements are not given borders. If you wish the appearance of an empty cell, but with borders, put either a blank line or a non-breaking space in the cell. (<td>&nbsp;</td> or <td><br></td>)


[12] [CITE@en[Web Applications 1.0 r7076     Add &nbsp; to WebVTT.]]
( ([TIME[2012-04-26 07:53:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=7075&to=7076>

[3] 前々から思ってたけど、 [[HTML]] で SP (U+0020; [[SPACE]]; 間隔)
を表すのに &nbsp; (= U+00A0; NO-BREAK SPACE; [[NBSP]]; ノーブレークスペース *1)
を使うのってどうなんでしょ。

注1 [[JIS]] では本当にこんな[[日本語通用名称]]なのだ。
もっとまともな命名はできんのか?

できればわたしも&nbsp;なんて使いたくないですが。
打つのめんどいから。

[4] &nbsp; が使われているほとんどの場合は、 CSS margin で代替すべき
だとか。 (でもめんどくさいんだよねー) table の border のために
空セルに &nbsp; ってのもなんだかなあ。

&nbsp; が嫌だから(?), [[IDSP]] (U+3000; IDEOGRAPHIC SPACE; 和字間隔 *2)
使うってのも、ナニだよねえ。

注2 全角スペースって呼ぶ人もいるけど、全角スペースは EMSP (U+20...
何番だっけ?; EM SPACE; 全角間隔) だよねぇ。でも IDSP = 漢字間隔
ってのも意味不明。

[FIG(quote)[
[FIGCAPTION[
[5] [CITE@ja[ブラウザ JavaScript]]
([TIME[2015-03-14 20:55:05 +09:00]] 版)
<http://www.opera.com/docs/browserjs/>
]FIGCAPTION]

> リッチテキストの編集に関連したバグの回避のために挿入された non-breaking space (nbsp) を削除

]FIG]


[FIG(quote)[
[FIGCAPTION[
[6] [CITE@en[RFC 7749 - The "xml2rfc" Version 2 Vocabulary]]
([TIME[2016-02-04 22:54:51 +09:00]] 版)
<https://tools.ietf.org/html/rfc7749#section-4>
]FIGCAPTION]

>
:    non-breaking space (U+00A0):
Represents a space character where no line break should happen.
This is frequently used in titles (by excluding certain space
characters from the line-breaking algorithm, the processor will
use the remaining whitespace occurrences for line breaks).

]FIG]


[FIG(quote)[
[FIGCAPTION[
[7] [CITE@ja[物件マニア賃貸売買版 '''[''' 大阪 ''']''']]
( ([TIME[2016-10-05 14:41:13 +09:00]]))
<http://www.b-mania.jp/>
]FIGCAPTION]

> <p>元オフィスを 住居に&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;リノベーション &nbsp;&nbsp;&nbsp;&n..</p></a></div>

]FIG]
