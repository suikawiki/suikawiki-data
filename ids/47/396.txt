[37] 
[[文字コード]]に関係する処理では、[[ロケール]]や[[言語]]や[[国]]とそこから推定される[[文字コード]] (の候補群) との対応関係の表が使われることがあります。






* ロケールを使った文字コードの判定の補助 (総合版)

[67] 
[[ロケール]] / [[言語]] / [[国]] / [[TLD]] 
の情報から[[文字コードの判定]]のために優先されるべき候補を決めたり、
決めかねる場合の既定値を選んだりするための分類表です。

[68] 
似た性質の[[言語]]や[[国]]をまとめてグループ化し、
利用場面に応じた候補を割り当てるという形式になっています。




[66] 
グループ名は [CITE[chardetng]] のものを基本としつつ、所属する言語と国は適宜調整し、新しいグループを補充しています。

[83] 
表の意味は次の通りです。

- [84] 
[TLD] は該当する [[TLD]] や [[TLD]] に準ずる[[ドメイン]]を表します。過去と現在のすべての [[ccTLD]] と [CITE[chatdetng]] が分岐条件とする [[TLD]] をカバーしています。
- [85] 
[国] は該当する [[ISO 3166]] [[国符号]]を表します。 [TLD] に含まれる [[ccTLD]] は省略しています。 [TLD] と [国] で過去と現在のすべての登録された[[国]]と [CODE[XK]] をカバーしています。
- [86] 
[HTML] は該当する主要な[[ロケール]]を表します。 [CITE[HTML Standard]] や [[Webブラウザー]]の[[文字コードの判定]]の挙動に影響するとされる[[言語]]や[[ロケール]]の[[言語タグ]]です。
- [87] 
[言語] は該当する[[言語タグ]]を表します。 [HTML] と [言語] で過去と現在のすべての登録された [[ISO 639]] 英字2字[[言語符号]]をカバーしています。
- [90] 
[OEM] と [ANSI] はグループの国や言語に最適と考えられる [[OEMコードページ]]と [[ANSIコードページ]]を表します。なるべく1つだけ選んでいますが、やむを得ない場合は複数列挙し、うち1つを * で示しています。
- [91] 
[候補] は文字コードの判定で特に優先されるべきと考えられる文字コードを表します。 UTF-8 は省略しています。
- [99] 
[候補(Web)] は [[Web]] における文字コードの判定で特に優先されるべきと考えられる文字コードを表します。 UTF-8 は省略しています。 HTML の文字コードの判定の既定値に選ぶべきと考えられるものを * で示しています。
- [100] 
[候補(ZIP) は [[ZIP]] のファイル名における文字コードの判定で特に優先されるべきと考えられる文字コードを表します。 UTF-8 は省略しています。既定値に選ぶべきと考えられるものを * で示しています。

[102] この表は、当記事の他の項目で紹介する関連仕様や実装事例を基礎に、
[[Internet Archive]] に保存された初期 ([[20世紀]]から[[21世紀]]初頭) の [[Webサイト]]の状況を参照しながら調整を加えたものです。

[101] 各項目について適宜説明を挟みますが、当記事の他の項目に出典や説明があるものは省略しています。


 Thai
  [TLD] th xn--o3cw4h
  [HTML] th
  [OEM] CP874
  [ANSI] CP874
  [候補] Windows-874
  [候補(Web)] Windows-874*
  [候補(ZIP)] Windows-874*
 Vietnamese
  [TLD] vn
  [HTML] vi
  [OEM] CP1258
  [ANSI] CP1258
  [候補] viscii, x-viet-tcvn, x-viet-vni, x-viet-vps
  [候補(Web)] Windows-1252*, viscii, x-viet-tcvn, x-viet-vni, x-viet-vps
  [候補(ZIP)] -
 Japanese
  [TLD] jp fam.cx myhome.cx moe.hm orz.hm ad.np co.np ed.np my.np pv.np jpn.ph
  [HTML] ja
  [言語] ain
  [OEM] CP932
  [ANSI] CP932
  [候補] Shift_JIS, EUC-JP, junet, x-docomo-shift_jis, x-kddi-shift_jis, x-softbank-shift_jis, x-mac-japanese
  [候補(Web)] Shift_JIS*, EUC-JP, ISO-2022-JP, x-docomo-shift_jis, x-kddi-shift_jis, x-softbank-shift_jis, x-mac-japanese
  [候補(ZIP)] Shift_JIS*, EUC-JP
 Hebrew
  [TLD] il
  [HTML] he iw ji yi
  [OEM] CP862
  [ANSI] CP1255
  [候補] IBM862, Windows-1255, ISO-8859-8
  [候補(Web)] Windows-1255*, ISO-8859-8
  [候補(ZIP)] IBM862*
 Greek
  [TLD] cy gr xn--qxam
  [HTML] el
  [OEM] CP737
  [ANSI] CP1253
  [候補] ISO-8859-7, Windows-1253, IBM737
  [候補(Web)] ISO-8859-7*, Windows-1253
  [候補(ZIP)] IBM737*, Windows-1253
 Arabic
  [TLD] ae af bh dz eg iq ir jo kw lb ly ma mr om ps qa sa sd sy tn xn--lgbbat1ad8j xn--mgb2ddes xn--mgb9awbf xn--mgba3a4f16a xn--mgbaam7a8h xn--mgbah1a3hjkrd xn--mgbayh7gpa xn--mgbc0a9azcg xn--mgbcpq6gpa1a xn--mgberp4a5d4ar xn--mgbpl2fh xn--mgbtx2b xn--ogbpf8fl xn--pgbs0dh xn--q7ce6a xn--wgbh1c xn--wgbl6a xn--ygbi2ammx ye
  [HTML] ar fa prs-AF = Windows-1256
  [言語] prs ps 
  [OEM] CP720
  [ANSI] CP1256
  [候補] Windows-1256, ISO-8859-6, IBM720
  [候補(Web)] Windows-1256*, ISO-8859-6
  [候補(ZIP)] IBM720*, Windows-1256

 Korean
  [TLD] kp kr xn--3e0b707e
  [HTML] ko
  [OEM] CP949
  [ANSI] CP949
  [候補] EUC-KR, ISO-2022-KR, Johab
  [候補(Web)] EUC-KR*
  [候補(ZIP)] EUC-KR*

[CODE[.kp]] ([[朝鮮民主主義人民共和国]]) は21世紀に入って割り当てられたもので、 [[Internet Archive]] には[[西暦2010年代]]以後のものが残りますが、いずれも [[UTF-8]] です。国内事情は明らかではありませんが、 [CODE[.kr]] とは大きく異なると推測されます。 [CODE[.kp]] を [CODE[.kr]] と同じに分類したものは、類推によると思われ、根拠はありませんが、他分類に入れることにも意味はないと思われますから、このままとしておきます。

 Chinese
  [tag] zh
  [候補] GB18030, Big5, Big5-UAO, HZ-GB-2312, ISO-2022-CN, EUC-TW
  [候補(Web)] GB18030, Big5
  [候補(ZIP)] GB18030, Big5
 SimplifiedTraditional
  [TLD] sg xn--clchc0ea0b2g2a9gcd xn--yfro4i67o my xn--mgbx4cd0ab
  [HTML] zh-SG zh-Hans = GB18030
  [OEM] CP936*, CP950
  [ANSI] CP936*, CP950
  [候補] GB18030, Big5, Big5-UAO, HZ-GB-2312, ISO-2022-CN, Windows-1252, EUC-TW
  [候補(Web)] GB18030, Big5, Windows-1252
  [候補(ZIP)] GB18030, Big5
 Simplified
  [TLD] cn xn--fiqs8S xn--fiqz9S
  [HTML] zh-CN
  [tag] bo ii mn-CN ug za
  [OEM] CP936
  [ANSI] CP936
  [候補] GB18030, Big5, HZ-GB-2312, ISO-2022-CN, EUC-TW
  [候補(Web)] GB18030*, Big5
  [候補(ZIP)] GB18030*, Big5
 TraditionalSimplified
  [TLD] hk mo xn--j6w193g xn--mix891f
  [HTML] zh-Hant zh-HK zh-MO
  [OEM] CP950
  [ANSI] CP950
  [候補] GB18030, Big5, Big5-UAO, HZ-GB-2312, ISO-2022-CN, EUC-TW
  [候補(Web)] GB18030, Big5*
  [候補(ZIP)] GB18030, Big5*
 Traditional
  [TLD] tw xn--kprw13d xn--kpry57d
  [HTML] zh-TW
  [OEM] CP950
  [ANSI] CP950
  [候補] GB18030, Big5, Big5-UAO, HZ-GB-2312, ISO-2022-CN, EUC-TW
  [候補(Web)] GB18030, Big5*
  [候補(ZIP)] GB18030, Big5*

SimplifiedTraditional / Simplified や TraditionalSimplified / Traditional を区別する必要があるのか明らかではありませんが、一応分けたままにしておきます。

ug-CN (ウイグル語) を Windows-1256 とするものがありますが、利用実績があるのか不明瞭です。 bo (チベット語), ii (彝語), ug (ウイグル語), mn-CN (内蒙古語) は独自符号化があるものの、フォント指定なしでの利用実績があるのか不明瞭です。簡体字の利用が多いことから Simplified に含めておきます。

 Cyrillic
  [TLD] bg xn--90ae by xn--90ais kg kz xn--80ao21a ru xn--p1ai su tj uz
  [HTML] ba be bg kk ky ru sah tg tt uz uz-Cyrl-UZ
  [言語] ab av ce cu cv kv os 
  [OEM] CP866
  [ANSI] CP1251
  [候補] KOI8-R, KOI8-U, Windows-1251, IBM866, ISO-8859-5, x-mac-cyrillic
  [候補(Web)] KOI8-R, Windows-1251*, ISO-8859-5
  [候補(ZIP)] Windows-1251, IBM866*
 Ukrainian
  [TLD] ua xn--j1amh
  [HTML] uk
  [OEM] CP866
  [ANSI] CP1251
  [候補] KOI8-R, KOI8-U, Windows-1251, IBM866, ISO-8859-5, x-mac-cyrillic
  [候補(Web)] KOI8-U, Windows-1251*, ISO-8859-5
  [候補(ZIP)] Windows-1251, IBM866*
 Turkmen
  [TLD] tm
  [言語] tk
  [候補] KOI8-R, Windows-1251, Windows-1250, IBM866, ISO-8859-5, x-mac-cyrillic
  [候補(Web)] KOI8-R, Windows-1251*, ISO-8859-5, Windows-1250
  [候補(ZIP)] Windows-1251, IBM866*
 Azeri
  [TLD] az
  [HTML] az
  [言語] az-Cyrl-AZ
  [OEM] CP866
  [ANSI] CP1251
  [候補] KOI8-R, Windows-1251, Windows-1254, IBM866, ISO-8859-5, x-mac-cyrillic
  [候補(Web)] KOI8-R, Windows-1251*, ISO-8859-5, Windows-1254
  [候補(ZIP)] Windows-1251, IBM866*
 Mongolian
  [TLD] mn xn--l1acc
  [HTML] mn
  [OEM] CP866 (x-MNS4329)
  [ANSI] CP1251 (x-MNS4330)
  [候補] x-MNS4329, x-MNS4330*, x-MNS4331
  [候補(Web)] x-MNS4330*
  [候補(ZIP)] x-MNS4329, x-MNS4330

ウズベク語 ([CODE[uz]]) は[[ウズベキスタン]] ([CODE[.uz]]) とその周辺で使われますが、[[ウズベキスタン]]では独立直後に[[キリル文字]]から[[ラテン文字]]に移行しました。このため両方の[[ロケール]]を提供するものもあります。[[ラテン文字]]表記が [[ASCII文字]]のみで記述可能であることもあって当地では[[ロシア語]]用ソフトウェアが使われ続けた形跡が見られます。初期の Web サイトはロシア語版ページがある場合が多く、そうでない場合でも [[Windows-1251]] を使っている事例が散見されます。[[ラテン文字]]表記を [[Windows-1254]] など[[トルコ語]]系[[コードページ]]とする実装もあるようですが、[[テュルク諸語]]に属することによるものでしょうか。 Web で [[Windows-1254]] が使われている事例は確認できず、 Cyrillic に含めるのが妥当と考えられます。

[[ウズベキスタン]]と[[アゼルバイジャン]]を [[CP857]], [[CP1254]] とすることがありますが、[[ラテン文字]]の現[[正書法]]に基づく分類と思われます。現地の当時の状況については情報が不足していますが、当時の [[Webサイト]]の状況による限り、当時のデータとの互換性という観点では[[ロシア語]]系[[コードページ]]とする方がより妥当性が高いと考えられます。
トルクメン語 ([CODE[tk]]) は[[トルクメニスタン]] ([CODE[.tm]]) とその周辺で使われますが、[[トルクメニスタン]]では独立直後に[[キリル文字]]から[[ラテン文字]]に移行しました。初期の Web サイトはロシア語の場合が多いですが、トルクメン語を [[Windows-1250]] で使っている事例が見られます。 Cyrillic に含めるものもありますが、独立させるのが妥当と考えられます。

 Armenian
  [TLD] am xn--y9a3aq
  [tag] hy
  [候補] ARMSCII-8, KOI8-R, Windows-1251, IBM866, ISO-8859-5, x-mac-cyrillic
  [候補(Web)] ARMSCII-8*, KOI8-R, Windows-1251, ISO-8859-5
  [候補(ZIP)] Windows-1251, IBM866*
 Georgian
  [TLD] ge xn--node
  [tag] ka
  [候補] georgian-ps, georgian-academy, KOI8-R, Windows-1251, IBM866, ISO-8859-5, x-mac-cyrillic
  [候補(Web)] georgian-ps*, georgian-academy, ARMSCII-8, KOI8-R, Windows-1251, ISO-8859-5
  [候補(ZIP)] Windows-1251, IBM866*

 Romanian
  [TLD] ro md
  [HTML] ro
  [tag] mo
  [OEM] CP852
  [ANSI] CP1250
  [候補] Windows-1250, IBM852, KOI8-R, Windows-1251, IBM866, ISO-8859-5, x-mac-cyrillic
  [候補(Web)] Windows-1250*, KOI8-R, Windows-1251, ISO-8859-5
  [候補(ZIP)] Windows-1250, IBM852*, Windows-1251, IBM866

[[ルーマニア語]] ([CODE[ro]]) は[[ルーマニア]] ([CODE[.ro]]) と[[モルドバ]] ([CODE[.mo]]) を中心に使われています。 [[ルーマニア]]では[[ラテン文字]]が用いられます。かつて[[モルドバ]]では[[キリル文字]]が使われ[[モルドバ語]] ([CODE[mo]]) と呼ばれていましたが、独立の頃[[ラテン文字]]に移行しました。[[ラテン文字]]は[[非ASCII文字]]をいくつか使います。 [[ISO-8859-2]] と [[Windows-1250]] で一応カバーされていますが、文字の同定に問題があり、 [[ISO-8859-16]] が作られました。

[[ルーマニア]]の初期の Web サイトは、 [[ASCII]] のものが非常に多いようです。[[非ASCII文字]]は類似の [[ASCII文字]]による[[代用表記]]が広く行われていました。その他に [[ASCII]] や [[ISO-8859-1]] と[[文字参照]]によるものも見られます。政府系サイト等でしばしば [[Windows-1250]] が、大手ポータルサイト等一部で [[ISO-8859-2]] が見られるものの、どちらも主流とは言い難いと思われます。当時使われた [[Windows]] が [[Windows-1252]] が主流だった可能性も示唆されますが、断定するには不安が残ります。 [CITE[HTML5]] の頃の調査によると [CODE[ro]] の既定値は [CITE[Chrome]] が [[ISO-8859-2]]、 [CITE[Firefox]] が値なしであり、 [CITE[HTML5]] は全体既定値の [[Windows-1252]] を採用しています。決定的な判断材料に欠けるものの、体感的には [[Windows-1250]] を既定値とするのが良いと思われます。

[[モルドバ]]の初期の Web サイトはルーマニア語、英語、ロシア語のいずれか1つ以上を使ったものが多いです。ルーマニア語は Windows-1250 や UTF-8 の他、 Windows-1251 と文字参照で表記されたものもありました。ロシア語は [[Windows-1251]] が使われていました。英語は [[ASCII文字]]のみで表記されることが多いですが、 [[Windows-1250]] や [[Windows-1251]] とされている場合もそれなりにありました。 [[ISO-8859-2]] や [[KOI8-R]] の事例は未発見です。当時使われた [[Windows]] が [[Windows-1250]] と [[Windows-1251]] のどちらが優勢だったか確定し難く、おそらくどちらもあったのでしょう。こうした場合既定値をどちらにするか悩ましいですが、自動判定の難しさを考えると [[Windows-1250]] を既定値とする方が良い結果を得られそうです。

[117] 
ルーマニアにはロシア語サイトは少なくモルドバには多いという違いがありますが、キリル文字系文字コードの有無は自動判定に大きな悪影響を及ぼさないと考えられますから、同じカテゴリーにまとめて構わないと考えられます。

 Macedonian
  [TLD] mk xn--d1alf
  [HTML] mk
  [OEM] CP855
  [ANSI] CP1251
  [候補] Windows-1251, IBM855, IBM866
  [候補(Web)] Windows-1251*
  [候補(ZIP)] Windows-1251, IBM855*, IBM866
 CentralCyrillic
  [TLD] ba domen.me domain.me nic.me www.me co.me net.me org.me edu.me ac.me gov.me its.me priv.me rs xn--90a3ac yu
  [国] ME XK
  [HTML] sr
  [言語] bs bs-Cyrl-BA bs-Latn-BA cnr sh
  [OEM] CP855, CP852*
  [ANSI] CP1251, CP1250*
  [候補] IBM852, IBM855, IBM866, Windows-1250, Windows-1251, ISO-8859-2, x-mac-ce
  [候補(Web)] Windows-1250*, ISO-8859-2, Windows-1251
  [候補(ZIP)] IBM852*, IBM855, IBM866, Windows-1250, Windows-1251

[116] 
旧[[ユーゴスラビア]]諸国は[[ラテン文字]]と[[キリル文字]]が混在していて、国ごとの事情も複雑です。

- [[スロベニア]] ([CODE[.si]]) - [[Windows-1250]] がかなり多く [[ISO-8859-2]] もそれなりに見られる。
- [[クロアチア]] ([CODE[.hr]]) - [[Windows-1250]] がかなり多い。 [[ISO-8859-2]] も多い。 [[Windows-1250]] が主流と思われるが、圧勝ではない。
- [[ボスニア・ヘルツェゴビナ]] ([CODE[.ba]]) - [[Windows-1250]] がかなり多い。 
- [[スルプスカ共和国]] ([CODE[.rs.ba]]) - 歴史が浅く利用例も多くはないが、その中に [[Windows-1251]] の利用例も見られる。
- [[ユーゴスラビア]] ([CODE[.yu]]) - [[Windows-1250]] と [[ISO-8859-2]] が見られる。現存しないため調査が難しく、更なる実態の研究が必要。
- [[セルビア]] ([CODE[.rs]]) - キリル文字が主、ラテン文字が従だが、キリル文字は公的機関等に多く、民間ではラテン文字が広く使われている。キリル文字の非 [[Unicode]] は事例があまりない。ラテン文字は [[Windows-1250]] が多く [[ISO-8859-2]] も見られる。新設 [[ccTLD]] のため [[UTF-8]] が多いが、 [CODE[.yu]] から移行した中小サイトに非 [[Unicode]] が残る可能性があり、更なる実態の研究が必要。
- [[モンテネグロ]] ([CODE[.me]]) - 国外利用が多く実態が見えにくい。[[Windows-1250]] が多く [[ISO-8859-2]] も見られる。
- [[マケドニア]] ([CODE[.mk]]) - [[Windows-1251]] がかなり多い。 [[IBM866]] も [[IBM855]] も[[マケドニア語]]には不足するものの、 [[IBM855]] が幾分ましで、どちらかが使われたとすれば旧ユーゴであるので [[IBM855]] の可能性の方が高いだろうか。

[[KOI8-R]] は [[Web]] でほぼ見かけません。 [[IBM866]] は[[ユーゴスラビア]]向けではありませんが、[[旧ソ連]]方面由来のソフトウェア等で使われた可能性もあり、 [[ZIP]] 等では一応判定対象に含めるのが良いと思われます。

[[ラテン文字]]と[[キリル文字]]の混在する[[セルビア]]でどちらを既定値とするかは悩ましいですが、自動判定の難しさを考えると[[ラテン文字]]を既定値とする方が良い結果を得られそうです。 [CODE[.rs.ba]] の既定値を[[キリル文字]]としてもいいかもしれませんが、同じ理由で特に区別しなくていいと考えられます。そうなれば [CODE[mk]] もまとめてしまって構わないのかもしれませんが、 [CITE[HTML Standard]] 等の既定値でありますから、一応分けておきます。

 CentralIso
  [TLD] hu pl si
  [HTML] hu pl sl
  [OEM] CP852
  [ANSI] CP1250
  [候補] Windows-1250, ISO-8859-2, IBM852, x-mac-ce
  [候補(Web)] Windows-1250, ISO-8859-2*
  [候補(ZIP)] Windows-1250, IBM852*
 CentralWindows
  [TLD] cz hr sk
  [HTML] cs hr hsb sk 
  [OEM] CP852
  [ANSI] CP1250
  [候補] Windows-1250, ISO-8859-2, IBM852, x-mac-ce
  [候補(Web)] Windows-1250*, ISO-8859-2
  [候補(ZIP)] Windows-1250, IBM852*

 Baltic
  [TLD] ee lt lv
  [HTML] et lt lv
  [OEM] CP775
  [ANSI] CP1257
  [候補] Windows-1252, IBM850, Windows-1257, ISO-8859-13, ISO-8859-4, IBM775
  [候補(Web)] Windows-1252, Windows-1257*, ISO-8859-13, ISO-8859-4
  [候補(ZIP)] Windows-1252, IBM850, Windows-1257, IBM775*

[103] 
エストニア (言語 [CODE[et]], 国 [CODE[ee]]) は [[IBM775]], [[IBM1257]] とされることがありますが、初期の [[Web]] サイトの多くは [[Windows-1252]] です。 [[Windows-1252]] (や [[IBM850]]) では外来語用の文字が不足しますが、固有語は書けます。足りない文字は[[文字参照]]か[[代替表記]]を用いていました。 [[Windows-1257]] を使ったサイトも存在するようです。当時の [[DOS]] や [[Windows]] の利用状況は更なる検討が必要であるものの、 [CITE[HTML]] が [CODE[.ee]] の既定値を他2国と共に [[Windows-1257]] とするのは無難と思われます。

 TurkishAzeri
  [TLD] tr
  [HTML] ku tr
  [OEM] CP857
  [ANSI] CP1254
  [候補] Windows-1254, IBM857
  [候補(Web)] Windows-1254*
  [候補(ZIP)] Windows-1254, IBM857*

 Asian
  [TLD] bd bn bt id im io kh lk mm np ph pk xn--mgbai9azgqp6j tl tp xn--54b7fta0cc xn--fzc2c9e2c xn--xkc2al3hye2a
  [国] IN LA 
  [HTML] bn fil gu hi id kn ks ml mr ms ta te
  [言語] aa as bh dz gez har in jv jw km lo my ne or pa pi sa sd si sid su ti tig tl ur
  [候補] Windows-1252, TSCII, TAM, TAB, 各種8ビット符号
  [候補(Web)] Windows-1252*, TSCII, TAB, x-user-defined
  [候補(ZIP)] -

[113] 
[[東南アジア]]から[[エチオピア]]にかけての地域の初期の [[Webサイト]]では[[英語]]が使われていることもあれば現地語が使われていることもあります。欧米系の [[Webブラウザー]]のほとんどは現地語用の文字コードに対応していません。文字コードはフォント名から判定できますが、20世紀の最初期の [[Webサイト]]にはフォント指定もないことがあります。 [[Webフォント]]が使われている場合も含め、[[フォント]]の仕様上各種8ビット符号は [[x-user-defined]] = [[Windows-1252]] と判定する必要があります。

[114] 
[[ビルマ語]]は21世紀初頭から [[UTF-8]] が主流ですが、[[フォント]]により Unicode 4.0 方式、 Unicode 5.1 方式、 Zawgyi 方式などが混在しています。 [[SNS]] 等の投稿文では[[フォント]]情報がないので符号位置列からの判定が必要となります。

[115] 
[CODE[ur]] (ウルドゥー語) は[[パキスタン]] ([CODE[.pk]]) と[[印度]]を中心に使われています。[[ウルドゥー文字]]は[[アラビア文字]]からの派生で、 [[ISO-8869-6]] では記述できず、 [[Windows-1256]] は一応対応できるとされつつ不完全です。 [CODE[.pk]] や [CODE[ur]] を中東と同じに分類するものもありますが、[[パキスタン]]や[[印度]]の初期の Web サイトで中東系の[[文字コード]]が使われた実績は確認できません。英語や画像が多く、独自形式も使われたものの広範囲の普及は確認されていません。南アジアに分類するのが妥当と考えられます。

 Western
  (北米)
  [TLD] ca us edu gov mil
  [HTML] iu-Latn-CA moh-CA
  [言語] en-CA en-US ik iu oj 
  (西欧)
  [TLD] ad ast at be ch de es fr gb gg gi ie it je li lu mc nl pm pt sh sm tf uk va
  [国] AC
  [HTML] br ca co-FR cy-GB de en es eu fr fy-NL ga-IE gd gl gsw-FR gv it lb-LU nl nv oc-FR pt rm-CH
  [言語] an co cy fy ga gsw ia ie io kw la lb li moh oc rm sc vo wa 
  (北欧)
  [TLD] ax bv dk fi gl no se sj
  [HTML] da fi kl-GL nb nn-NO se-FI se-NO se-SE sma-NO sma-SE smj-NO smj-SE smn-FI sms-FI sv wee-DE wen-DE
  [言語] kl nn se sma smj smn sms wee wen
  (その他欧州)
  [TLD] al aq mt
  [言語] ae eo mt sq
  (大洋州)
  [TLD] as au ck fj gu hm ki mh mp nc nf nr nz pf pg pn pw sb wf ws
  [国] CC CX FM NU TK TO TV VU
  [言語] bi ch ho mh mi na sm to ty 
  (中南米)
  [TLD] ag an ar aw bb bj bm bo bq br bs cl co cr cu cv cw dm do ec fk gf gp gs gt gy hn ht jm kn ky lc mx ni pa pe pr py sr tc tt uy ve vg vi
  [国] AI BZ MS VC
  [HTML] arn qut-GT quz-BO quz-EC quz-PE
  [言語] ay fj ht qu qut quz 
  (アフリカ)
  [TLD] ao bf bi bw cf cg ci cm eh er et ga gd gh gm gn gq gw ke km lr ls mg ml mq mu mv mw mz na ne ng re rw sc sl sn so ss sv sx sz td tg tz ug yt za zm zw
  [国] CD DJ ST
  [HTML] af bm ff ha-Latn-NG ig-NG rw-RW sw tn-ZA tzm-Latn-DZ wo-SN xh-ZA yo-NG zu-ZA
  [言語] dv ha hz ig lg ln mg ng nso kg ki kj kr lu nso-ZA nr ny om rn rw sg sn so ss st tn ts tzm tw ve wo xh yo zu
  [OEM] CP437, CP850*
  [ANSI] CP1251
  [候補] Windows-1252, IBM437, IBM850, macintosh
  [候補(Web)] Windows-1252*, macintosh
  [候補(ZIP)] Windows-1252, IBM437, IBM850*

[105] 
[[ANSIコードページ]] [[CP1252]] に相当する[[OEMコードページ]]は米国の [[CP437]] と[[西欧]]に対応した「国際」版 [[CP850]]があります。各国各言語を両者に割り振っているものもありますが、根拠があってのものかは不明です。

[106] 
[[ポルトガル語]]の[[OEMコードページ]]は [[CP850]] の他に専用の [[CP860]] があります。 [[DOS]] 時代の利用実態は調査を要しますが、現在の[[ポルトガル]]や[[ブラジル]]の [[Webサイト]]で確認できる [[ZIPファイル]]の[[ファイル名]]は [[IBM850]] のものが多く、 [[IBM860]] の利用事例は未発見です。

[107] 
アルバニア (言語 [CODE[sq]], 国 [CODE[al]]) は [[CP852]], [[CP1250]] とされることもありますが、初期の Web サイトは基本的に [[Windows-1252]] です。足りない文字は[[代替表記]]か[[文字参照]]によっています。中欧系の [[DOS]] や [[Windows]] は使われていなかったのかもしれません。

[108] 
マルタ (言語 [CODE[mt]], 国 [CODE[mt]]) の初期の [[Webサイト]]は[[英語]]で [[Windows-1252]] のものが大半です。固有名詞や現地語は[[代替表記]か[[文字参照]]によっています。

[109] 
南極 ([CODE[.aq]]) の初期の [[Webサイト]]は[[英語]]が多く、それ以外も欧州語ばかりで [[Windows-1252]] が使われています。現在は [[UTF-8]] で[[キリル文字]]や[[日本語]]や[[中文]]が使われる事例もありますから、過去にも使われた可能性は否定できませんが、あってもわずかと思われます。


 IcelandicFaroese
  [TLD] fo is
  [HTML] fo is
  [OEM] CP850
  [ANSI] CP1252
  [候補] Windows-1252, IBM850
  [候補(Web)] Windows-1252*, IBM850
  [候補(ZIP)] Windows-1252, IBM850*

[104] 
この2言語は [CITE[chardetng]] が利用文字の傾向から西欧とは分離しています。初期の [[Web]] サイトの多くは [[Windows-1252]] です。

 Eu
  [TLD] eu xn--e1a4c xn--qxa6a
  [候補] Windows-1252, Windows-1250, ISO-8859-2, ISO-8859-7, Windows-1253, Windows-1251, Windiws-1257
  [候補(Web)] Windows-1252*, Windows-1250, ISO-8859-2, ISO-8859-7, Windows-1253, Windows-1251, Windows-1257
  [候補(ZIP)] Windows-1252, Windows-1250, Windows-1253, Windows-1257, IBM850*, IBM852, IBM775, IBM855, IBM866

[112] 
[CODE[.eu]] では [[Windows-1250]], [[Windows-1252]], [[Windows-1257]], [[ISO-8859-7]] の利用を確認できます。[[アイスランド語]] ([CODE[is]]) の [[Windows-1252]] も確認できます。 [[Windows-1251]] は未確認ですが、 [[UTF-8]] で[[ロシア語]]版のページを用意するサイトは多いので、使われた可能性は否定できません。 [CODE[Generic]] に統合しても良いのかもしれませんが、欧州系以外の可能性を低くできるので、分離しておきます。

 Generic
  [TLD] ac ai bz cc cd cx dj fm in la me ms nu st tk to tv vc vu その他のTLD

[110] 
[[ジブチ]] ([CODE[.dj]]) は海外利用が多いとされ現地サイトの状況は不明瞭ですが、初期の Web サイトは仏語で [[Windows-1252]] のものが多いです。現地では[[アラビア文字]]が使われる可能性もあるものの、当時の Web サイトでの利用事例は未発見です。

[111] 
[[ラオス]] ([CODE[.la]]) は海外利用が多いとされ現地サイトの状況は不明瞭ですが、初期の Web サイトは [[Windows-1252]] で[[文字参照]]によって[[ラオ文字]]を使っているものが多いようです。










* ロケール依存の既定の文字コード (Web)


[1] 
[[Webページ]]への [[navigate]] における[[文字コードの判定]]には色々な手法が組合せられますが、
いずれとも決めかねるとき最終的に[[利用者]]の[[ロケール]]によって決まる[[既定値]]たる[[文字コード]]が選ばれます。
[SEE[ [[利用者の言語]] ]]

** 仕様書

[REFS[

- [177] 
[CITE@en-US-x-hixie[HTML Standard]], [TIME[2025-11-04T10:59:41.000Z]], [TIME[2025-11-09T05:55:50.836Z]] <https://html.spec.whatwg.org/#determining-the-character-encoding>

]REFS]

** 概要

[2] 
[[利用者]]の[[ロケール]]が[[利用者]]がよく見る[[Webページ]]の[[自然言語]]や[[符号化]]と相関があると考えられるため、
[[ロケール]]が使われると説明されています。 [SRC[>>177]]

[4] 
歴史的にみれば [[Web]] はそれぞれの[[利用者]]の[[国]]や[[言語]]に合わせて[[地域化]]される形で普及したものであり、
各地で標準的に使われていた[[文字コード]]がその地域の[[デファクト標準]]として使われ始めました。
[[Webブラウザー]]は動作[[プラットフォーム]]の既定値、すなわち[[利用者]]の[[ロケール]]の[[文字コード]]をそのまま標準的に使っていました。
[SEE[ [[Webにおける文字コード]] ]]

[5] 
[[ロケール]]設定に依存するということは、[[ロケール]]設定が違えば[[文字化け]]するということです。
もちろんこれは望ましくないことで、[[著者]]は [[HTTP]] [CODE[charset]] や 
[CODE[<meta charset>]] で明示的に[[文字コードの指定]]を行うべきで、
[[Webブラウザー]]は[[頻度解析等の手法]]により可能な限り高精度な[[文字コードの判定]]を行うべきです。
[[ロケール]]依存の既定値は、それらでどうしても決定できない場合にだけ使われます。
[SEE[ [[encoding sniffing algorithm]] ]]

[6] 
現在となっては[[ロケール]]依存の既定値が使わざるを得ない状況はそう多くはないとはいえ、
古い時代に作られた[[Webサイト]]を中心に、未だに必要とされています。
今後急激に増える可能性は皆無ですが、
既存の [[Webサイト]] ([[Internet Archive]] 所蔵のものを含む。)
を[[後世にそのままの形で伝えていく][Web互換性]]ために [[Webブラウザー]]は恒久的に[[ロケール]]依存の既定値に対応し続けなければなりません。

-*-*-

[3] 
[CITE[HTML Standard]] には、策定当時の主要 [[Webブラウザー]]の実装状況に基づき決められた[[ロケール]]と既定の[[文字符号化]]の対応表が示されています。
[SRC[>>177]]

[7] 
この既定値は[[実装依存]]かつ[[利用者]]の指定が可能と規定されており、
[CITE[HTML Standard]] に提示された表が1つの基準となるものの、
それが強制されているわけではありません。

[8] 
実装は、実際の [[Webサイト]]の実情や他の実装の状況を勘案しつつ、
[[Web互換性]]を高めるため改善を続けることが期待されます。


-*-*-

[17] 
[CITE[HTML Standard]] の表は直接的には既定値しか定めていませんが、
[[頻度解析等の手法]]で重視するべき[[文字コード]]群の絞り込みにも[[ロケール]]情報は有用と考えられます。

[EG[

[18] 例えば[[ロケール]]が [CODE[ja]] ([[日本語]]) のとき、
[[Shift_JIS]],
[[EUC-JP]],
[[ISO-2022-JP]]
を他の[[文字コード]]より重視する動作モードで[[頻度解析等の手法]]を実行すると良さそうです。

]EG]


** [CITE[HTML Standard]] の規定の歴史的変遷


[10] 
[CITE[HTML5]] (現 [CITE[HTML Standard]]) の主要な版の変更点と、
それに関連して当時参照された実装の状況は次の通りです。

[FIG(table)[




:l: [[ロケール]]
:0: [CITE[HTML5]] 初期 [SRC[>>206]]
:a: [CITE[HTML5]] r4126 [SRC[>>206]]
:vi:[CITE[Windows Vista]] [SRC[>>183]]
:fx:[CITE[Firefox]] [SRC[>>183]]
:ch:[CITE[Chrome]] [SRC[>>183]]
:b: [CITE[HTML5]] r7958 [SRC[>>183]]
:c: [CITE[HTML5]] r8258 [SRC[>>184]], r8259 [SRC[>>185]]
:x: 現 [CITE[HTML Standard]] [SRC[>>9]]
:aug: 調整

:l:[CODE[af]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[am]]
:vi:[[windows-1252]]
:ch:[[windows-1252]]

:l:[CODE[ar]]
:a:[[UTF-8]]
:b:[[windows-1256]]
:vi:[[windows-1256]]
:ch:[[windows-1256]]
:x:[[windows-1256]]

:l:[CODE[arn-CL]]
:fx:[[windows-1252]]
:vi:[[windows-1252]]

:l:[CODE[az]]
:ch:-
:fx:-
:vi:[[windows-1254]]
:x:[[windows-1254]]
:aug:[[Windows-1251]]

:l:[CODE[az-Cyrl-AZ]]
:ch:-
:fx:-
:vi:[[windows-1251]]

:l:[CODE[ba]]
:c:[[windows-1251]]
:x:[[windows-1251]]

:l:[CODE[ba-RU]]
:ch:-
:fx:-
:vi:[[windows-1251]]

:l:[CODE[be]]
:a:[[ISO-8859-5]]
:ch:<none>
:vi:[[windows-1251]]
:fx:[[ISO-8859-5]]
:c:[[windows-1251]]
:x:[[windows-1251]]

:l:[CODE[be-BY]]
:ch:-
:fx:-
:vi:[[windows-1251]]

:l:[CODE[bg]]
:a:[[windows-1251]]
:b:[[windows-1251]]
:ch:[[windows-1251]]
:fx:[[windows-1251]]
:vi:[[windows-1251]]
:x:[[windows-1251]]

:l:[CODE[bn]]
:fx:[[windows-1252]]
:ch:[[windows-1252]]

:l:[CODE[br-FR]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[bs-Cyrl-BA]]
:ch:-
:fx:-
:vi:[[windows-1251]]

:l:[CODE[bs-Latn-BA]]
:ch:-
:fx:-
:vi:[[windows-1250]]

:l:[CODE[ca]]
:vi:[[windows-1252]]
:ch:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[co-FR]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[cs]] ([CODE[cs-CZ]])
:a:[[ISO-8859-2]]

:l:[CODE[cs]]
:b:[[windows-1250]]
:vi:[[windows-1250]]
:ch:[[windows-1250]]
:fx:[[ISO-8859-2]]
:x:[[windows-1250]]

:l:[CODE[cy]]
:a:[[UTF-8]]

:l:[CODE[cy-GB]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[da]]
:vi:[[windows-1252]]
:ch:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[de]]
:vi:[[windows-1252]]
:ch:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[el]]
:vi:[[windows-1253]]
:ch:[[ISO-8859-7]]
:fx:[[windows-1252]] (実際は [[ISO-8859-7]] [SRC[>>1202]])
:c:[[ISO-8859-7]]
:x:[[ISO-8859-7]]

:l:[CODE[el-GR]]
:ch:-
:fx:-
:vi:[[windows-1253]]

:l:[CODE[en]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[es]]
:vi:[[windows-1252]]
:ch:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[et]]
:b:[[windows-1257]]
:vi:[[windows-1257]]
:ch:[[windows-1257]]
:x:[[windows-1257]]

:l:[CODE[eu]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]


:l:[CODE[fa]] ([CODE[fa-IR]])
:a:[[UTF-8]]

:l:[CODE[fa]]
:b:[[windows-1256]]
:vi:[[windows-1256]]
:ch:[[windows-1256]]
:x:[[windows-1256]]

:l:[CODE[fi]]
:vi:[[windows-1252]]
:ch:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[fil]]
:fx:[[windows-1252]]
:ch:[[windows-1252]]

:l:[CODE[fo]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[fr]]
:vi:[[windows-1252]]
:ch:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[fy-NL]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[ga-IE]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[gl]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[gsw-FR]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[gu]]
:ch:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[ha-Latn-NG]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[he]] ([CODE[he-IL]])
:a:[[windows-1255]]

:l:[CODE[he]]
:b:[[windows-1255]]
:vi:[[windows-1255]]
:ch:[[windows-1255]]
:fx:[[windows-1255]]
:x:[[windows-1255]]

:l:[CODE[hi]]
:ch:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[hr]]
:a:[[UTF-8]]
:b:[[windows-1250]]
:vi:[[windows-1250]]
:ch:[[windows-1250]]
:x:[[windows-1250]]

:l:[CODE[hu]] ([CODE[hu-HU]])
:a:[[ISO-8859-2]]

:l:[CODE[hu]]
:b:[[ISO-8859-2]]
:ch:[[ISO-8859-2]]
:fx:[[ISO-8859-2]]
:vi:[[windows-1250]]
:x:[[ISO-8859-2]]

:l:[CODE[hu-HU]]
:ch:-
:fx:-
:vi:[[windows-1250]]

:l:[CODE[id]]
:vi:[[windows-1252]]
:ch:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[ig-NG]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[is]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[it]]
:vi:[[windows-1252]]
:ch:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[iu-Latn-CA]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[ja]] ([CODE[ja]], [CODE[ja-JP-mac]])
:a:[[windows-31J]] ([[Shift_JIS]])

:l:[CODE[ja]]
:b:[[Shift_JIS]]
:vi:[[Shift_JIS]]
:ch:[[Shift_JIS]]
:fx:[[Shift_JIS]]
:x:[[Shift_JIS]]

:l:[CODE[ka]]
:aug:[CODE[georgian-ps]] [SRC[>>15]]



:l:[CODE[kk]]
:a:[[UTF-8]]
:ch:-
:fx:-
:vi:[[windows-1251]]
:c:[[windows-1251]]
:x:[[windows-1251]]

:l:[CODE[kl-GL]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[kn]]
:ch:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[ko]] ([CODE[ko-KR]])
:a:[[windows-949]] ([[EUC-KR]])

:l:[CODE[ko]]
:b:[[windows-949]]
:vi:[[windows-949]]
:ch:[[windows-949]]
:fx:[[windows-949]]
:x:[[EUC-KR]]

:l:[CODE[ku]]
:a:[[windows-1254]] ([[ISO-8859-9]])
:b:[[windows-1254]] (Best guess)
:x:[[windows-1254]]

:l:[CODE[ky]]
:ch:-
:fx:-
:vi:[[windows-1251]]
:c:[[windows-1251]]
:x:[[windows-1251]]

:l:[CODE[lb-LU]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[lt]]
:a:[[windows-1257]]
:b:[[windows-1257]]
:vi:[[windows-1257]]
:fx:[[windows-1257]]
:ch:[[windows-1257]]
:x:[[windows-1257]]

:l:[CODE[lv]] ([CODE[lv-LV]])
:a:[[ISO-8859-13]]

:l:[CODE[lv]]
:b:[[windows-1257]]
:vi:[[windows-1257]]
:ch:[[windows-1257]]
:fx:[[ISO-8859-13]]
:x:[[windows-1257]]

:l:[CODE[mk]] ([CODE[mk-MK]])
:a:[[UTF-8]]

:l:[CODE[mk]]
:ch:-
:fx:-
:vi:[[windows-1251]]
:c:[[windows-1251]]
:x:[[windows-1251]]

:l:[CODE[ml]]
:ch:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[mn]]
:ch:-
:fx:-
:vi:[[windows-1251]]
:aug:[[x-MNS4330]] [SRC[>>13]]




:l:[CODE[moh-CA]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[mr]]
:ch:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[ms]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[nb]]
:ch:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[nl]]
:vi:[[windows-1252]]
:ch:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[nn-NO]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[no]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[nso-ZA]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[oc-FR]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[or]]
:a:[[UTF-8]]

:l:[CODE[pl]] ([CODE[pl-PL]])
:a:[[ISO-8859-2]]

:l:[CODE[pl]]
:b:[[ISO-8859-2]]
:ch:[[ISO-8859-2]]
:fx:[[ISO-8859-2]]
:vi:[[windows-1250]]
:x:[[ISO-8859-2]]

:l:[CODE[pl-PL]]
:ch:-
:fx:-
:vi:[[windows-1250]]

:l:[CODE[prs-AF]]
:ch:-
:fx:-
:vi:[[windows-1256]]

:l:[CODE[pt]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[qut-GT]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[quz-BO]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[quz-EC]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[quz-PE]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[rm-CH]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[ro]]
:a:[[UTF-8]]
:vi:[[windows-1250]]
:ch:[[ISO-8859-2]]
:fx:<none>
:aug:[[Windows-1250]]

:l:[CODE[ro-RO]]
:ch:-
:fx:-
:vi:[[windows-1250]]

:l:[CODE[rs]]
:aug:[[Windows-1250]]

:l:[CODE[ru]]
:a:[[windows-1251]]
:b:[[windows-1251]]
:vi:[[windows-1251]]
:ch:[[windows-1251]]
:fx:[[windows-1251]]
:x:[[windows-1251]]

:l:[CODE[rw-RW]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[sah]]
:c:[[windows-1251]]
:x:[[windows-1251]]

:l:[CODE[sah-RU]]
:ch:-
:fx:-
:vi:[[windows-1251]]

:l:[CODE[se-FI]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[se-NO]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[se-SE]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[sk]]
:a:[[windows-1250]]
:vi:[[windows-1250]]
:ch:[[windows-1250]]
:fx:[[windows-1250]]
:x:[[windows-1250]]

:l:[CODE[sl]]
:a:[[ISO-8859-2]]
:b:[[ISO-8859-2]]
:ch:[[ISO-8859-2]]
:fx:[[ISO-8859-2]]
:vi:[[windows-1250]]
:x:[[ISO-8859-2]]

:l:[CODE[sl-SI]]
:ch:-
:fx:-
:vi:[[windows-1250]]

:l:[CODE[sma-NO]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[sma-SE]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[smj-NO]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[smj-SE]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[smn-FI]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[sms-FI]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[sq]]
:ch:-
:fx:-
:vi:[[windows-1250]]

:l:[CODE[sr]]
:a:[[UTF-8]]
:b:[[windows-1251]]
:vi:[[windows-1251]]
:ch:[[windows-1251]]
:x:[[windows-1251]]

:l:[CODE[sr-Latn-BA]]
:vi:[[windows-1250]]
:ch:-
:fx:-

:l:[CODE[sr-Latn-SP]]
:ch:-
:fx:-
:vi:[[windows-1250]]

:l:[CODE[sv]]
:vi:[[windows-1252]]
:ch:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[sw]]
:vi:[[windows-1252]]
:ch:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[ta]]
:ch:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[te]]
:ch:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[tg]]
:c:[[windows-1251]]
:x:[[windows-1251]]

:l:[CODE[tg-Cyrl-TJ]]
:vi:[[windows-1251]]
:ch:-
:fx:-

:l:[CODE[th]]
:a:[[windows-874]] ([[TIS-620]])
:b:[[windows-874]]
:fx:[[windows-874]]
:ch:[[windows-874]]
:vi:[[windows-874]]
:x:[[windows-874]]

:l:[CODE[tk]]
:aug:[[Windows-1251]]

:l:[CODE[tk-TM]]
:ch:-
:fx:-
:vi:[[windows-1250]]

:l:[CODE[tn-ZA]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]


:l:[CODE[tr]] ([CODE[tr-TR]])
:a:[[windows-1254]] ([[ISO-8859-9]])

:l:[CODE[tr]]
:b:[[windows-1254]]
:vi:[[windows-1254]]
:ch:[[windows-1254]]
:fx:[[windows-1254]]
:x:[[windows-1254]]

:l:[CODE[tt]]
:ch:-
:fx:-
:vi:[[windows-1251]]
:c:[[windows-1251]]
:x:[[windows-1251]]

:l:[CODE[tzm-Latn-DZ]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[ug-CN]]
:vi:[[windows-1256]]
:ch:-
:fx:-

:l:[CODE[uk]]
:a:[[windows-1251]]
:b:[[windows-1251]]
:vi:[[windows-1251]]
:ch:[[windows-1251]]
:fx:[[windows-1251]]
:x:[[windows-1251]]

:l:[CODE[ur]]
:ch:-
:fx:-
:vi:[[windows-1256]]

:l:[CODE[uz]]
:ch:-
:fx:-
:vi:[[windows-1254]]

:l:[CODE[uz-Cyrl-UZ]]
:ch:-
:fx:-
:vi:[[windows-1251]]

:l:[CODE[vi]]
:a:[[UTF-8]]
:b:[[windows-1258]]
:ch:[[windows-1258]]
:vi:[[windows-1258]]
:x:[[windows-1258]]
:aug:
[[Windows-1252]] [SRC[>>193]]

:l:[CODE[wee-DE]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[wen-DE]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[wo-SN]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[xh-ZA]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[yo-NG]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:[CODE[zh-CN]]
:a:[[GB18030]]
:b:[[GB18030]]
:vi:[[GB18030]]
:ch:[[GB18030]]
:fx:[[GB18030]]
:x:[[GBK]]

:l:[CODE[zh-HK]]
:ch:-
:fx:-
:vi:[[Big5]]
:x:[[Big5]]

:l:[CODE[zh-Hans]]
:ch:-
:fx:-
:vi:[[GB18030]]
:x:[[GBK]]

:l:[CODE[zh-Hant]]
:ch:-
:fx:-
:vi:[[Big5]]
:x:[[Big5]]

:l:[CODE[zh-MO]]
:ch:-
:fx:-
:vi:[[Big5]]
:x:[[Big5]]

:l:[CODE[zh-SG]]
:ch:-
:fx:-
:vi:[[GB18030]]
:x:[[GBK]]

:l:[CODE[zh-TW]]
:a:[[Big5]]
:b:[[Big5]]
:vi:[[Big5]]
:ch:[[Big5]]
:fx:[[Big5]]
:x:[[Big5]]


:l:[CODE[zu-ZA]]
:vi:[[windows-1252]]
:fx:[[windows-1252]]

:l:西洋
:0:[[windows-1252]]

:l:その他
:a:[[windows-1252]]
:b:[[windows-1252]]
:x:[[windows-1252]]




]FIG]

-*-*-

[205] 
[[ロケール]]依存の既定値について、 [CITE[HTML5]] の当初の規定は「主に[[西洋]] (Western)
では [[Windows-1252]]」というだけしかありませんでした。
[SRC[>>204]]

[206] 
その後 [[Mozilla][Mozilla Suite]] 1.9.1 に基づく表に改められました。
[SRC[>>204]]

[FIG(list middle)[

[PRE[
      <tr>
       <td>ar
       <td>UTF-8

      <tr>
       <td>be
       <td>ISO-8859-5

      <tr>
       <td>bg
       <td>windows-1251

      <tr>
       <td>cs<!-- -CZ -->
       <td>ISO-8859-2

      <tr>
       <td>cy
       <td>UTF-8

      <tr>
       <td>fa<!-- -IR -->
       <td>UTF-8

      <tr>
       <td>he<!-- -IL -->
       <td>windows-1255

      <tr>
       <td>hr
       <td>UTF-8

      <tr>
       <td>hu<!-- -HU -->
       <td>ISO-8859-2

      <tr>
       <td>ja <!-- and ja-JP-mac -->
       <td>windows-31J <!-- Shift_JIS -->

      <tr>
       <td>kk
       <td>UTF-8

      <tr>
       <td>ko<!-- -KR -->
       <td>windows-949 <!-- EUC-KR -->

      <tr>
       <td>ku
       <td>windows-1254 <!-- ISO-8859-9 -->

      <tr>
       <td>lt
       <td>windows-1257

      <tr>
       <td>lv<!-- -LV -->
       <td>ISO-8859-13

      <tr>
       <td>mk<!-- -MK -->
       <td>UTF-8

      <tr>
       <td>or
       <td>UTF-8

      <tr>
       <td>pl<!-- -PL -->
       <td>ISO-8859-2

      <tr>
       <td>ro
       <td>UTF-8

      <tr>
       <td>ru
       <td>windows-1251

      <tr>
       <td>sk
       <td>windows-1250

      <tr>
       <td>sl
       <td>ISO-8859-2

      <tr>
       <td>sr
       <td>UTF-8

      <tr>
       <td>th
       <td>windows-874 <!-- TIS-620 -->

      <tr>
       <td>tr<!-- -TR -->
       <td>windows-1254 <!-- ISO-8859-9 -->

      <tr>
       <td>uk
       <td>windows-1251

      <tr>
       <td>vi
       <td>UTF-8

      <tr>
       <td>zh-CN
       <td>GB18030

      <tr>
       <td>zh-TW
       <td>Big5

      <tr>
       <td>All other locales
       <td>windows-1252
]PRE]

]FIG]


[192] 
更に当時の [[Webブラウザー]]の挙動の調査が進められました。 [SRC[>>191]]

>
[PRE[
Locale     Description     Vista           Chrome          Spec/Firefox
ro         Romanian        windows-1250    ISO-8859-2      windows-1252
cs         Czech           windows-1250    windows-1250    ISO-8859-2
hu         Hungarian       windows-1250    ISO-8859-2      ISO-8859-2
lv         Latvian         windows-1257    windows-1257    ISO-8859-13
sl         Slovenian       windows-1250    ISO-8859-2      ISO-8859-2
pl         Polish          windows-1250    ISO-8859-2      ISO-8859-2
be         Belarusian      windows-1251    <none>          ISO-8859-5
el         Greek           windows-1253    ISO-8859-7      windows-1252
]PRE]

[19] 
その結果を踏まえた変更の経緯が [CITE[HTML5]] に注釈として記録されています。 [SRC[>>195]]

>
[PRE[
      <!-- af, Afrikaans, uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- am, Amharic, uses windows-1252: Firefox and Chrome agreed -->

      <tr>
       <td>ar
       <td>Arabic
       <td>windows-1256 <!-- Windows Vista and Chrome agreed -->

      <!-- arn-CL, Mapudungun (Chile), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- az, Azeri, is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1254 -->

      <!-- az-Cyrl-AZ, Azeri (Cyrillic, Azerbaijan), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1251 -->

      <!-- ba-RU, Bashkir (Russia), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1251 -->

      <!-- be, Belarusian, is not listed here because Windows Vista wanted windows-1251, Chrome wanted <none>, and Firefox wanted ISO-8859-5 -->

      <!-- be-BY, Belarusian (Belarus), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1251 -->

      <tr>
       <td>bg
       <td>Bulgarian
       <td>windows-1251 <!-- Windows Vista, Chrome, and Firefox agreed -->

      <!-- bn, Bengali, uses windows-1252: Firefox and Chrome agreed -->

      <!-- br-FR, Breton (France), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- bs-Cyrl-BA, Bosnian (Cyrillic, Bosnia and Herzegovina), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1251 -->

      <!-- bs-Latn-BA, Bosnian (Latin, Bosnia and Herzegovina), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1250 -->

      <!-- ca, Catalan, uses windows-1252: Windows Vista, Chrome, and Firefox agreed -->

      <!-- co-FR, Corsican (France), uses windows-1252: Windows Vista and Firefox agreed -->

      <tr>
       <td>cs
       <td>Czech
       <td>windows-1250 <!-- Windows Vista and Chrome agreed (but disagreed with Firefox, which thought the encoding should be ISO-8859-2) -->

      <!-- cy-GB, Welsh (United Kingdom), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- da, Danish, uses windows-1252: Windows Vista, Chrome, and Firefox agreed -->

      <!-- de, German, uses windows-1252: Windows Vista, Chrome, and Firefox agreed -->

      <!-- el, Greek, is not listed here because Windows Vista wanted windows-1253, Chrome wanted ISO-8859-7, and Firefox wanted windows-1252 -->

      <!-- el-GR, Greek (Greece), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1253 -->

      <!-- en, English, uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- es, Spanish, uses windows-1252: Windows Vista, Chrome, and Firefox agreed -->

      <tr>
       <td>et
       <td>Estonian
       <td>windows-1257 <!-- Windows Vista and Chrome agreed -->

      <!-- eu, Basque, uses windows-1252: Windows Vista and Firefox agreed -->

      <tr>
       <td>fa
       <td>Persian
       <td>windows-1256 <!-- Windows Vista and Chrome agreed -->

      <!-- fi, Finnish, uses windows-1252: Windows Vista, Chrome, and Firefox agreed -->

      <!-- fil, Filipino, uses windows-1252: Firefox and Chrome agreed -->

      <!-- fo, Faroese, uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- fr, French, uses windows-1252: Windows Vista, Chrome, and Firefox agreed -->

      <!-- fy-NL, Frisian (Netherlands), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- ga-IE, Irish (Ireland), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- gl, Galician, uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- gsw-FR, Alsatian (France), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- gu, Gujarati, uses windows-1252: Firefox and Chrome agreed -->

      <!-- ha-Latn-NG, Hausa (Latin, Nigeria), uses windows-1252: Windows Vista and Firefox agreed -->

      <tr>
       <td>he
       <td>Hebrew
       <td>windows-1255 <!-- Windows Vista, Chrome, and Firefox agreed -->

      <!-- hi, Hindi, uses windows-1252: Firefox and Chrome agreed -->

      <tr>
       <td>hr
       <td>Croatian
       <td>windows-1250 <!-- Windows Vista and Chrome agreed -->

      <tr>
       <td>hu
       <td>Hungarian
       <td>ISO-8859-2 <!-- Chrome and Firefox agreed (but disagreed with Windows Vista, which thought the encoding should be windows-1250) -->

      <!-- hu-HU, Hungarian (Hungary), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1250 -->

      <!-- id, Indonesian, uses windows-1252: Windows Vista, Chrome, and Firefox agreed -->

      <!-- ig-NG, Igbo (Nigeria), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- is, Icelandic, uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- it, Italian, uses windows-1252: Windows Vista, Chrome, and Firefox agreed -->

      <!-- iu-Latn-CA, Inuktitut (Latin, Canada), uses windows-1252: Windows Vista and Firefox agreed -->

      <tr>
       <td>ja
       <td>Japanese
       <td>Shift_JIS <!-- Windows Vista, Chrome, and Firefox agreed -->

      <!-- kk, Kazakh, is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1251 -->

      <!-- kl-GL, Greenlandic (Greenland), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- kn, Kannada, uses windows-1252: Firefox and Chrome agreed -->

      <tr>
       <td>ko
       <td>Korean
       <td>windows-949 <!-- Windows Vista, Chrome, and Firefox agreed -->

      <tr>
       <td>ku
       <td>Kurdish
       <td>windows-1254 <!-- Best guess -->

      <!-- ky, Kyrgyz, is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1251 -->

      <!-- lb-LU, Luxembourgish (Luxembourg), uses windows-1252: Windows Vista and Firefox agreed -->

      <tr>
       <td>lt
       <td>Lithuanian
       <td>windows-1257 <!-- Windows Vista, Chrome, and Firefox agreed -->

      <tr>
       <td>lv
       <td>Latvian
       <td>windows-1257 <!-- Windows Vista and Chrome agreed (but disagreed with Firefox, which thought the encoding should be ISO-8859-13) -->

      <!-- mk, Macedonian, is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1251 -->

      <!-- ml, Malayalam, uses windows-1252: Firefox and Chrome agreed -->

      <!-- mn, Mongolian, is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1251 -->

      <!-- moh-CA, Mohawk (Mohawk), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- mr, Marathi, uses windows-1252: Firefox and Chrome agreed -->

      <!-- ms, Malay, uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- nb, Norwegian Bokm&aring;l, uses windows-1252: Firefox and Chrome agreed -->

      <!-- nl, Dutch, uses windows-1252: Windows Vista, Chrome, and Firefox agreed -->

      <!-- nn-NO, Norwegian, Nynorsk (Norway), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- no, Norwegian, uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- nso-ZA, Sesotho sa Leboa (South Africa), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- oc-FR, Occitan (France), uses windows-1252: Windows Vista and Firefox agreed -->

      <tr>
       <td>pl
       <td>Polish
       <td>ISO-8859-2 <!-- Chrome and Firefox agreed (but disagreed with Windows Vista, which thought the encoding should be windows-1250) -->

      <!-- pl-PL, Polish (Poland), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1250 -->

      <!-- prs-AF, Dari (Afghanistan), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1256 -->

      <!-- pt, Portuguese, uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- qut-GT, K'iche (Guatemala), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- quz-BO, Quechua (Bolivia), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- quz-EC, Quechua (Ecuador), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- quz-PE, Quechua (Peru), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- rm-CH, Romansh (Switzerland), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- ro, Romanian, is not listed here because Windows Vista wanted windows-1250, Chrome wanted ISO-8859-2, and Firefox wanted <none> -->

      <!-- ro-RO, Romanian (Romania), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1250 -->

      <tr>
       <td>ru
       <td>Russian
       <td>windows-1251 <!-- Windows Vista, Chrome, and Firefox agreed -->

      <!-- rw-RW, Kinyarwanda (Rwanda), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- sah-RU, Yakut (Russia), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1251 -->

      <!-- se-FI, Sami, Northern (Finland), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- se-NO, Sami, Northern (Norway), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- se-SE, Sami, Northern (Sweden), uses windows-1252: Windows Vista and Firefox agreed -->

      <tr>
       <td>sk
       <td>Slovak
       <td>windows-1250 <!-- Windows Vista, Chrome, and Firefox agreed -->

      <tr>
       <td>sl
       <td>Slovenian
       <td>ISO-8859-2 <!-- Chrome and Firefox agreed (but disagreed with Windows Vista, which thought the encoding should be windows-1250) -->

      <!-- sl-SI, Slovenian (Slovenia), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1250 -->

      <!-- sma-NO, Sami, Southern (Norway), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- sma-SE, Sami, Southern (Sweden), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- smj-NO, Sami, Lule (Norway), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- smj-SE, Sami, Lule (Sweden), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- smn-FI, Sami, Inari (Finland), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- sms-FI, Sami, Skolt (Finland), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- sq, Albanian, is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1250 -->

      <tr>
       <td>sr
       <td>Serbian
       <td>windows-1251 <!-- Windows Vista and Chrome agreed -->

      <!-- sr-Latn-BA, Serbian (Latin, Bosnia and Herzegovina), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1250 -->

      <!-- sr-Latn-SP, Serbian (Latin, Serbia), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1250 -->

      <!-- sv, Swedish, uses windows-1252: Windows Vista, Chrome, and Firefox agreed -->

      <!-- sw, Kiswahili, uses windows-1252: Windows Vista, Chrome, and Firefox agreed -->

      <!-- ta, Tamil, uses windows-1252: Firefox and Chrome agreed -->

      <!-- te, Telugu, uses windows-1252: Firefox and Chrome agreed -->

      <!-- tg-Cyrl-TJ, Tajik (Cyrillic, Tajikistan), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1251 -->

      <tr>
       <td>th
       <td>Thai
       <td>windows-874 <!-- Windows Vista, Chrome, and Firefox agreed -->

      <!-- tk-TM, Turkmen (Turkmenistan), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1250 -->

      <!-- tn-ZA, Setswana (South Africa), uses windows-1252: Windows Vista and Firefox agreed -->

      <tr>
       <td>tr
       <td>Turkish
       <td>windows-1254 <!-- Windows Vista, Chrome, and Firefox agreed -->

      <!-- tt, Tatar, is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1251 -->

      <!-- tzm-Latn-DZ, Tamazight (Latin, Algeria), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- ug-CN, Uighur (PRC), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1256 -->

      <tr>
       <td>uk
       <td>Ukrainian
       <td>windows-1251 <!-- Windows Vista, Chrome, and Firefox agreed -->

      <!-- ur, Urdu, is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1256 -->

      <!-- uz, Uzbek, is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1254 -->

      <!-- uz-Cyrl-UZ, Uzbek (Cyrillic, Uzbekistan), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1251 -->

      <tr>
       <td>vi
       <td>Vietnamese
       <td>windows-1258 <!-- Windows Vista and Chrome agreed -->

      <!-- wee-DE, Lower Sorbian (Germany), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- wen-DE, Upper Sorbian (Germany), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- wo-SN, Wolof (Senegal), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- xh-ZA, isiXhosa (South Africa), uses windows-1252: Windows Vista and Firefox agreed -->

      <!-- yo-NG, Yoruba (Nigeria), uses windows-1252: Windows Vista and Firefox agreed -->

      <tr>
       <td>zh-CN
       <td>Chinese (People's Republic of China)
       <td>GB18030 <!-- Windows Vista, Chrome, and Firefox agreed -->

      <!-- zh-HK, Chinese (Hong Kong S.A.R.), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted Big5 -->

      <!-- zh-Hans, Chinese (Simplified), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted GB18030 -->

      <!-- zh-Hant, Chinese (Traditional), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted Big5 -->

      <!-- zh-MO, Chinese (Macao S.A.R.), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted Big5 -->

      <!-- zh-SG, Chinese (Singapore), is not listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted GB18030 -->

      <tr>
       <td>zh-TW
       <td>Chinese (Taiwan)
       <td>Big5 <!-- Windows Vista, Chrome, and Firefox agreed -->

      <!-- zu-ZA, isiZulu (South Africa), uses windows-1252: Windows Vista and Firefox agreed -->

      <tr>
       <td colspan=2>All other locales
       <td>windows-1252
]PRE]

[24] >>198 の変更分

>
[PRE[
      <!-- ba wasn't listed at all because none of the sources knew about it. However, further feedback has changed this: -->
      <tr>
       <td>ba
       <td>Bashkir
       <td>windows-1251 <!-- per https://www.w3.org/Bugs/Public/show_bug.cgi?id=23089 -->
]PRE]

>
[PRE[
      <!-- be, Belarusian, was not initially listed here because Windows Vista wanted windows-1251, Chrome wanted <none>, and Firefox wanted ISO-8859-5 -->
      <!-- further feedback has changed this: -->
      <tr>
       <td>be
       <td>Belarusian
       <td>windows-1251 <!-- per https://www.w3.org/Bugs/Public/show_bug.cgi?id=23089 -->
]PRE]

>
[PRE[
      <!-- kk, Kazakh, was not initially listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1251 -->
      <!-- further feedback has changed this: -->
      <tr>
       <td>kk
       <td>Kazakh
       <td>windows-1251 <!-- per https://www.w3.org/Bugs/Public/show_bug.cgi?id=23089 -->
]PRE]

>
[PRE[
      <!-- ky, Kyrgyz, was not initially listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1251 -->
      <!-- further feedback has changed this: -->
      <tr>
       <td>ky
       <td>Kyrgyz
       <td>windows-1251 <!-- per https://www.w3.org/Bugs/Public/show_bug.cgi?id=23089 -->
]PRE]

>
[PRE[
      <!-- mk, Macedonian, was not initially listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1251 -->
      <!-- further feedback has changed this: -->
      <tr>
       <td>mk
       <td>Macedonian
       <td>windows-1251 <!-- per https://www.w3.org/Bugs/Public/show_bug.cgi?id=23089 -->
]PRE]

>
[PRE[
      <!-- sah wasn't listed at all because none of the sources knew about it. However, further feedback has changed this: -->
      <tr>
       <td>sah
       <td>Yakut
       <td>windows-1251 <!-- per https://www.w3.org/Bugs/Public/show_bug.cgi?id=23089 -->
]PRE]

>
[PRE[
      <!-- tg wasn't listed at all because none of the sources knew about it. However, further feedback has changed this: -->
      <tr>
       <td>tg
       <td>Tajik
       <td>windows-1251 <!-- per https://www.w3.org/Bugs/Public/show_bug.cgi?id=23089 -->
]PRE]

>
[PRE[
      <!-- tt, Tatar, was not initially listed here because neither Chrome nor Firefox knew about it. For what it's worth, Windows Vista wanted windows-1251 -->
      <!-- further feedback has changed this: -->
      <tr>
       <td>tt
       <td>Tatar
       <td>windows-1251 <!-- per https://www.w3.org/Bugs/Public/show_bug.cgi?id=23089 -->
]PRE]

[203] >>1201 >>1202

>
[PRE[
      <!-- el, Greek, was not initially listed here because Windows Vista wanted windows-1253, Chrome wanted ISO-8859-7, and Firefox wanted ISO-8859-7 but looked liked it wanted windows-1252 -->
      <!-- further feedback has changed this: -->
      <tr>
       <td>el
       <td>Greek
       <td>ISO-8859-7 <!-- per https://www.w3.org/Bugs/Public/show_bug.cgi?id=23090 -->
]PRE]

[194] 
既定値が存在するにも関わらず一定していないのは、当該市場でいずれかの
[[Webブラウザー]]がそれほど影響力を持っていなかったのか、
[[文字化け]]に遭遇するたびに[[文字コード指定メニュー]]で手動で切り替えていたのか、
既定値まで判断がもつれ込むことが多くなかったのか、
など考えられ、検討が必要です。
挙げられた国の多くが[[中欧]]、[[東欧]]の[[文字コード]]の混乱があった地域で、
[[自動判定]]が失敗しがちな似たような[[文字コード]]であることには注意したいです。


[57] 
[TIME[西暦2022(令和4)年][2022]]になって
[CITE[Firefox]]
の[[文字コード指定メニュー]]の利用頻度の高さを理由に 
[CODE[az]] ([[アゼルバイジャン語]])
に
[[Windows-1254]] 
が追加されています。 
[SRC[>>56]]

[58] 
しかし指摘されているのは[[文字コード指定メニュー]]の利用頻度です。 [SRC[>>201]]
選択[[文字コード]]ごとの頻度まで調査しているような記載はありません。
[[Windows-1254]] を選んだ経緯は不明です。
[CODE[.az]] ドメインの [[Webサイト]]等の実態を調査した形跡もありません。

[59] 
実際の [CODE[.az]] の [[Webサイト]]において現在も [[UTF-8]]
以外が使われている事例を収集するのは困難ですが、
[[Internet Archive]] によれば20世紀から21世紀初期まで
[[Windows-1251]] が極めて広く用いられており、
[[Windows-1254]] の事例もあるものの、普及しているかどうかは未知数です。
[SEE[ [[ラテン文字の文字コード]] ]]
この改正の妥当性には疑問が持たれます。

[REFS[

- [204] 
[CITE@en['''['''giow''']''' (2) List the default encodings by locale. · whatwg/html@96374b6 · GitHub]], [TIME[2025-11-09T06:47:28.000Z]] <https://github.com/whatwg/html/commit/96374b61a1c8898de97c7083c891b5d456ebcd2e#diff-41cf6794ba4200b839c53531555f0f3998df4cbb01a4d5cb0b94e3ca5e23947d>
-[183] [CITE@en[Web Applications 1.0 r7958     New encoding defaults based on more data.]]
( ([TIME[2013-06-12 13:49:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=7957&to=7958>
-- [191] [CITE@en[21087 – Spec repeats potential Gecko bugs about encoding defaults as the truth]], [TIME[2019-04-02T04:48:11.000Z]], [TIME[2025-11-09T06:15:37.237Z]] <https://www.w3.org/Bugs/Public/show_bug.cgi?id=21087>
-- [195] 
[CITE@en['''['''giow''']''' (3) New encoding defaults based on more data. · whatwg/html@c0a1047 · GitHub]], [TIME[2025-11-09T06:26:56.000Z]] <https://github.com/whatwg/html/commit/c0a1047485d3e456335894fce4b2675e2e7026a5#diff-41cf6794ba4200b839c53531555f0f3998df4cbb01a4d5cb0b94e3ca5e23947d>
-[184] [CITE@en[Web Applications 1.0 r8258     Add some more locales to the default encoding logic.]]
( ([TIME[2013-11-07 06:38:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=8257&to=8258>
-- [197] 
[CITE@en[23089 – Incomplete coverage of Cyrillic languages that should imply a windows-1251 fallback]], [TIME[2019-04-02T04:48:11.000Z]], [TIME[2025-11-09T06:38:25.869Z]] <https://www.w3.org/Bugs/Public/show_bug.cgi?id=23089>
-- [198] 
[CITE@en['''['''giow''']''' (2) Add some more locales to the default encoding logic. · whatwg/html@f6e22a9 · GitHub]], [TIME[2025-11-09T06:39:19.000Z]] <https://github.com/whatwg/html/commit/f6e22a9c1abb9dad899f8d99262e36a14f0e9d90#diff-41cf6794ba4200b839c53531555f0f3998df4cbb01a4d5cb0b94e3ca5e23947d>
- [200] 
[CITE@en[23090 – Fallback encoding implied by the Greek locale missing]], [TIME[2019-04-02T04:48:11.000Z]], [TIME[2025-11-09T06:44:35.792Z]] <https://www.w3.org/Bugs/Public/show_bug.cgi?id=23090>
--
[185] [CITE@en[Web Applications 1.0 r8259     Add greek to the default encoding logic.]]
( ([TIME[2013-11-07 06:42:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=8258&to=8259>
--- [1201] 
[CITE@en['''['''giow''']''' (2) Add greek to the default encoding logic. · whatwg/html@dc2a12a · GitHub]], [TIME[2025-11-09T06:44:58.000Z]] <https://github.com/whatwg/html/commit/dc2a12ac2687c8c784514da415160c79c85a7db2#diff-41cf6794ba4200b839c53531555f0f3998df4cbb01a4d5cb0b94e3ca5e23947d>
--
[190] [CITE@en[Web Applications 1.0 r8512 Adjust some internal comments regarding encodings]]
( ([TIME[2014-02-26 03:33:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=8511&to=8512>
--- [1202] 
[CITE@en['''['''e''']''' (0) update internal comment on encoding to be more accurate, per … · whatwg/html@bd00a63 · GitHub]], [TIME[2025-11-09T06:45:11.000Z]] <https://github.com/whatwg/html/commit/bd00a63c53f669b0a76a8364b41785d0e2dbb0ac#diff-41cf6794ba4200b839c53531555f0f3998df4cbb01a4d5cb0b94e3ca5e23947d>
- [56] [CITE@en[Add a legacy encoding for Azeri by hsivonen · Pull Request #7212 · whatwg/html · GitHub]], [TIME[2025-11-11T15:47:09.000Z]] <https://github.com/whatwg/html/pull/7212>



]REFS]

-*-*-

[9] 
現在の [CITE[HTML Standard]] の規定 [SRC[>>177]]:  

[FIG(list middle)[ 

[PRE[
Locale language	Suggested default encoding
ar	Arabic	windows-1256
az	Azeri	windows-1254
ba	Bashkir	windows-1251
be	Belarusian	windows-1251
bg	Bulgarian	windows-1251
cs	Czech	windows-1250
el	Greek	ISO-8859-7
et	Estonian	windows-1257
fa	Persian	windows-1256
he	Hebrew	windows-1255
hr	Croatian	windows-1250
hu	Hungarian	ISO-8859-2
ja	Japanese	Shift_JIS
kk	Kazakh	windows-1251
ko	Korean	EUC-KR
ku	Kurdish	windows-1254
ky	Kyrgyz	windows-1251
lt	Lithuanian	windows-1257
lv	Latvian	windows-1257
mk	Macedonian	windows-1251
pl	Polish	ISO-8859-2
ru	Russian	windows-1251
sah	Yakut	windows-1251
sk	Slovak	windows-1250
sl	Slovenian	ISO-8859-2
sr	Serbian	windows-1251
tg	Tajik	windows-1251
th	Thai	windows-874
tr	Turkish	windows-1254
tt	Tatar	windows-1251
uk	Ukrainian	windows-1251
vi	Vietnamese	windows-1258
zh-Hans, zh-CN, zh-SG	Chinese, Simplified	GBK
zh-Hant, zh-HK, zh-MO, zh-TW	Chinese, Traditional	Big5
All other locales	windows-1252
]PRE]

]FIG]

-*-*-

[11] 
改正の過程と実装との差異は複雑に見えますが、
基本的には実態に合わせるための改良であり、
[[部分タグ]]の扱いの関係と [[Windows-1252]] を既定値の既定値とする表の構造上の複雑さによるところが多いです。

[12] 
現在の [CITE[HTML Standard]] で規定が欠落しているものの大部分は
[CITE[Windows Vista]] にあって [CITE[Chrome]] や [CITE[Firefox]]
にない[[ロケール]]です。

[16] 
いくつか調整が必要と思われるものもあります。

[15] 
[[ジョージア語]] ([CODE[ka]]) は規定が欠落していますが、
現地の利用状況によれば [[georgian-ps]] が妥当と思われます。

[13] 
[[蒙古語]] ([CODE[mn]]) は規定が欠落していますが、
現地の利用状況によれば [[MNS 4330]] が妥当と思われます。

[14] 
[[ルーマニア語]] ([CODE[ro]]) は規定が欠落しています。


[193] 
[[越南語]] ([CODE[vi]]) で [[Windows-1258]] が選ばれたのは特に理由がなさそうで、
単に [[Windows]] の [[ANSIコードページ]]だからというだけと思われます。
[[Windows-1258]] は [[Web]] ではほとんど使われていない[[文字コード]]です。
[SEE[ [[Windows-1258]] ]]
[[Web]] で使われた[[越南語の文字コード]]の主要な3つのいずれかが好ましいでしょうが、
いずれか1つとも選びかねるところであり、いっそ[[フォント依存符号化]]と互換性がある
[[Windows-1252]] にした方がましという考え方もあります。
[SEE[ [[越南語の文字コード]] ]]


* 言語情報による文字コード判定の補助

[40] [[言語情報]]を[[文字コードの判定]]に補助的に使うことがあります。
[SEE[ [[文字コードの判定]] ]]

-*-*-

[1290] 
ある [[SRT]] の実装では、
[[BOM]] → 言語設定から決めた後補を順に試してエラーにならなければ採用 → 判定器。
[SRC[>>1289]]

[41] 
最初から判定器を使えばいいようにも思われるが、判定器の精度が不十分なので言語依存の決定が増やされてきた経緯のようで。

[42] 
[[言語]]・[[用字系]]から [[Python]] の [[codec]] の名前の[[並び]]に次のように[[写像]]しています。
[SRC[>>1289]]

:[CODE[zho]]:
[CODE[cp936]], [CODE[gb2312]], [CODE[gbk]], [CODE[gb18030]],
[CODE[hz]], [CODE[iso2022_jp_2]], [CODE[cp950]], [CODE[gb18030]],
[CODE[big5]], [CODE[big5hkscs]], [CODE[utf-16]]
:[CODE[jpn]]:
[CODE[shift-jis]], [CODE[cp932]], [CODE[euc_jp]], [CODE[iso2022_jp]],
[CODE[iso2022_jp_1]], [CODE[iso2022_jp_2]], [CODE[iso2022_jp_2004]],
[CODE[iso2022_jp_3]], [CODE[iso2022_jp_ext]]
:[CODE[tha]]:[CODE[tis-620]], [CODE[cp874]]
:[CODE[ara]], [CODE[fas]], [CODE[per]] : [CODE[windows-1256]], [CODE[utf-16]]
:[CODE[heb]]:[CODE[windows-1255]], [CODE[iso-8859-8]]
:[CODE[tur]]:[CODE[windows-1254]], [CODE[iso-8859-9]], [CODE[iso-8859-3]]
:[CODE[grc]], [CODE[gre]], [CODE[ell]]:
[CODE[windows-1253]], [CODE[cp1253]], [CODE[cp737]],
[CODE[iso8859-7]], [CODE[cp875]], [CODE[cp869]], [CODE[iso2022_jp_2]],
[CODE[mac_greek]]
:[CODE[pol]], [CODE[cze]], [CODE[ces]], [CODE[slk]], [CODE[slo]], [CODE[hun]], [CODE[bos]], [CODE[hbs]], [CODE[hrv]], [CODE[rsb]], [CODE[ron]], [CODE[rum]]: [CODE[windows-1250]], [CODE[iso-8859-2]]
:[CODE[slv]]:[CODE[windows-1250]], [CODE[iso-8859-2]], [CODE[iso-8859-4]]
:[CODE[sqi]], [CODE[alb]]:
[CODE[windows-1250]], [CODE[iso-8859-2]], [CODE[windows-1252]],
[CODE[iso-8859-15]], [CODE[iso-8859-1]], [CODE[iso-8859-9]]
:[CODE[bul]], [CODE[mkd]], [CODE[mac]], [CODE[rus]], [CODE[ukr]]:
[CODE[windows-1251]], [CODE[iso-8859-5]]
:[CODE[srp]]:
[CODE[windows-1250]], [CODE[windows-1251]], [CODE[iso-8859-2]],
[CODE[iso-8859-5]]
:[CODE[srp]] [CODE[Latn]]:[CODE[windows-1250]], [CODE[iso-8859-2]]
:[CODE[srp]] [CODE[Cyrl]]:[CODE[windows-1251]], [CODE[iso-8859-5]]
:その他 (西欧・北欧):
[CODE[latin-1]], [CODE[iso-8859-15]], [CODE[iso-8859-9]],
[CODE[iso-8859-4]], [CODE[iso-8859-1]]


[44] 
>>42 を見るに、ある程度 [[subtitle]] データの実際の状況を反映している可能性が高い
(何かの一覧表から機械的に生成したものではない) ものの、
すべて根拠を持って決められているわけでもなさそうです。

[45] 
例えば[[ギリシャ語]]に [[ISO-2022-JP-2]] に含まれるのは、
確かに[[文字コード]]としてのカバー範囲でいえば正しいものの、
そのような [[subtitle]] が実在しているとは到底思われず、
何らかの情報源から[[コピペ]]したものと思われます。

[54] 
[[Windowsコードページ]]を優先するような変更 [SRC[>>49, >>47]]
などは実態に合わせた修正と考えられます。

[64] 
[CODE[slv]] ([[スロベニア語]]) に他の[[中欧]]と区別してわざわざ
[CODE[iso-8859-4]]
が追加されており [SRC[>>53]]、
何らかの根拠があるのではとも推察されるところですが、不明です。
一応 [[ISO/IEC 8859-4]] は[[スロベニア語]]をカバーしていますが、
大規模な利用事例があるのかは不明です。


[REFS[

-
[1289] [CITE@en[Sub-Zero.bundle/Contents/Libraries/Shared/subliminal_patch/subtitle.py at master · pannal/Sub-Zero.bundle · GitHub]], [TIME[2025-10-21T15:34:46.000Z]] <https://github.com/pannal/Sub-Zero.bundle/blob/master/Contents/Libraries/Shared/subliminal_patch/subtitle.py>
- [46] 
[CITE@en[add more encodings for western, eastern and northern europe · pannal/Sub-Zero.bundle@1b0b189 · GitHub]], [TIME[2025-11-10T08:22:28.000Z]] <https://github.com/pannal/Sub-Zero.bundle/commit/1b0b189c166cbf0abc9c4ce7a96cec92ef994c89>
- [53] 
[CITE@en[aaaaaaaaaaand added more encodings · pannal/Sub-Zero.bundle@ea5e4d4 · GitHub]], [TIME[2025-11-10T08:24:12.000Z]] <https://github.com/pannal/Sub-Zero.bundle/commit/ea5e4d48d300504162be97a2f3664f3380d5e574>
- [48] 
[CITE@en[update serbian encoding order · pannal/Sub-Zero.bundle@54f2308 · GitHub]], [TIME[2025-11-10T08:22:51.000Z]] <https://github.com/pannal/Sub-Zero.bundle/commit/54f230894445dbee4933a6fe25b97cfe0e5a7176>
- [51] 
[CITE@en[fix non-scripted srp · pannal/Sub-Zero.bundle@6ed5c83 · GitHub]], [TIME[2025-11-10T08:23:40.000Z]] <https://github.com/pannal/Sub-Zero.bundle/commit/6ed5c83b059d60baa12d457c933fbb1df5b1b875>
- [50] 
[CITE@en[Polish encoding wrong after last release · Issue #333 · pannal/Sub-Zero.bundle]], [TIME[2025-11-10T08:23:17.000Z]] <https://github.com/pannal/Sub-Zero.bundle/issues/333>
- [49] 
[CITE@en[encodings: eastern europe: try windows-1250 first, then 8859-2; possi… · pannal/Sub-Zero.bundle@419bee7 · GitHub]], [TIME[2025-11-10T08:22:58.000Z]] <https://github.com/pannal/Sub-Zero.bundle/commit/419bee76e203ff8689bb605008f3a1e87eb93105>
- [47] 
[CITE@en[language encoding: set windows first · pannal/Sub-Zero.bundle@3828c8b · GitHub]], [TIME[2025-11-10T08:22:41.000Z]] <https://github.com/pannal/Sub-Zero.bundle/commit/3828c8bf890727909e05d0297f2b76b0dad8ce64>
- [52] 
[CITE@en[bazarr #660: try detecting BOMs before doing any other encoding guessing · pannal/Sub-Zero.bundle@fc484e5 · GitHub]], [TIME[2025-11-10T08:24:03.000Z]] <https://github.com/pannal/Sub-Zero.bundle/commit/fc484e569ff0a8493d4c33700ead7280b9445fb0>


]REFS]


* TLDによる文字コード判定の補助

[25] [[TLD]] を[[文字コードの判定]]に補助的に使うことがあります。
[SEE[ [[文字コードの判定]] ]]

** [CITE[Chrome]] の実装

[196] 
[CITE[ced]] は [[URL]] の情報があればヒントとして使うことがあります。
[SRC[>>43]]

[20] 
[CODE[.hu]] の場合、[[ハンガリー語]]では [[Latin1]] と [[Latin2]] 
の区別が難しいとされ、それを考慮したモードに切り替わります。 [SRC[>>43]]

[21] 
[CODE[.com]] はヒントとして重視されません。 [SRC[>>43]]

[REFS[

- [43] 
[CITE@en[compact_enc_det/compact_enc_det/compact_enc_det.cc at master · google/compact_enc_det · GitHub]], [TIME[2025-05-19T15:36:17.000Z]] <https://github.com/google/compact_enc_det/blob/master/compact_enc_det/compact_enc_det.cc#L2059>

]REFS]

** [CITE[Firefox]] の実装

[22]  
[CITE[Firefox]] は [[TLD]] を判定に重視しています。

[39] 現行実装である [CITE[chardetng]] では
[[TLD]] に基づき動作モードが切り替わります。 [SRC[>>38, >>202, >>201]]

[23] 
かつては [CITE[HTML Standard]] の既定値に関する規定にも [[TLD]]
に基づくものを取り込ませようと試みていたようですが、
うまくいっていません。


[211] 
[CITE[chardetng]] は次の各行の最初に示すような動作モードを持っており、
それぞれその続きに示すような [[TLD]] と対応付けられています。
[SRC[>>202]]

[PRE[
Arabic ae af bh dz eg iq ir jo kw lb ly ma mr om pk ps qa sa sd sy tn xn--lgbbat1ad8j xn--mgb2ddes xn--mgb9awbf xn--mgba3a4f16a xn--mgbaam7a8h xn--mgbah1a3hjkrd xn--mgbai9azgqp6j xn--mgbayh7gpa xn--mgbc0a9azcg xn--mgbcpq6gpa1a xn--mgberp4a5d4ar xn--mgbpl2fh xn--mgbtx2b xn--ogbpf8fl xn--pgbs0dh xn--q7ce6a xn--wgbh1c xn--wgbl6a xn--ygbi2ammx ye
Baltic lt lv
CentralCyrillic ba
CentralIso hu pl si
CentralWindows cz hr ro sk
Cyrillic bg by kg kz md mk mn rs ru su tj tm ua uz xn--80ao21a xn--90a3ac xn--90ae xn--90ais xn--d1alf xn--j1amh xn--l1acc xn--p1ai
Eu eu xn--e1a4c xn--qxa6a
Generic ac ai bz cb cc cd cx dj fm in la me ms nu st tk to tv vc vu (その他)
Greek cy gr xn--qxam
Hebrew il
IcelandicFaroese fo is
Japanese jp
Korean kp kr xn--3e0b707e
Simplified cn xn--fiqs8S xn--fiqz9S
SimplifiedTraditional sg xn--clchc0ea0b2g2a9gcd xn--yfro4i67o
Thai th xn--o3cw4h
Traditional tw xn--kprw13d xn--kpry57d
TraditionalSimplified hk mo xn--j6w193g xn--mix891f
TurkishAzeri az tr
Vietnamese vn
Western edu gov mil xn--54b7fta0cc xn--fzc2c9e2c xn--xkc2al3hye2a (その他の2文字)
WesternArabic my xn--mgbx4cd0ab
WesternCyrillic am ge xn--node xn--y9a3aq
]PRE]

[212] 
比較的新しい時代に作られた [[TLD]] である [[IDN]] の物も含まれていますが、
既存の [[Webサーバー]]に割り当てられている場合に対応するためだと説明されています。
[SRC[>>199, >>202]]

[213] 
最近の新しい [[gTLD]] は Generic になります。

[214] 
新しい [[ccTLD]] は Generic にならず、なぜか Western に収容されます。
[[欧米]]等の [[ccTLD]] も既定値 Western として定義から省略されています。

[215] 
現行および過去の [[ccTLD]] との関係を整理すると次のようになります。

- [216] 明示的に分類されているもの:
ac ae af ai am az ba bg bh by bz cc cd cn cx cy cz dj dz eg eu fm fo ge gr hk hr hu il in iq ir is jo jp kg kp kr kw kz la lb lt lv ly ma md me mk mn mo mr ms my nu om pk pl ps qa ro rs ru sa sd sg si sk st su sy th tj tk tm tn to tr tv tw ua uz vc vn vu ye 
- [217] 明示されず Western に分類されるもの
-- [218] 
[[西欧]]・[[北米]]およびそれらのその他の[[海外領土]]:
ad at be ca ch de es fr gb gg gi ie it je li lu mc nl pm pt sh sm tf uk us va 
-- [219] [[北欧]]およびそれらのその他の[[海外領土]]: ax bv dk ee fi gl no se sj 
-- [220] [[南欧]]: al ht mt 
-- [221] [[オセアニア]]: as au ck fj gu hm ki mh mp nc nf nr nz pf pg pn pw sb wf ws 
-- [222] [[中南米]]:
ag an ar aw bb bj bm bo bq br bs cl co cr cu cv cw dm do ec fk gf gp gs gt gy hn jm kn ky lc mx ni pa pe pr py sr tc tt uy ve vg vi 
-- [223] [[アフリカ]]:
ao bf bi bw cf cg ci cm eh er et ga gd gh gm gn gq gw ke km lr ls mg ml mq mu mv mw mz na ne ng re rw sc sl sn so ss sv sx sz td tg tz ug yt za zm zw
-- [224] [[東南アジア]]・[[南アジア]]: bd bn bt id im io kh lk mm np ph tl tp 
-- [225] その他: aq
-- [226] 現在および過去に [[ccTLD]] として使われていないものすべて

[227] 現地の[[公用語]]や[[宗主国]]との関係、
[[フォント依存符号化]]の分布などを考慮すると、
これらを Western に分類するのはおおむね妥当な選択と思われます。

[228] 
[[ccTLD]] が近年新設された事例をみると Western に分類して問題なさそうですが、
基本的には独立前の[[国]]と同じ値を引き継ぐのが妥当でしょう。
この実装戦略を模倣するなら、未知のものは Generic に分類するのが妥当と思われます。

[65] 
[CODE[Generic]] 
に
[CODE[cb]]
がありますが、
[[ccTLD]]
にも
[[ISO 3166]] [[国符号]]にもない謎の[[幽霊]] [[TLD]] です。


[REFS[

-
[199] [CITE@en[Attachment #8336745 for bug #910211]]
( ([TIME[2013-11-23 17:34:23 +09:00]] 版))
<https://bugzilla.mozilla.org/attachment.cgi?id=8336745&action=diff#a/dom/encoding/domainsfallbacks.properties_sec2>
-
[187] [CITE[IRC logs: freenode / #whatwg / 20131127]]
( ([TIME[2013-11-28 18:40:54 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20131127#l-273>
-
[188] [CITE[''''''[''''''whatwg'''''']'''''' Guessing the fallback encoding from the top-level domain name before trying to guess from the browser localization]]
( ([TIME[2013-12-19 14:28:30 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2013-December/041819.html>
-
[189] [CITE[Bug 126375 – Consider using top-level domain name for encoding sniffing]]
( ([TIME[2014-01-03 14:06:33 +09:00]] 版))
<https://bugs.webkit.org/show_bug.cgi?id=126375>
- [202] 
[CITE@en[chardetng/src/tld.rs at main · hsivonen/chardetng · GitHub]], [TIME[2025-11-09T09:48:06.000Z]] <https://github.com/hsivonen/chardetng/blob/main/src/tld.rs>
-- [38] 
[CITE@en[tld.rs - source]], [TIME[2025-05-19T13:31:23.000Z]] <https://docs.rs/chardetng/latest/src/chardetng/tld.rs.html>
- [201] 
[CITE@en[chardetng: A More Compact Character Encoding Detector for the Legacy Web]], [[Henri Sivonen]], [TIME[2020-06-08T16:23:51.000Z]], [TIME[2025-11-09T09:47:40.255Z]] <https://hsivonen.fi/chardetng/>


]REFS]

-*-*-

[26] [CITE[Firefox]] は [CITE[Chrome]] と違って [CODE[.hu]] を特別扱いしていません。
[CODE[.hu]] に関して両者の性能差は明確ではありませんが、一般論として、
[[ISO-8859-2]]、 [[Windows-1250]]、 [[Windows-1252]]
の区別は困難で、 [CITE[Firefox]] も [CITE[Chrome]] もその他の実装も正答率はやや低めです。
[[西欧]]と区別しない [CITE[Firefox]] の戦略でも十分とするか、
まだ改善の余地があると見るか、判断は難しいところです。

;; [27] 最悪[[文字コード指定メニュー]]で救済できる [[Webブラウザー]]ならともかく、
それを廃止した [CITE[Chrome]] と [CITE[Firefox]] は、
もっと頑張って正答してもらいたいところではありますが...
[[TLD]] がそれに寄与するかはまた別の問題でもあり...


-*-*-

[28] 
[CODE[.my]], [CODE[.xn--mgbx4cd0ab]] ([[マレーシア]]) は
[CODE[WesternArabic]] 
に分類されています。これは [CODE[Western]] に加えて 
[[Windows-1256]] と [[ISO-8859-6]]
を考慮したものと思われますが、このようにした理由は不明です。
環境が近い [CODE[.sg]] ([[シンガポール]]) は [CODE[SimplifiedTraditional]] に、
[CODE[.bn]] ([[ブルネイ]]) は既定値の [CODE[Western]] になっていますが、
この違いの理由も不明です。

[29] 
[[マレーシア]]の[[公用語]]が[[マレー語]]と[[英語]]であることから機械的に決定した可能性があり、
実情の調査に基づいていない可能性があります。
[[マレーシア]]に限らず他の[[国]]の選択にも疑念を持たざるを得ないところです。

[30] 
[[マレーシア]]についていえば、確かに[[マレー語]]が[[公用語]]ですが、
[[Webサイト]]の多くは[[ラテン文字]]表記であり、
[[アラビア文字]]系の[[ジャビ文字]]は希少です。
[[20世紀]]や[[21世紀]]初頭の事例は未発見です。
[[ISO-8859-6]] も [[Windows-1256]] も[[マレー語]]に必要な[[文字]]を欠いており、
それらが[[マレーシア]]の [[Webサイト]]で[[マレー語]]の表記に使われた実例があるのか、
大変疑わしいです。

[31] 
[[ブルネイ]]の[[公用語]]は[[マレー語]]と同系統である[[ブルネイ語]]ですが、
[[ブルネイ]]では[[ジャビ文字]]表記を[[マレー語]]よりよく使うといいます。
それを信じるなら、[[マレーシア]]と同程度以上に[[アラビア文字]]の[[文字コード]]が出現する可能性はあるのですが、
なぜか [CODE[WesternArabic]] になっていません。

[32] 
[[マレーシア]]は[[シンガポール]]同様に[[華僑]]・[[華人]]が多いことで知られています。
実際に[[マレーシア]]の [[Webサイト]]で [[Big5]] や [[GB2312]]
を使ったものが[[20世紀]]から複数存在しており、うちいくつかは [CODE[.my]]
[[ドメイン]]にありました。 [SEE[ [[Big5]], [[GB2312]] ]]
それらを勘案するなら、
[[マレーシア]]も
[CODE[SimplifiedTraditional]]
とする方が妥当と考えられます。


[33] 
[CODE[.vn]] ([[ベトナム]]) は [CODE[Vietnamese]]
に分類され、これ自体は妥当な選択に見えます。
しかし
[CITE[chardetng]] は[[越南]]の [[Webサイト]]で[[20世紀]]から[[21世紀]]初頭に使われた事例を発見できない
[[Windows-1258]] にのみ対応し、当時使われた主要な4つの[[文字コード]]のどれにも対応していません。
[SEE[ [[Windows-1258]], [[越南語の文字コード]] ]]

[34] 
[CODE[.am]], [CODE[.xn--y9a3aq]] ([[アルメニア]]) と
[CODE[.ge]], [CODE[.xn--node]] ([[ジョージア]])
は
[CODE[WesternCyrillic]]
に分類されています。これは [CODE[Western]] に加えて[[キリル文字]]の[[文字コード]]を重視するもののようです。
[[アルメニア]]と[[ジョージア]]は[[旧ソ連]]の[[国]]で[[キリル文字]]も使っていましたが、
それぞれ[[アルメニア文字]]と[[ジョージア文字]]を使っています。
[[20世紀]]から[[21世紀]]初頭には [[ARMSCII-8]]
や [[georian-ps]] が使われていましたが、 
[CITE[chardetng]] はそれらに対応していません。
そのことに若干の言及はありつつも、
なぜ現況のような設計となったのか説明はありません。 [SRC[>>201]]
当然 [CITE[chardetng]] は当時の [[Webサイト]]を正しく判定できていません。


[35] 
[CODE[.in]], [CODE[.lk]] は [CITE[chardetng]] を使わず [[windows-1252]]
を採用していると説明されています。 [SRC[>>201]]
[CITE[chardetng]] では既定値の [[Western]] となりますが、
そもそも [CITE[chardetng]] を使わないことで、[[フォント依存符号化]]に対処しているようです。
しかし、[[フォント依存符号化]]が[[印度]]で広く使われた当時 [CODE[.in]] 
は一般に開放されていなかったので、
[[フォント依存符号化]]の利用の事例はさほど多くはないようです。
無駄ではないにせよ、むしろ
[CODE[.in]] よりもそれ以外の [[gTLD]]
の方が[[フォント依存符号化]]の対策が必要なはずですが、
「もしあるなら問題は未解決だ」 [SRC[>>201]] で片付けられています。

[55] 
[CODE[.xn--54b7fta0cc]],
[CODE[.xn--fzc2c9e2c]],
[CODE[.xn--xkc2al3hye2a]]
が特別枠で [CODE[Western]]
となっているのもこれと関係しているのでしょうか。



[36] 
[CITE[chardetng]] は [[KOI8-R]] と [[KOI8-U]] を区別せずすべて [[KOI8-U]]
と判定しています。これは意図的な選択のようです。 [SRC[>>201]]
しかし両者は非互換であり、せっかく [[TLD]] 
が利用できるのですから、 [CODE[.ua]] ([[ウクライナ]]) なら [[KOI8-U]]、
それ以外の[[キリル文字]]圏なら [[KOI8-R]] と判断するのが穏当でしょう。
なお [[gTLD]] 等では区別が困難なので、 [[KOI8-U]]
に倒しておくのが安全には違いありません。

[63] 
[CODE[.ba]] ([[ボスニア・ヘルツェゴビナ]])
は
[CODE[CentralCyrillic]]
に分類されています。これは[[中欧]]系[[ラテン文字]]と[[キリル文字]]の両方を使う地域を意味すると思われます。
しかし言語環境が近そうな [CODE[.rs]] ([[セルビア]]) はなぜか
[CODE[Cyrillic]]
になっています。



* コードページとロケールの関係



[69] [[Wine]] 等の [[DOS]] や [[Windows]] の[[プログラム]]を [[POSIX]]
環境で動作させるソフトウェアは、 
[[POSIXロケール]]と [[OEMコードページ]] や [[ANSIコードページ]]との対応関係の表を必要としています。

[70] 
[[ZIPファイル]]の[[ファイル名]]のような[[コードページ]]の推定が必要な場面では、
[[ロケール]]、[[言語]]、[[国]]のような情報と[[コードページ]]の対応関係の表が有用です。
[SEE[ [[ファイル名の文字コード]], [[文字コードの判定]] ]]

** コードページと言語や国の関係

[60] [[MS-DOS]] や [[Windows]] で[[ANSIコードページ]]や[[OEMコードページ]]として使われてきた[[コードページ]]について、
その製品の対応[[言語]]とその製品が使われた[[国]]の[[国符号]]の対応関係。

[61] ただし[[国]]については販売地域を厳密に特定するのは資料不足により困難で、
対応[[言語]]も十分な資料がなく実際に製品で実装されているか確認されていない便宜的な表に過ぎないことには注意されたい。

[FIG( )[ [76] 主要[[コードページ]]から[[言語]]、[[国]]

[PRE[
CP437 en / us ca au nz za
CP720 ar / iq
CP737 el / gr
CP775 et lv lt / ee lv lt
CP850 en fr de it pt es nl se / gb fr de it pt at es nl sv
CP852 bs cs hr hu pl ro sk sl sr-latn / ba cz hr hu pl ro sk si rs
CP855 
CP857 tr / tr
CP858 en fr de es it pt / eu gb fr de es it pt
CP860 pt / pt
CP861 is / is
CP862 he iw / il
CP863 fr / ca
CP864 ar / sa iq dz eg
CP865 da nb nn no / dk no
CP866 ru be uk bg sr-cyrl bg mk / ru ua by bg rs bg mk
CP869 el / gr
CP874 th / th
CP932 ja / jp
CP936 zh-cn zh-sg / cn sg
CP949 ko / kr
CP950 zh-tw zh-hk zh-mo / tw hk mo
CP1250 cs hu pl ro sk sl sr-latn / cz hu pl ro sk si rs
CP1251 ru bg uk sr-cyrl mk by / ru bg ua rs mk by
CP1252 en fr de es it pt nl sv da no fi / eu us gb fr de es it pt nl ca au nz at ar
CP1253 el / gr
CP1254 tr / tr
CP1255 he / il
CP1256 ar / sa iq eg dz jo ma
CP1257 et lv lt / ee lv lt
CP1258 vi / vn
]PRE]

]FIG]

-*-*-


[251] 
[[ZIPファイル]]の[[ファイル名]]の読み込み、変換等の実装は、
[[コードページ]]の一覧や[[言語]]等との対応表を持っていたりしますが、
それらの内容は互いに出入りがあったりします。
その対応表の製作過程はあまり詳しく説明されていません。
つまりどの実装もこの分野の確実な情報をそれほど持っていないということです。


[89] >>88 で提示された[[コードページ]]と[[言語符号]]の関係性

[PRE[
CP437
CP737
CP775 lt lv 
CP850 en 
CP852 bs cs hr hsb hu pl ro sk sl 
CP855
CP857 ku tr 
CP858
CP860
CP861 is 
CP862 he iw 
CP863
CP864 ar 
CP865 da nb nn no 
CP866 ru be bg mk uk 
CP869 el 
CP874 th 
CP932 ja 
CP936 zh 
CP949 ko 
CP950 zh 
]PRE]


[141] >>140 は[[コマンドライン]]で指定された[[コードページ]]、
[[プラットフォーム]]の[[コードページ]]、
[[UTF-8]]
で[[復号]]して成功したものを使います。その対応[[コードページ]]の一覧:

>
-    日本語 / Japanese (Shift-JIS / EUC-JP)
-    中国語 / Chinese (GBK / BIG5)
-    韓国語 / Korean (EUC-KR)
-    ベトナム語 / Vietnamese (Windows-1258)
-    タイ語 / Thai (Windows-874)
-    英語 / English (CP437 / CP850)
-    西ヨーロッパ言語 / Western Europe languages (CP850)
-    ギリシャ語 / Greek (CP737)
-    中央ヨーロッパ言語 / Central Europe languages (CP852)
-    セルビア・ボスニア語 / Serbian & Bosnian (CP855)
-    トルコ語など / Turkish etc. (CP857)
-    ヘブライ語 / Hebrew (CP862)
-    ロシア語など / Russian etc. (CP866)
-    アラビア語 / Arabic (CP720)

[142] これらがどのように選択されたものかは説明がなく不明。



[257] >>256 は [[ZIPファイル]]の[[ファイル名]]の解釈に使う想定で用意された
[[POSIXロケール]]と[[コードページ]]の対応表。

;;
[258] 
437 720 737 775  850 852  857 862 866 874 932 936 949 950 1258 
で基本的に[[OEMコードページ]]。



[260] 
>>259 は [[Wine]] の[[POSIXロケール]]から[[OEMコードページ]] / 
[[ANSIコードページ]]への対応表を
[[ZIPファイル]]用に転用したもの。
>>259 の実装では[[ロケール]]に加え、
[[ファイル]]の [[OS]] と[[ZIP]]仕様の版によって
[[OEMコードページ]]か[[ANSIコードページ]]かを選ぶ。

[264] 
>>263 は >>259 からの派生ですが、対応表や判定条件に少し違いがあります。

;; [62] 判定条件については[[ファイル名の文字コード]]参照。

[71] 
[CODE[az_AZ]] と [CODE[sr_RS]] と [CODE[uz_UZ]] は[[用字系]]の違いで2組ずつありますが、
>>263 には[[用字系]]が[[ロケール識別子]]に入っているのに対し、
>>256 と >>259 では欠落して同名[[ロケール]]が2つあることになってしまっています。

[72] 
[CODE[zh_MO]] が >>256 にはありますが、 >>259 >>263 からは欠落しています。

[73] 
それ以外は共通しているようなので、 >>256 >>259 >>263 は共通祖先から派生したもののようです。
>>71 >>72 でどれも不完全なので、補正したものを次に示します。

[FIG[ [74] [[POSIXロケール]]から[[OEMコードページ]]

[PRE[
    "af_ZA", "CP850", "ar_SA", "CP720", "ar_LB", "CP720", "ar_EG", "CP720",
    "ar_DZ", "CP720", "ar_BH", "CP720", "ar_IQ", "CP720", "ar_JO", "CP720",
    "ar_KW", "CP720", "ar_LY", "CP720", "ar_MA", "CP720", "ar_OM", "CP720",
    "ar_QA", "CP720", "ar_SY", "CP720", "ar_TN", "CP720", "ar_AE", "CP720",
    "ar_YE", "CP720", "ast_ES", "CP850",
    "az_AZ@cyrillic", "CP866", "az_AZ", "CP857",
    "be_BY", "CP866", "bg_BG", "CP866", "br_FR", "CP850", "ca_ES", "CP850",
    "zh_CN", "CP936", "zh_TW", "CP950", "kw_GB", "CP850", "cs_CZ", "CP852",
    "cy_GB", "CP850", "da_DK", "CP850", "de_AT", "CP850", "de_LI", "CP850",
    "de_LU", "CP850", "de_CH", "CP850", "de_DE", "CP850", "el_GR", "CP737",
    "en_AU", "CP850", "en_CA", "CP850", "en_GB", "CP850", "en_IE", "CP850",
    "en_JM", "CP850", "en_BZ", "CP850", "en_PH", "CP437", "en_ZA", "CP437",
    "en_TT", "CP850", "en_US", "CP437", "en_ZW", "CP437", "en_NZ", "CP850",
    "es_PA", "CP850", "es_BO", "CP850", "es_CR", "CP850", "es_DO", "CP850",
    "es_SV", "CP850", "es_EC", "CP850", "es_GT", "CP850", "es_HN", "CP850",
    "es_NI", "CP850", "es_CL", "CP850", "es_MX", "CP850", "es_ES", "CP850",
    "es_CO", "CP850", "es_ES", "CP850", "es_PE", "CP850", "es_AR", "CP850",
    "es_PR", "CP850", "es_VE", "CP850", "es_UY", "CP850", "es_PY", "CP850",
    "et_EE", "CP775", "eu_ES", "CP850", "fa_IR", "CP720", "fi_FI", "CP850",
    "fo_FO", "CP850", "fr_FR", "CP850", "fr_BE", "CP850", "fr_CA", "CP850",
    "fr_LU", "CP850", "fr_MC", "CP850", "fr_CH", "CP850", "ga_IE", "CP437",
    "gd_GB", "CP850", "gv_IM", "CP850", "gl_ES", "CP850", "he_IL", "CP862",
    "hr_HR", "CP852", "hu_HU", "CP852", "id_ID", "CP850", "is_IS", "CP850",
    "it_IT", "CP850", "it_CH", "CP850", "iv_IV", "CP437", "ja_JP", "CP932",
    "kk_KZ", "CP866", "ko_KR", "CP949", "ky_KG", "CP866", "lt_LT", "CP775",
    "lv_LV", "CP775", "mk_MK", "CP866", "mn_MN", "CP866", "ms_BN", "CP850",
    "ms_MY", "CP850", "nl_BE", "CP850", "nl_NL", "CP850", "nl_SR", "CP850",
    "nn_NO", "CP850", "nb_NO", "CP850", "pl_PL", "CP852", "pt_BR", "CP850",
    "pt_PT", "CP850", "rm_CH", "CP850", "ro_RO", "CP852", "ru_RU", "CP866",
    "sk_SK", "CP852", "sl_SI", "CP852", "sq_AL", "CP852", 
    "sr_RS@latin", "CP852", "sr_RS", "CP855",
    "sv_SE", "CP850", "sv_FI", "CP850", "sw_KE", "CP437",
    "th_TH", "CP874", "tr_TR", "CP857", "tt_RU", "CP866", "uk_UA", "CP866",
    "ur_PK", "CP720",
    "uz_UZ@cyrillic", "CP866", "uz_UZ", "CP857",
    "vi_VN", "CP1258", "wa_BE", "CP850",
    "zh_HK", "CP950", "zh_SG", "CP936", "zh_MO", "CP950",
]PRE]

]FIG]

[FIG()[ [75] [[POSIXロケール]]から[[ANSIコードページ]]

[PRE[
    "af_ZA", "CP1252", "ar_SA", "CP1256", "ar_LB", "CP1256", "ar_EG", "CP1256",
    "ar_DZ", "CP1256", "ar_BH", "CP1256", "ar_IQ", "CP1256", "ar_JO", "CP1256",
    "ar_KW", "CP1256", "ar_LY", "CP1256", "ar_MA", "CP1256", "ar_OM", "CP1256",
    "ar_QA", "CP1256", "ar_SY", "CP1256", "ar_TN", "CP1256", "ar_AE", "CP1256",
    "ar_YE", "CP1256","ast_ES", "CP1252", 
    "az_AZ@cyrillic", "CP1251", "az_AZ", "CP1254",
    "be_BY", "CP1251", "bg_BG", "CP1251", "br_FR", "CP1252", "ca_ES", "CP1252",
    "zh_CN", "CP936",  "zh_TW", "CP950",  "kw_GB", "CP1252", "cs_CZ", "CP1250",
    "cy_GB", "CP1252", "da_DK", "CP1252", "de_AT", "CP1252", "de_LI", "CP1252",
    "de_LU", "CP1252", "de_CH", "CP1252", "de_DE", "CP1252", "el_GR", "CP1253",
    "en_AU", "CP1252", "en_CA", "CP1252", "en_GB", "CP1252", "en_IE", "CP1252",
    "en_JM", "CP1252", "en_BZ", "CP1252", "en_PH", "CP1252", "en_ZA", "CP1252",
    "en_TT", "CP1252", "en_US", "CP1252", "en_ZW", "CP1252", "en_NZ", "CP1252",
    "es_PA", "CP1252", "es_BO", "CP1252", "es_CR", "CP1252", "es_DO", "CP1252",
    "es_SV", "CP1252", "es_EC", "CP1252", "es_GT", "CP1252", "es_HN", "CP1252",
    "es_NI", "CP1252", "es_CL", "CP1252", "es_MX", "CP1252", "es_ES", "CP1252",
    "es_CO", "CP1252", "es_ES", "CP1252", "es_PE", "CP1252", "es_AR", "CP1252",
    "es_PR", "CP1252", "es_VE", "CP1252", "es_UY", "CP1252", "es_PY", "CP1252",
    "et_EE", "CP1257", "eu_ES", "CP1252", "fa_IR", "CP1256", "fi_FI", "CP1252",
    "fo_FO", "CP1252", "fr_FR", "CP1252", "fr_BE", "CP1252", "fr_CA", "CP1252",
    "fr_LU", "CP1252", "fr_MC", "CP1252", "fr_CH", "CP1252", "ga_IE", "CP1252",
    "gd_GB", "CP1252", "gv_IM", "CP1252", "gl_ES", "CP1252", "he_IL", "CP1255",
    "hr_HR", "CP1250", "hu_HU", "CP1250", "id_ID", "CP1252", "is_IS", "CP1252",
    "it_IT", "CP1252", "it_CH", "CP1252", "iv_IV", "CP1252", "ja_JP", "CP932",
    "kk_KZ", "CP1251", "ko_KR", "CP949", "ky_KG", "CP1251", "lt_LT", "CP1257",
    "lv_LV", "CP1257", "mk_MK", "CP1251", "mn_MN", "CP1251", "ms_BN", "CP1252",
    "ms_MY", "CP1252", "nl_BE", "CP1252", "nl_NL", "CP1252", "nl_SR", "CP1252",
    "nn_NO", "CP1252", "nb_NO", "CP1252", "pl_PL", "CP1250", "pt_BR", "CP1252",
    "pt_PT", "CP1252", "rm_CH", "CP1252", "ro_RO", "CP1250", "ru_RU", "CP1251",
    "sk_SK", "CP1250", "sl_SI", "CP1250", "sq_AL", "CP1250",
    "sr_RS", "CP1251", "sr_RS@latin", "CP1250",
    "sv_SE", "CP1252", "sv_FI", "CP1252", "sw_KE", "CP1252",
    "th_TH", "CP874", "tr_TR", "CP1254", "tt_RU", "CP1251", "uk_UA", "CP1251",
    "ur_PK", "CP1256",
    "uz_UZ@cyrillic", "CP1251", "uz_UZ", "CP1254",
    "vi_VN", "CP1258", "wa_BE", "CP1252",
    "zh_HK", "CP950", "zh_SG", "CP936", "zh_MO", "CP950",
]PRE]

]FIG]

[77] 
逆に[[コードページ]]から[[ロケール]]への変換表にすると次の通り。

[FIG()[ [78] [[OEMコードページ]]から[[POSIXロケール]]へ

[PRE[
CP437 en_PH en_ZA en_US en_ZW ga_IE iv_IV sw_KE
CP720 ar_SA ar_LB ar_EG ar_DZ ar_BH ar_IQ ar_JO ar_KW ar_LY ar_MA ar_OM ar_QA ar_SY ar_TN ar_AE ar_YE fa_IR ur_PK
CP737 el_GR
CP775 et_EE lt_LT lv_LV
CP850 af_ZA ast_ES kw_GB cy_GB da_DK de_AT de_LI de_LU de_CH de_DE en_AU en_CA en_GB en_IE en_JM en_BZ br_FR ca_ES en_TT en_NZ es_PA es_BO es_CR es_DO es_SV es_EC es_GT es_HN es_NI es_CL es_MX es_ES es_CO es_ES es_PE es_AR es_PR es_VE es_UY es_PY eu_ES fi_FI fo_FO fr_FR fr_BE fr_CA fr_LU fr_MC fr_CH gd_GB gv_IM gl_ES id_ID is_IS it_IT it_CH ms_BN ms_MY nl_BE nl_NL nl_SR nn_NO nb_NO pt_BR pt_PT rm_CH sv_SE sv_FI wa_BE
CP852 cs_CZ hr_HR hu_HU pl_PL ro_RO sk_SK sl_SI sq_AL sr_RS@latin
CP855 sr_RS
CP857 az_AZ tr_TR uz_UZ
CP862 he_IL
CP866 az_AZ@cyrillic be_BY bg_BG kk_KZ ky_KG mk_MK mn_MN ru_RU tt_RU uk_UA uz_UZ@cyrillic
CP874 th_TH
CP932 ja_JP
CP936 zh_CN zh_SG
CP949 ko_KR
CP950 zh_TW zh_HK zh_MO
CP1258 vi_VN
]PRE]

]FIG]

[FIG()[ [79] [[ANSIコードページ]]から[[POSIXロケール]]へ

[PRE[
CP874 th_TH
CP932 ja_JP
CP936 zh_CN zh_SG
CP949 ko_KR
CP950 zh_TW zh_HK zh_MO
CP1250 cs_CZ hr_HR hu_HU pl_PL ro_RO sk_SK sl_SI sq_AL sr_RS@latin
CP1251 az_AZ@cyrillic be_BY bg_BG kk_KZ ky_KG mk_MK mn_MN ru_RU sr_RS tt_RU uk_UA uz_UZ@cyrillic
CP1252 af_ZA ast_ES  br_FR ca_ES kw_GB cy_GB da_DK de_AT de_LI de_LU de_CH de_DE  en_AU en_CA en_GB en_IE en_JM en_BZ en_PH en_ZA en_TT en_US en_ZW en_NZ es_PA es_BO es_CR es_DO es_SV es_EC es_GT es_HN es_NI es_CL es_MX es_ES es_CO es_ES es_PE es_AR es_PR es_VE es_UY es_PY eu_ES fi_FI fo_FO fr_FR fr_BE fr_CA fr_LU fr_MC fr_CH ga_IE gd_GB gv_IM gl_ES id_ID is_IS it_IT it_CH iv_IV ms_BN ms_MY nl_BE nl_NL nl_SR nn_NO nb_NO pt_BR pt_PT rm_CH sv_SE sv_FI sw_KE  wa_BE
CP1253 el_GR
CP1254 az_AZ tr_TR uz_UZ
CP1255 he_IL
CP1256 ar_SA ar_LB ar_EG ar_DZ ar_BH ar_IQ ar_JO ar_KW ar_LY ar_MA ar_OM ar_QA ar_SY ar_TN ar_AE ar_YE fa_IR ur_PK
CP1257 et_EE lv_LV lt_LT
CP1258 vi_VN
]PRE]

]FIG]

[80] 「その他」が [[CP850]] に分類されているような気もしますがどうなのでしょう。
[[CP437]] と [[CP850]] の区別は実際の製品の販売地域を反映しているのでしょうか。





[REFS[

- [88] 
[CITE@en[225576 – RFE: handle non-ascii filenames in archive properly]], [TIME[2025-05-23T12:15:07.000Z]] <https://bugzilla.redhat.com/show_bug.cgi?id=225576>
- [256] [CITE@en[oemcp/oemcp.txt at master · unxed/oemcp · GitHub]], [TIME[2025-05-25T14:15:59.000Z]] <https://github.com/unxed/oemcp/blob/master/oemcp.txt>
- [259] 
[CITE@en[Use system locale to select OEM/ANSI codepage for legacy zip archives by unxed · Pull Request #232 · p7zip-project/p7zip · GitHub]], [TIME[2025-05-25T14:21:28.000Z]] <https://github.com/p7zip-project/p7zip/pull/232/files>
- [261] 
[CITE[#779207 - unzip fails to unpack filenames containing 'ä' 'ö' 'ü' -> results in "(invalid encoding)" - Debian Bug report logs]], [TIME[2025-05-25T14:25:01.000Z]] <https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=779207>
- [262] 
[CITE@en[Bug #2066389 “unzip uses Russian Cyrillic CP866 as the OEM encod...” : Bugs : unzip package : Ubuntu]], [TIME[2025-05-25T14:25:14.000Z]] <https://bugs.launchpad.net/ubuntu/+source/unzip/+bug/2066389>
- [263] [CITE@en[Merge into ubuntu/devel : fix-code-pages : lp:~mitya57/ubuntu/+source/unzip : Git : Code : unzip package : Ubuntu]], [TIME[2025-05-25T14:30:02.000Z]] <https://code.launchpad.net/~mitya57/ubuntu/+source/unzip/+git/unzip/+merge/466860>
- [140] [CITE@en[GitHub - tats-u/zifu: ZIPファイルのファイル名のエンコーディングをUTF-8に直すツール / Tool that fixes file names in ZIP archives (make them UTF-8)]], [TIME[2025-05-24T13:54:26.000Z]] <https://github.com/tats-u/zifu>

]REFS]

** コードページと ccTLD の関係

[81] 
実際の[[ZIPファイル]]の事例を集めるのは難しいので全体のごく一部分にとどまるでしょうが、
[[ZIPファイル]]の[[コードページ]]とそれが所在する [[ccTLD]]
([SEE[ [[ファイル名の文字コード]] ]]) の関係を見てみると次のようになります。

[FIG[ [82] [[ZIPファイル]]の[[ファイル名]]の[[コードページ]]と [[ccTLD]]

[PRE[
CP437 .ca 
CP737 .gr 
CP775 .lv 
CP850 .pt 
CP852 .cz .hr .pl
CP866 .bg .mk .ua 
CP874 .th
CP932 .jp
CP936 .cn
CP949 .kr
CP950 .hk .mo .tw
CP1251 
CP1252 .fr
CP1253 .gr 
CP1254 .tr
]PRE]


]FIG]



** メモ


[92] 
[[ZIPファイル]]の[[ファイル名]]での利用を想定した分類

- [93] 第1類 [CITE[Encoding Standard]] にあるもの
-- [94] [[ANSIコードページ]] (CP1258 を除く)
-- [95] CP866
- [96] 第2類 その他のうち [[ZIPファイル]]の利用実例を [[Web]] 上で発見できるもの
[SEE[ [[ファイル名の文字コード]] ]]
-- CP437
-- CP737
-- CP775
-- CP850
-- CP852
-- CP857
- [97] 第3類 その他のうち [[Unix]] 系の [[DOS]] 技術の実装で [[POSIXロケール]]と対応付けられているもの
-- CP720
-- CP858
-- CP860
-- CP862
-- CP855
- [98] 第4類 その他の[[OEMコードページ]]
-- CP861
-- CP863
-- CP864
-- CP865
-- CP869




* TLD から推測される言語情報ヒントによるフォント選択

[SEE[ [[言語情報によるフォント選択]] ]]


* メモ