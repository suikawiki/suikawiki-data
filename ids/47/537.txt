[1] 
[DFN[BTRONフォント形式]]は、
[[BTRON]]
で使われる[[フォント形式]]です。

* 仕様書

[REFS[

- [6] 
[CITE[3.9 フォントマネージャ]], [TIME[2025-11-26T22:30:37.000Z]], [TIME[2026-01-13T13:54:08.823Z]] <https://www.chokanji.com/developer/doc/btron3/os_spec/shell/font_mgr.html>
- [7] 
[CITE[第1章 基本データタイプ]], [TIME[2025-11-26T22:30:37.000Z]], [TIME[2026-01-13T13:54:25.033Z]] <https://www.chokanji.com/developer/doc/btron3/shared_data/data_type.html>

]REFS]

* 呼称

[2] 
正式名称は不明です。

[3] 
[[BTRON]] の仕様書では固有名詞なく[[フォント]]とだけ呼ばれているようです。
[SRC[>>6]]

[4] 
関連プロジェクトで[DFN[BTRONフォント形式]]と呼ばれています [SRC[>>5]]。

[REFS[

-
[5] 
[CITE@ja[Tフォントプロジェクト]], [TIME[2021-10-13T05:53:03.000Z]], [TIME[2026-01-13T13:53:19.359Z]] <https://charcenter.tron.org/tfont/download.html>

]REFS]

* 概要

[8] 
[[BTRON]] では[[ファイル]]は[[レコード]]の集合体として表されます。
各[[レコード]]は[F[レコードタイプ]]を持ちます。

[9] 
[DFN[フォントファイル]]は、
[F[レコードタイプ]]が [N[11]] である[DFN[フォントデータレコード]]を1つ[[以上]]持ちます。
[SRC[>>6]]

[10] 
[[フォントファイル]]は仕様上かなり自由度が高いようですが、
そのうちの一部は定義されているだけで実際には利用されていないような記述が仕様書にもあります。
[CITE[超漢字V]]に標準付属する[[フォントファイル]]をみると、
実際に利用されている機能は更に限られます。
それ以外の機能がどこまで実装されているのかは不明です。

[12] 
実用されている[[フォント]]は2種類に大別できます。

- [13] [DFN[標準ドット形式]]のうち[DFN[固定イメージサイズ形式]]のものは、
[[固定幅]] (すべての[[文字]]が同じ[[幅]]) の[[ビットマップフォント]]です。
[SRC[>>6]]
- [14] [DFN[TrueType形式]]のものは、
[[TrueType]] フォントです。
[SRC[>>6]]

[15] 
[[固定イメージサイズ形式]]の[[フォントファイル]]は、
1つ[[以上]]の[[フォントデータレコード]]で、
それぞれが独立した[[フォント]]として機能し得るものが1つにまとめられます。

[16] 
[[TrueType形式]]の[[フォントファイル]]は、
1つ[[以上]]の[[フォントデータレコード]]と
1つ[[以上]]のその他の[[レコード]]です。
その他の[[レコード]]の方は[F[レコードタイプ]]が [ [N[15]], [N[31]] ] 
とされますが [SRC[>>6]]、[CITE[超漢字V]]の標準フォントで確認できたものはすべて [N[31]]
です。

[17] 
[[TrueType形式]]の[[フォントファイル]]の場合、
[[フォントデータレコード]]のそれぞれが独立した[[フォント]]として機能し得るものですが、
[[フォントデータレコード]]自体に入っているのは[[メタデータ]]と索引データであり、
[[字形]]データは同じ[[フォントファイル]]の他のどれか1つの [N[31]] 
[[レコード]]の [[TrueType]] データを参照する形になっています。
[N[31]] [[レコード]]の中身は [[TrueType]] フォントデータそのものです。
[SRC[>>6]]




* メモ