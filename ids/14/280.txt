* ダイジェストアルゴリズム (HTTP)

** 仕様書

[REFS[
- [21] [CITE@en[RFC 3230 - Instance Digests in HTTP]] ([TIME[2014-08-31 18:57:37 +09:00]] 版) <http://tools.ietf.org/html/rfc3230#section-4.1.1>
- [25] [CITE[Hypertext Transfer Protocol (HTTP) Digest Algorithm Values]] ([TIME[2014-01-31 02:45:29 +09:00]] 版) <http://www.iana.org/assignments/http-dig-alg/http-dig-alg.xhtml>
]REFS]

** 識別

[22] [[ダイジェストアルゴリズム]]の名前は、[[字句]]です [SRC[>>21]]。
[[大文字・小文字不区別]]です [SRC[>>21]]。

[FIG(railroad)[
= [[字句]]
]FIG]

[23] [[アルゴリズム]]によっては、[[引数]]を加えて指定する必要があるかもしれません [SRC[>>21]]。

;; 構文は[[引数 (HTTP)]] [SRC[>>21]] 参照。

** 要約アルゴリズムの一覧

[24] 次の[[要約アルゴリズム]]名があります。
[FIG(short list)[
- [CODE(HTTP)@en[[[ADLER32]]]]
- [CODE(HTTP)@en[[[MD5]]]]
- [CODE(HTTP)@en[[[SHA]]]]
- [CODE(HTTP)@en[[[SHA-256]]]]
- [CODE(HTTP)@en[[[SHA-512]]]]
- [CODE(HTTP)@en[[[UNIXcksum]]]]
- [CODE(HTTP)@en[[[UNIXsum]]]]
]FIG]

[26] [[IANA登録簿]]が用意されています [SRC[>>25]]。


** 構文

[27] [[要約アルゴリズム]]名によって識別される[[符号化]]は、
[[引用文字列]]として表されるものか、 [CODE(HTTP)[[[;]]]] や [CODE(HTTP)[[[,]]]]
を使わないものかのいずれかでなければ[['''なりません''']] [SRC[>>25]]。

* ハッシュ ([CODE(URI)@en[ni:]], [CODE(URI)@en[nih:]] URL)

** 仕様書

[REFS[
- [3] [CITE@en[RFC 6920 - Naming Things with Hashes]] ([TIME[2014-06-02 05:17:24 +09:00]] 版) <http://tools.ietf.org/html/rfc6920#page-5>
- [12] [CITE@en[RFC 6920 - Naming Things with Hashes]] ([TIME[2014-06-02 05:17:24 +09:00]] 版) <http://tools.ietf.org/html/rfc6920#section-9.4>
- [20] [CITE[Named Information]] ([TIME[2014-01-30 17:45:21 +09:00]] 版) <http://www.iana.org/assignments/named-information/named-information.xhtml#hash-alg>
]REFS]

** 識別

[13] [[ハッシュアルゴリズム]]は [[IANA]] に登録することになっています [SRC[>>12, >>20]]。

[14] [[ハッシュアルゴリズム]]には名前が付けられます。名前は [[URL]]
の構文上は1文字以上の [[RFC 3986]] [CODE(ABNF)@en[[[unreserved]]]] とされていますが、
登録手続き上は制限がありません。 名前は、 [CODE(URI)@en[[[ni:]]]] と
[CODE(URI)@en[[[nih:]]]] で使います。

;; [15] 登録済みの名前はすべて[[ASCII小文字]]と
[[ASCII数字]]と [CODE[[[-]]]] で構成されています。

;; [16] [[Suite ID]] と構文的に区別できるためには、
少なくても63以下の[[整数]]と一致する[[数字]]のみの列の名前が登録されることはなさそうです。

[17] また、 [[Suite ID]] を割り当てられることもあります。これは 0 から 63
までの[[整数]]です。 [SRC[>>12]] [[Suite ID]] は [CODE(URI)@en[[[nih:]]]]
[[URL]] と、[[バイナリ表現]]で使います。

;; [18] 割り当てられないこともあるようですが、既存のものはすべて割り当てられています。

;; [19] いくつかの [[Suite ID]] は予約されています。

** アルゴリズム

[5] [CODE[[[sha-256]]]] を実装し[['''なければなりません''']] [SRC[>>3]]。

[6] それ以外も実装して構いません [SRC[>>3]]。

[7] [[truncated hash]] も実装して構いません [SRC[>>3]]。

;; [8] [[truncated hash]] には、 truncate されていないものと別のアルゴリズム名が与えられています。

** 入力

[9] [[ハッシュアルゴリズム]]への[[入力]]が[[公開鍵]]の値の時は、
[[X.509]] [CODE[[[SubjectPublicKeyInfo]]]] 構造の[[公開鍵]]に対して[[ハッシュ]]を計算する[['''べきです''']]
[SRC[>>3]]。

;; [10] これは主として [[DANE TSLA]] [[プロトコル]]との互換性のために選ばれました。

[11] [[公開鍵]]以外については、何を[[入力]]として使うかは定義されておらず、
[[応用]]依存とされています [SRC[>>3]]。

** 比較

[4] [[ハッシュ値URLの比較]]を参照してください。

* メモ

[1]
[CITE[スラッシュドット ジャパン | MD4/MD5 コリジョンの実証コードが公開]] <http://slashdot.jp/security/05/11/18/0125251.shtml>
([[名無しさん]] [WEAK[2005-11-18 09:36:28 +00:00]])

[2] [CITE[Hash Function FAQ]]
( ([TIME[2008-10-18 14:36:30 +09:00]] 版))
<http://burtleburtle.net/bob/hash/hashfaq.html#unique>