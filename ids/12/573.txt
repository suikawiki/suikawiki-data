* 仕様書

[REFS[
- [15] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-04-25 04:40:19 +09:00]] 版) <https://html.spec.whatwg.org/#state-object>
- [21] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-04-25 04:40:19 +09:00]] 版) <https://html.spec.whatwg.org/#dom-history-state>
]REFS]

* 状態オブジェクト

[16] [DFN[[RUBYB[状態オブジェクト]@en[state object]]]]は、[[利用者インターフェイス]]の状態を表す[[オブジェクト]]です [SRC[>>15]]。

[17] [[状態オブジェクト]]は、[[セッション履歴エントリー]]中に設定されることがあります。

[18] [[著者]]は [CODE(DOMm)@en[[[pushState]]]] や [CODE(DOMm)@en[[[replaceState]]]]
により[[状態オブジェクト]]を指定できます。

[19] [[著者]]は [CODE(DOMe)@en[[[popstate]]]] [[イベント]]により[[状態オブジェクト]]を受け取ることができます。

* [CODE(JS)@en[history.state]] 属性 (DOM)

[22] [CODE(DOMi)@en[[[History]]]] [[インターフェイス]]の
[DFN[[CODE(DOMa)@en[[[state]]]]]] [[IDL属性]]の値は、
[CODE(IDL)@en[[[any]]]] 型です [SRC[>>21]]。

[23] この[[IDL属性]]は、次のようにしなければ[['''なりません''']] [SRC[>>21]]。
[FIG(steps)[
= [25] [[文脈オブジェクト]]の関連付けられた[[文書]]が[[完全に活性]]でないなら、
[CODE(DOMe)@en[[[SecurityError]]]] [[例外]]を投げます。
= [26] そうでなければ、この[[IDL属性]]の値として[[利用者エージェント]]により設定されたものを返します。
]FIG]

[24] この[[IDL属性]]の値は、初期状態では [[null]] でなければ[['''なりません''']] [SRC[>>21]]。

[27] この[[IDL属性]]の値は、[[履歴の探索]]で設定されます。

* 歴史

[1]
[CITE[History management for "Ajax" applications - Anne’s Weblog]] ([CODE[2007-08-10 19:42:23 +09:00]] 版) <http://annevankesteren.nl/2007/08/ajax-history>
([[名無しさん]] [WEAK[2007-08-10 16:32:50 +00:00]])


[2]
[CITE[Re: several messages about pushState() and related ideas]] ([[Ian Hickson <ian@...>]] 著, [TIME[2007-08-10 00:00:31 +09:00]] 版) <http://permalink.gmane.org/gmane.org.w3c.whatwg.discuss/11643>

[3] [CITE@en[Web Applications 1.0 r5964 12277]]
( ([TIME[2011-03-25 09:55:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=5963&to=5964>


[4] [CITE@en-us[Manipulating the browser history - MDC]]
([TIME[2010-06-01 08:09:18 +09:00]] 版)
<https://developer.mozilla.org/en/DOM/Manipulating_the_browser_history>


[5] [CITE[''''''[''''''whatwg'''''']'''''' Asynchronous history navigation and some inconsistencies]]
( ([TIME[2012-06-29 17:49:57 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-June/036505.html>

[6] [CITE[IRC logs: freenode / #whatwg / 20120629]]
( ([TIME[2012-07-15 16:06:48 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20120629>

[7] [CITE@en[Interview with Ian Hickson, HTML editor | HTML5 Doctor]]
( ([TIME[2013-01-13 18:27:28 +09:00]] 版))
<http://html5doctor.com/interview-with-ian-hickson-html-editor/>

[8] [CITE[Issue 45361 - chromium - history.pushState does not update http referrer - An open-source project to help move the web forward. - Google Project Hosting]]
( ([TIME[2013-06-06 03:12:16 +09:00]] 版))
<https://code.google.com/p/chromium/issues/detail?id=45361>

[9] [CITE[Bug 40027 – location.href and outgoing referrer not updated properly by pushState/replaceState]]
( ([TIME[2013-06-06 03:13:42 +09:00]] 版))
<https://bugs.webkit.org/show_bug.cgi?id=40027>

[10] [CITE@en[622088 – XHR referer header is not modified with history.pushState]]
( ([TIME[2013-06-06 03:14:48 +09:00]] 版))
<https://bugzilla.mozilla.org/show_bug.cgi?id=622088>

[11] [CITE@en[History (Windows)]]
( ([TIME[2013-11-13 13:52:56 +09:00]] 版))
<http://msdn.microsoft.com/en-us/library/ie/hh920758(v=vs.85).aspx>

[12] [CITE@en[''''''[''''''whatwg'''''']'''''' Proposal: Allow disabling of default scroll restoration 	behavior]]
([[Majid Valipour]] 著, [TIME[2015-03-20 02:31:31 +09:00]] 版)
<https://lists.w3.org/Archives/Public/public-whatwg-archive/2015Mar/0070.html>

[13] [CITE[Customizing Scroll Restoration - Google ドキュメント]]
([TIME[2015-03-20 11:49:21 +09:00]] 版)
<https://docs.google.com/a/chromium.org/document/d/1Tiu8PjvBtNOAgeh6yrs7bOrXxQcavQLiNtRJ_ToLlVM/edit?pli=1#heading=h.j26hb4a80gnf>

[14] [CITE@en[Re: ''''''[''''''whatwg'''''']'''''' Proposal: Allow disabling of default scroll  restoration behavior]]
([[Ian Hickson]] 著, [TIME[2015-04-10 04:05:19 +09:00]] 版)
<https://lists.w3.org/Archives/Public/public-whatwg-archive/2015Apr/0075.html>

[20] [CITE[defunkt/jquery-pjax]]
( ([TIME[2012-03-17 14:22:30 +09:00]] 版))
<https://github.com/defunkt/jquery-pjax>