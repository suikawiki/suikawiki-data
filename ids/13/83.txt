#?SuikaWiki/0.9

[1]
色々あって間があきましたが、やっと Referer を実装しました。
Referer 無記録指定やサイト名写像は以前とはまったく形式が変わって、
[CODE(WikiPage)[[[Wiki//InterWikiName]]]]
に統合しました。
以前の形式に比べると一挙に無茶苦茶複雑化していて一覧性にも乏しいのですけど、機能と簡単さ・分かりやすさはどちらかを適度に犠牲にしないとどうしようもないので、仕方ないでしょう。

URI 参照の一致は以前のように正規表現ではなく、 URI としての構文部品の単純一致が基本になっています。
例によって [[Message::Util::Formatter]] の書式で、 WikiPlugin で一致規則を定義できます。
おかげで、以前の URI を URI として扱えないことによるぐちゃぐちゃ (特に query parameter の適当な処理とか) は解消できましたが、逆に URI 的構造になっていない部品の情報を利用するためには一々一致規則を書かないといけなくなりました。 (たとえば [SAMP(URI)[http://foo.example/d/d200403]] のようなありがちな URI から日付を取り出したい時に、正規表現だと簡単なのですが。。。) この辺をどう改良するかは今後の課題としましょうか。
([[名無しさん]] [WEAK[2004-03-10 06:34:40 +00:00]])

[2]
TODO:
- WikiPage content の CVS commit 用 Makefile が本家 SuikaWiki でついに動かなくなった (shell の行長制限をついにファイル名群が超してしまった) のでなんとかする。まじめに Perl で script 書いた方がいいかな。
- SuikaWikiMetaInfo/0.9 な SW2 形式の Referer DB を SW3 形式に変換する script を書く。
([[名無しさん]] [WEAK[2004-03-10 06:38:11 +00:00]])

[3]
以前ちょっと実験していたのですが、 [[SuikaWiki/0.9]] の XML 表現の内部 object や [[SuikaWikiConfig/2.0]] の内部表現のようなものを [CODE(perl)[[[Storable]]]] Perl module を使って session を越えて保存しておくことができそうです。効果にはかなり期待していますが、現時点ではまだ何とも言えません。

実際の serialized source と適当に同期を保つためにちょっくら WikiDB module を挟んで実装してみようと思っています。
でもその前に本家 SuikaWiki を SW3 に update してからかな。
([[名無しさん]] [WEAK[2004-03-10 06:41:59 +00:00]])

[4]
というわけで今後の予定。
= >>2 をなんとかする。
= 本家 SuikaWiki を SW3 に update。
= 半月〜1ヶ月ほど様子を見て、 SW3 正式版 release へ。

SW3 正式版 release と前後して、
>>3 と、後回しにした未移植の SW2 の機能 (目次とか) を再実装。 (前になるか後になるかは気分次第。)
([[名無しさん]] [WEAK[2004-03-10 06:44:37 +00:00]])

[5]
SW3 は正式版になるのに、 SW が依存している [[manakai]] が一向に release されないのはどうかと思うのですけど、 manakai はまだ一杯手を入れるところがあるからなあ。
とりあえず 0.2 でも出しましょうか。
暫定安定版くらいの位置付けにしてもいいかな。

同じく依存している [[charclass]] module はどうしよう。 XML 1.1 に対応しないといけないのだけど、 SW3 には関係ないし、その前に 1.0 として release してしまうか。

([[名無しさん]] [WEAK[2004-03-10 06:47:41 +00:00]])


[6]
- Exact match 用の [CODE[%uri]] を定義する。

;; 忘れてた。。。
([[名無しさん]] [WEAK[2004-03-10 07:06:59 +00:00]])
