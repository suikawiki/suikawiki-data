* 仕様書

[REFS[
- [1] [CITE@en[RFC 8292 - Voluntary Application Server Identification (VAPID) for Web Push]], [TIME[2020-03-09 00:13:41 +09:00]] <https://tools.ietf.org/html/rfc8292>
]REFS]

* auth-scheme

[2] [[HTTP]] [[auth-scheme]]
[DFN[[CODE[vapid]]]]
は、[[署名]]した [[JWT]]
と、その[[署名]]の[[鍵]]を示すものです。
[SRC[>>1 3.]]

[9] [[Web Push protocol]] 
で使うことを意図しています。
[SRC[>>1 3.]]

[4] [[起源サーバー]]の認証に使えます。
[[プロキシ認証]]
([CODE[Proxy-Authenticate]], [CODE[Proxy-Authorization]])
で使っては[MUST[なりません]]。
[SRC[>>1 3.]]

[5] 
[[challenge]]
([[応答]])
は、
[CODE[auth-scheme]] である [CODE[vapid]]
のみ含みます。[[引数][auth-param]]はありません。
[SRC[>>1 3.]]

[6] 
[[credentials]]
([[要求]])
は、
[CODE[auth-scheme]] である [CODE[vapid]]
に[[引数][auth-param]]として 
[CODE[t]]
と 
[CODE[k]]
を指定します。
[SRC[>>1 3.]]

[11] 
[DFN[[CODE[t]]]]
[[引数][auth-param]]は、
[[JWT]] を指定するものです。
[SRC[>>1 3.]]

[12] 
[DFN[[CODE[k]]]]
[[引数][auth-param]]は、
[[公開鍵]]を指定するものです。
[[プッシュサービス]]が [[JWT]] を検証できるようにするものです。
[[ECDSA]] [[公開鍵]]を、
[[X9.62]] [[uncompressed form]]
で、
[[RFC 7515]]
[[base64url]]
符号化したものを指定します。
[SRC[>>1 3.]]

;; [13] [[JWT]] を使っているのに [[JWK]] でなく [[uncompressed form]]
なのは、
[[JWK]] には[[正準形]]がないことと、
サイズが小さくなるためとされています。
[SRC[>>1 3.]]


[8] 
[CODE[realm]]
[[引数][auth-param]]は無視します。
[SRC[>>1 3.]]

[10] 指定することが認められているのか明記されていません。

[7] 未知・未対応の[[引数][auth-param]]は、
無視しなければ[MUST[なりません]]。
[SRC[>>1 3.]]


* 歴史

[3] 
[TIME[2017年11月][2017-11]]に [[IETF]]
の[[提案標準]]
[DFN[RFC 8292]]
として出版されました。
[SRC[>>1]]


* メモ