* 仕様書

[REFS[
- [1] [CITE@en[RFC 8030 - Generic Event Delivery Using HTTP Push]], [TIME[2020-03-09 00:13:33 +09:00]] <https://tools.ietf.org/html/rfc8030#section-5.3>
]REFS]

* 意味

[4] 
[RUBYB[緊急度][urgency]]を示します。
[SRC[>>1 5.3.]]

[2] 
[[プッシュメッセージ]]には緊急度を設定できます。
資源の乏しい装置では節約のため重要な[[プッシュメッセージ]]を優先的に受信したいことがあり、
緊急度を利用できます。
[SRC[>>1 5.3.]]

* 文脈

[3] 
[[Web Push]] [[アプリケーションサーバー]]は、
[[プッシュ資源]]への[[要求]]に、
[[プッシュメッセージ]]の緊急度を示す
[CODE[Urgency:]] 
[[ヘッダー]]を指定できます。
指定無き場合の既定値は
[CODE[normal]] です。
[SRC[>>1 5.3.]]

[6] 
[[利用者エージェント]]は、
[[プッシュメッセージ]]の監視の際、
受信したい最低緊急度を示す
[CODE[Urgency:]]
[[ヘッダー]]を指定できます。
指定無き場合は制限なしです。
[SRC[>>1 5.3.]]
[SEE[ [[プッシュメッセージ購読]]、[[プッシュメッセージ購読集合]] ]]

* 処理

[5] [[プッシュサービス]]は、[[プッシュメッセージ]]に指定された
[CODE[Urgency:]] [[ヘッダー]]を[[利用者エージェント]]に[[転送]]しては[MUST[なりません]]
[SRC[>>1 5.3.]]。

[7] 
[[プッシュサービス]]は、
[[利用者エージェント]]から 
[CODE[Urgency:]]
を指定された時、
それ未満の緊急度の[[プッシュメッセージ]]を配送しては[MUST[なりません]]。
[SRC[>>1 5.3.]]

* メモ