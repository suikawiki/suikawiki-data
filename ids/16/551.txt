[1] [DFN[[CODE(HTTP)@en[Accept-Patch:]]]] [[ヘッダー]]は、
[[鯖]]が受け付ける[[パッチ文書]]の[[MIME型]]を指定するものです。 [SRC[>>2]]

* 仕様書

[REFS[
- [2] [CITE@en[RFC 5789 - PATCH Method for HTTP]] ([TIME[2014-09-22 15:11:26 +09:00]] 版) <http://tools.ietf.org/html/rfc5789#section-3.1>
]REFS]

* 意味

[5] [CODE(HTTP)@en[[[Accept-Patch:]]]] [[ヘッダー]]は、[[対象資源]]において
[CODE(HTTP)@en[[[PATCH]]]] [[メソッド]]が使えることを表します [SRC[>>2]]。

[6] [CODE(HTTP)@en[[[Accept-Patch:]]]] [[ヘッダー]]の値は、
[[対象資源]]においてその [[MIME型]]による[[パッチ文書]]を使えることを表します [SRC[>>2]]。

* 構文

[7] [CODE(HTTP)@en[[[Accept-Patch:]]]] [[ヘッダー]]の値は、1つ[[以上]]の
[[MIME型]]の[[リスト]] ([CODE(HTTP)[#]]) です [SRC[>>2]]。

[FIG(railroad)[
= [[MIME型]]
= *
== [[OWS]]
== [CODE(HTTP)[[[,]]]]
== [[OWS]]
== [[MIME型]]
]FIG]

* 文脈

[3] [[鯖]]は、 [CODE(HTTP)@en[[[PATCH]]]] [[メソッド]]に対応する[[資源]]に対する
[CODE(HTTP)@en[[[OPTIONS]]]] [[要求]]への[[応答]]に、
[CODE(HTTP)@en[[[Accept-Patch:]]]] [[ヘッダー]]を含める[['''べきです''']] [SRC[>>2]]。

[4] [[鯖]]は、[CODE(HTTP)@en[[[PATCH]]]] [[応答]]で [CODE(HTTP)[[[415]]]]
を返す場合、[CODE(HTTP)@en[[[Accept-Patch]]]] [[頭欄]]も含める[['''べきです''']]。 [SRC[>>2]]

* 歴史

[11] [[RFC 5789]] により定義され、 [[IANA登録簿]]にも登録されています。

* 例

[8] [SRC[>>2]]
[PRE(HTTP example code)[
Accept-Patch: text/example;charset=utf-8
]PRE]

[9] [SRC[>>2]]
[PRE(HTTP example code)[
OPTIONS /example/buddies.xml HTTP/1.1
Host: www.example.com

[要求]
]PRE]
... という要求に対する応答は、
[PRE(HTTP example code)[
HTTP/1.1 200 OK
Allow: GET, PUT, POST, OPTIONS, HEAD, DELETE, PATCH
Accept-Patch: application/example, text/example

]PRE]

* 関連

[10] [CODE(HTTP)@en[[[PATCH]]]] [[メソッド]]に対応していることは、
[CODE(HTTP)@en[[[OPTIONS]]]] [[要求]]に対する[[応答]]に
[CODE(HTTP)@en[[[Allow:]] [[PATCH]]]] を含めることでも表明できます [SRC[>>2]]。
通常は両者を併用するのが好ましいと思われます。