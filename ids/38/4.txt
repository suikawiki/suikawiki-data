* T.100

- [17] [CITE@en[T.100 : International information exchange for interactive Videotex]], [[tsbmail]], [TIME[2020-12-05T08:06:28.000Z]] <https://www.itu.int/rec/T-REC-T.100-198811-I/en>

* T.101

[13] [CITE@en[T.101 : International interworking for Videotex services]], [[tsbmail]], [TIME[2020-12-05T07:06:25.000Z]] <https://www.itu.int/rec/T-REC-T.101-199411-I/en>

[27] 
[[Videotex]] は日米欧3規格の統合に失敗した結果
[[T.101]]
は3規格を「Data Syntax」と称して並列に規定することになりました。

;; [28] そして3規格すべて商業的に失敗しました。。。

- [2] [CITE[00000001.PDF - 137.pdf]], [TIME[2014-06-23T02:14:26.000Z]], [TIME[2020-12-05T06:20:29.654Z]] <https://www.itscj.ipsj.or.jp/iso-ir/137.pdf>
- [3] [CITE[00000001.PDF - 071.pdf]], [TIME[2014-06-23T02:18:21.000Z]], [TIME[2020-12-05T06:20:49.313Z]] <https://www.itscj.ipsj.or.jp/iso-ir/071.pdf>
- [4] [CITE[00000001.PDF - 070.pdf]], [TIME[2014-06-23T02:18:19.000Z]], [TIME[2020-12-05T06:21:43.569Z]] <https://www.itscj.ipsj.or.jp/iso-ir/070.pdf>
- [5] [CITE[00000001.PDF - 132.pdf]], [TIME[2014-06-23T02:14:17.000Z]], [TIME[2020-12-05T06:22:03.270Z]] <https://www.itscj.ipsj.or.jp/iso-ir/132.pdf>
- [6] [CITE[00000001.PDF - 134.pdf]], [TIME[2014-06-23T02:14:20.000Z]], [TIME[2020-12-05T06:22:20.129Z]] <https://www.itscj.ipsj.or.jp/iso-ir/134.pdf>
- [7] [CITE[00000001.PDF - 135.pdf]], [TIME[2014-06-23T02:14:22.000Z]], [TIME[2020-12-05T06:22:37.493Z]] <https://www.itscj.ipsj.or.jp/iso-ir/135.pdf>
- [8] [CITE[00000001.PDF - 133.pdf]], [TIME[2014-06-23T02:14:18.000Z]], [TIME[2020-12-05T06:23:00.539Z]] <https://www.itscj.ipsj.or.jp/iso-ir/133.pdf>
- [9] [CITE[00000001.PDF - 073.pdf]], [TIME[2014-06-23T02:18:25.000Z]], [TIME[2020-12-05T06:23:23.190Z]] <https://www.itscj.ipsj.or.jp/iso-ir/073.pdf>
- [10] [CITE[00000001.PDF - 056.pdf]], [TIME[2014-06-23T02:17:52.000Z]], [TIME[2020-12-05T06:23:43.100Z]] <https://www.itscj.ipsj.or.jp/iso-ir/056.pdf>
- [11] [CITE[00000001.PDF - 136.pdf]], [TIME[2014-06-23T02:14:24.000Z]], [TIME[2020-12-05T06:24:04.576Z]] <https://www.itscj.ipsj.or.jp/iso-ir/136.pdf>
- [18] [CITE[null]], [TIME[2014-06-23T02:14:09.000Z]], [TIME[2020-12-05T09:32:51.518Z]] <https://www.itscj.ipsj.or.jp/iso-ir/128.pdf>


[1] [CITE@en[Videotex character set - Wikipedia]], [TIME[2020-12-04T00:34:29.000Z]], [TIME[2020-12-05T06:14:06.372Z]] <https://en.wikipedia.org/wiki/Videotex_character_set>

[12] [CITE@en[Viewdata - Wikipedia]], [TIME[2020-11-21T02:02:06.000Z]], [TIME[2020-12-05T06:24:38.609Z]] <https://en.wikipedia.org/wiki/Viewdata>

** VideotexString


[20] 
"complete code" environment 
([[ISO/IEC 2022]] complete coding environment)
を切り替える [CODE(charname)@en[DOCS]]
[SRC[T.101 PDF1 p.18, p.20, p.41]]:

- [CODE(charname)@en[ESC]] 2/5 4/3 : Data Syntax I 
- [CODE(charname)@en[ESC]] 2/5 4/4 : Data Syntax II
- [CODE(charname)@en[ESC]] 2/5 4/1 : Data Syntax III 
- [CODE(charname)@en[ESC]] 2/5 4/0 : [[ISO/IEC 2022]]
- その他 [[ISO/IEC 9281]] で登録されたもの

[21] 
各 Data Syntax から
[CODE(charname)@en[PCD]] 
を使って
[[ISO/IEC 9281]] picture coding environment
の
audio mode,
photographic mode,
VEMMI mode
を利用可能。
[SRC[T.101 PDF1 p.41]]

[19] 
[[ASN.1]]
[DFN[VideotexString]]:
[[ISO/IEC 2022]],
Data Syntax I,
Data Syntax II,
Data Syntax III
[CODE(charname)@en[DOCS]] で相互に切替可能。
[SRC[T.101 PDF1 p.41]]

[29] 3規格を識別するのみならず相互切り替え可能にする必要性はあったのか、
需要はあったのか、実装可能だったのかは謎です。

[39] 
Data Syntax の方に言及がなく本体で規定される
[[ISO/IEC 9281]] picture coding への対応も、
実態はあったのでしょうかね?

[40] DI で識別される Data Syntax I と 
[CODE(charname)@en[PCD]] で始まる [[ISO/IEC 9281]]
は区別可能だけどアーキテクチャとしておかしい。
また Data Syntax I から他に切り替える時どこにどう
[CODE(charname)@en[DOCS]]
を挿入すればいいのか何も書いていない。
本体の状態遷移図に従うなら DI で識別されるバイト長が満了した後に
[CODE(charname)@en[DOCS]] や [CODE(charname)@en[PCD]]
を書けるということか。

[41] 本体の状態遷移図には Data Syntax I に切り替えたらまず
rank
を書く(?)とあるが、その構文が本体にも附属書にも書いてなく謎。
(rank という概念は Data Syntax I に存在してはいるのだが。)

** terminal identification 

[46] 
端末状態と照会・回答できる。 Data Syntax 共通。
[SRC[PDF1 p.36, PDF1 p.102]]

host 1/15 2/0 4/0 

terminal 1/15 [4/1...7/15] 4/0 


** Data Syntax I

[22] 
Data Syntax I (CAPTAIN) - 日本向け
[SRC[PDF1 p.102]]

[31] 4モードあって、
DI (Data Identifier) 
で識別します。

- character mode
-- DI(C) 0b00100000
- transparent mode
-- DI(T) 0b00110000
-- DI(T-CNT) 0b00111111 (継続を表す)
- sound mode
-- DI(S) 0b01000001
- message mode
-- DI(M) 0b01000000

[32] 
[VAR[DI]], [VAR[LI]], [VAR[bytes]]
を1セットとして繰り返します。

[33] 
LI (Length Indicator) 
は
[ [N[0]], [N[254]] ]
の1バイトでバイト長を表すか、
[N[255]] の[[バイト]]に続く[[大エンディアン]]2バイトでバイト長を表します。
([ [N[0]], [N[254]] ] を1+2バイトで表すのも禁止されていない。)


[30] [[character mode]] (初期状態)

- [[ISO/IEC 2022]] [[7ビット符号]]、[[8ビット符号]]
- [[C0]] [N[4/9]]
- [[C1]] [N[4/4]]
- [[G0]] = [[GL]] (初期値 Japanese-Kanji set)
- [[G1]] (初期値 Primary set)
- [[G2]] = [[GR]] (初期値 Display control command set)
- [[G3]] (初期値 DRCS 1)
- [[固定シフト]]、[[単独シフト]]、[[指示シーケンス]]
- [[94集合]] [N[4/10]] Primary Character set
-- [[JIS X 0201]] [[ラテン文字用図形文字集合]]相当
- [[94集合]] [N[4/9]] Katakana Character set
-- [[JIS X 0201]] [[片仮名用図形文字集合]]相当
- [[94集合]] [N[3/3]] Mosaic I set
- [[94集合]] [N[6/3]] Mosaic II set
- [[96集合]] [N[3/8]] Display Control set 
- [[96集合]] [N[5/7]] PDI set
- [[96集合]] [N[3/9]] MVI set
- [14] [[94[SUP[2]]集合]] [N[4/2]] [[改訂][IRR]] [N[4/0]] Kanji Character set (Japanese-Kanji Character Set)
-- [[JIS X 0208-1990]] 相当 + [[ARIB外字]]
-- [16] 「[[T.52]] との違い」
--- [24] 84区5点と6点は使用しない
---- [25] と書かれているが符号表にはこれらも掲載されている
--- [26] 92区から94区に169文字追加
- [[94集合]] [N[2/0]] [N[4/1]] : [[DRCS]] I set
- [[94[SUP[2]]集合]] [N[2/0]] [N[4/0]] : [[DRCS]] II set

[47] 
[[C0]] 引数付き

- 1/15 NSR >>36
- 1/4 KMC [VAR[P]]
- 1/12 APS [VAR[row]] [VAR[column]] (cursor position) 
-- 下位6ビット


[23] 
[[C1]] の [CODE(charname)@en[P-MACRO]] は
[[ARIB STD-B24]] の [CODE(charname)@en[MACRO]]
相当 + [CODE(charname)@en[P-MACRO]] [N[4/2]] [VAR[P]] でマクロ文を返送要求
(ただしこちらは[[96集合]]で [VAR[P]] は [N[2/0]] ... [N[7/15]])

[35] 
transparent mode は PDU (Phorographic Data Unit) の連続。

[36] 
PDU は opcode (1[[バイト]])、[VAR[LI]]、[VAR[bytes]]。

[34] 
DI(T) / DI(T-CNT) の境界と PDU の境界が一致していなければならないのか、
そうでないのかよくわからない。一致しなければならないとすると
DI(T-CNT) は不要に思えるので、一致しなくても良いのかも。

[38] 
sound mode

- [[ISO/IEC 2022]] [[8ビット符号]]
- [[C0]]
- [[GL]] [[96[SUP[2]]集合]] Sound tone set
- [[C1]]
- [[GR]] Sound control

[44] Sound tone set : 
第1バイト Sound Tone Set (Pitch)、
第2バイト Sound Tone Set (Duration)

[45] Sound control  

,*  ,*8  ,*9
,* 0,SMC ,SLV
,* 1,SMP ,
,* 2,SRP ,
,* 3,    ,
,* 4,EMC ,
,* 5,EPT ,
,* 6,    ,
,* 7,    ,
,* 8,LBL ,LRT
,* 9,JMP ,
,*10,RPT ,
,*11,BRA ,
,*12,CTM ,

引数付き

- SMC 3/0 3/11 3/N 3/11
- SMP 3/P 3/11
- SRP 3/P 3/11
- LBL 3/N 3/11
- JMP 3/N 3/11
- RPT 3/M 3/11 3/N 3/11
- BRA 3/M 3/11 3/N 3/11
- SLV 3/L 3/11
- CTM 3/P 3/11
- LRT 3/N 3/11

(引数は1バイトとは限らない)

numeric parameter: [ [N[3/0]], [N[3/9]] ]+
delimiter: 3/11




[37] 
message mode 

- [[ISO/IEC 2022]] [[7ビット符号]]/[[8ビット符号]]
- [[C0]]
- [[C1]]
- [[GL]] = [[G0]]
- [[LS0]] Katakana character 
- [[LS1]] Japanese-Kanji character
- [[GR]] Primary character

[42] 
1バイト (左側) の[[引数]]が続く[[C1制御文字]]

- COL
- SZX 
- FLC
- CDC

[43] 
特殊文字の集合
Display Control set,
PDI set,
MVI set:
opcode が [ [N[2/0]], [N[3/0]] ],
operand が [ [N[4/0]], [N[7/15]] ]。
opcode の後、
opcode 依存の構文・長さで operand が続く。

- 固定 operand
- single-value operand : 下位6ビットが符号なし整数を表す
- multi-value operand : 
下位6ビット中、上位3ビットと下位3ビットがそれぞれ値を表す。
後続 operand バイトも同じ。
1 - 8 バイト。
-- coordinate operand - 上位が X、下位が Y。第1バイト1つ目が符号±、
2つ目が最上位ビット (0.5)、最終バイト3つ目が最下位ビットで、
符号付き[[2の補数]]を表す。
-- 色: 3ビットの上位から GRB の順で unsigned color value in RGB color system
を表す。 unsigned binary decimal, 0 が lowest intensity、 1が highest intensity を表す。

Display Control set

- P-RESET fixed 1バイト
- P-DOMAIN fixed 2バイト
- LOGICAL-PEL multi-value 2バイト
- DISPLAY MODE fixed 1バイト
- P-TEXT fixed 2バイト / multi-value 1バイト
- RASTER multi-value 1バイト
- HEADER RASTER multi-value 1バイト
- SET LUT single-value 1バイト / multi-value 1バイト
- P-BLINK single-value 2バイト / fixed 3バイト
- AREA multi-value 2バイト
- SET FRAME single-value 2[VAR[n]] ([VAR[n]] = # of frames)
- ASSIGN FRAME signle-value 1バイト

Display Control Command Set

,*  ,* 2         ,* 3  
,* 0,            ,
,* 1,P-RESET     ,
,* 2,P-DOMAIN    ,
,* 3,LOGICAL PEL ,
,* 4,DISPLAY MODE,P-TEXT
,* 5,AREA
,* 6,SET FRAME
,* 7,ASSIGN FRAME
,* 8,            ,RASTER HEADER
,* 9,            ,RASTER
,*10,            ,SET LUT
,*11,            ,
,*12,P-WAIT      ,P-BLINK
,*13,            ,
,*14,            ,
,*15,            ,

[N[4/0]] - [N[7/15]] NUMERIC DATA




**

[15] [[ISO-IR 165]]


* メモ