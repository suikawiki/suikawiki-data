[34] [DFN[[RUBYB[[[ワーカー]]]@en[worker]]]]は、[[文書]]を表示する主たるスレッドとは別個に動作するスクリプト実行環境です。

* 仕様書

[REFS[
- [42] '''[CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-05-06 10:42:35 +09:00]] 版) <https://html.spec.whatwg.org/#workers>'''
-- [44] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-05-06 10:42:35 +09:00]] 版) <https://html.spec.whatwg.org/#dom-workerglobalscope-close>
-- [48] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-05-06 10:42:35 +09:00]] 版) <https://html.spec.whatwg.org/#run-a-worker>
-- [77] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-05-06 10:42:35 +09:00]] 版) <https://html.spec.whatwg.org/#kill-a-worker>
-- [78] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-05-06 10:42:35 +09:00]] 版) <https://html.spec.whatwg.org/#terminate-a-worker>
-- [95] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-05-06 10:42:35 +09:00]] 版) <https://html.spec.whatwg.org/#dom-worker-terminate>
]REFS]

* 種類と状態

[43] [[ワーカー]]には、次の3種類があります。
[FIG(table)[
:x:名称
:env:[[大域環境]]
:global:[[大域オブジェクト]]
:client:作成・操作用 [[API]]

:x:[[ワーカー]] (総称)
:env:[[ワーカー環境]] (総称)
:global:[CODE(DOMi)@en[[[WorkerGlobalScope]]]] ([[抽象インターフェイス]])
:client:[CODE(DOMi)@en[[[AbstractWorker]]]] ([CODE(IDL)@en[[[implements]]]])

:x:[[専用ワーカー]]
:env:[[専用ワーカー環境]]
:global:[CODE(DOMi)@en[[[DedicatedWorkerGlobalScope]]]]
:client:[CODE(DOMi)@en[[[Worker]]]]

:x:[[共有ワーカー]]
:env:[[共有ワーカー環境]]
:global:[CODE(DOMi)@en[[[SharedWorkerGlobalScope]]]]
:client:[CODE(DOMi)@en[[[SharedWorker]]]]

:x:[[サービスワーカー]]
:env:[[サービスワーカー環境]]
:global:[CODE(DOMi)@en[[[ServiceWorkerGlobalScope]]]]
:client:[CODE(DOMi)@en[[[ServiceWorker]]]]
]FIG]

[103] [[ワーカー]]は、[[ワーカーを走らせる手順]]で最初に実行する[[スクリプト]]の準備までが終わると、
実行状態になります。

[104] [[ワーカー]]は、[[ワーカーの[CODE(DOMi)@en[Document]]群]]が空でなくなると、
[DFN[[[permissible worker]]]] となります [SRC[>>42]]。
[CODE(JS)@en[[[new Worker]]]] や [CODE(JS)@en[[[new SharedWorker]]]] で最初に作られた時か、
[CODE(JS)@en[[[new SharedWorker]]]] で既存の[[共有ワーカー]]を利用する際に、
[[ワーカーの[CODE(DOMi)@en[Document]]群]]に[[文書]]が追加されます。

[118] [[文書を捨てる]]操作は、[[ワーカーの[CODE(DOMi)@en[Document]]群]]から[[文書]]を削除します。
これにより、次の通り [[permissible worker]] でなくなることがあります。
[FIG(list)[
- [105] [[共有ワーカー]]は、
[[ワーカーの[CODE(DOMi)@en[Document]]群]]が空になった後、
[[利用者エージェント]]にまだ [[completely loaded]] でない[[文書]]の[[閲覧文脈]]が存在しなくなるか、
[[利用者エージェント]]定義の短い時間が経過したなら、
[[permissible worker]] ではなくなります [SRC[>>42]]。
- [106] それ以外の[[ワーカー]]は、
[[ワーカーの[CODE(DOMi)@en[Document]]群]]が空になったら、
[[permissible worker]] ではなくなります [SRC[>>42]]。
]FIG]

;; [107] >>105 は [[navigate]] により[[共有ワーカー]]が短時間で再起動する無駄を防ぐための措置です。
[[フレーム]]等を考慮すると、[[起源]]に関係なくすべての[[閲覧文脈]]の[[文書]]を考慮する必要がありそうです。

;; [108] 仕様上は「complete loaded」とありますが、 [[completely loaded]] と同義と思われます。

;; [114] [[permissible worker]] は、 [[active needed worker]] と [[suspendable worker]]
のどちらかです。

[109] [[ワーカー]]は、[[ワーカーの[CODE(DOMi)@en[Document]]群]]のいずれかの[[文書]]が[[完全に活性]]なら、
[DFN[[[active needed worker]]]] です [SRC[>>42]]。

;; [110] 定義上、必ず [[permissible worker]] です。

[113] [[ワーカー]]は、[[active needed worker]] ではなく、
[[permissible worker]] なら、 [DFN[[[suspendable worker]]]] です [SRC[>>42]]。

[112] [[active needed worker]] は、次のいずれかの場合、
[DFN[[[protected worker]]]] です [SRC[>>42]]。
[FIG(list)[
- [115] 進行中の[[タイマー]]、[[データベース取引]]、[[ネットワーク接続]]がある
- [117] [[ワーカーのポート群]]が空でない
- [116] [[共有ワーカー]]である
]FIG]

[39] [[ワーカー]]が持つその他の状態については [CODE(DOMi)@en[[[WorkerGlobalScope]]]] を参照。

* 作成

[98] [[ワーカー]]を作成する [[API]] ([CODE(JS)@en[[[new Worker]]]],
[CODE(JS)@en[[[new SharedWorker]]]], [CODE(JS)@en[[[new ServiceWorker]]]])
は、関係するオブジェクトを作った後 (それぞれの項を参照。)、
[[ワーカーを走らせる]]手続きを実行します。

[49] [DFN[[RUBYB[ワーカーを走らせる]@en[run a worker]]]]とは、
独立した[[実行環境]]を作成して、次のようにしなければ[['''なりません''']] [SRC[>>48]]。

[FIG(steps)[
= [50] [DFN[[[official moment of creation]]]] とします。
= [51] 
[FIG(list)[
- [53] 指定された[[環境設定群オブジェクト]]の[[大域オブジェクト]]が
[CODE(DOMi)@en[[[SharedWorkerGlobalScope]]]] で、
- [52] 指定された [[URL]] と[[同じ起源]]の[[マニフェストURL]]の [[relevant application cache]]
があって、
そのいずれかの[[項目]] ([[外来]]のものを含みます。) が指定された [[URL]] を持つ場合
]FIG]
== [55] 一致するうちの [[most appropriate application cache]] を[[大域オブジェクト]]と関連付けます。
= [54] 指定された [[URL]] を [[fetch]] します。
取得元の[[起源]]は指定された[[環境設定群オブジェクト]]のもの、
[[referrer source]] は指定されたもの ([[環境設定群オブジェクト]]のものではありません。)
とし、 [[blocking flag]] と [[force same-origin flag]] を設定します。
]FIG]

[56] その [[fetch]] の [[process response end-of-file]] は、次のようにしなければ[['''なりません''']] [SRC[>>48]]。
[FIG(steps)[
= [57] 失敗の場合、
== [58] [[タスクをキューに追加]]します。
[FIG(list members)[
[FIGCAPTION[
[[タスク]]
]FIGCAPTION]
:[[タスク源]]:[[DOM操作タスク源]]
:処理:
[FIG(steps)[
= [60] [[単純イベントを発火]]します。
[FIG(list members)[
[FIGCAPTION[
[[単純イベント]]
]FIGCAPTION]
:[[イベント型]]:[CODE(DOMe)@en[[[error]]]]
:[[対象]]:指定された[[環境設定群オブジェクト]]の[[大域オブジェクト]]に関連付けられた
[CODE(DOMi)@en[[[Worker]]]]/[CODE(DOMi)@en[[[SharedWorker]]]]
]FIG]
]FIG]
]FIG]
== [59] ここで終わります。
= [62] [[JavaScript大域環境]]を作成します。
[FIG(list members)[
[FIGCAPTION[
[[JavaScript大域環境]]
]FIGCAPTION]
:種別:指定された[[環境設定群オブジェクト]]の[[大域オブジェクト]]に応じて、
[[専用ワーカー環境]]または[[共有ワーカー環境]]
:[[大域オブジェクト]]:指定された[[環境設定群オブジェクト]]の[[大域オブジェクト]]
]FIG]
= [61] [[応答]]の[[本体]]を [[UTF-8復号]]します。
= [64] その結果を、
指定された[[環境設定群オブジェクト]]の [[JavaScript]] [[スクリプト実行環境]]により、
[[構文解析]]、[[コンパイル]]、[[初期化]]します。
= [63] [[スクリプト]]を作成します。
[FIG(list members)[
[FIGCAPTION[
[[スクリプト]]
]FIGCAPTION]
:[[コード入口点]]:
[[コンパイル]]成功していれば、得られた値とします。
そうでなければ、なにもしないものとし、対応する[[捕獲]]されていない[[スクリプトエラー]]があったものとして扱います。
:[[設定群オブジェクト]]:指定された[[環境設定群オブジェクト]]
]FIG]
]FIG]

[65] 以後は、[[ワーカー]]が [[protected worker]] ではなくなった後、
[[permissible worker]] でなくなるよりも前に、
指定された[[環境設定群オブジェクト]]の[[大域オブジェクト]]の [[closing flag]]
を[[真]]に設定しなければ[['''なりません''']] [SRC[>>48]]。

[66] 以後は、[[環境設定群オブジェクト]]の[[大域オブジェクト]]の [[closing flag]]
が[[偽]]で、[[ワーカー]]が [[suspendable worker]] である間は、
実行を[RUBYB[一時中断]@en[suspend]]しなければ[['''なりません''']] [SRC[>>48]]。
その後 [[closing flag]] が[[真]]となるか、 [[suspendable worker]]
でなくなったなら、一時中断を解除しなければ[['''なりません''']] [SRC[>>48]]。

[67] 引き続き、次のようにしなければ[['''なりません''']] [SRC[>>48]]。
[FIG(steps)[
= [68] 作成した[[スクリプト]]の[[コード入口点に飛ぶ]]こととします。
[[返る]]か、[[捕獲]]されない[[例外]]が投げられるか、
[[kill a worker]]/[[terminate a worker]] により中断されるまで実行します。
= [69] 指定された[[環境設定群オブジェクト]]の[[大域オブジェクト]]が
[CODE(DOMi)@en[[[DedicatedWorkerGlobalScope]]]] なら、
== [70] [[ワーカー]]の暗示的なポートの [[port message queue]] を有効にします。
= [71] 指定された[[環境設定群オブジェクト]]の[[有責イベントループ]]を
(破棄されるまで) 実行します。
= [72] 破棄の処理に続きます (>>73)。
]FIG]

* 破棄

[45] [CODE(DOMi)@en[[[WorkerGlobalScope]]]] [[インターフェイス]]の
[DFN[[CODE(DOMm)@en[[[close]]]]]] [[メソッド]]は、次のようにしなければ[['''なりません''']]
[SRC[>>44]]。
[FIG(steps)[
= [99] [[原子的]]に:
== [46] [[文脈オブジェクト]]の[[イベントループ]]の[[タスクキュー]]の[[タスク]]をすべて捨てます。
== [47] [[文脈オブジェクト]]の [[closing flag]] を[[真]]に設定します。
]FIG]

[84] [[利用者エージェント]]は、いつでも[[ワーカーを殺す]]処理を実行して構いません。
例えば次の時に実行できます。 [SRC[>>77]]
[FIG(list)[
- [85] [[利用者]]に要求された時
- [86] [[CPU]] の [[quota]] 超過時
- [87] [[active needed worker]] でなくなり [[closing flag]] が[[真]]に設定されてもなお走り続ける時
]FIG]

[79] [DFN[[RUBYB[ワーカーを殺す]@en[kill a worker]]]]には、
[[並列に]]次のようにしなければ[['''なりません''']] [SRC[>>77]]。
[FIG(steps)[
= [80] [[ワーカー]]の [CODE(DOMi)@en[[[WorkerGlobalScope]]]]
の [[closing flag]] を[[真]]に設定します。
= [81] [[ワーカー]]の [CODE(DOMi)@en[[[WorkerGlobalScope]]]] 
の[[イベントループ]]の[[タスクキュー]]の[[タスク]]をすべて捨てます。
= [82] [[利用者エージェント]]定義の時間、待ちます。
= [83] [[ワーカー]]で動作中の[[スクリプト]]を停止します。
]FIG]

;; [93] [[run a worker]] のメインの[[スクリプト]]や [CODE(DOMm)@en[[[importScripts]]]]
の[[スクリプト]]が実行停止されることがあります。
その他の[[スクリプト]]も (明記されていませんが) 停止するはずです。

[96] [CODE(DOMi)@en[[[Worker]]]] [[インターフェイス]]の 
[DFN[[CODE(DOMm)@en[[[terminate]]]]]] [[メソッド]]は、
関連付けられた[[ワーカー]]について[[ワーカーを停止]]しなければ[['''なりません''']]
[SRC[>>95]]。

;; [97] [CODE(DOMi)@en[[[SharedWorker]]]] にはありません。

[88] [DFN[[RUBYB[ワーカーを停止]@en[terminate a worker]]]]するには、
[[並列に]]次のようにしなければ[['''なりません''']] [SRC[>>78]]。
[FIG(steps)[
= [89] [[ワーカー]]の [CODE(DOMi)@en[[[WorkerGlobalScope]]]]
の [[closing flag]] を[[真]]に設定します。
= [90] [[ワーカー]]の [CODE(DOMi)@en[[[WorkerGlobalScope]]]] 
の[[イベントループ]]の[[タスクキュー]]の[[タスク]]をすべて捨てます。
= [91] [[ワーカー]]で動作中の[[スクリプト]]を停止します。
= [92] [[ワーカー]]の [CODE(DOMi)@en[[[WorkerGlobalScope]]]]
が [CODE(DOMi)@en[[[DedicatedWorkerGlobalScope]]]] なら、
[[ワーカー]]の暗示的なポートが [[entangle]] されている [[port message queue]]
を空にします。
]FIG]

;; [94] [[run a worker]] のメインの[[スクリプト]]や [CODE(DOMm)@en[[[importScripts]]]]
の[[スクリプト]]が実行停止されることがあります。
その他の[[スクリプト]]も (明記されていませんが) 停止するはずです。

[73] 破棄の処理 (>>72 から呼び出されます。) は、次のようにしなければ[['''なりません''']]
[SRC[>>48]]。
[FIG(steps)[
= [74] [[環境設定群オブジェクト]]の[[活性タイマーのリスト]]を空にします。
= [75] [[ワーカーのポート群]]のすべてのポートを [[disentangle]] します。
= [76] [[ワーカーの[CODE(DOMi)@en[Document]]群]]を空にします。
]FIG]

[40] [[Blob URL Store]] 内の [[Blob URL]] は (暗黙に) 破棄されると思われます。

[111] [CODE(DOMi)@en[[[Worker]]]] や [CODE(DOMi)@en[[[SharedWorker]]]]
への参照を破棄すると、その[[ワーカー]]に[[スクリプト]]からアクセスする手段がなくなるかもしれませんが、
それによって[[ワーカー]]が破棄されるわけではありません。

* 歴史

** Web Workers

[35] [[Ian Hickson]] は[[ワーカー]]の導入に当たり、 [[HTML5]]
本体とは別の [DFN[[[Web Workers]]]] 仕様書を新たに作成しました。

[36] しかしその後 [[Web Workers]] 仕様書は [[Web Applications 1.0]] (現在の
[[HTML Standard]]) に統合され、単独の仕様書としては出版されなくなりました。

;; [37] その後も [[W3C]] 版 [[Web Workers]] 仕様書は取り残されていますが、
気にする必要はありません。

[22] [CITE[HTML5WorkerProposal - google-gears - Google Code]] ([TIME[2008-03-23 20:14:32 +09:00]] 版) <http://code.google.com/p/google-gears/wiki/HTML5WorkerProposal>

[23] [CITE[Worker - 素人がプログラミングを勉強するブログ]] ([TIME[2009-03-07 22:03:26 +09:00]] 版) <http://d.hatena.ne.jp/javascripter/20090306/1236326979>

[24] [CITE[IRC logs: freenode / #whatwg / 20120827]]
( ([TIME[2012-09-03 21:22:43 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20120827#l-596>

[25] [CITE[''''''[''''''whatwg'''''']'''''' Feedback on Web Worker specification]]
( ([TIME[2012-11-20 23:30:54 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-November/038038.html>

[26] [CITE[''''''[''''''whatwg'''''']'''''' Real-time thread support for workers]]
( ([TIME[2012-12-29 16:40:16 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-December/038480.html>

[27] [CITE[''''''[''''''whatwg'''''']'''''' Possible bug in the way the spec about worker GC behavior]]
( ([TIME[2013-12-04 00:44:38 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2013-December/041684.html>

[28] [CITE[''''''[''''''whatwg'''''']'''''' Flow Control on Websockets]]
( ([TIME[2013-12-04 00:44:38 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2013-December/041687.html>

[29] [CITE@en[Sync IO APIs in Shared Workers]]
( ([[Jonas Sicking]] 著, [TIME[2013-11-22 11:33:51 +09:00]] 版))
<http://lists.w3.org/Archives/Public/public-webapps/2013OctDec/0531.html>

[30] [CITE@en[Web Applications 1.0 r8405 Various editorial tweaks.]]
( ([TIME[2014-01-17 17:12:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=8404&to=8405>

[31] [CITE@en[Re: On starting WebWorkers with blob: URLs...]]
( ([[Jonas Sicking]] 著, [TIME[2014-02-20 09:09:42 +09:00]] 版))
<http://lists.w3.org/Archives/Public/public-webapps/2014JanMar/0444.html>

[32] [CITE@en[Web Applications 1.0 r8837  Allow browsers to let shared workers survive navigation for a short time.]]
( ([TIME[2014-10-15 06:44:00 +09:00]] 版))
<https://html5.org/r/8837>

[33] [CITE@en[''''''[''''''webappsec'''''']'''''' Rechartering: sandboxed cross-origin workers]]
( ([[Brad Hill]] 著, [TIME[2014-11-10 09:10:31 +09:00]] 版))
<http://lists.w3.org/Archives/Public/public-webappsec/2014Nov/0129.html>

[1]
[CITE@en-US-x-hixie[Web Workers]] ([CODE[2008-07-09 20:07:39 +09:00]] 版) <http://www.whatwg.org/specs/web-workers/current-work/>
([[名無しさん]])

[2]
[CITE[Workers]] ([[Ian Hickson <ian@...>]] 著, [CODE[2008-07-10 01:30:50 +09:00]] 版) <http://permalink.gmane.org/gmane.org.w3c.whatwg.discuss/14607>
([[名無しさん]])


[3]
[CITE@en-US-x-hixie[Web Workers]] ([TIME[2008-07-11 21:09:52 +09:00]] 版) <http://suika.fam.cx/www/markup/html/html5/spec-ja/workers-non-normative>


[4] [CITE[Workers]] ([[Ian Hickson]] 著, [TIME[2008-08-27 09:50:15 +09:00]] 版) <http://permalink.gmane.org/gmane.org.w3c.whatwg.discuss/15294>

[5] [CITE[Workers feedback]] ([[Ian Hickson]] 著, [TIME[2008-11-13 23:30:47 +09:00]] 版) <http://permalink.gmane.org/gmane.org.w3c.whatwg.discuss/16498>

[6] [CITE[Workers feedback]] ([[Ian Hickson]] 著, [TIME[2008-11-18 03:43:58 +09:00]] 版) <http://permalink.gmane.org/gmane.org.w3c.whatwg.discuss/16621>

[7] [CITE@en-us[Firefox 3.1 for developers - MDC]] ([TIME[2009-02-08 18:25:06 +09:00]] 版) <https://developer.mozilla.org/ja/Firefox_3.1_for_developers#.E6.96.B0.E3.81.97.E3.81.8F.E3.82.B5.E3.83.9D.E3.83.BC.E3.83.88.E3.81.95.E3.82.8C.E3.81.9F.E6.A9.9F.E8.83.BD_2>

[8] [CITE@en-US-x-Hixie[Web Workers]] ([TIME[2009-04-23 14:39:27 +09:00]] 版) <http://www.w3.org/TR/2009/WD-workers-20090423/>

[9] [CITE@en-US-x-Hixie[Web Workers]]
([TIME[2009-10-29 03:44:26 +09:00]] 版)
<http://www.w3.org/TR/2009/WD-workers-20091029/>

[10] [CITE@en-US-x-Hixie[Web Workers]]
([TIME[2009-12-18 01:36:30 +09:00]] 版)
<http://www.w3.org/TR/2009/WD-workers-20091222/>

[11] [CITE['''['''whatwg''']''' Web Workers feedback]]
([TIME[2010-04-23 07:26:52 +09:00]] 版)
<http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-April/025992.html>

[12] [CITE[''''''[''''''whatwg'''''']'''''' Workers feedback]]
( ([TIME[2011-02-05 09:56:05 +09:00]] 版))
<http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2011-February/030238.html>

[13] [CITE@en-US-x-Hixie[Web Workers]]
( ([TIME[2011-02-09 06:06:56 +09:00]] 版))
<http://www.w3.org/TR/2011/WD-workers-20110208/>

[14] [CITE@en-US-x-Hixie[Web Workers]]
( ([TIME[2011-03-10 02:01:52 +09:00]] 版))
<http://www.w3.org/TR/2011/WD-workers-20110310/>

[15] [CITE@en-US-x-Hixie[Web Workers]]
( ([TIME[2011-09-02 21:08:08 +09:00]] 版))
<http://www.w3.org/TR/2011/WD-workers-20110901/>

[16] [CITE@en[New tests submitted by Microsoft for WebApps specs]]
( ([[Adrian Bateman]] 著, [TIME[2011-09-14 10:26:30 +09:00]] 版))
<http://lists.w3.org/Archives/Public/public-webapps/2011JulSep/1406.html>

[17] [CITE@en-US-x-Hixie[Web Workers]]
( ([TIME[2012-03-12 22:02:57 +09:00]] 版))
<http://www.w3.org/TR/2012/WD-workers-20120313/>

[18] [CITE[IRC logs: freenode / #whatwg / 20120403]]
( ([TIME[2012-04-13 00:14:14 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20120403#l-170>

[19] [CITE@en-US-x-Hixie[Web Workers]]
( ([TIME[2012-05-01 21:20:59 +09:00]] 版))
<http://www.w3.org/TR/2012/CR-workers-20120501/>

[100] [CITE[''''''[''''''whatwg'''''']'''''' Reporting errors during Web Worker startup]]
( ([TIME[2013-07-13 05:21:03 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2013-July/040018.html>

[101] [CITE[IRC logs: freenode / #whatwg / 20130711]]
( ([TIME[2013-07-14 16:09:35 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20130711>


[20] [CITE@en[Web Applications 1.0 r8328 for consistency, lowercase 'workers' in some references to Web workers]]
( ([TIME[2013-12-04 07:28:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=8327&to=8328>

[102] [CITE@en[Web Applications 1.0 r8361     Describe what happens when you try to run a bad script as a worker]]
( ([TIME[2013-12-17 08:20:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=8360&to=8361>

[21] [CITE@en[Re: ''''''[''''''workers'''''']'''''' Seeking status and plans]]
( ([[Simon Pieters]] 著, [TIME[2014-09-29 18:06:36 +09:00]] 版))
<http://lists.w3.org/Archives/Public/public-test-infra/2014JulSep/0080.html>

** Service Worker

[38] [[AppCache]] の代替として、新たな種類の[[ワーカー]]である [[Service Worker]]
が開発されました。 [[Service Worker]] は従来の[[ワーカー]]と似ている点も多く、
多くの機構を共有または継承していますが、そうでない点も多くあります。

;; 詳細は [[Service Worker]] を参照。


[FIG(quote)[
[FIGCAPTION[
[41] [CITE@en-US[Content Processes - Mozilla | MDN]]
([TIME[2014-12-21 23:51:46 +09:00]] 版)
<https://developer.mozilla.org/en-US/Add-ons/SDK/Guides/Contributor_s_Guide/Content_Processes>
]FIGCAPTION]

> Content Workers
> A content worker is an object that is used to inject content scripts into a content process, and to provide a pipe between each content script and the main add-on script. The idea is to use a single content worker for each content process. The constructor for the content worker takes an object containing one or more named options. Among other things, this allows us to specify one or more content scripts to be loaded.

]FIG]