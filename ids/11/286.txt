* 仕様書

[REFS[
- [44] [CITE@en[CSS Writing Modes Level 4]], [TIME[2020-09-05T23:08:25.000Z]], [TIME[2020-09-06T01:23:51.094Z]] <https://drafts.csswg.org/css-writing-modes/>
- [46] [CITE@en[CSS Writing Modes Level 4]], [TIME[2020-09-05T23:08:25.000Z]], [TIME[2020-09-06T01:54:08.790Z]] <https://drafts.csswg.org/css-writing-modes/#propdef-writing-mode>
]REFS]

* 配置モデル

[FIG(short list)[ [45] [[CSS Writing Modes]]
- [[行内基底方向]]
- [[ブロックフロー方向]]
]FIG]

* [CODE['writing-mode']]

[SRC[>>46]]

* 歴史

** DSSSL

[54] 
[[JIS X 4153:1998]] (ISO 1996)

- 4.17 [L[行進行方向 (line-progression-direction)]]
- 12.1 l) [L[機能 bidi]]: 「[L[表記方向左向き (right-to-left)]]」
- 12.1 m) [L[機能 vertical]]: 「[L[表記方法下向き (top-to-bottom)]]」
- 12.3.1 表記方法: 「[L[右向き (left-to-right), 左向き (right-to-left) 又は下向き (top-to-bottom) のいずれか]]」
- 12.3.2 「[L[段落が複数の表記モードを使う]]」 (横書き [[bidi]] のこと)
- いくつかの[[流し込みオブジェクト]]に[[特質]]
[CODE[writing-mode]]
があって、
[CODE[left-to-right]], [CODE[right-to-left]]
が指定でき、ものによっては
[CODE[top-to-bottom]]
も指定できる。
- 12.6.6 [CODE[implicit-bidi-method]]

** XSL モデル

[REFS[
- [55] [CITE[Extensible Stylesheet Language (XSL)]], [TIME[2017-10-02T10:21:49.000Z]], [TIME[2020-10-25T10:03:32.593Z]] <https://www.w3.org/TR/1998/WD-xsl-19980818>
]REFS]

- [CODE[writing-mode]], [CODE[[VAR[*]]-writing-mode]]
-- block-progression-direction
-- inline-progression-direction
-- escapement-direction
-- line-progression-direction
-- row-progression-direction
-- column-progression-direction
-- shift-direction
-- up-direction
-- [VAR[writing-mode-specifier]]
--- [CODE[lr-tb]] ([[既定値]])
--- [CODE[rl-tb]]
--- [CODE[tb-rl]]
--- [CODE[lr-bt]]
--- [CODE[rl-bt]]
--- [CODE[tb-lr]]
--- [CODE[bt-lr]]
--- [CODE[bt-rl]]
--- [CODE[lr-alternating-rl-tb]]
--- [CODE[lr-alternating-rl-bt]]
--- [CODE[lr-inverting-rl-tb]]
--- [CODE[lr-inverting-rl-bt]]
--- [CODE[tb-rl-in-rl-pairs]]
-- starting-edge, ending-edge
- [CODE[method-implicit-bidi]]

[56] このとき導入されたモデルが基本的にそのまま踏襲されたようです。

[[XSL]] → [[XSL 1.0]] ([[XSL-FO]]) → [[XSL 1.1]]

- [57] [CITE[Extensible Stylesheet Language (XSL)]], [TIME[2017-10-02T10:21:49.000Z]], [TIME[2020-10-25T10:13:24.595Z]] <https://www.w3.org/TR/1998/WD-xsl-19981216>
-- [58] [CODE[writing-mode]] 関連はやや整理が進むが基本は同じ
-- [59] [[bidi]] は [[Unicode Bidirectional Algorithm]] に
-- [62] start-edge, end-edge, before-edge, after-edge など
-- [76] up-direction に関係して
[CODE[vertical-roman-orientation]] = [CODE[vertical]]/[CODE[perpendicular]]
というのが出てくる
<https://www.w3.org/TR/1998/WD-xsl-19981216#fm-up-direction>
が、定義なし。
- [60] [CITE[Extensible Stylesheet Language (XSL)]], [TIME[2017-10-02T11:00:35.000Z]], [TIME[2020-10-25T10:15:31.897Z]] <https://www.w3.org/TR/1999/WD-xsl-19990421/>
-- [61] [CODE[fo:bidi-override]]
-- [63] [[CSS]] との統合が本格的に始まる
-- [77] 
[CODE[reference-orientation]] に90度単位で向きを指定できる
<https://www.w3.org/TR/1999/WD-xsl-19990421/#reference-orientation>
-- [64] [CODE[i18n-format]] が指していたのはここ

[65] この少し前に 
[[Microsoft]]
が
[[CSS]]
の追加機能として
[CODE[i18n-format]]
を提案していました。
[[書字方向]]指定は
[CODE['[[layout-flow]]']]
を使っていました。
そちらは
[[XSL]]
との統合で廃止され、
その後は
[[CSS]]
も
[CODE[writing-mode]]
を採用しました。


- [66] [CITE[Extensible Stylesheet Language (XSL)]], [TIME[2017-10-02T10:23:25.000Z]], [TIME[2020-10-26T08:47:18.476Z]] <https://www.w3.org/TR/2000/WD-xsl-20000112/#writing-mode>
- [71] [CITE[Extensible Stylesheet Language (XSL)]], [TIME[2017-10-02T10:23:25.000Z]], [TIME[2020-10-26T08:56:33.865Z]] <https://www.w3.org/TR/2000/WD-xsl-20000112/#writing-mode-add>
- [78] [CITE[Extensible Stylesheet Language (XSL)]], [TIME[2017-10-02T10:23:25.000Z]], [TIME[2020-10-26T09:44:15.652Z]] <https://www.w3.org/TR/2000/WD-xsl-20000112/#glyph-orientation-horizontal>

[67] 前の WD (>>60) では全バリエーションが定義されていましたが、
この WD から本体[[規定]]と附属書に分離されました。

- [68] 本体 (既存): [CODE[lr-tb]], [CODE[rl-tb]], [CODE[tb-rl]]
- [69] 本体 (新): [CODE[lr]] (= [CODE[lr-tb]]), [CODE[rl]] (= [CODE[rl-tb]]),
[CODE[tb]] (= [CODE[tb-rl]])
- [72] 追加: その他の既存値

[73] 追加の値は、
「for more extensive internationalization support」 [SRC[>>71]]
のための追加の値だと説明されていました。

[70] 
選択の理由は
「covers the base writing-modes that are used as the official languages of the United Nations」
[SRC[>>66]]
と説明されました。 
[[国際連合]]の[[公用語]]は
[[Arabic]], [[Chinese]], [[English]], [[French]], [[Russian]], [[Spanish]]
とされます。
[[国際連合]]が[[書字方向]]まで定めているのか不明ですが、
この各言語の現代の正式な[[書字方向]]は、
[CODE[lr-tb]] か [CODE[rl-tb]]
です。
([[Chinese]] が現[[国際連合]]加盟国である[[中華人民共和国]]の[[中文]]だとする場合。)
この理由付けからは [CODE[tb-rl]] が含まれた理由がよくわかりません。

;; [82] 
[[W3C]] は[[国際連合]]の機関ではないですし、
[[XSL]] は[[国際連合]]の採用言語という話も聞いたことがありません。
スポンサーか何か[[政治的]]な事情があったのでしょうか?



[81] 
[[XSL]] と何の関係があるのかわからない[[国際連合]]云々という基準で、
[[モンゴル文字]]で使われる [CODE[tb-lr]] 
は追加の値に格下げされました。

[79] 
向きの指定は
[CODE[glyph-orientation-horizontal]],
[CODE[glyph-orientation-vertical]]
で90度単位で指定できるようになりました。
I18N, CSS, SVG 
と協同で議論中とありました。
[SRC[>>78]]
結局 [[XSL 2.0]] の最期までほぼそのままでした。
[CODE[reference-orientation]] 
も残され、 [[XSL 2.0]] の最期まで存続しました。

[80] 
[CODE[glyph-orientation-vertical]]
には
[CODE[auto]]
があり、
全角の漢字とラテン文字は 0、
それ以外は 90 とされました。
漢字用句読点とその他漢字的文字は[[横書き字形]]、[[縦書き字形]]の別があるとき[[縦書き字形]]を使うとされました。
回転する文字の決定は[[利用者エージェント]]依存で、
country, language, script, character properties, font, character context
によって複雑で、
[[UTR #11]],
[[JIS]],
その他[[国家標準]]に従うのが良いとされました。





-*-*-

[1] [[XSL 1.0]]

,値	,行内部品・文の進行	,ブロックの進行	,シフト方向
,[CODE(XSL)[lr-tb]] ([CODE(XSL)[lr]])	,→	,↓	,↑
,[CODE(XSL)[rl-tb]] ([CODE(XSL)[rl]])	,←	,↓	,↑
,[CODE(XSL)[lr-bt]]	,→	,↑	,↑
,[CODE(XSL)[rl-bt]]	,→	,↑	,↑
,[CODE(XSL)[lr-alternating-rl-bt]]	,→ (奇数) ← (偶数)	,↑	,↑
,[CODE(XSL)[lr-alternating-rl-tb]]	,→ (奇数) ← (偶数)	,↓	,↑
,[CODE(XSL)[lr-inverting-rl-bt]]	,→ (奇数) ← (偶数)	,↑	,↑ (奇数) ↓ (偶数)
,[CODE(XSL)[lr-inverting-rl-tb]]	,→ (奇数) ← (偶数)	,↓	,↑ (奇数) ↓ (偶数)
,[CODE(XSL)[tb-lr]]	,↓	,→	,←
,[CODE(XSL)[tb-rl]] ([CODE(XSL)[tb]])	,↓	,←	,→
,[CODE(XSL)[tb-lr-in-lr-pairs]]	,↓	,←	,→
,[CODE(XSL)[bt-lr]]	,↑	,→	,←
,[CODE(XSL)[bt-rl]]	,↑	,←	,→

''Formatting Properties 7.27.7 "writing-mode"'' <http://www.w3.org/TR/xsl/slice7.html#writing-mode>

''Internationalization A.1 Additional "writing-mode" values'' <http://www.w3.org/TR/xsl/sliceA.html#writing-mode-add>

- [2] 表で、シフト方向とは、[[基線]]類の調整方向。
- [3] 注意する必要があるのは [[Unicode]] の [[bidi]] 算法との関係 (横書き系の時に影響) と、[[グリフ]]の向きかな。


[REFS[
- [121] [CITE@ja[[[Antenna House]] によるXSL拡張仕様]],
Apr 24, 2003,
Rev	Sep 8, 2003,
[TIME[2015-05-29T04:41:14.000Z]], [TIME[2020-10-28T07:48:55.406Z]]
<https://www.antenna.co.jp/XML/axf-extension/axf-extension.htm#writing-mode>
]REFS]

[122] 
数少ない
[[XSL]]
の実装の中でもよく普及していたという
[[アンテナハウス]]の
[[XSL Formatter]]
は、
[CODE[writing-mode]]
を独自に拡張していました。 

- [123] 標準の値:
[CODE[lr-tb]] = [CODE[lr]],
[CODE[rl-tb]] = [CODE[rl]],
[CODE[tb-rl]] = [CODE[tb]]
- [124] 独自の値:
[CODE[lr-bt]],
[CODE[rl-bt]],
[CODE[tb-lr]],
[CODE[bt-rl]],
[CODE[bt-lr]]

[125] 独自とはいっても附属書には入っていました。

[REFS[
- [74] [CITE@EN[Extensible Stylesheet Language (XSL) Version 1.1]], [TIME[2017-10-02T10:31:36.000Z]], [TIME[2020-10-26T09:26:37.124Z]] <https://www.w3.org/TR/2006/CR-xsl11-20060220/#writing-mode>
]REFS]

[75] その後の [[XSL 1.0]] [[W3C勧告]]や [[XSL 1.1]] 案は附属書と分離された状態のままでしたが、
[[XSL 1.1]] の [[CR]] でなぜか本体に再統合されました。
その後の版では統合されたままで、
[[XSL 2.0]] の最期に至りました。


- [47] [CITE@EN[Extensible Stylesheet Language (XSL) Version 2.0]], [TIME[2018-10-09T13:22:10.000Z]], [TIME[2020-10-23T12:51:15.244Z]] <https://www.w3.org/TR/xslfo20/#d2e425>
- [48] [CITE@EN[Extensible Stylesheet Language (XSL) Version 2.0]], [TIME[2018-10-09T13:22:10.000Z]], [TIME[2020-10-23T12:51:56.425Z]] <https://www.w3.org/TR/xslfo20/#writing-mode>
-
[49] [CITE@EN[Extensible Stylesheet Language (XSL) Version 2.0]], [TIME[2018-10-09T13:22:10.000Z]], [TIME[2020-10-23T12:54:36.278Z]] <https://www.w3.org/TR/xslfo20/#writing-mode-related>

-*-*-

[REFS[
- [86] [CITE@en[CSS3 module: text]], [TIME[2017-10-02T10:24:23.000Z]], [TIME[2020-10-27T11:13:02.631Z]] <https://www.w3.org/TR/2001/WD-css3-text-20010517/#TextLayout>
]REFS]

[87] 
[[CSS]]
に提案されていた
[CODE[layout-flow]]
モデルは
[[XSL]]
との統合で破棄されました。
[[CSS Text]]
で
[[XSL]]
との統合モデルに基づく
[CODE[writing-mode]]
が導入されました。
これは
[[XSL]] (附属書含む) のサブセットになっていました。

- [88] [CODE[writing-mode]]: 
[CODE[lr-tb]] = [CODE[lr]],
[CODE[rl-tb]] = [CODE[rl-tb]],
[CODE[tb-rl]] = [CODE[tb]],
[CODE[tb-lr]],
[CODE[bt-rl]],
[CODE[bt-lr]]
- [89] [[CSS2]] からあった [CODE[direction]] は統合されて再定義
- [90] [[縦中横]]は入れ子の要素の [CODE[writing-mode]] で記述
- [91] [CODE[glyph-orientation-vertical]], [CODE[glyph-orientation-horizontal]]
は [[XSL]] とほぼ同じ
- [92] [CODE[unicode-bidi]]
- [95] [[XSL]] と同じ start, end, before, after

[102] 
[[XSL]] (附属書含む) の有り得そうな組合せ全部に比べると、
使わなそうな [CODE[writing-mode]]
は省かれていますが、
lr/rl と tb/bt は一応全組み合わせ用意されています。
[[XSL]] (本体のみ) のよくわからない選択基準よりは論理的なサブセットにみえます。

[93] [[XSL]] の [CODE[glyph-orientation-*]] は最初から最後まで90度単位でしたが、
[[CSS]] は実装に

- 0度だけ
- 90度単位
- 任意

... の[[実装水準]]の選択を許していました。
([[XSL]] も [[CSS]] も対応している直近の角度に丸めるとされていました。)

[103] 
[[書字方向]]の記述に使わなそうな (装飾的な使い道はあるかもしれない) 
任意の角度まで認めているのは
[[XSL]] より記述能力が高いですが、
実装してもしなくてもいいとは[[相互運用性]]ガン無視。


[94] 
[[CSS]]
は
vertical:90,270、
horizontal: 0,180
のとき
[[Unicode Bidi algorithm]]
を適用するとしていました。

[126] 
[[CSS]]
の
[[WD]]
の[[編集者]]に
[[MS]] の
[[Michel Suignard]]
と
[[W3C]]
の
[[Chris Lilley]]
の名前が挙がっていました。
[[Michel Suignard]]
は
[CODE[layout-flow]]
の
[[WD]]
[CODE[i18n-format]]
にも貢献者として挙がっていました
([CODE[i18n-format]] の[[編集者]]と貢献者は全員 [[MS]])。
おそらく
[CODE[writing-mode]]
にも
[[Michel Suignard]]
が主に関わったのでしょう。



-*-*-

[96] 
[[IE]]
は
[[CSS]] [[WD]] モデルの 
[CODE[writing-mode]]
の一部に対応していました。
従来の
[CODE[layout-flow]]
にも対応し続けました。

[[IE]]
の開発はその後凍結されており、
他の
[[Webブラウザー]]もなかなか追随できなかったため、
長らく 
[[IE]] + [CODE[writing-mode]]/[CODE[layout-flow]]
が
[[Web]]
上で[[縦書き]]を実現する唯一の手法でした。


[4]
[[Firefox]] 2 は実装していません。
([[名無しさん]])

[5]
[[Opera]] 9 では [[SVG 1.1]] で定義されている値が使えます。
([[名無しさん]])

[6]
[[WinIE 6]] では [CODE(CSS)@en[[[lr-tb]]]] と
[CODE(CSS)@en[[[tb-rl]]]] が使えます。
([[名無しさん]])

[7]
テスト用
<http://suika.fam.cx/gate/2007/cssom/viewer?c=p%20%7B%0D%0A%20%20writing-mode%3A%20tb-rl%3B%0D%0A%7D%0D%0A;h=%3Cp%3E%3Cbutton%20type%3Dbutton%20onclick%3D%22%0D%0A%20%20w%20(getComputedStyle%20(this.parentNode%2C%20null).writingMode)%3B%0D%0A%22%3E%3Ccode%3EgetComputedStyle%3C%2Fcode%3E%3C%2Fbutton%3E%0D%0A%3Cp%3E%3Cbutton%20type%3Dbutton%20onclick%3D%22%0D%0A%20%20w%20(this.parentNode.currentStyle.writingMode)%3B%0D%0A%22%3E%3Ccode%3EcurrentStyle%3C%2Fcode%3E%3C%2Fbutton%3E;p=n;x=style-element;i=html-div>
([[名無しさん]])

[8]
[[WinIE 6]] には [[DOM属性]] [CODE(DOMa)@en[[[writingMode]]]]
があります。
([[名無しさん]])

[9]
>>8 [CODE(DOMa)@en[[[currentStyle]]]]
で得られるのは[[指定値]] = [[算出値]] = [[使用値]]のようです。
([[名無しさん]])

[10]
[[Opera]] 9 には [[DOM属性]]がないようです。
[CODE(DOMm)@en[[[getComputedStyle]]]] や
[CODE(DOMa)@en[[[currentStyle]]]] では
[[DOM属性]]もなく、
[CODE(DOMm)@en[[[getPropertyValue]]]] でも[[空文字列]]しか得られません。

[11] [CITE@ja[縦書きHTML/CSSに関するメモ - 血統の森 web実験小屋]] ([TIME[2009-02-02 01:40:26 +09:00]] 版) <http://momdo.s35.xrea.com/web-html-test/vertical-text/index.html>

** CSS3 CR モデル

[REFS[
- [97] [CITE@en[CSS3 Text Module]], [TIME[2017-10-02T10:26:32.000Z]], [TIME[2020-10-27T11:37:31.703Z]] <https://www.w3.org/TR/2003/CR-css3-text-20030514/#TextLayout>
]REFS]

[98] 
[[XSL]] モデルを若干整理したもの。

- [100] [CODE[direction]]: [CODE[ltr]], [CODE[rtl]]
- [101] [CODE[block-progression]]: [CODE[tb]], [CODE[rl]], [CODE[lr]]
- [99] [CODE[writing-mode]]: 
[CODE[lr-tb]], [CODE[rl-tb]], [CODE[tb-rl]], [CODE[tb-lr]]
-- [CODE[direction]], [CODE[block-progression]] の [[shorthand]]
- [104] [CODE[glyph-orientation-vertical]]
-- 角度: 90度単位に丸められる
-- [CODE[auto]]: 
全角漢字、全角ラテン文字: 0度。
漢字句読点など: [[縦書きグリフ]]。
モンゴル文字: 0度。
その他: 90度。
-- [CODE[upright]]: 
0度、ただし[[縦書きグリフ]]。 (詳細[[利用者エージェント]]依存)
-- [CODE[inline]]:
[[Unicode Bidirectional Algorithm]] の [[embedding level]] により決める。
全角漢字、、全角ラテン文字: 0度。
漢字句読点など: [[縦書きグリフ]]。
モンゴル文字: 0度。
その他、
[[embedding level]] 偶数: 90度、奇数: -90度。
(つまりすべて上から下に並べる)
-- [CODE[auto]] と90度が実装必須。
- [107] [CODE[glyph-orientation-horizontal]]
-- 角度: 90度単位に丸められる
全角漢字、、全角ラテン文字: 0度。
漢字句読点など: [[横書きグリフ]]。
モンゴル文字: 90度。
その他: 0度。
-- [CODE[inline]]:
[[Unicode Bidirectional Algorithm]] の [[embedding level]] により決める。
全角漢字、、全角ラテン文字: 0度。
漢字句読点など: [[横書きグリフ]]。
その他、
[[embedding level]] 偶数: 0度、奇数: 180度。
(つまりすべて左から右に並べる)
-- [CODE[auto]] と0度が実装必須。
- [105] [CODE[unicode-bidi]]
- [106] [[縦中横]]は入れ子の要素に [CODE[writing-mode]]

[127] 
[[CR]]
の[[編集者]]は
[[MS]]
の
[[Michel Suignard]]
でした。

[129] 
この
[[CR]]
は実装困難として再検討されることになりました。
この当時の
[[CSS WG]]
の議事は非公開で、
断片的な情報しかありませんが、
[TIME[西暦2004年][year:2004]]には書き直しが始まり、
[TIME[西暦2005年][year:2005]]には新しい
[CITE[CSS3 Text Effects Module]] [[WD]] が公開されました
(が[[書字方向]]関係は 
[CITE[Text Layout]] module
に分離するとして、
削除されていました)。
[SEE[ [[CSS Text]] ]]

[130] 
[TIME[2005-06-27]]の
[CITE[CSS3 Text Effects Module]]
[[WD]]
の[[編集者]]は
[[fantasai]]
でした。
[[fantasai]]
は
[TIME[2004-10-20]]に、
[CITE[CSS3 Text]]
の改訂作業中で[[縦書き]]の扱いを検討していると書いていました
[SRC[>>83]]。
この当時はまだ分離する決定がなされていなかったのでしょう。

[133] 
[[fantasai]]
は
[[CR]]
当時から技術的な懸念を指摘していました。

[REFS[
- [131] [CITE@en[Re: CSS3 Text: Multi-Directional Scripts in Vertical Inline Progression]], [[fantasai]], [TIME[2003-04-16 06:44:04 +09:00]], [TIME[2016-05-02T14:27:07.000Z]], [TIME[2020-10-29T06:12:46.196Z]] <https://lists.w3.org/Archives/Public/www-style/2003Apr/0116.html>
- [132] [CITE@en[Re: [css3-text] Before It Becomes a PR]] ([[fantasai]] 著, [TIME[2003-07-14 13:03:15 +09:00]] 版) <http://lists.w3.org/Archives/Public/www-style/2003Jul/0146.html>
]REFS]

[134] 
分離後の CSS3 Text Layout
は、
非公開の
[[CSS WG]]
内部案が
<https://www.w3.org/Style/Group/css3-src/css3-text-layout/>
にあったとされます。その内容は不明ですが、
[TIME[2007-12-15]]に
[[fantasai]]
が仕切り直しに当時の版を
[[CVS]]
に追加したものが公開されています [SRC[>>116]]。
[[CR]]
と比べると:

- [135] [CODE[writing-mode]] に [CODE[bt-rl]], [CODE[bt-lr]] 追加
- [136] [CODE[glyph-orientation-*]] 削除
-- 廃止なのかどこか他に移動されたのか不明

[137] 
[[編集者]]は
[[MS]]
の
[[Paul Nelson]]
とされていました。
[[fantasai]]
の検討は反映されなかったのでしょうか。


** fantasai モデル


[139] 
[[fantasai]]
は
[[CSS]]
の[[縦書き]]モデルを再検討し、
[TIME[西暦2004年][year:2004]]から[TIME[2005年][year:2005]]にかけて、
[[CSS]]
と
[[Unicode]]
の関係者に向けた[[論文]]として発表しました。
[[Unicode Consortium]]
では
[DFN[UTN #22]]
と呼ばれています。

[140] 
本論文は[[縦書き]]と[[横書き]]の混植事例を分析し、
適度に一般化した形で整理した上で、
これを [[CSS]] で実現する手法を提案していました。

[141] 
縦横混植を[[言語]]や[[用字系]]によらない一般化したモデルで記述し、
現実的に実現可能な手法を示したのは初めてかもしれません。
これより前に公開されたものは見当たりません。
現在からみても非常に優れた分析です。


[142] Logical Text Layout [SRC[>>138]]:

- [144] 必要な script 情報
-- script の horizontal directionality: ltr, rtl, none
-- script の vertical directionality: ttb, btt, none
-- script の orientational category: horizontal, vertical
([[蒙古文字]]など), bi-orientational ([[漢字]], [[Ogham]] など)
-- 縦書き script の bi-orientational transformation:
rotate ([[蒙古文字]]、[[Ogham]] など),
translate ([[正立]]。 [[CJK]])
- [145] block of text の設定
-- what block progression to use
-- how to orient non-native text: rotate right, rotate left, stay upright

[146] 
基本は [[script]] 本来の性質から導かれる自然な方向に組んでいき、
混在時の扱いなど2点だけ指定されたものに従えばいい。
(このモデルが導出された根拠は本文参照。)


[143] 実装案 [SRC[>>138]]:

- [[Unicode]] の制御文字、 [[HTML]] [CODE[dir=""]], [[CSS]] [CODE[direction]]:
既存 [CODE[ltr]], [CODE[rtl]] + 新
[CODE[ttb]], 
[CODE[ltr-ttb]], [CODE[ltr-btt]]
- [CODE[block-progression]]: [CODE[TB]], [CODE[RL]], [CODE[LR]]
- [CODE[text-orientation-vertical]]:  
[CODE[natural]], [CODE[left]], [CODE[right]], [CODE[upright]]
- [CODE[text-orientation-horizontal]]: 同様

[147] これを [[Unicode Bidirectional Algorithm]] といかに統合するかも述べていました。
[[bidi]] アルゴリズムとの関係性もこれまでのどの仕様案より踏み込んで検討していました。

[148] 
[[縦中横]]には言及しておらず、どう考えていたのか不明です。
CSS3 CR にも[[縦中横]]の例はあったので、
[[fantasai]]
も存在は知っていたはずです。
本[[論文]]は一次元に文字が並ぶ行を扱っていて、
[[縦中横]]以外にも[[割注]]、[[ルビ]]、[[数式]]といった構造には言及していませんでした。



[REFS[
- [83] [CITE@en[CSS3, Unicode BIDI, and Vertical Text Layout]], [[fantasai]], [TIME[2004-10-21 03:18:24 +09:00]], [TIME[2016-05-02T14:27:15.000Z]], [TIME[2020-10-27T09:48:26.849Z]] <https://lists.w3.org/Archives/Public/www-style/2004Oct/0083>
- [84] [CITE@en[Robust Vertical Text Layout]], [TIME[2010-09-28T12:16:48.000Z]], [TIME[2020-10-27T09:50:31.868Z]] <http://fantasai.inkedblade.net/style/discuss/vertical-text/>
- [85] [CITE@en[Robust Vertical Text Layout]], [TIME[2009-04-13T23:27:34.000Z]], [TIME[2020-10-27T09:52:27.241Z]] <http://fantasai.inkedblade.net/style/discuss/vertical-text/paper>
- [128] [CITE[fantasai 26: CSS and Multi-Script Text]], 
2005-02-14,
[TIME[2019-05-13T04:14:51.000Z]], [TIME[2020-10-29T05:48:02.718Z]] <http://fantasai.inkedblade.net/weblog/2005/international-text/>
- [138] [CITE@en-us[UTN #22: Robust Vertical Text Layout]], 
April 25, 2005,
[TIME[2005-04-26T00:29:12.000Z]], [TIME[2020-10-29T06:25:03.741Z]] <https://www.unicode.org/notes/tn22/>
]REFS]

[151] 
[[UTN #22]]
の提案はその後
[[Unicode]]
側では進展しなかったようです。
[[CSS]]
側も、
[[fantasai]]
が
[[CSS 2.1]]
など他の課題に取り組んでおり、
長らく手つかずでした。
その間[[書字方向]]は
[CITE[CSS3 Text Layout]]
として分離され別の[[編集者]]が割り当てられましたが、
ほとんど進展しませんでした (>>134)。

[152] 
[TIME[2007-12-15]]、
[[fantasai]]
は
[[CSS WG]]
の公開
[[CVS]]
で
[[ED]]
を公表しました [SRC[>>116]]。
[TIME[2008-10-08]]、
[CODE[block-progression]]
が
[CODE[block-flow]]
に改称されました
[SRC[>>174]] (その後[TIME[2010年][year:2010]]に巻き戻った後再改称)。
おそらく
[[UTN #22]]
モデルに合わせて整理しようと試みていたのでしょうが、
ほとんど進んでいませんでした。

[153] 
[TIME[西暦2010年][year:2010]]、
[[CSS]]
を使った
[[EPUB]]
の[[日本語]]対応に関与していた[[アンテナハウス]]の関係者が改善を要望しました
[SRC[>>12]]。これを契機に
[[fantasai]]
と共に[[アンテナハウス]]の関係者が[[編集者]]に加わりました。
[TIME[2010年9月][2010-09]]、
[[fantasai]]
は[[日本]]滞在中に[[アンテナハウス]]社を訪問し、
全面的な改訂に着手しました [SRC[>>115, >>118, >>149]]。

[180] 
[[EPUB]]
の日本企業の関係者らは、
この間の[TIME[6月][2010-06]]に、
当時の案から
[CODE[writing-mode]] の [CODE[lr-tb]], [CODE[tb-rl]]
への対応が
([[EPUB]] の[[日本語]]対応には)
必要であるとしていました
[SRC[>>179]]。


[154] 再始動してからの一連の作業が反映された[TIME[2020-12-02]] [[WD]]:

- [155] block flow direction: horizontal writing mode (downward/upward),
vertical writing mode (leftward/rightward)
- [156] line orientation: under/over
-- [157] glyph orientation

- [158] [CODE[direction]]. [CODE[unicode-bidi]]
- [159] [CODE[writing-mode]]:
[CODE[horizontal-tb]],
[CODE[vertical-lr]],
[CODE[vertical-rl]]
-- [160] [[SVG 1.1]] compat: 
[CODE[lr]], [CODE[lr-tb]], [CODE[rl]] = [CODE[horizontal-tb]];
[CODE[tb]], [CODE[tb-rl]] = [CODE[vertical-rl]]
- [161] [CODE[text-orientation]]
-- [162] [CODE[vertical-right]]: 
vertical writing mode: 
非縦 script: [[時計回りに90°回転]]。
それ以外: [[縦書きグリフ]]があれば採用。
-- [163] [CODE[upright]]:
vertical writing mode:
非縦 script: [[正立]]、[[孤立形]]。
それ以外: [[縦書きグリフ]]があれば採用。
(すべて[[強LTR]]扱い。)
-- [164] [CODE[rotate-right]]:
vertical writing mode:
[[時計回りに90°回転]]。
[[横書きグリフ]]。
-- [165] [CODE[rotate-left]]:
vertical writing mode:
[[反時計回りに90°回転]]。
[[横書きグリフ]]。
-- [166] [CODE[rotate-normal]]:
[CODE[vertical-rl]] なら [CODE[rotate-right]], 
[CODE[vertical-lr]] なら [CODE[rotate-left]]。
-- [167] [CODE[auto]]:
[[SVG 1.1]]: [CODE[glyph-orientation-horizontal]],
[CODE[glyph-orientation-vertical]] に従う。
それ以外: [CODE[vertical-right]]。
- [168] [CODE[text-combine]]: [CODE[none]], [CODE[horizontal]] <number>?:
vertical writing mode:
1文字分の大きさで横書き。
[[縦中横]]用。

[169] 旧 [CODE[writing-mode]] ([CODE[direction]] と [CODE[block-flow]]
の [[shorthand]])
は破棄されました。
[CODE[block-flow]] は新 [CODE[writing-mode]] に改称されました。
[CODE[writing-mode]] と [CODE[direction]] (および [[bidi]])
は分離され、
[CODE[writing-mode]] の特性値が一新されましたが、
[[SVG 1.1]] が既に旧 [CODE[writing-mode]] 
を使っていたので、
block flow direction 部分だけを読み取って読み替えることにしました。
(結果的に [[IE]] の [CODE[writing-mode]] との互換性も保たれましたが、
意図的にそうしたのか不明。)

[175] 
この [[WD]] 以前の [[ED]] に一時
[CODE[[[block-flow]]: [[bt]]]] [SRC[>>174]],
[CODE[[[writing-mode]]: [[horizontal-bt]]]]
がありましたが、削除されました。
完全性のために追加したものの、
実用性から削除したといったところでしょうか。
過去の [[CSS]] 案になく、
[[XSL]] モデルに相当するものがあるくらいです。

[178] 
[[下から上の縦書き]] (具体例は [[Ogham]]) は未対応とされました。
[CODE[text-orientation]] で一応表示させられないことはありません。

[170] 
5年前の提案と比べると text orientation
が横書き用、縦書き用が合体し、かつ [[SVG 1.1]]
との互換性のため、やや理論的整合性を欠くようになったこと、
[[縦中横]]に対応したことが違います。


[171] 
[CODE[text-combine]] は [[CR]] 時点で[[組み文字]] ([CODE[letters]])
と[[割注]] ([CODE[lines]]) のための機能でしたが [SRC[>>97]]、
その後分離されていました (>>129)。
ただ分離後に公開された最古の ED には既に含まれていませんでした [SRC[>>116]]。
[[縦中横]]用として再追加されたとき、
[CODE[block]] ([[組み文字]])
と
[CODE[upright]]
がありました [SRC[>>172]]。
後者が[[縦中横]]用に新規追加されたものなので、
[CODE[block]] は非公開時代の最終案にでもあったのでしょうか。
(再追加時点で、 [[JLREQ]] にないので一旦削除するか?と注釈がありました。
実際その後削除されました。なお削除前に一時 [CODE[cluster]] と改称されました。)
ともかく、
この時点で
[CODE[text-combine]]
は
「複数の文字を組合せて1文字扱いにする」
機能のようです。
([[割注]]は「1文字」ではないので、分離か削除されたのでしょう。)

;; [173] 
これ以前は
[CODE[i18n-format]]
由来の
「[V[縦中横[YOKO[1996]]です。]]」
という[[横書き]]部分が[[行]]からはみ出した例が示されていました。
それがこれ以来 [[JLREQ]]
由来の
「[V[平成[YOKO[20]]年[YOKO[4]]月[YOKO[16]]日に]]」
という例に変わりました。
1文字サイズに収めない[[縦中横]]は対象外になったようです。



[REFS[
- [116] [CITE@en[csswg-drafts/Overview.html at 05a31b59dd48be7e1019b863d6d365d5d415bde9 · w3c/csswg-drafts · GitHub]],
15 Dec 2007,
[TIME[2020-10-27T13:45:15.000Z]] <https://github.com/w3c/csswg-drafts/blob/05a31b59dd48be7e1019b863d6d365d5d415bde9/css3-writing-modes/Overview.html>
-- [117] [CITE@en[CSS3 Text Layout Module]], [TIME[2020-10-27T13:45:37.000Z]] <https://rawgit.com/w3c/csswg-drafts/05a31b59dd48be7e1019b863d6d365d5d415bde9/css3-writing-modes/Overview.html>
- [115] [CITE@en[History for css3-writing-modes - w3c/csswg-drafts · GitHub]], [TIME[2020-10-27T13:43:41.000Z]] <https://github.com/w3c/csswg-drafts/commits/d8c059fc2e79f0afab09665108ebec507d997700?after=d8c059fc2e79f0afab09665108ebec507d997700+349&branch=d8c059fc2e79f0afab09665108ebec507d997700&path%5B%5D=css3-writing-modes>
-- [120] [CITE[CVS log for csswg/css3-writing-modes/Attic/Overview.src.html]], [TIME[2020-10-28T03:40:54.000Z]] <https://dev.w3.org/cvsweb/csswg/css3-writing-modes/Attic/Overview.src.html>
- [12] [CITE@en['''['''css3-text-layout''']''' writing-mode issues and requests]]
([[MURAKAMI Shinyu]] 著, [TIME[2010-04-08 18:34:47 +09:00]] 版)
<http://lists.w3.org/Archives/Public/www-style/2010Apr/0278.html>
- [150] [CITE@en['''['''CSSWG''']''' Minutes and Resolutions 2010-04-14]], [[fantasai]], [TIME[2010-04-22 04:55:46 +09:00]], [TIME[2020-01-17T22:49:40.000Z]], [TIME[2020-10-30T00:16:11.053Z]] <https://lists.w3.org/Archives/Public/www-style/2010Apr/0455.html>
- [174] [CITE@en[Improve terminology, pass 1.]], [[fantasai]], [TIME[2010-05-05 15:23:35 +09:00]], [TIME[2020-10-30T01:50:18.000Z]] <https://github.com/w3c/csswg-drafts/commit/69e1dd91f713a5d77e9fe361dfbda2176cdebb34#diff-0d4149424c02ed4b66e9c349649597ebf797fffed46c857ff115823c7934a34a>
- [179] [CITE@ja[[[EPUB]]仕様の日本語組版拡張を目指して(Version 0.8)]], 
2010年6月1日,
[TIME[2010-07-08T13:02:49.000Z]], [TIME[2020-10-30T03:09:15.397Z]] <http://nadita.com/murakami/epub/epub_JapaneseTextLayout_ja.html#Section_writing_mode_prop>
- [172] [CITE@en[Use text-combine for tate-chu-yoko per jdaggett's suggestion to have …]], [[fantasai]], [TIME[2010-09-29 02:43:41 +09:00]], [TIME[2020-10-30T01:27:07.000Z]] <https://github.com/w3c/csswg-drafts/commit/feb9c0d2181f22571ed23092dbfdde81935ae1c9#diff-368d2e06328407a95b4ef33916cd3c9edc74f7691b4bfccd3237b67e4965f64a>

[118] [CITE@ja[[[fantasai]]と日本語組版 ​思い出と功績を日本人関係者が振り返る]], 
[[小林龍生]],
[[村田真]],
[[​下川和男]],
[TIME[2020-10-28T02:19:39.000Z]] <https://www.aplab.jp/fantasai-and-japanese-text-layout>

>2010年9月25日から10月4日まで、fantasaiを新宿のイースト、4階の6坪ほどの会議室に閉じ込めて、CSS Textの第一稿(Editor’s Draft)を書いてもらった。

[119] 
流石に言葉の綾だと信じたいが、こういう表現で自分達の (手によって導いたという) 「功績」を誇る人にはなりたくないものだ。

- [149] [CITE@ja[私のゴールは世界中の言語でCSSを使えるようにすること EPUB3で縦書きを実現した、[[fantasai]](エリカ・エテマッド)に聞く]], [TIME[2020-10-29T09:41:23.000Z]] <https://www.aplab.jp/fantasai>
- [114] [CITE@en[History for css3-writing-modes - w3c/csswg-drafts · GitHub]], [TIME[2020-10-27T13:43:15.000Z]] <https://github.com/w3c/csswg-drafts/commits/d8c059fc2e79f0afab09665108ebec507d997700?after=d8c059fc2e79f0afab09665108ebec507d997700+279&branch=d8c059fc2e79f0afab09665108ebec507d997700&path%5B%5D=css3-writing-modes>
- [40] [CITE@en[CSS Writing Modes Module Level 3]]
( ([TIME[2010-12-07 23:21:12 +09:00]] 版))
<http://www.w3.org/TR/2010/WD-css3-writing-modes-20101202/>
-
[13] [CITE@en[CSS Writing Modes Module Level 3]]
( ([TIME[2011-02-02 05:10:15 +09:00]] 版))
<http://www.w3.org/TR/2011/WD-css3-writing-modes-20110201/>
]REFS]

** 向き

[177] 
[TIME[平成23(2011)年3月][2011-03]]ごろから、
これまで ([[CSS]] 以外も) 
厳密に決め(られ)なかった、
[[文字]]の向きの個別具体的な挙動が定義されるようになりました [SRC[>>176]]。


[REFS[
- [176] [CITE@en[History for css3-writing-modes - w3c/csswg-drafts · GitHub]], [TIME[2020-10-30T02:48:49.000Z]] <https://github.com/w3c/csswg-drafts/commits/d8c059fc2e79f0afab09665108ebec507d997700?before=d8c059fc2e79f0afab09665108ebec507d997700+280&branch=d8c059fc2e79f0afab09665108ebec507d997700&path%5B%5D=css3-writing-modes>
-
[14] [CITE@en[CSS Writing Modes Module Level 3]]
( ([TIME[2011-04-28 23:05:20 +09:00]] 版))
<http://www.w3.org/TR/2011/WD-css3-writing-modes-20110428/>
-
[15] [CITE@en[CSS Writing Modes Module Level 3]]
( ([TIME[2011-05-31 22:58:14 +09:00]] 版))
<http://www.w3.org/TR/2011/WD-css3-writing-modes-20110531/>
-
[16] [CITE@en[CSS Writing Modes Module Level 3]]
( ([TIME[2011-08-31 20:20:00 +09:00]] 版))
<http://www.w3.org/TR/2011/WD-css3-writing-modes-20110901/>
-
[17] [CITE@en[CSS Writing Modes Module Level 3]]
( ([TIME[2012-05-01 07:23:33 +09:00]] 版))
<http://www.w3.org/TR/2012/WD-css3-writing-modes-20120501/>
-
[18] [CITE@en[CSS Writing Modes Module Level 3]]
( ([TIME[2012-11-15 23:15:29 +09:00]] 版))
<http://www.w3.org/TR/2012/WD-css3-writing-modes-20121115/>

[19] [[WinIE9]] は [CODE(CSS)@en[[[lr]]]], [CODE(CSS)@en[[[rl]]]], [CODE(CSS)@en[[[tb]]]],
[CODE(CSS)@en[[[lr-tb]]]], [CODE(CSS)@en[[[lr-bt]]]], [CODE(CSS)@en[[[rl-tb]]]], [CODE(CSS)@en[[[rl-bt]]]],
[CODE(CSS)@en[[[tb-lr]]]], [CODE(CSS)@en[[[rb-rl]]]], [CODE(CSS)@en[[[bt-lr]]]], [CODE(CSS)@en[[[bt-rl]]]]
に対応しています。 [CODE(CSS)@en[[[bt]]]] はなぜかありません。いずれも [[CSSOM]] 上のみならず[[レンダリング]]も変化します。

[20] [[Chrome]] は [CODE(CSS)@en[[[lr]]]], [CODE(CSS)@en[[[rl]]]], [CODE(CSS)@en[[[tb]]]],
[CODE(CSS)@en[[[lr-tb]]]], [CODE(CSS)@en[[[rl-tb]]]], [CODE(CSS)@en[[[rb-rl]]]] に対応しています。
[TIME[2013-09-07T02:21:18.00Z]]

[21] 現行 [[CSS3]] の [CODE(CSS)@en[[[horizontal-lr]]]], [CODE(CSS)@en[[[horizontal-rl]]]],
[CODE(CSS)@en[[[vertical-rl]]]] にはどのブラウザも対応していません。 [TIME[2013-09-07T02:21:51.400Z]]

[22] [[IE9]] は [CODE(CSS)@en[[[-ms-writing-mode]]]] を構文解析時に [CODE(CSS)@en[[[writing-mode]]]]
に置き換えるようです。 [CODE(CSS)@en[[[-ms-writing-mode]]]] の方には [[IDL属性]]は無いようです。

[23] [CITE[Text — SVG 2]]
( ([TIME[2013-06-13 22:56:31 +09:00]] 版))
<https://svgwg.org/svg2-draft/text.html#WritingModeProperty>

[24] [CITE@ja[日本語組版処理の要件(日本語版)]]
( ([[Japanese Layout Task Force]] 著, [TIME[2012-03-23 20:19:12 +09:00]] 版))
<http://www.w3.org/TR/jlreq/ja/#directional_factors_in_japanese_composition>

- [42] [CITE@en[History for css-writing-modes/Overview.src.html - w3c/csswg-drafts · GitHub]], [TIME[2020-10-27T13:40:19.000Z]] <https://github.com/w3c/csswg-drafts/commits/master?after=95ef3911fe15353351a191f320b17e06fcdac30e+69&branch=95ef3911fe15353351a191f320b17e06fcdac30e&path%5B%5D=css-writing-modes&path%5B%5D=Overview.src.html>
-
[25] [CITE@en[CSS Writing Modes Level 3]]
( ([TIME[2013-10-24 23:21:50 +09:00]] 版))
<http://www.w3.org/TR/2013/WD-css-writing-modes-3-20131024/>
-
[26] [CITE@en[CSS Writing Modes Level 3]]
( ([TIME[2013-11-23 01:24:00 +09:00]] 版))
<http://www.w3.org/TR/2013/WD-css-writing-modes-3-20131126/>
-
[27] [CITE@en[CSS Writing Modes Level 3]]
( ([TIME[2014-03-19 00:29:02 +09:00]] 版))
<http://www.w3.org/TR/2014/CR-css-writing-modes-3-20140320/>
-[41] [CITE@en[History for css-writing-modes/Overview.bs - w3c/csswg-drafts · GitHub]], [TIME[2020-10-27T13:36:37.000Z]] <https://github.com/w3c/csswg-drafts/commits/master?after=d9c2b5ae122f3cd6118f027b31aebd0f7da1f5f5+139&branch=d9c2b5ae122f3cd6118f027b31aebd0f7da1f5f5&path%5B%5D=css-writing-modes&path%5B%5D=Overview.bs>

[28] [CITE[IRC logs: freenode / #whatwg / 20141219]]
( ([TIME[2014-12-22 23:09:27 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20141219#l-130>

[29] [CITE[OASIS Open Document Format for Office Applications (OpenDocument) Version 1.2 - Part 1: OpenDocument Schema]]
([TIME[2011-09-29 13:00:00 +09:00]] 版)
<http://docs.oasis-open.org/office/v1.2/os/OpenDocument-v1.2-os-part1.html#a20_394style_writing-mode>

[30] [CITE@en[''''''[''''''css-writing-modes'''''']''''''''''''[''''''svg'''''']'''''' SVG and writing-mode]]
([[Koji Ishii]] 著, [TIME[2015-05-07 13:22:18 +09:00]] 版)
<https://lists.w3.org/Archives/Public/www-style/2015May/0092.html>

[31] [CITE@en[''''''[''''''css-writing-modes'''''']'''''' Update SVG 'writing-mode' values to compute throu… · w3c/csswg-drafts@8204f4d]]
([TIME[2015-10-06 13:14:33 +09:00]] 版)
<https://github.com/w3c/csswg-drafts/commit/8204f4d5fa23f4a640bc3d08afeb42d02560bb3e>

- [32] [CITE@en[CSS Writing Modes Level 3]]
( ([TIME[2015-12-15 05:45:58 +09:00]] 版))
<http://www.w3.org/TR/2015/CR-css-writing-modes-3-20151215/>
-
[33] [CITE@en[CSS Writing Modes Level 3]]
([TIME[2015-12-15 03:08:15 +09:00]] 版)
<https://drafts.csswg.org/css-writing-modes-3/>

[34] [CITE@en[409155 - writing-mode doesn't work on th or td elements - chromium - Monorail]]
([TIME[2016-12-11 23:44:27 +09:00]])
<https://bugs.chromium.org/p/chromium/issues/detail?id=409155>

-
[35] [CITE@en[Writing Modes PR & Testsuite]]
([[Geoffrey Sneddon]]著, [TIME[2017-01-13 07:48:24 +09:00]])
<https://lists.w3.org/Archives/Public/www-style/2017Jan/0024.html>
-
[36] [CITE@en[Re: Writing Modes PR & Testsuite]]
([[Geoffrey Sneddon]]著, [TIME[2017-02-10 01:34:25 +09:00]])
<https://lists.w3.org/Archives/Public/www-style/2017Feb/0047.html>

- [37] [CITE@en[CSS Writing Modes Level 3]]
([TIME[2017-12-06 14:47:48 +09:00]])
<https://www.w3.org/TR/2017/CR-css-writing-modes-3-20171207/>
- [38] [CITE@en[CSS Writing Modes Level 4]]
([TIME[2017-12-06 15:02:10 +09:00]])
<https://www.w3.org/TR/2017/WD-css-writing-modes-4-20171207/>
- 
[39] [CITE@en[Re: '''['''css-writing-modes''']''' Compatible proposal for a merge of direction  and writing-mode]]
([[fantasai]]著, [TIME[2018-01-16 07:14:57 +09:00]])
<https://lists.w3.org/Archives/Public/www-style/2018Jan/0059.html>
- [113] [CITE@en[CSS Writing Modes Level 3]], [TIME[2018-05-22T18:41:02.000Z]], [TIME[2020-10-27T12:09:23.398Z]] <https://www.w3.org/TR/2018/CR-css-writing-modes-3-20180524/>
- [112] [CITE@en[CSS Writing Modes Level 3]], [TIME[2019-07-29T07:03:19.000Z]], [TIME[2020-10-27T12:09:11.977Z]] <https://www.w3.org/TR/2019/CR-css-writing-modes-3-20190730/>
- [111] [CITE@en[CSS Writing Modes Level 3]], [TIME[2019-09-02T04:47:51.000Z]], [TIME[2020-10-27T12:08:58.501Z]] <https://www.w3.org/TR/2019/CR-css-writing-modes-3-20190903/>
- [110] [CITE@en[CSS Writing Modes Level 3]], [TIME[2019-10-22T09:47:46.000Z]], [TIME[2020-10-27T12:08:47.186Z]] <https://www.w3.org/TR/2019/PR-css-writing-modes-3-20191024/>
- [109] [CITE@en[CSS Writing Modes Level 3]], [TIME[2020-04-30T16:55:21.000Z]], [TIME[2020-10-27T12:08:25.562Z]] <https://www.w3.org/TR/2019/REC-css-writing-modes-3-20191210/>
- [108] [CITE@en[CSS Writing Modes Level 3]], [TIME[2020-10-27T11:08:23.000Z]], [TIME[2020-10-27T12:06:03.808Z]] <https://drafts.csswg.org/css-writing-modes-3/>
- [43] [CITE@en[CSS Writing Modes Level 4]]
([TIME[2019-02-01 10:07:02 +09:00]])
<https://drafts.csswg.org/css-writing-modes/>




[51] [CITE@en-us[Timed Text Markup Language 1 (TTML1) (Third Edition)]], [TIME[2020-08-20T18:38:18.000Z]], [TIME[2020-10-23T14:35:14.528Z]] <https://www.w3.org/TR/ttml1/#style-attribute-writingMode>


[50] [CITE@en-us[Timed Text Markup Language 2 (TTML2) (2nd Edition)]], [TIME[2020-07-28T01:59:54.000Z]], [TIME[2020-10-23T14:29:39.885Z]] <https://w3c.github.io/ttml2/#style-attribute-writingMode>

[52] [CITE@en[WebVTT: The Web Video Text Tracks Format]], [TIME[2019-12-16T16:42:48.000Z]], [TIME[2020-10-23T14:37:49.773Z]] <https://w3c.github.io/webvtt/#webvtt-cue-writing-direction>

[53] [CITE@en[WebVTT: The Web Video Text Tracks Format]], [TIME[2019-12-16T16:42:48.000Z]], [TIME[2020-10-23T14:39:43.246Z]] <https://w3c.github.io/webvtt/#webvtt-vertical-text-cue-setting>
