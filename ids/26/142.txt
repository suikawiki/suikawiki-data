* 仕様書

[REFS[
- [1] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2016-02-16 01:30:20 +09:00]] 版) <https://html.spec.whatwg.org/#resolve-a-module-specifier>
]REFS]

* 解決

[2] [DFN[[RUBYB[モジュール指定子の解決]@en[resolve a module specifier]]]]は、
[[モジュールスクリプト]][VAR[スクリプト]]と[[文字列]][VAR[指定子]]について、
次のようにします [SRC[>>1]]。

[FIG(steps)[
= [3] [VAR[結果]]を、[VAR[指定子]]に[[URL構文解析器]]を適用した結果に設定します。
= [4] [VAR[結果]]が失敗''以外''なら、
== [5] [VAR[結果]]を返します。
= [6] それ以外なら、
== [7] [VAR[指定子]]の先頭が [CODE[[[/]]]]、[CODE[[[./]]]]、[CODE[[[../]]]] のいずれかなら、
=== [10] [VAR[スクリプト]]の[F[[[基底URL]]]]について[VAR[指定子]]に[[URL構文解析器]]を適用した結果を返します。
== [8] それ以外なら、
=== [9] 失敗を返します。
]FIG]

[11] つまり[[絶対URL]]や[[絶対パス]]や [CODE[[[./]]]] や [CODE[[[../]]]]
から始まる [[URL]] なら、普通の [[URL]] と解釈します。
しかし [CODE[hogehoge]] など他の[[相対URL]]は将来の拡張のために予約されています [SRC[>>1]]。

[12] これは、
[[モジュールスクリプトの子孫のfetch]]と[[未実現値化包括的子孫モジュールスクリプト群]]で呼び出されます。
いずれも、[[モジュールスクリプト]]の[[fetch][スクリプトのfetch]]処理の一部分です。