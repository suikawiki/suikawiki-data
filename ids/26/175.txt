[13] [CODE(HTMLe)@en[[[script]]]] [[要素]]の [DFN[[CODE(HTMLa)@en[[[src]]]]]]
[[属性]]は、[[外部スクリプト資源]]の[[文字コード]]を表します。

* 代替

[14] この[[属性]]自体は[[非推奨]]ではありませんが、 [[UTF-8]]
以外の[[文字コード]]を [[Web]] 上で使う[['''べきではない''']]ので、
それに従っている限り、この[[属性]]の出番はありません。
基本的には過去の[[文書]]との互換性のためのものなので、
新しい[[文書]]は使うべきではありません。

* 仕様書

[REFS[
- [1] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2016-02-16 01:30:20 +09:00]] 版) <https://html.spec.whatwg.org/#the-script-element>
-- [3] '''[CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2016-02-21 07:50:23 +09:00]] 版) <https://html.spec.whatwg.org/#attr-script-charset>'''
]REFS]

* 意味

[6] [CODE(HTMLa)@en[[[charset]]]] [[属性]]は、
[[外部スクリプト資源]]の[[文字符号化]]を指定するものです [SRC[>>3]]。

[HISTORY[
[16] かつては[[ヒント]]とも考えられていましたが、
実際には[[文字コード]]の決定に強く関わる指定となっています。
]HISTORY]

* 属性値

[11] [[属性値]]は、[[符号化ラベル]]に [[ASCII大文字・小文字不区別]]で[[一致]]するものでなければ[['''なりません''']]
[SRC[>>3]]。

[12] [[属性値]]は、[[外部スクリプト資源]]の[F[[[Content-Typeメタデータ]]]]の
[F[[CODE(MIME)@en[[[charset]]]]]] の値 (あれば) と同じ[[符号化]]を表さなければ[['''なりません''']]
[SRC[>>3]]。

* 文脈

[8] [CODE(HTMLe)@en[[[script]]]] [[要素]]の種別が[[古典スクリプト]]の時、
指定できます。

[10] ただし [CODE(HTMLa)@en[[[src]]]] [[属性]]が指定されていなければ、
指定しては[['''なりません''']] [SRC[>>3]]。

[9] [CODE(HTMLe)@en[[[script]]]] [[要素]]の種別が[[モジュールスクリプト]]や[[データブロック]]の時は、
[CODE(HTMLa)@en[[[charset]]]] [[属性]]を使っては[['''なりません''']] [SRC[>>3]]。

* 処理

[17] [CODE(HTMLe)@en[[[script]]]] を参照。

* 歴史

** HTML4

[REFS[
- [2] [[HTML4]]
-- [CITE[18.2.1 The [CODE(HTMLe)[SCRIPT]] element]]
<https://www.w3.org/TR/html4/interact/scripts.html#edef-SCRIPT>
]REFS]

[4] この属性は [CODE(SGML)[%[[Charset]]]]
です。つまり、 [[IETF]] [[charset]] を指定します。
[[SGML]] 的には [CODE(SGML)[[[CDATA]]]] です。

[5] この属性は省略可能です。

[7] [CODE(HTMLe)[script]] 要素では、要素の[[内容]]には関係しません
[SRC[HTML 4 18.2.1]]。逆に言えば指定してもいいけど無視されるということでしょうか。

** モジュールスクリプト

[15] 2016年に [[HTML Standard]] で規定された[[モジュールスクリプト]]
([[JavaScriptモジュール]]) では、 [CODE(HTMLa)@en[[[charset]]]]
[[属性]]は使わないこととされました。もはや [[Web]]
の[[文字コード]]は [[UTF-8]] に統一されており、新機能で過去の[[文字コード]]に対応する必要はないとの判断です。

;; [[ワーカー]]導入時に [[UTF-8]] のみ対応とした判断を踏襲しています。