* 仕様書

[REFS[
- [3] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2016-05-14 09:55:50 +09:00]]) <https://html.spec.whatwg.org/#custom-elements-api>
]REFS]

* 状態

[7] [CODE(DOMi)@en[CustomElementsRegistry]] [[オブジェクト]]は、
次の状態を持ちます。
[FIG(list members)[
: [F[[[カスタム要素定義]]の[[集合]]]] :
[[カスタム要素定義を探す]]手順で参照します。
初期状態では[[空]]です [SRC[>>3]]。
: [F[定義時約束写像]] :
[[妥当なカスタム要素名]]から[[約束]]への[[写像]]です [SRC[>>3]]。
[CODE(DOMm)@en[whenDefined]] で使われます。
初期状態では[[空]]です。
]FIG]

* メンバー

[6] [CODE(DOMi)@en[CustomElementsRegistry]] [[インターフェイス]]は、
次の[[メンバー]]を持ちます。
[FIG(short list)[
- [CODE(DOMm)@en[define]]
- [CODE(DOMm)@en[get][CustomElementsRegistry]]
- [CODE(DOMm)@en[whenDefined]]
]FIG]

* 文脈

[8] [CODE(DOMi)@en[CustomElementsRegistry]] [[インターフェイス]]は、
[[文書環境]]に[[晒され]]ます。

[9] [CODE(DOMi)@en[CustomElementsRegistry]] [[オブジェクト]]は、
[CODE(DOMi)@en[Window]] [[オブジェクト]]に関連付けられており、
[CODE(DOMa)@en[customElements]] [[IDL属性]]から参照できます。

* [CODE(DOMi)@en[Window]] オブジェクト [CODE(DOMa)@en[customElements]] 属性

[4] [CODE(DOMi)@en[Window]] は、 [DFN[[F[[CODE(DOMi)@en[CustomElementsRegistry]]]]]]
を持ちます [SRC[>>3]]。作成時に設定され [SRC[>>3]]、以後変化しません。

[5] [CODE(DOMi)@en[Window]] [[インターフェイス]]の
[DFN[[CODE(DOMa)@en[customElements]]]] [[IDL属性]]の[[取得器]]は、
[[文脈オブジェクト]]の [F[[CODE(DOMi)@en[CustomElementsRegistry]]]]
を返さなければ[MUST[なりません]] [SRC[>>3]]。

* 歴史

[1] [CITE@en[Add custom elements to HTML · whatwg/html@6e7eaa4]]
([TIME[2016-04-26 18:17:34 +09:00]] 版)
<https://github.com/whatwg/html/commit/6e7eaa4bd2912965fd83766f99f984f249531f3a>

[2] [CITE@en[Add customElements.get() to retrieve a custom element constructor · whatwg/html@1d596a5]]
([TIME[2016-04-26 18:40:59 +09:00]] 版)
<https://github.com/whatwg/html/commit/1d596a555d3c2f067ae643e447eaa88137b595ac>