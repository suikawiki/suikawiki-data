[8] [CODE(DOMi)@en[[[History]]]] [[インターフェイス]]の
[DFN[[CODE(DOMm)@en[[[go]]]]]] [[メソッド]]は、
[[結合セッション履歴]]上の移動を求めるものです。
[DFN[[CODE(DOMm)@en[[[back]]]]]] [[メソッド]]は前に1つ、
[DFN[[CODE(DOMm)@en[[[forward]]]]]] [[メソッド]]は先に1つ、
それぞれ移動を求めるものです。

* 仕様書

[REFS[
- [1] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-04-25 04:40:19 +09:00]] 版) <https://html.spec.whatwg.org/#dom-history-go>
- [12] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-04-25 04:40:19 +09:00]] 版) <https://html.spec.whatwg.org/#dom-history-back>
- [13] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-04-25 04:40:19 +09:00]] 版) <https://html.spec.whatwg.org/#dom-history-forward>
]REFS]

* 処理

[2] [CODE(DOMi)@en[[[History]]]] [[インターフェイス]]の 
[DFN[[CODE(DOMm)@en[[[go]]]]]] [[メソッド]]は、次のように処理しなければ[['''なりません''']]
[SRC[>>1]]。

[FIG(steps)[
= [3] 第1引数を [CODE(IDL)@en[[[long]]]] として解釈します。省略されていれば、 0 とします。
= [4] [[文脈オブジェクト]]の関連付けられた[[文書]]が[[完全に活性]]でなければ、
[CODE(DOMe)@en[[[SecurityError]]]] [[例外]]を投げます。
= [5] そうでなければ、
== [6] 第1引数が 0 なら、 [CODE(JS)@en[[[location.reload]]]] [[メソッド]]のように処理します。
== [7] それ以外なら、第1引数の値を⊿として[[履歴を探索]]します。
]FIG]

[14] [CODE(DOMi)@en[[[History]]]] [[インターフェイス]]の 
[DFN[[CODE(DOMm)@en[[[back]]]]]] [[メソッド]]は、次のように処理しなければ[['''なりません''']]
[SRC[>>12]]。

[FIG(steps)[
= [15] [[文脈オブジェクト]]の関連付けられた[[文書]]が[[完全に活性]]でなければ、
[CODE(DOMe)@en[[[SecurityError]]]] [[例外]]を投げます。
= [16] そうでなければ、⊿ = -1 として[[履歴を探索]]します。
]FIG]

[17] [CODE(DOMi)@en[[[History]]]] [[インターフェイス]]の 
[DFN[[CODE(DOMm)@en[[[forward]]]]]] [[メソッド]]は、次のように処理しなければ[['''なりません''']]
[SRC[>>13]]。

[FIG(steps)[
= [18] [[文脈オブジェクト]]の関連付けられた[[文書]]が[[完全に活性]]でなければ、
[CODE(DOMe)@en[[[SecurityError]]]] [[例外]]を投げます。
= [19] そうでなければ、⊿ = +1 として[[履歴を探索]]します。
]FIG]

* 関連

[9] [CODE(JS)@en[[[history.go]]]] はあまり使われません。
[[結合セッション履歴]]上の他のエントリーの内容を[[スクリプト]]から調べることはできませんし、
[[入れ子閲覧文脈]]や [[Pjax]] を考慮して移動数を[[スクリプト]]から推測することも困難なので、
本メソッドは実用的ではありません。

[20] [CODE(JS)@en[[[history.back]]]] はしばしば「前のページに戻る」リンク・ボタンの実装に使われています。
[[著者]]としては簡単に実現できるメリットがありますが、
[[利用者]]としては[[検索エンジン]]など外部サイトから当該ページを表示した時に[[著者]]が想定していたであろうサイト内動線上の「前」のページを知ることができず、
不便であると批判もされています。

* 歴史

[10] [CITE[IRC logs: freenode / #whatwg / 20130923]]
( ([TIME[2013-09-24 20:37:19 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20130923>

* メモ

[11] [CITE[history.back()の入力データ保持について #HTML - Qiita]]
( ([TIME[2013-03-13 01:44:48 +09:00]] 版))
<http://qiita.com/items/c2de591b4eaff59d3e07>
