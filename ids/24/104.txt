[1] [DFN[[[Certificate Download Specification]]]] は、[[証明書]]の[[ダウンロード]]に関する仕様書です。

* 仕様書

[REFS[
- [2] [CITE@en-US[NSS Certificate Download Specification - Mozilla | MDN]] ([TIME[2014-05-07 16:41:21 +09:00]] 版) <https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS/Certificate_Download_Specification>
]REFS]

* ファイル形式

[13] 次のファイル形式が規定されています。
[FIG(short list)[
- [[PKCS#7 certificate chain]]
- [[Netscape Certificate Sequence]]
- [CODE[[[.pem]]]]
]FIG]

[14] また [[DER]] 符号化された[[証明書]]も採用しています。

* MIME 型

[9] 次の [[MIME型]]が規定されています。
[FIG(short list)[
- [CODE(MIME)@en[[[application/x-x509-user-cert]]]]
- [CODE(MIME)@en[[[application/x-x509-ca-cert]]]]
- [CODE(MIME)@en[[[application/x-x509-email-cert]]]]
]FIG]

;; [10] >>3 の時点では [CODE(MIME)@en[[[application/x-x509-email-cert]]]] はまだ無かったようです。
>>18 や >>4 には含まれており、 [[Netscape4]] 時代に追加されたものと思われます。

;; [11] [CODE(MIME)@en[[[application/x-x509-server-cert]]]]
も使われることがあるようですが、当仕様書には含まれていません。

[15] これらの [[MIME型]]はファイル形式を示すものではなく (>>13 のいずれでも良いようです)、
[[ダウンロード]]した[[証明書]]をどう処理するべきかを指定するもののようです。

;; [16] 用途によって少しずつ[[証明書]]に記述するべき内容も違っているので、
広義のファイル形式ではあるのですが...

* 文脈

[12] [CODE(HTMLe)@en[[[keygen]]]] [[要素]]を含む[[フォームの提出]]で[[公開鍵]]を受け取った[[サーバー]]が[[証明書]]を生成し、
[[Webブラウザー]]に[[ダウンロード]]させるために使うことができます。

* 歴史

[REFS[
- [3] [CITE[Netscape Certificate Download Specification]] ([TIME[2015-04-11 23:26:48 +09:00]] 版) <http://web.archive.org/web/19970709163955/http://home.netscape.com/eng/security/downloadcert.html>
- [18] [CITE[Netscape Certificate Download Specification]] ([TIME[2015-04-12 13:21:05 +09:00]] 版) <http://web.archive.org/web/20000511091621/http://www.netscape.com/eng/security/comm4-cert-download.html>
- [4] [CITE[Netscape Certificate Management System Installation and Deployment Guide:]] ([TIME[2011-02-10 11:26:52 +09:00]] 版) <http://docs.oracle.com/cd/E19957-01/816-5533-10/dwnld.htm>
- [5] [CITE@en[CA:Certificate Download Specification - MozillaWiki]] ([TIME[2015-04-11 18:26:28 +09:00]] 版) <https://wiki.mozilla.org/CA:Certificate_Download_Specification>
]REFS]

[6] >>3 は1996年6月28日付けの [[Netscape3]] 版、 >>18 が [[Netscape4]] 版です。

[7] >>4 は [[NES]]、 >>5 と >>2 は [[Firefox]] へと受け継がれた版です。

[8] >>2 が2014年5月7日更新で、現時点で最新となっています。

[17] [CITE@en[249004 – Importing false CA certificate leading to error -8182 (perm DoS), especially exploitable by email]]
([TIME[2015-04-12 13:19:44 +09:00]] 版)
<https://bugzilla.mozilla.org/show_bug.cgi?id=249004>

[FIG(quote)[
[FIGCAPTION[
[19] ([TIME[2015-04-12 13:24:24 +09:00]] 版)
<http://web.archive.org/web/20060929031003/http://www.alw.nih.gov/pki/docs/ns-ca.txt>
]FIGCAPTION]

> The browser uses the public key encoded in the certificate to
> 	associate the certificate with the appropriate private key in
> 	its local key database.  Now, the certificate is "installed".

]FIG]
