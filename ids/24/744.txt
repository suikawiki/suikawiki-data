* [CODE(JS)@en[document.readyState]] 属性 (DOM)

[7] [CODE(DOMi)@en[[[Document]]]] [[オブジェクト]]の [DFN[[CODE(DOMa)@en[[[readyState]]]] [[属性]]]]は、
[[現在文書準備度]]を表します。

** 仕様書

- [8] [[Web Applications 1.0]] ([[HTML5]])
-- [10] '''<http://www.whatwg.org/specs/web-apps/current-work/complete.html#dom-document-readystate>'''
--- [CODE(JS)@en[[[document.readyState]]]]
-- [11] '''<http://www.whatwg.org/specs/web-apps/current-work/complete.html#current-document-readiness>'''
--- [[現在文書準備度]]
-- [16] <http://www.whatwg.org/specs/web-apps/current-work/complete.html#dom-xmldocumentloader-load>
--- [CODE(JS)@en[[[document.load]]]]
-- [21] <http://www.whatwg.org/specs/web-apps/current-work/complete.html#the-end>
--- [[構文解析停止]]

** 処理モデル

*** getter

[12] [CODE(JS)@en[[[document.readyState]]]] [[属性]]は[[文書]]の[[現在文書準備度]]を返さなければ[['''なりません''']]
[SRC[>>10]]。

** 現在文書準備度

[9] [[文書]]は「[DFN[[RUBYB[[[現在文書準備度]]]@en[current document readiness]]]]」という[[状態]]を持っています
[SRC[>>11]]。

- [13] [[文書]]が作られたとき、[[HTML構文解析器]]または[[XML構文解析器]]と関連付けられていれば、[[現在文書準備度]]は [DFN[[CODE(DOM)@en[[[loading]]]]]] に設定されなければ[['''なりません''']]
[SRC[>>11]]。
- [14] [[文書]]が作られたとき、 >>13 以外であれば、[[現在文書準備度]]は [DFN[[CODE(DOM)@en[[[complete]]]]]]
に設定されなければ[['''なりません''']] [SRC[>>11]]。
- [17] [CODE(JS)@en[[[document.load]]]] [[メソッド]]は読み込みの開始前に[[現在文書準備度]]を [CODE(DOM)@en[[[loading]]]] に設定します [SRC[>>16]]。
- [18] [CODE(JS)@en[[[document.load]]]] [[メソッド]]は読み込みの完了後で[[文書]]に変更が反映される直前に[[現在文書準備度]]を [CODE(DOM)@en[[[complete]]]] に設定します [SRC[>>16]]。
- [20] [[HTML構文解析器]]は[[構文解析停止]]の最初で[[現在文書準備度]]を 
[DFN[[CODE(DOM)@en[[[interactive]]]]]] に設定します [SRC[>>21]]。
- [22] [[HTML構文解析器]]は [CODE(DOMe)@en[[[load]]]] [[事象]]の[[発火]]の直前に[[現在文書準備度]]を
[CODE(DOM)@en[[[complete]]]] に設定します [SRC[>>21]]。

[15] [[現在文書準備度]]が設定された時には、その [CODE(DOMi)@en[[[Document]]]]
[[オブジェクト]]において [CODE(DOMe)@en[[[readystatechange]]]] [[単純事象を発火]]しなければ[['''なりません''']]
[SRC[>>11]]。

** 関連

[19] 
[[現在文書準備度]]は[[履歴探索]]の過程で [CODE(DOMe)@en[[[pageshow]]]] [[事象]]や
[CODE(DOMe)@en[[[popstate]]]] [[事象]]が[[発火]]されるかに影響します。

;; <http://www.whatwg.org/specs/web-apps/current-work/complete.html#history-traversal>
