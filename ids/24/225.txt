[2] [DFN[[RUBYB[セッション履歴エントリー]@en[session history entry]]]]は、
[[セッション履歴]]中の[[エントリー]]です。

* 仕様書

[REFS[
- [1] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-04-25 04:40:19 +09:00]] 版) <https://html.spec.whatwg.org/#session-history-entry>
]REFS]

* 状態

[4] [[セッション履歴エントリー]]は、次のものから構成されます。
[FIG(list members)[
:[[URL]] (必須) [SRC[>>1]]:[[資源]]の [[URL]] です。
:[RUBYB[[[状態オブジェクト]]]@en[state object]]:
[[利用者インターフェイス]]の状態を表すオブジェクト [SRC[>>1]]。
:[RUBYB[題名]@en[title]]:
[[文書]]のその時点での状態を説明するもの ([[利用者]]が履歴上で [[navigate]]
するためのもの)。 [SRC[>>1]]
:[CODE(DOMi)@en[[[Document]]]] オブジェクト [SRC[>>1]]:[[資源]]の[[文書]]です。
:[[フォームデータ]] [SRC[>>1]]:
:[[スクロール位置]] [SRC[>>1]]:
:その他:その他の情報も含められます [SRC[>>1]]。
:[[時刻]]:作成時刻。[[結合セッション履歴]]における[[エントリー]]の[[整列]]に用いられます。
]FIG]

[9] [[利用者エージェント]]定義の状態を持つ[[エントリー]]を[DFN[[RUBYB[持続的利用者状態付きエントリー]@en[an entry with persisted user state]]]]といいます
[SRC[>>1]]。[[利用者エージェント]]定義の状態には、[[フォームデータ]]、
[[スクロール位置]]その他が含まれます [SRC[>>1]]。

[8] [[セッション履歴エントリー]]は、[[セッション履歴]]の[[現在エントリー]]である場合があります。

* セッション履歴エントリーの文書

[5] [CODE(DOMi)@en[[[Document]]]] は、[[セッション履歴エントリー]]の作成時に設定されます 
[SRC[>>1]]。

[10] 複数の[[セッション履歴エントリー]]の[[文書]]が同じ[[文書]]である場合があります
[SRC[>>1]]。

[EG[
[11] [[状態オブジェクト]]付きの[[エントリー]]が作成された場合や、
[[素片識別子へのスクロール]]のみの [[navigate]] が行われた場合にそうなります [SRC[>>1]]。
]EG]

;; [12] 同じ[[文書]]となることがあるのは、隣接する[[エントリー]]のみです [SRC[>>1]]。

[6] [[文書]]が[[完全に活性]]でなければ、[[資源]]を解放するために捨てて構いません [SRC[>>1]]。

;; [7] 再度活性化が必要になれば、 [[URL]] その他の情報から改めて作成されます [SRC[>>1]]。
詳しくは [[bfcache]] を参照してください。

[14] [[文書]]が捨てられた場合、再読込で新たに[[文書]]が作られたら、
元々同じ[[文書]]を共有していたすべての[[セッション履歴エントリー]]がその新しい[[文書]]を共有します [SRC[>>1]]。

* 文脈

[3] [[セッション履歴]]は、[[セッション履歴エントリー]]によって構成されるリストです [SRC[>>1]]。
[[セッション履歴]]の[[現在エントリー]]は、そのうちのいずれかの[[エントリー]]です。

[13] [[文書]]の[[最新エントリー]]は、[[セッション履歴エントリー]]です。