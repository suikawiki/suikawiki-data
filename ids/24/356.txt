* 仕様書

[REFS[
- [1] [CITE@en[RFC 7540 - Hypertext Transfer Protocol Version 2 (HTTP/2)]] ([TIME[2015-05-15 10:14:54 +09:00]] 版) <https://tools.ietf.org/html/rfc7540#section-6.2>
]REFS]

* 意味

[2] [CODE[[[HEADERS]]]] [[フレーム]] ([[フレーム型]] [CODE[[[0x1]]]])
は、[[ストリーム]]を開き、 [[header block fragment]] を伝送するものです [SRC[>>1]]。

* 構文

[4] [[payload]] は次の欄で構成されます。

[5] [RUBYB[詰め長]@en[pad length]]は、[[詰め]]の長さを[[バイト]]単位で表す8ビット欄です。
この欄は [CODE[[[PADDED]]]] フラグが設定されている時のみ存在します。 [SRC[>>1]]

[6] E は、[[ストリーム依存性]]が[[排他的]]かどうかを表す1ビットのフラグです。
[CODE[[[PRIORITY]]]] フラグが設定されている時だけ存在します。 [SRC[>>1]]

[7] [RUBYB[ストリーム依存性]@en[stream dependency]]は、
[[ストリーム]]が依存する[[ストリーム]]の[[ストリーム識別子]]を表す31ビットの欄
([[ネットワークバイト順]]) です。
[CODE[[[PRIORITY]]]] フラグが設定されている時だけ存在します。 [SRC[>>1]]

[8] [RUBYB[重み]@en[weight]]は、[[ストリーム]]の[[優先度]]の[[重み]]を表す[[符号無し]]8ビット[[整数]]です。
重みは 1 [[以上]] 256 [[以下]]で、ここで指定するのはそれより 1 小さい値です。
[CODE[[[PRIORITY]]]] フラグが設定されている時だけ存在します。 [SRC[>>1]]

[9] [[header block fragment]] 欄 [SRC[>>1]] は、[[payload]] の残りの部分です。

[10] [RUBYB[詰め]@en[padding]]は、詰めバイト列です [SRC[>>1]]。

[FIG(packet)[
:width:32

= 8 詰め長
= 1 E
= 31 ストリーム依存性
= 8 重み
= 48... header block fragment
= 32... 詰め
]FIG]

* 文脈

[3] [CODE[[[HEADERS]]]] [[フレーム]]は、[[ストリーム]]の状態が
[[idle]], [[reserved (local)]], [[open]], [[half-closed (remote)]]
のいずれかの時に送信できます [SRC[>>1]]。

