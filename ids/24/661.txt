* 仕様書

[REFS[
- [1] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-05-06 10:42:35 +09:00]] 版) <https://html.spec.whatwg.org/#creating-a-new-browsing-context>
]REFS]

* 処理

[2] [DFN[[RUBYB[新しい閲覧文脈の作成]@en[create a new browsing context]]]]は、
次のようにしなければ[['''なりません''']] [SRC[>>1]]。
[[作成子閲覧文脈]]が指定されて作成されることがあります。
[FIG(steps)[
= [DFN[[RUBYB[初期「[CODE(URI)@en[about:blank]]」[[文書]]]@en[initial "[CODE(URI)@en[about:blank]]" document]]]]を作成します。
[FIG(list members)[
[FIGCAPTION[
[[文書]]
]FIGCAPTION]
:[[文書の番地]]:[CODE(URI)@en[[[about:blank]]]]
:[[HTML文書]]:[[真]]
:[[文字符号化]]:[[UTF-8]]
:[[ready for post-load tasks]]:[[真]]
:[[completely loaded]]:[[真]]
:[[作成子[CODE(DOMi)@en[Document]]]]:[[作成子閲覧文脈]] (あれば) の[[活性文書]]
:[[文書のreferrer]]:[[作成子[CODE(DOMi)@en[Document]]]] (あれば) の[[文書の番地]]
:[[文書の起源]]:[[作成子[CODE(DOMi)@en[Document]]]]があれば、その[[文書の起源]]の[[別名]]。
なければ[[大域的に固有な識別子]]。
:[[実効スクリプト起源]]:[[作成子[CODE(DOMi)@en[Document]]]]があれば、その[[実効スクリプト起源]]の[[別名]]。
なければ[[文書の起源]]の[[別名]]。
:[[子供節点]]:[CODE(HTMLe)@en[[[html]]]] [[要素]]。その[[子供]]は
[CODE(HTMLe)@en[[[head]]]] [[要素]]と [CODE(HTMLe)@en[[[body]]]] [[要素]]
(いずれも[[空]])。
]FIG]
= 新しい [CODE(DOMi)@en[[[Window]]]] を作成し、新しく作成した[[文書]]と関連付けます。
= [[閲覧文脈]]を作成します。
[FIG(list members)[
[FIGCAPTION[
[[閲覧文脈]]
]FIGCAPTION]
:[[セッション履歴]]:
[FIG(list members)[
[FIGCAPTION[
[[セッション履歴エントリー]]
]FIGCAPTION]
:[[文書]]:新しく作成した[[文書]]
:[[作成子閲覧文脈]]:指定された[[閲覧文脈]] (あれば)
]FIG]
]FIG]
= 新しく作成した[[文書]]について [[implement the sandboxing]] を実行します。
]FIG]

;; [3] [[文書のreferrer]] と [[CSP]] などの [CODE[[[referrer]]]] の指定との関係は不明瞭です。
