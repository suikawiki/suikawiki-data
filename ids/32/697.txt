[1] [DFN[[RUBYB[[RUBY[複][ふく]][RUBY[雑][ざつ]]ルビ][complex ruby]]]]は、
[[単純ルビ]]に対して、より複雑な[[ルビ]]の表現方式として提案されていたものでした。

[2] ほとんど実装されなかったため、 [[HTML5]] では採用されませんでした。

[FIG(short list)[ [4] [[複雑ルビ]]モデル
- [CODE[ruby]]
- [CODE[rbc]]
- [CODE[rtc]]
- [CODE[rb]]
- [CODE[rt]]
- [CODE[rbspan=""]]
- [CODE[rtspan=""]]
- [[auto-hiding]]

]FIG]

[3] 
[[複雑ルビ]]モデルは [[WYSIWYG]] エディターの実装が複雑になりすぎて現実的ではなさげです。
[SEE[ [CODE[ruby]] ]]

[5] 
[[複雑ルビ]]モデルでないと表現できない事例って誰も教えてくれないんだよね、
なんで未だに[[複雑ルビ]]モデルをゴリ押ししてる人がいるのか謎すぎる

[11] 
[[複雑ルビ]]は[[単純ルビ]]より複雑になっている割に、
[[単純ルビ]]より記述できる[[ルビ]]の範囲は増えていないように思えます。

[12] 
現実世界の[[ルビ]]の多様性は、
[[単純ルビ]]だけでも組み合わせでかなり記述できるのですけど、
[[複雑ルビ]]でないと記述できないものってほとんど思いつきませんし、
[[単純ルビ]]の組み合わせよりも[[複雑ルビ]]のほうがシンプルに書けるものも、どれだけあるかなあ。
[[複雑ルビ]]だけでは書けないものの方が多いような。
[SEE[ [[ルビ]] ]]

[EG[
[13] 
[[複雑ルビ]]でも[[漢文]]の[[送り仮名]]はうまく表現できません。
[SEE[ [[漢文]] ]]
]EG]

[EG[
[14] 
[[複雑ルビ]]でも[[ルビ文字列]]に[[ルビ]]が含まれるケースは記述できません。
[SEE[ [[ルビ]] ]]
([[複雑ルビ]]の提案は何バージョンかあるので、できるものもあるかも?)
]EG]

[EG[
[15] 
[[複雑ルビ]]は3つ[[以上]]の[[ルビ文字列]]が付されたケースは記述できません。
[SEE[ [[ルビ]] ]]
]EG]

[6] 
かつて [[XHTML Ruby Module]] として提案されていた[[複雑ルビ]]モデルは、
構造は複雑であるものの、要素の構造 (≒ タグ入りの文字列)
とそれが表すものの対応関係はわかりやすいものでした。

[7] 
近年提案されている[[複雑ルビ]]モデルの残党は、
[[XHTML]]
モデルに比べて[[タグ]]の省略可能、
[[要素]]の省略可能、
複数の[[ルビ]]の組み合わせ構造のような難解な機能を
[[HTML]]
に追加している上に、
[[CSS]]
側にも [[auto-hiding]] のような正しく実装するのが困難な新機能を必要としています。


[8] 
「[RUBY[京][きょう]][RUBY[都][と]][RUBY[市][し]]」
を文字サイズが小さいときにルビではなく
「京(きょう)都(と)市(し)」
のように表示したいが、
それだと読みにくいので
「京都市(きょうとし)」
にしたい、
のような要求があるらしいんですよね。
(提案にそう書いてあるだけなので、本当にそんな要求があるのかはしらない。)

[9] 
それってルビではないので、そういうことがしたいときに
[CODE[ruby]]
を使うのはおかしいし、
ルビのような複雑な仕組みを [[CSS]] に入れるのが許されるなら、
[[単純ルビ]]ベースで
「京都市(きょうとし)」
のように並べ替える機能を作れば済むことなんですよね。
[[要素]]の順序の入れ替えは既に
[CODE[order]]
などがあるので、
がんばれば既存プロパティーの組み合わせでもそれっぽいことはできるんじゃないでしょうか。
[[複雑ルビ]]をレンダリングするよりよっぽど簡単です。
今すでに広く実装されている[[単純ルビ]]の他に[[複雑ルビ]]をわざわざ作る必要はない。
仮に今から[[複雑ルビ]]を追加したとしても、
世の中にすでに出回っているのは[[単純ルビ]]だし、
今後も[[単純ルビ]]が生成されていくであろうことは変わりないので、
それは放っておくと
「京(きょう)都(と)市(し)」
と表示されることに変わらないわけです。
[[複雑ルビ]]を導入してもそちらは何も解決しない。
「京都市(きょうとし)」
と表示したい人だけが表示できればそれで満足なんだったら、
その人が自分のサイトでだけそのようにすればいいのであって、
[[HTML]]
や
[[CSS]]
に新機能を追加する必然性はないのです。

[10]
そんな穴だらけのガバガバ提案を政治力でゴリ押ししようとしてるのを見ると、
なんだかなあと思っちゃいますね。
[SEE[ [[ruby]] ]]


[16] 
「[RUBYB[[RUBY[複][ふく]][RUBY[雑][ざつ]]ルビ][complex ruby]]」
は[[複雑ルビ]]モデルで記述できるのかできんのか、よくわからん。

[[auto-hiding]] があれば書けるのかな?

それか [CODE[rt]] が[[空]]になるのを許容するのか。

[17] 
でも
>>8
の論理でいえば
「複雑ルビ(ふくざつ)(complex ruby)」
みたいになっちゃうよね、どうすんだろ?


[18] [CITE@en[Mark ruby with rb rb* rt rt* at risk? · Issue #1424 · w3c/html]]
([TIME[2021-12-29T04:28:22.000Z]])
<https://github.com/w3c/html/issues/1424>

[19] [CITE@en[Removal of obsolete elements RB and RTC by scottaohara · Pull Request #253 · w3c/html-aam]]
([TIME[2021-12-29T04:28:53.000Z]])
<https://github.com/w3c/html-aam/pull/253>