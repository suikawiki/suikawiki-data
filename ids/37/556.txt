[1] 
[[書字方向]]によって[[グリフ]]を選ぶ必要がある[[文字]]もあります。

* 仕様書

[REFS[
- [8] [CITE@en[CSS Writing Modes Level 4]], [TIME[2020-10-03 17:24:07 +09:00]] <https://drafts.csswg.org/css-writing-modes/#text-orientation>
- [10] [[OpenType]]
-- [9] [CITE@en-us[Registered features, u-z - Typography | [[Microsoft]] Docs]], [[PeterCon]], [TIME[2020-10-03 18:50:22 +09:00]] <https://docs.microsoft.com/en-us/typography/opentype/spec/features_uz>
]REFS]



* 日本語


[4] 
[[右横書き]]で「[[ー]]」を使う時、[[鏡像化]]が必要です。


** 句読法

[103] 
[[日本政府]]の[[文部省]]の文書として、
[CITE[[[くぎり符號の使ひ方]]]],
[CITE[[[くりかへし符號の使ひ方]]]]
がありました。
昭和21年に公表され、
少なくても昭和38年に一度再出版されており、
後者は前者を再録したに過ぎないのですが、
前者が[[縦書き]]、
後者が[[左横書き]]で、
[[字形]]もそれに合わせて変わったり、変わらなかったりしていました。








** JIS X 4051

[48] [[JIS X 4051-1995]]
は[[文字クラス]]を本体4.1.1で[[規定]]し、
附属書で
[[JIS X 0221]] との対応関係を[[規定]]していました。
[[JIS X 4051:2004]]
は[[文字クラス]]を本体6.1.1で[[規定]]し、
附属書で
[[JIS X 0213]] との対応関係を[[規定]]していました。

[45] 
[[JIS X 4051-1995]] 4.1.1 から参照された
[CSECTION[表1 文字クラス]]
に「横書き用文字」
と
「縦書き用文字」
が示されました。
縦横は差分ではなく、縦横同じ字形で示された文字もありました。
横にだけ示された文字もありました。
[[JIS X 4051:2004]] 6.1.1 から参照された
[CSECTION[表4 文字クラス]]
もいくつか追加がある以外はほぼ同じでした。

[46] 
[[JIS X 4051-1995]]
[CSECTION[附属書 国際符号化文字集合 (JIS X 0221) との対応]]
は
「縦書き・横書きの文字種につ 
いては, 横書きを基準として決め, 縦書き時にはそれを縦書き用文字に変換することを原則とし,」
て[[字形]]欄に[[横書き]]と[[縦書き]]の字形例を示しました。

[64] 
[[JIS X 4051:2004]]
[CSECTION[附属書1 (規定) 7ビット及び8ビットの2バイト情報交換用 符号化拡張漢字集合 (JIS X 0213) との対応]] 
は 
「縦書き・横書きの文字種 
については, 横書きを基準として決め, 縦書き時にはそれを縦書き用文字に変換することを原則とし,」 
て[[字形]]欄に[[横書き]]と[[縦書き]]の字形例を示しました。



[49] 
本体表と附属書を比べると、本体表は附属書の一部の[[文字]]に限って示しているように見えます。
(本体表は[[字形]]だけで、[[文字]]を同定できる情報が他に示されていないので、
断言しがたいですが。)

[50] 
附属書では一部の[[文字クラス]]は[[符号位置]]だけが示されており、
それ以外は縦横の字形を明記して示していました。

[69] 
本体表、附属書とも、
1995 と 2004
で出入りがありました。
1995 は [[JIS X 0221]] の[[日本語文字]]、
2004 は [[JIS X 0213:2000]]
を対象としているのが変更の主たる要因のようです。
2004 には [[Unicode]] で1つの[[符号位置]]で表せない
(が [[JIS X 0213]] では1つの[[面区点位置]]で表される)
[[文字]]も含まれました。

[70] 
縦横は差分ではなく、縦横同じ字形で示された文字もありました。
横にだけ示された文字もありました。
2004 には縦にだけ示された文字もありました。
1995 と 2004 の字形は必ずしも等しくありません。

[73] [[JIS X 4051:2004]]
にはなぜか
[[JIS X 0213:2000]] 
にある[[ㇷ゚]]は含まれていませんでした。
([[字形]]が示された[[文字クラス]]に入るべきもののうち唯一 [[Unicode]] で1つの[[符号位置]]で表されないものでした。
他の1つの[[符号位置]]で表されない[[文字]]は、附属書表1の[[字形]]を示さない[[文字クラス]]にすべて含まれていました。)

[REFS[
- [54] [CITE@en[Character set "[[JIS X 4051-1995]] 附属書各表 字形 縦書きに横書きと異なる字形"]], [TIME[2020-10-08T11:23:22.000Z]] <https://chars.suikawiki.org/set/%24jisx4051-1995%3Avertical-specific-glyphs>
- [71] [CITE@en[Character set "[[JIS X 4051:2004]] 附属書各表 字形 縦書きに横書きと異なる字形"]], [TIME[2020-10-09T09:40:13.000Z]] <https://chars.suikawiki.org/set/%24jisx4051-2004%3Avertical-specific-glyphs>
- [72] 1995, 2004 の比較:
[TIME[2020-10-09T09:43:24.000Z]] <https://chars.suikawiki.org/set/compare?expr=%24jisx4051-1995%3Avertical-specific-glyphs&expr=%24jisx4051-2004%3Avertical-specific-glyphs>
]REFS]

[55] 
[[JIS X 4051-1995]]
と
[[JIS X 0208:1997]]
の[[縦書き字形]]を比べると、
[[JIS X 4051-1995]] にだけあるのは [[JIS X 0208]]
にない[[文字]]と「・」 (「・」は[[字形]]は似ているが縦横幅の違い)。
[[JIS X 0208]] にだけあるのは「=」。

[74] 
[[JIS X 4051-1995]]
と
[[JIS X 0213:2000]]
の[[縦書き字形]]を比べると、
若干の出入りがあります。

[REFS[
- [56] 比較:
<https://chars.suikawiki.org/set/compare?expr=%24jisx0208-1997%3Ahas-vertical-example&expr=%24jisx4051-1995%3Avertical-specific-glyphs&expr=%24jisx4051-2004%3Avertical-specific-glyphs&expr=$jisx0213-2000:has-vertical-example>
]REFS]

[51] 
他に本体中の例示でいくつか示されていました。

[FIG(quote)[ [41] [[JIS X 4051-1995]] 2. 

>
[B[(40) 省略記号]] [SNIP[]]
>
[BOX(indent)[
[B[例1.]] 横書きにおける前置省略記号 ¥$£

[B[例2.]] 横書きにおける後置省略記号 °’”%‰¢

[B[参考]] 片仮名単位字を含む全角単位字及び [B[JIS X 0208]] に含まれる単位記号は, この規格では省略記号
として扱う。

[BOX(indent)[
[B[例]] 縦書きの片仮名単位字 [TATE[㌔]]
]BOX]

]BOX]


>
[B[(57) 中点類 (なかてんるい)]] [SNIP[]]
>
[BOX(indent)[
[B[例]] 横書きにおける中点類 ・:;

[B[参考]] 縦書きの和文では, セミコロン “;” を使用しない。
]BOX]



]FIG]

[42] 
[CSECTION[(60) 始め括弧類]] の「[B[例]] 横書きにおける始め括弧類」

[CSECTION[(71) 分離禁止文字]] の 「[B[例]] 横書きにおける分離禁止文字」

[52] 例示中の「[TATE[㌔]]」は表1にも附属書にも字形例がなく、
ここでだけ字形が示された文字でした。

[57] [[JIS X 4051:2004]] でも似たような例示 (項目と例示される文字は多少変更あり)。

[53] 
例示でない本文 (横書き) 中で敢えて[[縦書き]]字形を示したのが1個所。

[FIG(quote)[ [43] [[JIS X 4051-1995]] 3.1 (1) 

>
[B[(a)]] [SNIP[]] 縦書きで漢数字の位取り記 
号として使われる読点 “[TATE[、]]” 及び小数点として使われる中点 “[TATE[・]]” の字幅は半角とするが, [SNIP[]]
]FIG]

(縦書きの実例あり。ここでの[[半角]]とは縦幅のこと。)

2004 4.2 a) 1) では本文中の字形が削除されていた。 (実例は 2004 にもある。)

[58] [[JIS X 4051:2004]] では
5.2, 表2, 表3
に[[漢文]]用の[[文字]]が[[縦書き]]字形で示された。

[113] 
[[JLREQ]] [SRC[>>17]]
には
[[JIS X 4051]]
の[[文字クラス]]に相当するものが示されていましたが、
[[字形]]は[[左横書き]]用が一部挙げられているに過ぎませんでした。
[[ISO/IEC 10646]]
の[[文字]]の一覧表には、
一部の[[文字]]に、
「横組で使用」
または
「縦組で使用」
と書かれていました [SRC[>>133]]。


[141] 
なお、書かれている[[文字の名前]]は[[半角]]の方なのに、
使われている[[文字]]は [CODE(charname)@en[FULLWIDTH]] の方でした。
また対象は 
[[ISO/IEC 10646]]:2003/Amd.3:2008
285 
[[BASIC JAPANESE]]
と
286
[[JAPANESE NON IDEOGRAPHICS EXTENSION]]
の[[文字]]と説明されていましたが、
実際には[[Unicode文字]]以外に2つの[[符号位置]]の列
([[JIS X 0213]] では1[[文字]]で表されるもの)
もいくつか含まれていました。

;; [142] 
[[JIS X 4052:2004]]
は
[[JIS X 4052-1995]] の表をベースに
[[UCS]] から [[JIS X 0213]]
に置き換えたので 
[[JIS]] の符号位置・名前と [[UCS]] のブロックが示されるという矛盾があり、
[[JLREQ]]
は
[[JIS X 4052:2004]]
の表をベースに
[[JIS X 0213]] から [[UCS]]
に置き換えたのでこのようなおかしなことが起こっているのでしょう。


[114] 
[[JLREQ]]
は[[小書き仮名]]について、
「縦組では文字の外枠の天地中央で右寄り,横組では文字の外枠の左右中央で下寄りに字面を配置」
と言及していました
[SRC[>>18]]。

[117] 
[[JLREQ]]
は縦横専用の文字を次のように述べていました。
[SRC[>>116]]


- [118] 「、」: 「縦組では[SNIP[]]使用する」「横組で使用する」
- [120] 「。」: 「縦組では[SNIP[]]使用する」「横組で使用する」
- [119] 「,」、「.」: 「横組で使用する」
-- 書かれている[[文字の名前]]は[[半角]]の方なのに、
使われている[[文字]]は [CODE(charname)@en[FULLWIDTH]] の方
- [121] 「「」、「」」: 「縦組では[SNIP[]]用いる」, (横) 「最近は,かぎ括弧の使用が増えている」
- [122] 「“」、「”」、「‘」、「’」: 「横組では[SNIP[]]用いる」「横組専用の括弧類であり,縦組では使用しない」「縦組において欧文用文字(cl-27)などを時計回りに90度回転させて配置する場合に使用する例がある」
- [123] 「〝」、「〟」: 「縦組専用の括弧類であり,横組では使用しない」
- [124] 「〔」、「〕」: 「縦組用に変形したもの[SNIP[]]である」
- [125] 「[」、「]」: 「特別な場合を除き,横組ではブラケットを使用する」
- [126] [[句点類]]、[[読点類]]: 「縦組用と横組用では,文字の外枠に対する字面の配置位置が異なる」
- [127] [[始め括弧類]]、[[終わり括弧類]]、[[ハイフン類]]: 「縦組用と横組用で字面の向きを変更する」
- [128] [[小書きの仮名]]: 「文字の外枠に対する字面の位置が縦組用と横組用では異なる」
- [129] [[長音記号]]: 「字形の向きを変更するだけではなく,字形そのものも変更している.横組用の長音記号は,縦組用の長音記号を単純に反時計回りに90度回転したものではない」
- [132] 「全角単位字は,主に縦組で使用するもので,横組で使用するのは,体裁がよくないので避けた方がよい」
[SRC[>>131]]


[115] 
その他 [[JLREQ]] も例文中にいくつか[[縦書き字形]]が現れてはいました。


[164] 
[[文字クラス]]の一覧表で[[縦組]]でまたは[[横組]]で使うと明記されているもの:

[REFS[
- [165] [CITE@en[[[Character set]] "horizontal"]], [TIME[2020-10-18T08:32:32.000Z]] <https://chars.suikawiki.org/set/%24jlreq%3Ahorizontal>
- [166] [CITE@en[[[Character set]] "vertical"]], [TIME[2020-10-18T08:32:40.000Z]] <https://chars.suikawiki.org/set/%24jlreq%3Avertical>
]REFS]


-*-*-

[44] 
([[時計回り]]90度回転の[[左横書き]])
1995 3.5 (6)
2004 4.6 f) 「縦書きの行中で, 連数字及び単位記号の文字の向きを右回りに90° 回転して横書きにした場合」
1995 3.6 (2) 
2004 4.7 b)「縦書きの行中では, 欧文の文字の向きを右回りに90° 回転して欧文を横書きにし,」
[[JIS X 4052:2000]] 6.1 a) 3) 
「文字の並びの横軸を時計回りに 90度回転させた横書き」
[[JLREQ]] [SRC[>>16]]
「文字を時計回りに90度回転し,配置」

(広義の[[縦中横]])
1995 3.5 (7)
2004 4.6 g) 「縦書きの行中で, 連数字及び単位記号を縦書きの文字の向きのまま横書きにした場合」
1995 3.6 (2) 備考
2004 4.7 b) 備考 「縦書きの欧字又は数字を和字として扱う場合」「添え字付きの欧字を縦中横を使用して配置する場合」
1995 3.7 
2004 4.8「[B[縦中横処理]] 縦中横処理は, 縦書きの行中で, 縦書きの字の向きのまま横書きになるように文字列 
を中央に配置する。」
1995 3.9 (4)
2004 4.13 d) 「文字の向きを右回りに90° 回転して横書きにする」
[[JIS X 4052:2000]] 6.18 「欧文用文字を縦書き中で和字扱いとする」 (1文字ずつ[[正立]]させること)
[[JLREQ]] [SRC[>>16]]
「正常な向きで,1字1字配置」
「正常な向きのまま,横組」 ([[縦中横]])

[144] 
この辺の整理は [[CLREQ]] が [[JLREQ]] の整理を踏襲しています。
「相同的書寫方向,依字母逐個排列」
「保持正常方向,橫排處理(如日文的縱中橫排)」
「順時針方向旋轉90°」
[SRC[>>143]]
[[KLREQ]]
にも似た分類がありました
[SRC[>>158]]。

[REFS[
- [17] [[JLREQ]]:
[CITE@en[Requirements for Japanese Text Layout [[日本語組版処理の要件]](日本語版)]], [TIME[2020-09-16 08:08:39 +09:00]] 
-- [18] <https://w3c.github.io/jlreq/#kanji_hiragana_and_katakana>
-- [16] 
<https://w3c.github.io/jlreq/#major_differences_between_vertical_writing_mode_and_horizontal_writing_mode>
-- [116] 
<https://w3c.github.io/jlreq/#differences_in_vertical_and_horizontal_composition_in_use_of_punctuation_marks>
-- [130] 
<https://w3c.github.io/jlreq/#mixed_text_composition_in_vertical_writing_mode>
-- [131] 
<https://w3c.github.io/jlreq/#grouping_of_characters_and_symbols_depending_on_their_positioning>
-- [133] 
<https://w3c.github.io/jlreq/#character_classes>

]REFS]

** 書字方向と字形設計

[239] 
[[日本]]では[[幕末]]以来、
[[縦書き]]で使われてきた[[日本語文字]]と[[欧米]]由来の[[横書き]]の調和に様々な提案がなされてきました。
その中には、
[[横書き]]前提の[[新字]] (まったく新しい[[用字系]]) を開発したものや、
[[横書き]]向きに[[仮名]]や[[漢字]]を大胆に改造したものもありました。
[SEE[ [[日本語近代化]] ]]

[240] 
大胆な提案はいずれも受け入れられることなく消えていきました。
現在では[[書体]]設計時に[[左横書き]]前提のバランス調整をする程度となっています。

[102] 
<https://repository.ninjal.ac.jp/?action=repository_action_common_download&item_id=1306&item_no=1&attribute_id=43&file_no=1>


* 中文

** 中華人民共和国

[77] [[中文]]の[[句読点]]の用法を[[規定]]する
[[GB/T 15834-1995]]
には、原則の[[横書き]]の[[規定]]の他に、
[[縦書き]]について次のようにありました。


>6 直行文稿与横行文稿使用标点符号不同。
>6.1 句号、问号、叹号、顿号、分号和冒号放在字下偏右。
>6.2 破折号、省略号、连接号和间隔号放在字下居中。
>6.3 引号改用双引号“[R[[TATE[『]][TATE[』]]]]”和单引号“[R[[TATE[「]][TATE[」]]]]”。
>6.4 着重号标在字的右侧,专名号和浪线式书名号标在字的左侧。

[78] 
[[引用符]]だけ[[字形]]がまったく異なるので明示されていますが、
その他の位置の変更、向きの変更は文章の説明しかありませんでした。

[79] 
[[GB/T 15834-2011]]
では[[句読点]]の種類が増えた分の[[規定]]が増えていますが、
[[字形]]は [TATE[(]]、[TATE[)]]
が追加されたのみで、他は文章の説明でした。

-*-*-

[80] 
[[中文]]の[[数]]の表記法を[[規定]]する
[[GB/T 15835-1995]]
には、原則の[[横書き]]の[[規定]]の他に、
[[縦書き]]で
「顺时针方向转90度」
する旨の[[規定]]がありました。
実際[[時計回り]]に90°回転した[[英数字]]が混じった文例がありました。
この[[規定]]の本題から外れますが、例示には
「:」、「,」、「。」の[[縦書き]]字形が示されていました。

[81] 
[[GB/T 15835-2011]]
にも同様の規定がありましたが、
なぜか例示から「:」は削られていました。


[82] 
[[GB/T 17961-2000]]
には[[横書き]]と[[縦書き]]の例文があって、
[[縦書き]]の[[句読点]]の実例として
「,」と「。」が含まれていました。

[83] 
[[GB/T 17961-2010]]
には関係する[[文字]]のリストが追加されていましたが、
[[横書き]]のみ示されていました。
例文は別のものに変わっており、
[[縦書き]]の[[句読点]]として
「、」、
「,」、
「;」、
「。」
が含まれていました。

** CLREQ

[147] 
[[CLREQ]]
は[[横書き]]と[[縦書き]]、
[[中国大陸]]、[[台湾]]、[[香港]]で[[句読点]]を書く位置が違う点を説明していました。
[[括弧]]や横線類と[[書字方向]]についても説明していました。
[SRC[>>146]]

[145] 
[[CLREQ]]
は
[[Unicode]]
の[[縦書き]]用[[符号位置]]は使うべきではなく、
他の仕組みで[[字形]]を置き換えるべきとしていました。
[SRC[>>146]]

[149] 
[[CLLRQ]]
の文字クラス表には、
[[時計回り]]に90°[[回転][回転 (書字方向)]]するべき[[文字]]が示されていました。
[SRC[>>148]]
([[句読点]]のように位置が変わるものはこれに含まれていませんでした。)


[REFS[
- [143] [CITE@en[Requirements for Chinese Text Layout中文排版需求]], [TIME[2020-10-15T04:59:44.000Z]], [TIME[2020-10-18T07:14:08.078Z]] <https://w3c.github.io/clreq/#writing_modes>
- [146] [CITE@en[Requirements for Chinese Text Layout中文排版需求]], [TIME[2020-10-15T04:59:44.000Z]], [TIME[2020-10-18T07:26:35.423Z]] <https://w3c.github.io/clreq/#line_composition_rules_for_punctuation_marks>
- [148] [CITE@en[Requirements for Chinese Text Layout中文排版需求]], [TIME[2020-10-15T04:59:44.000Z]], [TIME[2020-10-18T07:31:01.446Z]] <https://w3c.github.io/clreq/#tables_of_chinese_punctuation_marks>
]REFS]

** 注音字母

[153] 
[[注音字母]]の
「ㄧ」
は、
元々[[縦書き]]で横線、
[[横書き]]で縦線でしたが、
現在では主としてどちらでも横線が使われているそうです。
[SRC[>>152, >>155, >>154]]

[156] 
[[フォント]]によって横線が表示されたり、縦線が表示されたりします。

[157] 
[CITE[Wikipedia]]
は[[画像]]を使ったり [SRC[>>154]]、
[[漢字]]の
「一」と「丨」を使ったり [SRC[>>155]]、
[[記号]]の「ㄧ」
を使ったり [SRC[>>152]]
して書き分けようとしているようです。


[REFS[
- [152] 
[CITE@ja[[[注音符号]] - Wikipedia]], [TIME[2020-10-17T10:44:13.000Z]], [TIME[2020-10-18T07:44:44.113Z]] <https://ja.wikipedia.org/wiki/%E6%B3%A8%E9%9F%B3%E7%AC%A6%E5%8F%B7#cite_note-10>
- [155] [CITE@zh[[[注音符號]] - 维基百科,自由的百科全书]], [TIME[2020-10-04T07:47:15.000Z]], [TIME[2020-10-18T07:55:53.343Z]] <https://zh.wikipedia.org/wiki/%E6%B3%A8%E9%9F%B3%E7%AC%A6%E8%99%9F#%E5%AF%AB%E6%B3%95>
- [154] [CITE@zh[[[ㄧ]] - 维基百科,自由的百科全书]], [TIME[2020-10-04T07:49:54.000Z]], [TIME[2020-10-18T07:55:24.608Z]] <https://zh.wikipedia.org/wiki/%E3%84%A7>
]REFS]

* 爻

[134] 
[[爻]]は、
[[縦]]に並べて使われます。
2つ並べて[[四象]]、
3つ並べて[[八卦]]、
6つ並べて[[六十四卦]]となります。

[135] 
普通、[[八卦]]がおおむね[[漢字]]1文字程度で表示されます。

[136] 
伝統的には単独の記号として使ったり、[[縦書き]]の[[漢字]]文中で使ったりしてきました。
記号的に使う場合、
[[銭]]に円形に配置するなど、
場面や宗教的意味に応じた書き方がされてきました。

[137] 
現在では[[左横書き]]文中で、縦配置のままの字形で使うことが多くなっているようです。

[138] 
[[Unicode]]
は1つから6つまでの全組み合わせをそれぞれ単独の[[文字]]として割り当てています。
([[Unicode]] はこういうのを複数の[[符号位置]]の組合せにしたがりがちですが、
[[爻]]はそうしなかったようです。)
例示字形はすべて縦配置のままです。
[[六十四卦]]も1文字分のスペースに詰め込まれています。

[REFS[
- [139] [CITE@ja[[[易]]の基礎(2) 易卦の構造]], [TIME[2020-10-18T04:00:48.000Z]] <http://anecs.ifortune.net/fortune/eki/kiso/kiso002.htm>
]REFS]

[140] このサイト (初出は[[メルマガ]]) は、
[[Unicode]]
に割り当てられる前に書かれたもので、
記号による代用表記を使っていました。
複数行を使う[[縦書き]]表記 (遠目に見ると [[Unicode]]
の例示字形と同じ) と、
「:::|||」
のような[[左横書き]]表記を使っていました。
このような横書き字形が一般的なものかどうかは不明です。


* 蒙古文字、満州文字

@@
[[MLREQ]]

@@
[[Unicode蒙古文字]]、[[パスパ文字]]

* ハングル

[151] 
[[KLREQ]]
は、
[[横書き]]では [CODE[,]]、[CODE[.]]
を使い、
[[縦書き]]では [CODE[、]]、[CODE[。]]
を使うとしていました。
[SRC[>>150]]


[REFS[
- [150] [CITE@en[Requirements for Hangul Text Layout and Typography : 한국어 텍스트 레이아웃 및 타이포그래피를 위한 요구사항]], [TIME[2020-08-27T02:04:58.000Z]], [TIME[2020-10-18T07:42:13.714Z]] <https://w3c.github.io/klreq/#fonts-horizvertpunct>
- [158] [CITE@en[Requirements for Hangul Text Layout and Typography : 한국어 텍스트 레이아웃 및 타이포그래피를 위한 요구사항]], [TIME[2020-08-27T02:04:58.000Z]], [TIME[2020-10-18T08:00:19.712Z]] <https://w3c.github.io/klreq/#hangulromanmix>
- [159] [CITE@en[Requirements for Hangul Text Layout and Typography : 한국어 텍스트 레이아웃 및 타이포그래피를 위한 요구사항]], [TIME[2020-08-27T02:04:58.000Z]], [TIME[2020-10-18T08:02:04.415Z]] <https://w3c.github.io/klreq/#punc-process>
]REFS]

* 中東系文字

[110] [[アラビア文字]]では右が開いた
「[R[?]]」を使います。
[[ヘブライ文字]]では[[ラテン文字]]と同じ左が開いた
「[R[?]]」
を使います。

[161] [[正立]]された[[縦書き]]、[[孤立形]]で縦に並べる例 [SRC[>>160]]

[REFS[
- [160] [CITE@en[Text Layout Requirements for the Arabic Script]], [TIME[2020-09-08T10:52:27.000Z]], [TIME[2020-10-18T08:07:07.725Z]] <https://w3c.github.io/alreq/#h_vertical_upright>
]REFS]

[162] [[アラビア文字]]と混在して使われる[[数式]]における[[鏡像化]]

[REFS[
- [163] [CITE@en[Arabic mathematical notation]], [TIME[2017-10-02T10:31:39.000Z]], [TIME[2020-10-18T08:10:55.580Z]] <https://www.w3.org/TR/arabic-math/#Mirroring>
]REFS]

* アルファベット系文字

[107] 
[[ヒエログリフ]]は[[書字方向]]が自由でした。
[[生物]]の[[頭]]が[[書字方向]]を表すように[[字形]]が変化して使われていました。
[SRC[>>106, >>108]]

[109] 
[[古代ギリシャ文字]]は[[牛耕式]]で書かれ、
[[書字方向]]によって[[鏡像化]]していました。
[SRC[>>108]]

[REFS[
- [106] [CITE@ja[[[縦書き]]と[[横書き]] - Wikipedia]], [TIME[2020-10-02T08:18:29.000Z]], [TIME[2020-10-17T06:35:40.963Z]] <https://ja.wikipedia.org/wiki/%E7%B8%A6%E6%9B%B8%E3%81%8D%E3%81%A8%E6%A8%AA%E6%9B%B8%E3%81%8D#%E3%83%92%E3%82%A8%E3%83%AD%E3%82%B0%E3%83%AA%E3%83%95%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E7%B8%A6%E6%9B%B8%E3%81%8D%E3%81%A8%E6%A8%AA%E6%9B%B8%E3%81%8D>
- [108] [CITE@ja[[[鏡文字]] - Wikipedia]], [TIME[2020-10-13T11:13:35.000Z]], [TIME[2020-10-17T06:42:40.175Z]] <https://ja.wikipedia.org/wiki/%E9%8F%A1%E6%96%87%E5%AD%97>
]REFS]



* 文字コード



** 書字方向専用の符号位置


[246] 
古くからある[[文字コード]]には、
特定の[[書字方向]]用の[[文字]]が[[符号化]]されていました。
一部は
[[Unicode]]
に取り込まれて現在まで残っています。


[FIG(short list)[ [15] [[縦書き]]専用[[符号位置]]のある[[文字コード]]
- [[MacJapanese]]
- [[Big5]]
- [[CNS 11643]]
- [[GB 12345]]
- [[GBK]]
- [[GB 18030]]
- [[Unicode]]
- [[GB 8045]]
- [[JIS X 0213]]
]FIG]

-*-*-

[76] 
[[GB 12345]]
は
[[GB 2312]]
にない[[縦書き]]の[[文字]]を追加していました。
追加の説明にその旨がありましたが、
それ以外にどう使うものか説明はありませんでした。
[[括弧類]]は[[横書き]]用が左、右という名前で、
[[縦書き]]用が上、下という名前でした。
それ以外の記号類は[[横書き]]用に特に説明はなく、
[[縦書き]]用にはその旨が名前にかかれていました。

[247] 
[[中華人民共和国]]では原則的には[[簡体字]]と[[左横書き]]が使われています。
[[簡体字]]の[[漢字コード]]である [[GB 2312]]
は、明言されていませんが、
[[左横書き]]を前提とした[[漢字コード]]だったのでしょう。

[[繁体字]]が必要になる場面を想定したとき、[[縦書き]]の記号も必要だということで、
[[GB 2312]]
由来の[[左横書き]]用の記号とは別に[[縦書き]]用を
[[GB 12345]]
にだけ追加したのでしょう。

[84] 
[[CNS 11643]] 
は[[横書き]]用と[[縦書き]]用の[[文字]]を符号化していました。
[[横書き]]用と離れたところに[[縦書き]]用を並べていた
[[JIS X 0208]] の非標準の各社の拡張や
[[GB 12345]]
とは違って、
[[CNS 11643]]
は順番に並べていました。例えば括弧なら、
左括弧、右括弧、上括弧、下括弧のように並べられていました。
ただし
[[CNS 11643]]
は[[符号位置]]と[[字形]]例を示しただけで、
各[[文字]]の説明はほとんどありませんでした。

-*-*-

[248] 
[[JIS X 0201]] や [[JIS X 0208]]
には[[横書き]]用、[[縦書き]]用と決められた[[文字]]はありませんでした。
初版の [[JIS X 0208-1978]] からそうだったのかはわかりませんが、
[[JIS X 0208:1997]]
には[[横書き]]用の[[例示字形]]と、
[[縦書き例示字形]]が示されていました (>>22)。

[[左横書き]]だけでなく[[縦書き]]もよく使われている[[日本]]の[[漢字コード]]が[[縦書き]]専用の[[文字]]を用意しなかったのは、
[[書字方向]]を[[文字コード]]レイヤーで扱うべきでないという考えによるものだったのでしょう。

[249] 
ただ実用上それでは不便なこともあったようで、
[[JIS X 0208]] の[[文字]]を[[左横書き]]用とみなし、
非標準の拡張で[[縦書き]]用の[[文字]]を割り当てることもありました。
また1文字分のスペースに複数の文字を縦横に並べて詰め込む[[組み文字]]も、
非標準の拡張として広く使われていましたが、
実用性より理論を重視したのか [[JIS]]
は長らく無視してきました。

[25] 
[[JIS X 0213:2000]]
の制定時の[[公開レビュー]]公開資料
[CITE[非漢字類の選定について]],
[TIME[1998年11月6日][1998-11-06]]版によると、
候補に[[縦書き]]用の[[字形]]が大量に収集されましたが、

>縦書きの用途を想定した縦書き用連数字のように,組版の機能を利用することで実現可
能なものについては,基本的に,追加候補としないこととした。

... という理由で収録されなかったそうです。
[[縦書き]]文中で[[縦中横]]的に数字や[[ラテン文字]]の[[単位]]記号を横に並べるため1文字扱いとしたものや、
[[縦書き]]の[[新聞]]などでよく使われる[[片仮名]]の[[単位]]の[[組み文字]]などが、
独自の拡張や[[外字]]として広く使われていました。

例外的に
「[[㍉]]」
などの[[NEC特殊文字]]だけは互換性のため[[標準化]]されました。
[[Windows]]
などに実装され、
[[左横書き]]字形と[[縦書き]]字形が使われていたので、
[[JIS X 0213:2000]]
もその両方を例示していました。
[[縦書き]]専用という形にはなっていませんでした。


[250] 
[[JIS X 0213]]
は[[縦書き]]専用の[[文字]]は[[規定]]していませんでしたが、
[[縦書き]]用[[例示字形]]''のみ''を示した[[文字]] ([[踊り字]]) がいくつかありました
(>>27)。

-*-*-

[251] 
[[右横書き]]の[[アラビア文字]]や[[ヘブライ文字]]を使うに当たり、
[[左横書き]]の[[ラテン文字]]や[[算用数字]]との混在を踏まえ、
現在では [[bidi]]
アルゴリズムを前提とした[[論理順]]が使われますが、
当初はすべて[[左横書き]]による[[表示順]]も使われました。
その場合[[鏡像化]]もなく、
すべて[[左横書き]]用の文字として扱われました。
現在でも
[CODE[ISO-8859-8]]
の処理にその名残りを留めています。


[105] 
[[ヘブライ文字]]の[[アレフ]]は、
[[Unicode]]
では常用の[[右横書き]]の
「א」
と、
[[数学記号]]の[[左横書き]]の
「ℵ」
で[[重複符号化]]されています。
本来同じ[[文字]]のはずですが、
用法の違いから[[グリフ]]も違っていることがあります。
[[鏡像化]]はなく、[[書字方向]]由来の違いではありません。

-*-*-

[104] 
[[縦書き]]に対応していない環境で強引に[[縦書き]]を実現する手法として、
[[縦書き字形]]に似た[[横書き]]の[[文字]]で代用するというものがあり、
そこそこ広く用いられているようです。



[FIG(quote)[
[FIGCAPTION[
[99] [CITE@ja[「青空文庫を縦書き表示」のフォント指定について。 - freefielder.jp]]
([TIME[2020-08-09T09:01:02.000Z]], [TIME[2020-10-17T00:29:55.176Z]])
<https://freefielder.jp/blog/2008/10/--css--.html>
]FIGCAPTION]

> 「ー」そのものの縦書き字形が存在しないので、これをUnicodeの0x3190(漢文の竪線)で表示させようとしたところ、XP - MSゴシック環境で表示されないとのご指摘を頂いたので、とりあえず「ー」はUnicodeの0x2758の縦棒に変換する事にしてみた。なかなか後ろ向きな解決法。

]FIG]

[FIG(quote)[
[FIGCAPTION[
[98] [CITE@ja[Excelでセル内の文字を縦書きに設定する方法|Office Hack]]
([TIME[2020-10-17T00:25:16.000Z]])
<https://office-hack.com/excel/vertical-writing/>
]FIGCAPTION]

> 縦書きの中で横になっているハイフンを縦書きに直すには「SUBSTITUTE」関数を使用します。この関数は文字列中の指定された文字列を他の文字列に置き換えることができます。

]FIG]


** 例示字形の書字方向

[252] 
[[文字コード]]の[[仕様書]]の本文や[[符号表]]に使われる[[文字]]の表示は、
[[仕様書]]が通常[[横書き]]されることもあってか、
[[横書き]]の[[字形]]とすることが多いようです。

[253] 
[[JIS]]
も[[左横書き]]用字形を基本に、
適宜[[縦書き]]字形を補う形を採っています (>>22)。
[[文字コード]]規格だけでなく、
[[フォント]]でも同じです (>>38)。

@@
[[Unicodeの蒙古文字]]

[255] 
[[Unicode]] は、
[[符号表]]で[[横書き]]用の字形を使っています。
[SRC[>>254]]

[256] 
[[Unicode 7.0]]
から、
[[符号表]]の
[[Mongolian]]
と
[[Phags-pa]]
は[[横書き]]文に埋め込まれて使う、
[[時計回り]]に90°[[回転][回転 (書字方向)]]した[[字形]]に改められました。
それまでは通常の[[縦書き]]字形でした。
[SRC[>>254]]

[257] 
[[Unicode]]
で[[縦書き]]の表示方法を表す
[CODE[Vertical_Orientation]]
[[特性]]の値は、
この[[横書き]]用の字形を基準に定められています。
この[[符号表]]の形式は、
[[OpenType]]
のような近年の[[レンダリング][文字のレンダリング]]システムとも一貫していて実装しやすい形である
[SRC[>>254]]
とされています。



** JIS の縦書き用字形

[FIG(short list)[ [19] [[JIS漢字]]の[[縦書き]]用字形の示された[[規格]]
- [[JIS X 0208]]
- [[JIS X 0213]]
- [[JIS X 4051]]
- [[JIS X 9051]]
- [[JIS X 9052]]
]FIG]


[22] 
[[JIS X 0208:1997]]
は[[書字方向]]が明示されない[[例示字形]]を示した他に、
[[非漢字]]の一部に[[参考]]として[[縦書き]]の[[例示字形]]を示していました。
[[縦書き]]が示された場合、そうでない方は[[横書き]]用の[[字形]]が示されていましたが、
特にそうであるとは明言されていませんでした。

[23] 
[[縦書き]]は網羅的でないとされており、その選択根拠は不明です。
例えば 
[CODE(charname)@en[IDEOGRAPHIC FULL STOP]] には[[縦書き]]を示し、
[CODE(charname)@en[FULL STOP]] には示していませんでした。
[CODE(charname)@en[COLON]] には[[縦書き]]を示し、
[CODE(charname)@en[SEMICOLON]] には示していませんでした。
[CODE(charname)@en[EM DASH]] には[[縦書き]]を示し、
[CODE(charname)@en[HYPHEN]] には示していませんでした。
[CODE(charname)@en[EQUAL SIGN]] には[[縦書き]]を示し、
[CODE(charname)@en[NOT EQUAL TO]],
[CODE(charname)@en[GREATER-THAN OVER EQUAL TO]],
[CODE(charname)@en[MINUS SIGN]] には示していませんでした。
[CODE(charname)@en[LEFT ANGLE BRACKET]] には[[縦書き]]を示し、
[CODE(charname)@en[LESS-THAN SIGN]] には示していませんでした。

[REFS[
- [33] [CITE@en[Character set "[[JIS X 0208:1997]] 附属書4 (規定) に縦書き例示字形 (参考) あり"]], [TIME[2020-10-07T10:24:06.000Z]] <https://chars.suikawiki.org/set/%24jisx0208-1997%3Ahas-vertical-example>
]REFS]

[27] 
[[JIS X 0213:2000]]
も[[書字方向]]が明示されない[[例示字形]]と、
[[非漢字]]の一部に[[縦書き]]の[[例示字形]]を示していました。
[[縦書き]]の[[例示字形]]のみの[[文字]]が4つありました。
それ以外は[[縦書き]]が示された場合、[[横書き]]用の[[字形]]も1つ[[以上]]示されていましたが、
特にそうであるとは明言されていませんでした。
[[例示字形]]の2つ目以後は[[参考]]とされ、
[[縦書き]]のみの4文字以外の[[縦書き]]はすべて2つ目以後の字形として示されました。

[31] 
4文字については附属書7に、
「一般の日本語では, 縦書き以外での利用がほとんど認められないことから, これらの図形文字の例示字体は, 縦書きのものだけを掲げている」
と説明がありました。

[47] 
この4文字のうち3文字は[[くの字点]]で、2文字を組合せて1セットで使うものでした。
[[縦書きグリフ]]を2つ縦に並べれば繋がりますが、
横に並べると繋がりません。

[28] 
[[縦書き]]はやはり網羅的でないとされており、その選択根拠は不明です。
[[JIS X 0208]]
にある[[文字]]は、
[CODE(charname)@en[LEFT DOUBLE QUOTATION MARK]],
[CODE(charname)@en[RIGHT DOUBLE QUOTATION MARK]]
の[[縦書き]]字形が削られた他は、
有無を変更しなかったようです。

[32] 附属書7によると、変更は
「実際の使用例などを勘案」
して [[JIS X 0208]]
の措置が不適切としたことによるようです。
しかし[[字形]]の状況は等しい
[CODE(charname)@en[LEFT SINGLE QUOTATION MARK]],
[CODE(charname)@en[RIGHT SINGLE QUOTATION MARK]]
は [[JIS X 0213]]
も従来通りとしました。



[29] 
[CODE(charname)@en[LEFT SQUARE BRACKET]],
[CODE(charname)@en[RIGHT SQUARE BRACKET]],
[CODE(charname)@en[KATAKANA LETTER SMALL RO]]
は明らかに[[縦書き]]の字形に[[縦書き]]であると明記されておらず、
誤植と思われます。
(厳密に言えば[[縦書き]]の印が無いものは[[横書き]]とは書いていないので、
印がなくても誤りとは言えないのですが、まあ誤りでしょう。)

[30] 
附属書7
によれば
[CODE(charname)@en[DOUBLE EXCLAMATION MARK]],
[CODE(charname)@en[DOUBLE QUESTION MARK]]
は
「縦書きでの利用を強く意識して」
追加されたもののようですが、[[横書き]]でも[[字形]]差がないためなのか、
[[縦書き]]字形とはされませんでした。

[34] [[元号合字]]は横並びの形のみ示され、その他に[[縦書き]]字形は示されませんでした。

[REFS[
- [35] [CITE@en[Character set "[[JIS X 0213:2000]] 附属書4 (規定) に縦書き例示字形 (参考) あり"]], [TIME[2020-10-07T10:33:10.000Z]] <https://chars.suikawiki.org/set/%24jisx0213-2000%3Ahas-vertical-example>
-- [[縦書き]]と明示されたものに >>29 を追加した表。
-- ここに示した[[文字]]の他、
[CODE(charname)@en[KATAKANA LETTER AINU P]]
- [36] [CITE@en[Character set "[[JIS X 0213:2000]] 附属書4 (規定) に横書き例示字形なし"]], [TIME[2020-10-07T10:33:29.000Z]] <https://chars.suikawiki.org/set/%24jisx0213-2000%3Ano-horizontal-example>
]REFS]


[FIG(quote)[ [21] [[JIS X 0208:1997]] 附属書4 ([[規定]])

>
[B[b) 文字]] 当該区点位置で表現される図形文字の字体を字形として例示したもの。
>
[B[c) 縦書き]] 当該区点位置で表現される図形文字の字体を縦書きで表示する場合の字形を例示したもの。この例示は,
一部の区点位置についてだけ行った。この欄は, [[参考]]であって[[規定]]の一部ではない。


]FIG]

[FIG(quote)[ [26] [[JIS X 0213:2000]] 附属書4 ([[規定]])

>
[B[c) 文字]] 当該面区点位置で表現される図形文字の字体を字形として例示したもの。
>
[BOX(indent)[
[B[備考]] “(SP)”, “(NBSP)” 及び “(SHY)” は, それぞれ SPACE, NO-BREAK SPACE 及び SOFT HYPHEN を表
し, 字形の例示ではない。
]BOX]
>
[B[d) 字形例]] 当該面区点位置で表現される図形文字の字体で, 参考となるその他の字形がある場合の字形を例示
したもの。この例示は, 一部の面区点位置についてだけ行った。また, 縦書き用の字形が異なることがある
場合も字形例で示した。この欄は, 参考であって規定の一部ではない。

> *は該当面区点位置で表現される図形文字において, 主に縦書きで使用される字形を例示したものである。

]FIG]


** Unicode の鏡像化


[225] 
[[Unicode]]
は
[[bidi]]
を表示順ではなく意味順に[[文字]]を並べることで実現しています。
その結果[[左横書き]]と[[右横書き]]で同じ意味でも[[字形]]が逆になるケースが出てきますが、
あくまで[[文字]]データは意味順で適切なものを選び、
表示の際に相応しい[[グリフを選ぶ][グリフの選択]]こととしています。

[220] 
[[括弧]]類には [CODE[LEFT]] や [CODE[RIGHT]]
のような[[文字の名前]]が与えられています。
しかしこれらは開き括弧、閉じ括弧を意味し、
[[書字方向]]に関わらず方向ではなく意味で使うとされています
[SRC[>>2]]。

[221] 
[[Unicode Bidirectional Algorithm]]
の
[DFN[L4]]
は、
[[文字]]の[[解決済方向性]]が
[CODE[R]]
であって、かつ[[文字]]の
[CODE[Bidi_Mirrored]]
[[特性][特性 (UCD)]]値が[[真]]である[[場合、その場合に限って][if and only if]]、
[[鏡像化グリフ]]で描画することと定めています
[SRC[>>6]]。
ただし [[HL6]]
が適用される場合は例外となります
[SRC[>>6, >>5, >>2]]。

[226] 
意図した[RUBYB[[[意味]]][semantics]]を表す適切な[[文字]]を使うため、
また[[相互運用性]]や[[セキュリティー][文字のセキュリティー]]を防ぐため、
実装は
[[L4]]
に従い適切に[[鏡像化]]しなければ[RUBYB[なりません][must]]。
[SRC[>>2]]

[222] 
[[Unicode Bidirectional Algorithm]]
の
[DFN[HL6]]
は、
[[上位層プロトコル]]次第で、
特定の状況で、
[CODE[Bidi_Mirrored]]
[[特性][特性 (UCD)]]値が[[偽]]であっても、
[[鏡像化グリフ]]で描画できるとしています。
歴史的な[[用字系]]とその[[句読点]]、
[[私用文字]]、
[[数式]]中の[[文字]]などの状況が想定されます。
次のいずれかまたは両方の条件に合致する[[文字]]となります。
[SRC[>>5]]

- [223] [[解決済方向性]]が [CODE[R]] の[[文字]]
- [224] [[解決済方向性]]が [CODE[L]] で、
[[双方向的型]]が [CODE[R]] または [CODE[AL]]
の[[文字]]

[177] 
[[UCD]]
の[[特性][特性 (Unicode)]]
[DFN[[CODE[Bidi_Mirrored]]]]
は、
[[規定]]であり [SRC[>>167]]、
[CODE[UnicodeData.txt]] [SRC[>>175]]
に収録されています。
[DFN[[CODE[DerivedBinaryProperties.txt]]]] [SRC[>>210]]
にも収録されています (こちらの方が使いやすいかもしれません)。
値は[[ブール型]]です。
[[真]]は[RUBYB[[[鏡像化]]される][mirrored]]ことを、
[[偽]]はそうでないことを表します
[SRC[>>167]]。
大部分の[[符号位置]]は[[偽]]です。

[REFS[
- [193] [CODE[[[Bidi_Mirrored]]=Y]] の[[文字]]の一覧
<https://chars.suikawiki.org/set/%24unicode%3ABidi_Mirrored>
]REFS]

[227] 
[[鏡像化]]には、
[[括弧]]のように組になった[[文字]]があって、
一方の[[鏡像化]]が他方になっているケースと、
そうでないケースがあります。
組になっている[[文字]]の情報は、
[CODE[Bidi_Mirroring_Glyph]]
として提供されています [SRC[>>2]]。

[179] 
[[UCD]]
の[[特性][特性 (Unicode)]]
[DFN[[CODE[Bidi_Mirroring_Glyph]]]]
([DFN[[CODE[bmg]]]])
は、
[[参考]]であり、
[DFN[[CODE[BidiMirroring.txt]]]] [SRC[>>178]]
に収録されています。
[[鏡像化]]によって想定される[[グリフ]]を持った[[文字]]を表します
[SRC[>>168]]。
例えば[[開き括弧]]の[[符号位置]]の[[特性]]値は、
[[閉じ括弧]]になっています。

[176] 
値は[[符号位置]]か [CODE[<none>]] です。
[CODE[Bidi_Mirrored]] 
が[[真]]であっても、
[[鏡像化]]して他の[[文字]]の[[グリフ]]と一致しないものは、
この値を持ちません。

[180] 
[[Unicode 5.1]]
時点の
[CODE[Bidi_Mirroring_Glyph]]
は
[[The OpenType Mirroring Pairs List]] ([[OMPL]]) 
と一致していました (>>189)。
その後の
[[Unicode]]
側の変更で一致しなくなっています。
[SRC[>>178]]




[181] 
この[[写像]]のうちいくつかは
「"BEST FIT" mirroring pairs」
とされるものがあって、
[CODE[BidiMirroring.txt]]
に
[DFN[[CODE[BEST FIT]]]]
とマーキングされています
[SRC[>>178]]。
その場合、
組になっている方と入れ替えて[[レンダリング]]しても構いませんが、
理想的には[[鏡像化グリフ]]は他の字形となるべきです [SRC[>>2]]。
[[開き括弧]]と[[閉じ括弧]]で左右対称になっていない字形要素が含まれるようなケースが該当しているようです。




[REFS[
- [194] 
[CODE[Bidi_Mirroring_Glyph]] のある[[文字]]の一覧
<https://chars.suikawiki.org/set/%24unicode%3Ahas-Bidi_Mirroring_Glyph>
- [195] 
うち、 [CODE[BEST FIT]] の[[文字]]の一覧
<https://chars.suikawiki.org/set/%24unicode%3Ahas-Bidi_Mirroring_Glyph-BEST-FIT>
- [199] 
[CODE[Bidi_Mirrored]]
と
[CODE[Bidi_Mirroring_Glyph]]
の比較
<https://chars.suikawiki.org/set/compare?expr=%24unicode%3ABidi_Mirrored&expr=%24unicode%3Ahas-Bidi_Mirroring_Glyph&expr=$unicode:has-Bidi_Mirroring_Glyph-BEST-FIT>

]REFS]

[200] 
[[UCD]]
の[[特性][特性 (Unicode)]]
[CODE[Bidi_Paired_Bracket_Type]],
[CODE[Bidi_Paired_Bracket]]
は、
[[規定]]であり、
[DFN[[CODE[BidiBrackets.txt]]]] [SRC[>>171]]
に収録されています。
[CODE[Bidi_Mirroring_Glyph]]
とよく似ていますが、
[CODE[Bidi_Mirroring_Glyph]]
が[[フォント]]設計に関係しているのに対し、
[CODE[Bidi_Paired_Bracket]]
は
[[Unicode Bidirectional Algorithm]]
の[[アルゴリズム]]に関係しています。

;;
[212] 
現在の [[UCD]]
の分類では[[規定]]です。
[[Contributory]]
ではありません。
しかしファイルの[[コメント]]には
「normative contributory data file」
とあり [SRC[>>171]]、
両方の性質を備えているものであるようです。




[201] 
[DFN[[CODE[Bidi_Paired_Bracket_Type]]]]
は、
組になった括弧のうちの当該[[文字]]の型を表します
[SRC[>>169]]。
値は
[DFN[[CODE[o]]]] ([DFN[Open]]),
[DFN[[CODE[c]]]] ([DFN[Close]]),
[DFN[[CODE[n]]]] ([DFN[None]])
のいずれかです [SRC[>>178]]。
[DFN[[CODE[Bidi_Paired_Bracket]]]]
は、
開き括弧に対応する閉じ括弧またはその逆を表します
[SRC[>>170]]。
値は[[符号位置]]または [CODE[<none>]] です [SRC[>>178]]。
この情報は
[[Unicode Bidirectional Algorithm]]
で使われます。

[EG[
[202] 例えば [CODE[(]] の型は [CODE[o]] (開き括弧) で、
対応するのは [CODE[)]] です。
[CODE[Bidi_Paired_Bracket_Type]]
は対応する方ではなく、当該文字の方の種類を表しています。
]EG]

[203] この情報は、

[FIG(math)[
[[General_Category]] ([VAR[A]]) = [[Ps]]

[[General_Category]] ([VAR[B]]) = [[Pe]]

[[Bidi_Class]] ([VAR[A]]) = [[Bidi_Class]] ([VAR[B]]) = [[ON]]

[[Bidi_Mirrored]] ([VAR[A]]) = [[Bidi_Mirrored]] ([VAR[B]]) = [[Y]]

[[Bidi_Mirroring_Glyph]] ([VAR[A]]) = [VAR[B]]
]FIG]

... な [VAR[A]], [VAR[B]] について、
[CODE[[[Bidi_Paired_Bracket]] ([VAR[A]]) := [VAR[B]]]],
[CODE[[[Bidi_Paired_Bracket]] ([VAR[B]]) := [VAR[A]]]],
[CODE[[[Bidi_Paired_Bracket_Type]] ([VAR[A]]) := [CODE[o]]]],
[CODE[[[Bidi_Paired_Bracket_Type]] ([VAR[B]]) := [CODE[c]]]]
としたものです。
[SRC[>>178]]

[204] 
[CODE[U+298D]]
[CODE(charname)@en[LEFT SQUARE BRACKET WITH TICK IN TOP CORNER]]
([CODE[⦍]]),
[CODE[U+298E]]
[CODE(charname)@en[RIGHT SQUARE BRACKET WITH TICK IN BOTTOM CORNER]]
([CODE[⦎]]),
[CODE[U+298F]]
[CODE(charname)@en[LEFT SQUARE BRACKET WITH TICK IN BOTTOM CORNER]]
([CODE[⦏]]),
[CODE[U+2990]]
[CODE(charname)@en[RIGHT SQUARE BRACKET WITH TICK IN TOP CORNER]]
([CODE[⦐]])
は
[CODE[U+298D]] - [CODE[U+2990]],
[CODE[U+298F]] - [CODE[U+298E]]
と対応していることに特に注意が促されています。
[SRC[>>178]]

[205] 
[CODE[U+FD3E]]
[CODE(charname)@en[ORNATE LEFT PARENTHESIS]]
([CODE[﴾]])
と
[CODE[U+FD3F]]
[CODE(charname)@en[ORNATE RIGHT PARENTHESIS]]
([CODE[﴿]])
は
[[legacy]] reason
で括弧の組として扱われていません
[SRC[>>178]]。
[[後方互換性]]のため、
これらは[[鏡像化]]されません
[SRC[>>6]]。

[206] 
[[The Unicode property value stability policy]]
により、
[CODE[Bidi_Paird_Bracket_Type]]
が
[CODE[o]] または [CODE[c]]
の[[文字]]は
[CODE[[[Bidi_Class]]=[[ON]]]]
かつ
[CODE[[[Bidi_Mirrored]]=[[Y]]]]
であることが保証されます。
実装はこれを利用して最適化できます。
[SRC[>>178]]

[REFS[
- [229] [CITE@en[Character set "Unicode [[Bidi_Paired_Bracket_Type]]=Open"]], [TIME[2020-10-22T07:27:00.000Z]] <https://chars.suikawiki.org/set/%24unicode%3ABidi_Paired_Bracket_Type%3AOpen>
- [230] [CITE@en[Character set "Unicode [[Bidi_Paired_Bracket_Type]]=Close"]], [TIME[2020-10-22T07:27:40.000Z]] <https://chars.suikawiki.org/set/%24unicode%3ABidi_Paired_Bracket_Type%3AClose>
- [231] [CITE@en[Character set "Unicode [[Bidi_Paired_Bracket_Type]]=None"]], [TIME[2020-10-22T07:28:06.000Z]] <https://chars.suikawiki.org/set/%24unicode%3ABidi_Paired_Bracket_Type%3ANone>
- [232] [CITE@en[Character set "Unicode has [[Bidi_Paired_Bracket]]"]], [TIME[2020-10-22T07:28:45.000Z]] <https://chars.suikawiki.org/set/%24unicode%3Ahas-Bidi_Paired_Bracket>
]REFS]

[HISTORY[
[20] [[ISO/IEC 10646]]
[CSECTION[15 [[双方向文脈]]での[[鏡像文字]]]]

[37] 
[[JIS X 0221-1:2001]] [CSECTION[19. 双方向文脈での文字]]
は
「左向き用及び右向き用と対をなす文字の種類」
として括弧類を列挙していました。
[[文字の名前]]が「LEFT」や「RIGHT」であっても、
左右ではなく開き、閉じの意味であるとされました。
([[GB 13000.1-93]] 20 も同じ)
[CSECTION[附属書F (参考) 代替書式文字]] F.2.2 にこれに関係する[[代替書式文字]]の説明がありました。
([[GB 13000.1-93]] 附属書D D1.3 も同じ)
[CSECTION[附属書P (参考) 文字に関する追加情報]]
にうち2文字の補足説明がありました。

[38] 
同
[CSECTION[附属書E (参考) アラビア語の双方向文脈での鏡像文字]]
は
「図形記号の鏡像として表示してもよい」
[[文字]]を列挙していました。[[括弧類]]や[[数学記号]]などが含まれていました。
([[GB 13000.1-93]] 附属書Cも同じ)

[39] 
[[JIS X 0221:2007]] 19 は一覧表がなく、附属書Eを参照する形に改められていました。
それは[[ユニコード]]の [[Bidi Mirrored]]
の一覧と等しいと[[注記]]がありました。
[CSECTION[附属書E (規定) 双方向文脈での鏡像文字]]
は
「図形記号の鏡像として表示してもよい」
[[文字]]を列挙していました。[[括弧類]]や[[数学記号]]などが含まれていました。
[CSECTION[附属書F (参考) 代替書式文字]] F.2.2 にこれに関係する[[代替書式文字]]の説明がありました。
[CSECTION[附属書P (参考) 文字に関する追加情報]]
にうち2文字の補足説明がありました。

[40] 
[[JIS X 0221:2014]] 15 は[[ユニコード標準]]第6.1版の 
[[Bidi_[ASIS[Mirrord]]]]
を参照する形に改められていました。



]HISTORY]

[228] 
なお 
[[Unicode]]
の用語としての[RUBYB[鏡像化][mirror]]は、
[[左横書き]]用 vs [[右横書き]]用で逆になることを意味していて、
必ずしも左右対称であることを意味していないようです。


[REFS[
- [3] [[UAX #9]]
-- [5] [CITE@en-us[[[UAX #9]]: Unicode Bidirectional Algorithm]], [TIME[2020-03-07 07:23:12 +09:00]] <https://unicode.org/reports/tr9/#HL6>
-- [6] [CITE@en-us[[[UAX #9]]: Unicode Bidirectional Algorithm]], [TIME[2020-03-07 07:23:12 +09:00]] <https://unicode.org/reports/tr9/#L4>
-- [2] [CITE@en-us[[[UAX #9]]: [[Unicode Bidirectional Algorithm]]]], [TIME[2020-03-07 07:23:12 +09:00]] <https://unicode.org/reports/tr9/#Mirroring>
- [175] [CODE[UnicodeData.txt]]
-- [167] [CITE@en-us[UAX #44: Unicode Character Database]], [TIME[2020-03-06T22:23:11.000Z]], [TIME[2020-10-18T09:34:28.933Z]] <http://www.unicode.org/reports/tr44/#Bidi_Mirrored>
- [211] [CODE[DerivedBinaryProperties.txt]]
-- [210] [TIME[2019-09-10T19:51:21.000Z]], [TIME[2020-10-21T08:23:16.357Z]] <https://www.unicode.org/Public/UCD/latest/ucd/extracted/DerivedBinaryProperties.txt>
-- [209] [CITE@en-us[UAX #44: Unicode Character Database]], [TIME[2020-03-06T22:23:11.000Z]], [TIME[2020-10-21T08:21:24.759Z]] <https://www.unicode.org/reports/tr44/#Derived_Extracted>
-[172] [CODE[BidiMirroring.txt]]
-- [178] [TIME[2019-09-09T19:11:02.000Z]], [TIME[2020-10-18T10:58:29.073Z]] <https://www.unicode.org/Public/UCD/latest/ucd/BidiMirroring.txt>
-- [168] [CITE@en-us[UAX #44: Unicode Character Database]], [TIME[2020-03-06T22:23:11.000Z]], [TIME[2020-10-18T09:36:01.711Z]] <http://www.unicode.org/reports/tr44/#Bidi_Mirroring_Glyph>
- [171] [CODE[BidiBrackets.txt]]
-- [169] [CITE@en-us[UAX #44: Unicode Character Database]], [TIME[2020-03-06T22:23:11.000Z]], [TIME[2020-10-18T09:36:52.623Z]] <http://www.unicode.org/reports/tr44/#Bidi_Paired_Bracket_Type>
-- [170] [CITE@en-us[UAX #44: Unicode Character Database]], [TIME[2020-03-06T22:23:11.000Z]], [TIME[2020-10-18T09:37:11.515Z]] <http://www.unicode.org/reports/tr44/#Bidi_Paired_Bracket>
]REFS]


[REFS[
- [12] [[Unicode Standard]]
-- [13] [CITE[The Unicode Standard, Version 13.0 - ch06.pdf]], [TIME[2020-03-10 02:53:36 +09:00]] <https://www.unicode.org/versions/Unicode13.0.0/ch06.pdf#page=14>
-- [14] [CITE[The Unicode Standard, Version 13.0 - ch06.pdf]], [TIME[2020-03-10 02:53:36 +09:00]] <https://www.unicode.org/versions/Unicode13.0.0/ch06.pdf#page=31>
-- [11] [CITE[[[The Unicode Standard]], Version 13.0 - UFE10.pdf]], [TIME[2020-03-03 07:41:18 +09:00]] <https://www.unicode.org/charts/PDF/UFE10.pdf>
-- [75] [TIME[2020-03-02T22:41:18.000Z]], [TIME[2020-10-10T08:56:35.600Z]] <https://unicode.org/charts/PDF/UFE30.pdf>
]REFS]

** Unicode の縦書き字形


[214] 
[[UCD]]の[[特性][特性 (Unicode)]]
[CODE[Vertical_Orientation]]
([DFN[[CODE[vo]]]] [SRC[>>213]])
は、
[[参考]]であり [SRC[>>174]]、
[DFN[[CODE[VerticalOrientation.txt]]]] [SRC[>>173]]
に収録されています。

[215] 
[DFN[[CODE[Vertical_Orientation]]]]
は[[列挙]]特性で、
値は次のいずれかです。
ファイルに明記されていないときの既定値は
[CODE[R]]
です。
[SRC[>>213]]

- [216] [DFN[[CODE[U]]]] は、[RUBYB[[[正立]]][Upright]]で、
[[符号表]]と同じ[RUBYB[向き][orientation]]で表示されます
[SRC[>>213, >>243]]。
- [217] [DFN[[CODE[R]]]] は、
[[符号表]]から[[時計回り]]に90°[RUBYB[[[回転][回転 (書字方向)]]して][Rotated]]
[SRC[>>213, >>243]]、
[RUBYB[横向き][sideways]]に表示されます [SRC[>>243]]。
- [218] [DFN[[CODE[Tu]]]] は、
[RUBYB[typographical 的に変形したもの][Transformed typographically]]で、
Upright に[[フォールバック]]します。
- [219] [DFN[[CODE[Tr]]]] は、
[RUBYB[typographical 的に変形したもの][Transformed typographically]]で、
Rotated に[[フォールバック]]します。

[244] 
[CODE[Tu]] と [CODE[Tr]]
は、[[縦書き]]専用の、[[符号表]]とは異なる[[グリフ]]が必要なものです。
専用[[グリフ]]がないときのフォールバックとして
[CODE[U]]
型か
[CODE[R]] 
型かで2分されています。
[SRC[>>243]]




[208] 
[[既定値]]は、
ほとんどの[[符号位置]]では
[CODE[R]]
ですが、
predominantly Upright な[[用字系]]に関連付けられた[[ブロック]]の[[未割当符号位置]]では
[CODE[U]]
です。
[SRC[>>207, >>213]]
[[私用域]]も 
[CODE[U]]
です
[SRC[>>213]]。


[245] 
日常語の[[文字]]に相当する概念は
[[Unicode文字]]ではなく
[[grapheme cluster]]
です。
[[Unicode]]
の[[縦書き]]における[RUBYB[向き][orientation]]は
[[grapheme cluster]]
単位で扱われます。
[[grapheme cluster]]
の向きは、
最初の文字の向きです [SRC[>>213]]。
ただし、
[[grapheme cluster]]
が
[[enclosing combining mark]] ([CODE[[[General_Category]]=[[Me]]]])
を含むとき、
[[grapheme cluster]] の
[CODE[Vertical_Orientation]]
は 
[CODE[U]]
です
[SRC[>>213]]。



[REFS[
- [233] [CITE@en[Character set "Unicode [[Vertical_Orientation]]=U"]], [TIME[2020-10-22T07:29:46.000Z]] <https://chars.suikawiki.org/set/%24unicode%3AVertical_Orientation%3AU>
- [234] [CITE@en[Character set "Unicode [[Vertical_Orientation]]=Tu"]], [TIME[2020-10-22T07:30:24.000Z]] <https://chars.suikawiki.org/set/%24unicode%3AVertical_Orientation%3ATu>
- [235] [CITE@en[Character set "Unicode [[Vertical_Orientation]]=Tr"]], [TIME[2020-10-22T07:30:40.000Z]] <https://chars.suikawiki.org/set/%24unicode%3AVertical_Orientation%3ATr>
- [236] [CITE@en[Character set "Unicode [[Vertical_Orientation]]=R"]], [TIME[2020-10-22T07:30:53.000Z]] <https://chars.suikawiki.org/set/%24unicode%3AVertical_Orientation%3AR>
]REFS]

[237] 
既定値が [CODE[R]]
となっており、
値を決めかねるものはすべて
[CODE[R]]
になっているようです。例えば[[制御文字]]や[[非文字]]は
[CODE[R]]
になります。

[241] 
[[JIS X 0213]] の[[縦書き例示字形]]がある[[文字]]や、
[[JIS X 4051]] の[[縦書き字形]]がある[[文字]]と
[CODE[Tr]],
[CODE[Tu]]
を比較すると、
やや出入りがあります。

[REFS[
- [242] <https://chars.suikawiki.org/set/compare?expr=$jisx0213-2000:has-vertical-example&expr=%24jisx4051-2004%3Avertical-specific-glyphs&expr=$unicode:Vertical_Orientation:Tr&expr=$unicode:Vertical_Orientation:Tu>
]REFS]


[258] 
[CODE[Vertical_Orientation]]
は
[CITE[Unicode Standard]]
の[[符号表]]の[[例示字形]]を基準に記述されています。
[[上位層プロトコル]]や[[応用]]は、
[CODE[Vertical_Orientation]]
と[[フォント]]の情報を勘案し適切な[[グリフ]]の向きを決定することが求められています。
[SRC[>>254]]

[260] 
[CODE[Vertical_Orientation]]
が
[CODE[Tu]],
[CODE[Tr]]
の[[文字]]は、
[[符号表]]の他に、
[[UAX #50]]
に[RUBYB[代表字形][representative glyph]]の例示があります。
[[横書き字形]]は、
[[符号表]]と同じような[[字形]]の他に、
別の字形例が示された[[文字]]もあります。
[[縦書き字形]]は、
それぞれ1つ[[以上]]の[[字形]]が示されており、
中には[[横書き字形]]と同じものが示された[[文字]]もあります。
[SRC[>>259]]


[REFS[
- [7] [CITE[[[UAX #50]]: Unicode Vertical Text Layout]], [TIME[2020-03-07 07:23:12 +09:00]] <https://www.unicode.org/reports/tr50/>
-- [243] <https://www.unicode.org/reports/tr50/#vo>
--- [254] <https://www.unicode.org/reports/tr50/#code_charts>
-- [259] <https://www.unicode.org/reports/tr50/#vertical_alternates>
- [173] [CODE[VerticalOrientation.txt]]
-- [213] [TIME[2019-10-12T21:51:11.000Z]], [TIME[2020-10-22T02:53:53.457Z]] <https://www.unicode.org/Public/UCD/latest/ucd/VerticalOrientation.txt>
-- [207] [CITE@en-us[UAX #44: Unicode Character Database]], [TIME[2020-03-06T22:23:11.000Z]], [TIME[2020-10-21T06:31:45.938Z]] <https://www.unicode.org/reports/tr44/#Complex_Default_Values>
-- [24] [CITE@en-us[UAX #44: Unicode Character Database]], [TIME[2020-03-06T22:23:11.000Z]], [TIME[2020-10-21T06:24:49.510Z]] <https://www.unicode.org/reports/tr44/#Default_Values_Table>
-- [174] 
[CITE@en-us[UAX #44: Unicode Character Database]], [TIME[2020-03-06T22:23:11.000Z]], [TIME[2020-10-18T09:39:12.689Z]] <http://www.unicode.org/reports/tr44/#Vertical_Orientation>
]REFS]



* フォント

** JIS フォント

[87] 
[[JIS]]
は、
[[JIS X 0208-1983]]
の時代に、
[[ビットマップフォント]]を2種類規定していました。

[88] 
基本は[[横書き]]用の[[字形]]としつつ、
[[縦書き]]で[[字形]]が異なる場合も[[規定]]していました。

[89] 
この[[フォント]]をそのまま使う場合、
敢えて[[縦書き]]の[[字形]]が[[規定]]されたもの以外は、
[[横書き]]用の[[字形]]をそのまま縦に並べることが想定されたようです。

;; [90] この[[フォント]]の[[規格]]はその後改正も廃止もされずに放置されているようです。
[[JIS X 0208-1990]],
[[JIS X 0208:1997]],
[[JIS X 0213:2000]],
[[JIS X 0213:2004]]
とは整合していない上に追加された[[文字]]も欠けたままです。

[REFS[

[FIG(quote)[ [62] [[JIS X 9052-1983]] 2.

>
[B[(3) 縦書き用字形]] 各行の文字が縦読みになるような文字の並びにおいて使用する文字。
]FIG]

[FIG(quote)[ [59] [[JIS X 9051-1984]] 2.

>
[B[(3) 縦書き用字形]] 各行の文字が縦読みになるような文字の並びにおいて使用する字形。
]FIG]


[FIG(quote)[ [63] [[JIS X 9052-1983]]

>
[B[3.2 横書き用字形と縦書き用字形]] 文字の並びは, 横書き及び縦書きとする。

[B[(1)]] すべての文字に対して横書き用字形を定める。 

[B[(2)]] 横書き用字形の外に縦書き用字形を定める文字は, [B[JIS X 0208]] に規定している特殊文字の内, 記述記
号12文字, 括弧記号18文字及び学術記号1文字, 並びに平仮名小文字10文字及び片仮名小文字12
文字の計53文字とする。 

[BOX(indent)[
[B[参考]] 上記[B[(2)]]の53文字以外の文字の字形は, 横書きを基本として設計されているが, 縦書きにも用
い る文字については, 縦書きに用いることも配慮してある。
]BOX]
]FIG]


[FIG(quote)[ [60] [[JIS X 9051-1984]]

>
[B[3.2 横書き用字形と縦書き用字形]] 文字の並びは, 横書き及び縦書きと次のとおりとする。

[B[(1)]] すべての文字に対して横書き用字形を定める。 

[B[(2)]] 横書き用字形のほかに縦書き用字形を定める文字は, [B[JIS X 0208]] に規定している特殊文字の内, 記述 
記号12文字, 括弧記号18文字及び学術記号1文字, 並びに平仮名小文字10文字及び片仮名小文字 
12文字の計53文字とする。 

[BOX(indent)[
[B[参考]] [B[3.2(2)]]の53文字以外の文字の字形は, 横書きを基本として設計されているが, 縦書きにも用い 
る文字については, 縦書きに用いることも配慮してある。
]BOX]
]FIG]

- [61] 
[[JIS X 9052-1983]]
附属書 [CSECTION[2.3 縦書き用字形]]
- [91] 
[[JIS X 9051-1984]]
附属書 [CSECTION[2.3 縦書き用字形]]

]REFS]

[92] 
[[縦書き]]用の[[字形]]が定められた[[文字]]の一覧:

[REFS[
- [65] [CITE@en[Character set "[[JIS X 9051-1984]] 縦書き用字形"]], [TIME[2020-10-09T06:40:06.000Z]] <https://chars.suikawiki.org/set/%24jisx9051-1984%3Avertical>
- [66] [CITE@en[Character set "[[JIS X 9052-1983]] 縦書き用字形"]], [TIME[2020-10-09T06:40:30.000Z]] <https://chars.suikawiki.org/set/%24jisx9052-1983%3Avertical>
]REFS]

[67] 
9051 と 9052 の[[縦書き用字形]]がある[[文字]]は一致していました。

後の [[JIS X 0208:1997]]
の[[縦書き用字形]]がある[[文字]]とは多少出入りがありました。

[REFS[
- [68] [CITE@en[Compare [[character sets]]]], [TIME[2020-10-09T06:43:43.000Z]] <https://chars.suikawiki.org/set/compare?expr=%24jisx9051-1984%3Avertical&expr=%24jisx9052-1983%3Avertical&expr=$jisx0208-1997:has-vertical-example>
]REFS]

** OpenType

[183] [[OpenType]]
は、[[右横書き]]のため、

- [184] [[Character-level mirroring]]
- [185] [[Glyph-level mirroring]]
- [186] [[RTL glyph alternates]]

... の3種類の方法を提供しています。
[SRC[>>182]]

[189] 
[DFN[Character-level mirroring]]
は、
[DFN[OpenType Mirroring Pairs List]] ([DFN[OMPL]])
の[[文字]]の組に基づき置き換えて[[グリフ]]を選ぶものです。
このリストは
[[Unicode 5.1]]
の
[CODE[Bidi_Mirroring_Glyph]]
でした (>>180)。
今後も変更されることはないとされています。
[SRC[>>182, >>187]]
以後 
[[Unicode]]
に追加された[[文字]]は他の2つの手法で扱うことになります。

[REFS[
- [196] [[OMPL]] の[[文字]]の一覧
<https://chars.suikawiki.org/set/%24opentype%3Aompl-char>
- [197] [[Unicode 5.1]] [CODE[Bidi_Mirroring_Glyph]] の[[文字]]の一覧
<https://chars.suikawiki.org/set/%24unicode5.1%3Ahas-Bidi_Mirroring_Glyph>
- [198] [[OMPL]] と [[Unicode]] 最新版 [CODE[Bidi_Mirroring_Glyph]]
の比較
(付: [CODE[Bidi_Mirroring_Glyph]] [[BEST FIT]])
<https://chars.suikawiki.org/set/compare?expr=%24opentype%3Aompl-char&expr=%24unicode%3Ahas-Bidi_Mirroring_Glyph&expr=$unicode:has-Bidi_Mirroring_Glyph-BEST-FIT>
]REFS]

[188] 
[DFN[Glyph-level mirroring]]
は、
[DFN[[CODE[rtlm]]]]
によって[[鏡像化]]された別[[グリフ]]を選ぶものです。
[SRC[>>182, >>190]]

[192] 
[DFN[RTL glyph alternates]]
は、
[DFN[[CODE[rtla]]]]
によって[[鏡像化]]でない別[[グリフ]]を選ぶものです。
[SRC[>>182, >>191]]


[REFS[
- [182] [CITE@ja-jp[Advanced typographic tables - [[OpenType]] Layout - Typography | Microsoft Docs]], [[PeterCon]], [TIME[2020-10-18T14:31:29.000Z]] <https://docs.microsoft.com/ja-jp/typography/opentype/spec/ttochap1#ltrrtl>
- [187] [CITE@en-us[OpenType Mirroring Pairs List (OMPL) - Typography | Microsoft Docs]], [[PeterCon]], [TIME[2020-10-18T14:41:19.000Z]] <https://docs.microsoft.com/en-us/typography/opentype/spec/ompl>
- [190] [CITE@ja-jp[Registered features, p-t - Typography | Microsoft Docs]], [[PeterCon]], [TIME[2020-10-18T14:45:49.000Z]] <https://docs.microsoft.com/ja-jp/typography/opentype/spec/features_pt#rtlm>
- [191] [CITE@ja-jp[Registered features, p-t - Typography | Microsoft Docs]], [[PeterCon]], [TIME[2020-10-18T14:46:25.000Z]] <https://docs.microsoft.com/ja-jp/typography/opentype/spec/features_pt#rtla>
]REFS]

** Adobe CID


[85] 
[[Adobe-Japan1]]
は、
[[横書き]]用の[[字形]]の [[CID]]
と別に、
[[縦書き]]用の[[字形]]の [[CID]]
も[[規定]]しています。

- [86] [[JIS X 0208]] や [[JIS X 0213]] の[[規格票]]に[[縦書き]]用の例示字形が示されたものはカバーしているようにみえます。
- [95] [[JIS]] に[[縦書き]]用の例示字形がなくても[[縦書き]]用の[[字形]]が示されたものがあるようです。
- [93] それ以外の独自の[[片仮名]]の[[単位]]の[[組み文字]]などの[[非漢字]]で[[横書き]]と[[縦書き]]の[[字形]]が示されたものがあります。
- [94] [[K-JIS]] 由来らしい、[[縦書き]]用の[[括弧]]と[[数字]]の[[組み文字]]があります。
- [96] 
[[ラテン文字]]その他について、
[[縦書き]]用の[[時計回り]]に90°回転した[[字形]]があります。


** [CODE[@]] フォント

[100] 
[[Windows]]
では[[フォント名]]に
[CODE[@]]
をつけると[[縦書きフォント]]になります。

[101] 
[[左横書き]]環境でこの[[フォント名]]を使うと、
[[縦書き字形]]が選択された上で、
[[仮名]]や[[漢字]]は[[反時計回り]]90°[[回転][回転 (書字方向)]]した状態になります。
[SEE[ [[[CODE[@]]フォント]] ]]



[FIG(quote)[
[FIGCAPTION[
[97] [CITE[縦書き編集]]
([TIME[2009-01-15T08:09:52.000Z]], [TIME[2020-10-17T00:22:08.267Z]])
<http://0ban.com/araken/qxhelp/tategaki.htm>
]FIGCAPTION]

>  フォント設定により 縦書き用フォント(1文字目が @)を使用すると、縦書き編集できます。
>  縦書き編集はウィンドウが時計回りに90度回転していると考えてください。
>  矢印キー(→←↑↓)の機能も時計回りに90度回転します。つまり、通常の横書き編集のときは → で「1文字右に移動」が実行されるとすると、縦書き編集では、↓ で「1文字右に移動」が実行されます。

]FIG]


* グリフの指定

[SEE[ [[グリフの選択]] ]]

[238] 
[[HTML]]
の[[仕様書]]は
[[bidi]]
処理を
[[CSS]]
を使って記述しています。
[[CSS]]
は
[[Unicode Bidirectional Algorithm]]
を使って[[左横書き]]と[[右横書き]]の扱いを[[規定]]しています。
[[HTML]]
にも
[[CSS]]
にも[[鏡像化]]に関する規定はなく、
[[Unicode]]
のアルゴリズムの挙動を[[著者]]が制御する手段は提供されていません。

* メモ

@@
[[T.61]]




[FIG(quote)[
[FIGCAPTION[
[111] [CITE[法令における拗音及び促音に用いる「や・ゆ・よ・つ」の表記について]]
([TIME[2008-07-03T14:51:11.000Z]], [TIME[2020-10-17T09:46:04.354Z]])
<http://www5d.biglobe.ne.jp/~Jusl/Bunsyo/yayuyotu.html>
]FIGCAPTION]

>  (4)	 小書きにした「や・ゆ・よ・つ」は、タイプ又は印刷の配字の上では一文字文として取り扱うものとし、(注)に示すように、上下の中心に置き、右端を上下の字の線にそろえる。

]FIG]


[112] ([TIME[2018-01-18T11:57:34.000Z]], [TIME[2020-10-17T09:48:48.383Z]])
<https://upload.wikimedia.org/wikipedia/commons/d/d5/%E6%9D%A1%E4%BE%8B%E3%80%81%E8%A6%8F%E5%89%87%E7%AD%89%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E6%8B%97%E9%9F%B3%E5%8F%8A%E3%81%B3%E4%BF%83%E9%9F%B3%E3%81%AB%E7%94%A8%E3%81%84%E3%82%8B%E3%80%8C%E3%82%84%E3%83%BB%E3%82%86%E3%83%BB%E3%82%88%E3%83%BB%E3%81%A4%E3%80%8D%E3%81%AE%E8%A1%A8%E8%A8%98%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%EF%BC%88%E9%80%9A%E7%9F%A5%EF%BC%89.pdf>