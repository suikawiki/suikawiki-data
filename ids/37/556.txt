[1] 
[[書字方向]]によって[[グリフ]]を選ぶ必要がある[[文字]]もあります。

* 仕様書

[REFS[
- [12] [[Unicode Standard]]
-- [13] [CITE[The Unicode Standard, Version 13.0 - ch06.pdf]], [TIME[2020-03-10 02:53:36 +09:00]] <https://www.unicode.org/versions/Unicode13.0.0/ch06.pdf#page=14>
-- [14] [CITE[The Unicode Standard, Version 13.0 - ch06.pdf]], [TIME[2020-03-10 02:53:36 +09:00]] <https://www.unicode.org/versions/Unicode13.0.0/ch06.pdf#page=31>
-- [11] [CITE[[[The Unicode Standard]], Version 13.0 - UFE10.pdf]], [TIME[2020-03-03 07:41:18 +09:00]] <https://www.unicode.org/charts/PDF/UFE10.pdf>
- [3] [[UAX #9]]
-- [5] [CITE@en-us[[[UAX #9]]: Unicode Bidirectional Algorithm]], [TIME[2020-03-07 07:23:12 +09:00]] <https://unicode.org/reports/tr9/#HL6>
-- [6] [CITE@en-us[[[UAX #9]]: Unicode Bidirectional Algorithm]], [TIME[2020-03-07 07:23:12 +09:00]] <https://unicode.org/reports/tr9/#L4>
-- [2] [CITE@en-us[[[UAX #9]]: [[Unicode Bidirectional Algorithm]]]], [TIME[2020-03-07 07:23:12 +09:00]] <https://unicode.org/reports/tr9/#Mirroring>
- [7] [CITE[[[UAX #50]]: Unicode Vertical Text Layout]], [TIME[2020-03-07 07:23:12 +09:00]] <https://www.unicode.org/reports/tr50/>
- [17] [[JLREQ]]
-- [18] [CITE@en[Requirements for Japanese Text Layout [[日本語組版処理の要件]](日本語版)]], [TIME[2020-09-16 08:08:39 +09:00]] <https://w3c.github.io/jlreq/#kanji_hiragana_and_katakana>
-- [16] [CITE@en[Requirements for Japanese Text Layout [[日本語組版処理の要件]](日本語版)]], [TIME[2020-09-16 08:08:39 +09:00]] <https://w3c.github.io/jlreq/#mixed_text_composition_in_vertical_writing_mode>
- [8] [CITE@en[CSS Writing Modes Level 4]], [TIME[2020-10-03 17:24:07 +09:00]] <https://drafts.csswg.org/css-writing-modes/#text-orientation>
- [10] [[OpenType]]
-- [9] [CITE@en-us[Registered features, u-z - Typography | [[Microsoft]] Docs]], [[PeterCon]], [TIME[2020-10-03 18:50:22 +09:00]] <https://docs.microsoft.com/en-us/typography/opentype/spec/features_uz>
]REFS]


* 右横書き

[4] 
[[右横書き]]で「[[ー]]」を使う時、[[鏡像化]]が必要です。



[20] [[ISO/IEC 10646]]
[CSECTION[15 [[双方向文脈]]での[[鏡像文字]]]]

[37] 
[[JIS X 0221-1:2001]] [CSECTION[19. 双方向文脈での文字]]
は
「左向き用及び右向き用と対をなす文字の種類」
として括弧類を列挙していました。
[[文字の名前]]が「LEFT」や「RIGHT」であっても、
左右ではなく開き、閉じの意味であるとされました。
[CSECTION[附属書F (参考) 代替書式文字]] F.2.2 にこれに関係する[[代替書式文字]]の説明がありました。
[CSECTION[附属書P (参考) 文字に関する追加情報]]
にうち2文字の補足説明がありました。

[38] 
同
[CSECTION[附属書E (参考) アラビア語の双方向文脈での鏡像文字]]
は
「図形記号の鏡像として表示してもよい」
[[文字]]を列挙していました。[[括弧類]]や[[数学記号]]などが含まれていました。

[39] 
[[JIS X 0221:2007]] 19 は一覧表がなく、附属書Eを参照する形に改められていました。
それは[[ユニコード]]の [[Bidi Mirrored]]
の一覧と等しいと[[注記]]がありました。
[CSECTION[附属書E (規定) 双方向文脈での鏡像文字]]
は
「図形記号の鏡像として表示してもよい」
[[文字]]を列挙していました。[[括弧類]]や[[数学記号]]などが含まれていました。
[CSECTION[附属書F (参考) 代替書式文字]] F.2.2 にこれに関係する[[代替書式文字]]の説明がありました。
[CSECTION[附属書P (参考) 文字に関する追加情報]]
にうち2文字の補足説明がありました。

[40] 
[[JIS X 0221:2014]] 15 は[[ユニコード標準]]第6.1版の 
[[Bidi_[ASIS[Mirrord]]]]
を参照する形に改められていました。

* 縦書き用符号位置

[FIG(short list)[ [15] [[縦書き]]専用[[符号位置]]のある[[文字コード]]
- [[MacJapanese]]
- [[Big5]]
- [[CNS 11643]]
- [[GB 12345]]
- [[GBK]]
- [[GB 18030]]
- [[Unicode]]
]FIG]

[25] 
[[JIS X 0213:2000]]
の制定時の[[公開レビュー]]公開資料
[CITE[非漢字類の選定について]],
[TIME[1998年11月6日][1998-11-06]]版によると、
候補に[[縦書き]]用の[[字形]]が大量に収集されましたが、

>縦書きの用途を想定した縦書き用連数字のように,組版の機能を利用することで実現可
能なものについては,基本的に,追加候補としないこととした。

... という理由で収録されなかったそうです。


* 縦書き用例示字形

[FIG(short list)[ [19] 縦横両用[[符号位置]]向け[[縦書き]]用[[例示字形]]の示された[[規格]]
- [[JIS X 0208]]
- [[JIS X 0213]]
- [[JIS X 4051]]
- [[JIS X 9051]]
- [[JIS X 9052]]
- [[UAX #50]]
]FIG]

[22] 
[[JIS X 0208:1997]]
は[[書字方向]]が明示されない[[例示字形]]を示した他に、
[[非漢字]]の一部に[[参考]]として[[縦書き]]の[[例示字形]]を示していました。
[[縦書き]]が示された場合、そうでない方は[[横書き]]用の[[字形]]が示されていましたが、
特にそうであるとは明言されていませんでした。

[23] 
[[縦書き]]は網羅的でないとされており、その選択根拠は不明です。
例えば 
[CODE(charname)@en[IDEOGRAPHIC FULL STOP]] には[[縦書き]]を示し、
[CODE(charname)@en[FULL STOP]] には示していませんでした。
[CODE(charname)@en[COLON]] には[[縦書き]]を示し、
[CODE(charname)@en[SEMICOLON]] には示していませんでした。
[CODE(charname)@en[EM DASH]] には[[縦書き]]を示し、
[CODE(charname)@en[HYPHEN]] には示していませんでした。
[CODE(charname)@en[EQUAL SIGN]] には[[縦書き]]を示し、
[CODE(charname)@en[NOT EQUAL TO]],
[CODE(charname)@en[GREATER-THAN OVER EQUAL TO]],
[CODE(charname)@en[MINUS SIGN]] には示していませんでした。
[CODE(charname)@en[LEFT ANGLE BRACKET]] には[[縦書き]]を示し、
[CODE(charname)@en[LESS-THAN SIGN]] には示していませんでした。

[REFS[
- [33] [CITE@en[Character set "[[JIS X 0208:1997]] 附属書4 (規定) に縦書き例示字形 (参考) あり"]], [TIME[2020-10-07T10:24:06.000Z]] <https://chars.suikawiki.org/set/%24jisx0208-1997%3Ahas-vertical-example>
]REFS]

[27] 
[[JIS X 0213:2000]]
も[[書字方向]]が明示されない[[例示字形]]と、
[[非漢字]]の一部に[[縦書き]]の[[例示字形]]を示していました。
[[縦書き]]の[[例示字形]]のみの[[文字]]が4つありました。
それ以外は[[縦書き]]が示された場合、[[横書き]]用の[[字形]]も1つ[[以上]]示されていましたが、
特にそうであるとは明言されていませんでした。
[[例示字形]]の2つ目以後は[[参考]]とされ、
[[縦書き]]のみの4文字以外の[[縦書き]]はすべて2つ目以後の字形として示されました。

[31] 
4文字については附属書7に、
「一般の日本語では, 縦書き以外での利用がほとんど認められないことから, これらの図形文字の例示字体は, 縦書きのものだけを掲げている」
と説明がありました。

[47] 
この4文字のうち3文字は[[くの字点]]で、2文字を組合せて1セットで使うものでした。
[[縦書きグリフ]]を2つ縦に並べれば繋がりますが、
横に並べると繋がりません。

[28] 
[[縦書き]]はやはり網羅的でないとされており、その選択根拠は不明です。
[[JIS X 0208]]
にある[[文字]]は、
[CODE(charname)@en[LEFT DOUBLE QUOTATION MARK]],
[CODE(charname)@en[RIGHT DOUBLE QUOTATION MARK]]
の[[縦書き]]字形が削られた他は、
有無を変更しなかったようです。

[32] 附属書7によると、変更は
「実際の使用例などを勘案」
して [[JIS X 0208]]
の措置が不適切としたことによるようです。
しかし[[字形]]の状況は等しい
[CODE(charname)@en[LEFT SINGLE QUOTATION MARK]],
[CODE(charname)@en[RIGHT SINGLE QUOTATION MARK]]
は [[JIS X 0213]]
も従来通りとしました。



[29] 
[CODE(charname)@en[LEFT SQUARE BRACKET]],
[CODE(charname)@en[RIGHT SQUARE BRACKET]],
[CODE(charname)@en[KATAKANA LETTER SMALL RO]]
は明らかに[[縦書き]]の字形に[[縦書き]]であると明記されておらず、
誤植と思われます。
(厳密に言えば[[縦書き]]の印が無いものは[[横書き]]とは書いていないので、
印がなくても誤りとは言えないのですが、まあ誤りでしょう。)

[30] 
附属書7
によれば
[CODE(charname)@en[DOUBLE EXCLAMATION MARK]],
[CODE(charname)@en[DOUBLE QUESTION MARK]]
は
「縦書きでの利用を強く意識して」
追加されたもののようですが、[[横書き]]でも[[字形]]差がないためなのか、
[[縦書き]]字形とはされませんでした。

[34] [[元号合字]]は横並びの形のみ示され、その他に[[縦書き]]字形は示されませんでした。

[REFS[
- [35] [CITE@en[Character set "[[JIS X 0213:2000]] 附属書4 (規定) に縦書き例示字形 (参考) あり"]], [TIME[2020-10-07T10:33:10.000Z]] <https://chars.suikawiki.org/set/%24jisx0213-2000%3Ahas-vertical-example>
-- [[縦書き]]と明示されたものに >>29 を追加した表。
-- ここに示した[[文字]]の他、
[CODE(charname)@en[KATAKANA LETTER AINU P]]
- [36] [CITE@en[Character set "[[JIS X 0213:2000]] 附属書4 (規定) に横書き例示字形なし"]], [TIME[2020-10-07T10:33:29.000Z]] <https://chars.suikawiki.org/set/%24jisx0213-2000%3Ano-horizontal-example>
]REFS]


[FIG(quote)[ [21] [[JIS X 0208:1997]] 附属書4 ([[規定]])

>
[B[b) 文字]] 当該区点位置で表現される図形文字の字体を字形として例示したもの。
>
[B[c) 縦書き]] 当該区点位置で表現される図形文字の字体を縦書きで表示する場合の字形を例示したもの。この例示は,
一部の区点位置についてだけ行った。この欄は, [[参考]]であって[[規定]]の一部ではない。


]FIG]

[FIG(quote)[ [26] [[JIS X 0213:2000]] 附属書4 ([[規定]])

>
[B[c) 文字]] 当該面区点位置で表現される図形文字の字体を字形として例示したもの。
>
[BOX(indent)[
[B[備考]] “(SP)”, “(NBSP)” 及び “(SHY)” は, それぞれ SPACE, NO-BREAK SPACE 及び SOFT HYPHEN を表
し, 字形の例示ではない。
]BOX]
>
[B[d) 字形例]] 当該面区点位置で表現される図形文字の字体で, 参考となるその他の字形がある場合の字形を例示
したもの。この例示は, 一部の面区点位置についてだけ行った。また, 縦書き用の字形が異なることがある
場合も字形例で示した。この欄は, 参考であって規定の一部ではない。

> *は該当面区点位置で表現される図形文字において, 主に縦書きで使用される字形を例示したものである。

]FIG]

* JIS フォント

[FIG(quote)[ [62] [[JIS X 9052-1983]] 2.

>
[B[(3) 縦書き用字形]] 各行の文字が縦読みになるような文字の並びにおいて使用する文字。
]FIG]

[FIG(quote)[ [59] [[JIS X 9051-1984]] 2.

>
[B[(3) 縦書き用字形]] 各行の文字が縦読みになるような文字の並びにおいて使用する字形。
]FIG]


[FIG(quote)[ [63] [[JIS X 9052-1983]]

>
[B[3.2 横書き用字形と縦書き用字形]] 文字の並びは, 横書き及び縦書きとする。

[B[(1)]] すべての文字に対して横書き用字形を定める。 

[B[(2)]] 横書き用字形の外に縦書き用字形を定める文字は, [B[JIS X 0208]] に規定している特殊文字の内, 記述記
号12文字, 括弧記号18文字及び学術記号1文字, 並びに平仮名小文字10文字及び片仮名小文字12
文字の計53文字とする。 

[BOX(indent)[
[B[参考]] 上記[B[(2)]]の53文字以外の文字の字形は, 横書きを基本として設計されているが, 縦書きにも用
い る文字については, 縦書きに用いることも配慮してある。
]BOX]
]FIG]


[FIG(quote)[ [60] [[JIS X 9051-1984]]

>
[B[3.2 横書き用字形と縦書き用字形]] 文字の並びは, 横書き及び縦書きと次のとおりとする。

[B[(1)]] すべての文字に対して横書き用字形を定める。 

[B[(2)]] 横書き用字形のほかに縦書き用字形を定める文字は, [B[JIS X 0208]] に規定している特殊文字の内, 記述 
記号12文字, 括弧記号18文字及び学術記号1文字, 並びに平仮名小文字10文字及び片仮名小文字 
12文字の計53文字とする。 

[BOX(indent)[
[B[参考]] [B[3.2(2)]]の53文字以外の文字の字形は, 横書きを基本として設計されているが, 縦書きにも用い 
る文字については, 縦書きに用いることも配慮してある。
]BOX]
]FIG]

[61] 
[[JIS X 9052-1983]]
附属書 [CSECTION[2.3 縦書き用字形]]

[[JIS X 9051-1984]]
附属書 [CSECTION[2.3 縦書き用字形]]

* JIS X 4051

[48] [[JIS X 4051-1995]]
は[[文字クラス]]を本体4.1.1で[[規定]]し、
附属書で
[[JIS X 0221]] との対応関係を[[規定]]していました。

[45] 
4.1.1 から参照された
[CSECTION[表1 文字クラス]]
に「横書き用文字」
と
「縦書き用文字」
が示されました。
縦横は差分ではなく、縦横同じ字形で示された文字もありました。
横にだけ示された文字もありました。

@@ 2004 6.1.1 表4

[46] 
[CSECTION[附属書 国際符号化文字集合 (JIS X 0221) との対応]]
は
「縦書き・横書きの文字種につ 
いては, 横書きを基準として決め, 縦書き時にはそれを縦書き用文字に変換することを原則とし,」
て[[字形]]欄に[[横書き]]と[[縦書き]]の字形例を示しました。

[49] 
表1と附属書を比べると、表1は附属書の一部の[[文字]]に限って示しているように見えます。
(表1は[[字形]]だけで、[[文字]]を同定できる情報が他に示されていないので、
断言しがたいですが。)

[50] 
附属書では一部の[[文字クラス]]は[[符号位置]]だけが示されており、
それ以外は縦横の字形を明記して示していました。
縦横は差分ではなく、縦横同じ字形で示された文字もありました。
横にだけ示された文字もありました。

[REFS[
- [54] [CITE@en[Character set "[[JIS X 4051-1995]] 附属書各表 字形 縦書きに横書きと異なる字形"]], [TIME[2020-10-08T11:23:22.000Z]] <https://chars.suikawiki.org/set/%24jisx4051-1995%3Avertical-specific-glyphs>
]REFS]

[55] 
[[JIS X 0208:1997]]
の[[縦書き字形]]と比べると、
[[JIS X 4051-1995]] にだけあるのは [[JIS X 0208]]
にない[[文字]]と「・」 (「・」は[[字形]]は似ているが縦横幅の違い)。
[[JIS X 0208]] にだけあるのは「=」。

[REFS[
- [56] [CITE@en[Compare [[character sets]]]], [TIME[2020-10-08T11:27:36.000Z]] <https://chars.suikawiki.org/set/compare?expr=%24jisx4051-1995%3Avertical-specific-glyphs&expr=%24jisx0208-1997%3Ahas-vertical-example>
]REFS]

[51] 
他に本体中の例示でいくつか示されていました。

[FIG(quote)[ [41] [[JIS X 4051-1995]] 2. 

>
[B[(40) 省略記号]] [SNIP[]]
>
[BOX(indent)[
[B[例1.]] 横書きにおける前置省略記号 ¥$£

[B[例2.]] 横書きにおける後置省略記号 °’”%‰¢

[B[参考]] 片仮名単位字を含む全角単位字及び [B[JIS X 0208]] に含まれる単位記号は, この規格では省略記号
として扱う。

[BOX(indent)[
[B[例]] 縦書きの片仮名単位字 [TATE[㌔]]
]BOX]

]BOX]


>
[B[(57) 中点類 (なかてんるい)]] [SNIP[]]
>
[BOX(indent)[
[B[例]] 横書きにおける中点類 ・:;

[B[参考]] 縦書きの和文では, セミコロン “;” を使用しない。
]BOX]



]FIG]

[42] 
[CSECTION[(60) 始め括弧類]] の「[B[例]] 横書きにおける始め括弧類」

[CSECTION[(71) 分離禁止文字]] の 「[B[例]] 横書きにおける分離禁止文字」

[52] 例示中の「[TATE[㌔]]」は表1にも附属書にも字形例がなく、
ここでだけ字形が示された文字でした。

[57] [[JIS X 4051:2004]] でも似たような例示 (項目と例示される文字は多少変更あり)。

[53] 
例示でない本文 (横書き) 中で敢えて[[縦書き]]字形を示したのが1個所。

[FIG(quote)[ [43] [[JIS X 4051-1995]] 3.1 (1) 

>
[B[(a)]] [SNIP[]] 縦書きで漢数字の位取り記 
号として使われる読点 “[TATE[、]]” 及び小数点として使われる中点 “[TATE[・]]” の字幅は半角とするが, [SNIP[]]
]FIG]

(縦書きの実例あり。ここでの[[半角]]とは縦幅のこと。)

2004 4.2 a) 1) では本文中の字形が削除されていた。 (実例は 2004 にもある。)

[58] [[JIS X 4051:2004]] では
5.2, 表2, 表3
に[[漢文]]用の[[文字]]が[[縦書き]]字形で示された。

-*-*-

[44] 
([[時計回り]]90度回転の[[左横書き]])
1995 3.5 (6)
2004 4.6 f) 「縦書きの行中で, 連数字及び単位記号の文字の向きを右回りに90° 回転して横書きにした場合」
1995 3.6 (2) 
2004 4.7 b)「縦書きの行中では, 欧文の文字の向きを右回りに90° 回転して欧文を横書きにし,」
[[JIS X 4052:2000]] 6.1 a) 3) 
「文字の並びの横軸を時計回りに 90度回転させた横書き」

(広義の[[縦中横]])
1995 3.5 (7)
2004 4.6 g) 「縦書きの行中で, 連数字及び単位記号を縦書きの文字の向きのまま横書きにした場合」
1995 3.6 (2) 備考
2004 4.7 b) 備考 「縦書きの欧字又は数字を和字として扱う場合」「添え字付きの欧字を縦中横を使用して配置する場合」
1995 3.7 
2004 4.8「[B[縦中横処理]] 縦中横処理は, 縦書きの行中で, 縦書きの字の向きのまま横書きになるように文字列 
を中央に配置する。」
1995 3.9 (4)
2004 4.13 d) 「文字の向きを右回りに90° 回転して横書きにする」
[[JIS X 4052:2000]] 6.18 「欧文用文字を縦書き中で和字扱いとする」 (1文字ずつ[[正立]]させること)



* Adobe CID

@@

* グリフの指定

[FIG(short list)[ [24] 特定[[グリフ]]の選択
- [[SAPV]]
]FIG]


* メモ

