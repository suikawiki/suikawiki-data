[13] 
[[CKAN]] の [[Web API]] のうち主要なものは他の同種の[[Webサービス]]にも実装され、
この分野の[[事実上の標準]]となっています。

[1] [[CKAN]] 本家のドキュメント:

[REFS[
- [15] 
[CITE@en[API guide — [[CKAN]] 2.10.4 documentation]], [TIME[2024-03-13T10:50:27.000Z]], [TIME[2024-04-13T12:32:27.540Z]] <https://docs.ckan.org/en/2.10/api/index.html>
-- [20] 
[CITE@en[API guide — [[CKAN]] 2.10.4 documentation]], [TIME[2024-03-13T10:50:27.000Z]], [TIME[2024-04-13T12:45:49.135Z]] <https://docs.ckan.org/en/2.10/api/index.html#ckan.logic.action.get.package_list>
-- [22] 
[CITE@en[API guide — [[CKAN]] 2.10.4 documentation]], [TIME[2024-03-13T10:50:27.000Z]], [TIME[2024-04-13T12:47:09.552Z]] <https://docs.ckan.org/en/2.10/api/index.html#ckan.logic.action.get.package_show>

]REFS]

* URL

[16] 
[CODE[http://demo.ckan.org/api/3/action/package_list]]
のような [[URL]] で[[パッケージ]]の一覧を、
[CODE[http://demo.ckan.org/api/3/action/package_show?id=adur_district_spending]]
のような [[URL]] で特定の[[パッケージ]]の情報を取得できます。
[SRC[>>15]]

[17] 
[CODE[3]]
は[[版番号]]を表しますが、省略できます。つまり
[CODE[http://demo.ckan.org/api/action/package_list]]
でもアクセスできます。
普通はこれで十分です。

** 発見

- [4] [CITE@ja[データセット - 公共交通オープンデータセンター データカタログサイト]], [TIME[2024-04-21T09:09:50.000Z]] <https://ckan.odpt.org/dataset>

[5] >>4 このサイトは
<https://ckan.odpt.org/api/>
以下がすべて[[リダイレクト]]になっています。
意図的に潰されているように感じられます。

[6] 
>>4 このサイトはそもそも [[CKAN]] の仕組みをほとんど使っておらず、
データファイルのある [[URL]] を説明文に書いています
(大部分はアクセスが要申請で、ライセンスも非 [[OSS]])。


* 応答

[18] 
正常な場合 [[HTTP]] [CODE[200]] [[応答]]で [[JSON]] データが返されます。
[SRC[>>15]]

[19] 
[[JSON]] は[[オブジェクト]]で、次の値を持ちます。

[FIG(list members)[

:[F[[CODE[success]]]]: 成功した場合は [CODE[true]] となります。 [SRC[>>15]]
:[F[[CODE[result]]]]: 結果になります。 [SRC[>>15]]

]FIG]

* エンドポイント

** [CODE[package_list]]

[21] [CODE[package_list]] には [CODE[offset]], [CODE[limit]] を指定できます。
どちらも整数です。どちらも省略可能です。
[SRC[>>20]]

** [CODE[package_show]]

[23] [CODE[package_show]] には [CODE[id]] を指定します。
[[データ集合]]の ID または名前を表します。
[SRC[>>20]]

* パッケージ

[2] 今の [[CKAN]] は [[dataset]] ([[データ集合]]) と呼んでいるものが、
[[API]] では [[package]] ([[パッケージ]]) と呼ばれています。
[SEE[ [[CKANパッケージ]] ]]

* 他の実装

[7] 
[CITE[[[データカタログ横断検索システム]]]]
は
[[CKAN API]]
の一部と互換性のある独自の実装をしています。
[SRC[>>8]]
表示ページの [[URL]] と [[API]] の [[URL]] の [[path][URL path]] 
の関係性が本家 [[CKAN]] とは少し違います。

[REFS[

- [8] 
[CITE[[[データカタログ横断検索システム]] - データカタログ横断システム]], [TIME[2024-04-27T03:37:59.000Z]] <https://search.ckan.jp/api>

]REFS]

* メモ
