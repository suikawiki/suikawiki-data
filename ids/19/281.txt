[11] 
[[OpenType]] 
ファイルには
[[SVG]]
形式の[[グリフ]]データを格納できます。

* 仕様書

[REFS[

- [13] 
[CITE@en-us[[[SVG]] - Scalable vector graphics table (OpenType 1.9.1) - Typography | Microsoft Learn]], [[PeterCon]], [TIME[2024-05-31T17:42:32.000Z]], [TIME[2024-11-17T08:54:20.185Z]] <https://learn.microsoft.com/en-us/typography/opentype/spec/svg>

]REFS]

* [CODE[SVG ]] 表

[25] 
[CODE[SVG ]] [[表][OpenType表]]では、
[[グリフID]]に対してその[[SVG文書]]を対応付けることができます。
[SRC[>>13]]

* SVG 形式のグリフの値

[38] 
[CODE[SVG ]] における [[SVG文書]]は、
[[平文]]としてまたは [[gzip]] 符号化により記述できます。
[SRC[>>13]]

[39] 
実装はこの両方に対応しなければ[RUBYB[なりません][must]]。 [SRC[>>13]]

;; [40] 
[CODE[SVG ]] の [F[[CODE[svgDocLength]]]] で指定するのは、
符号化された状態のデータの長さであって、復号後の長さでは''ありません''。
[SRC[>>13]]

** [CODE[SVG]] における gzip

[35] 
[[RFC 1952]] [[gzip]] 形式を使うことができます。 [SRC[>>13]]

[36] 
[[gzip]] では [[RFC 1951]] [[deflate]] 圧縮方式を使わなければ[RUBYB[なりません][must]]。
[SRC[>>13]]

[37] 
従って [[gzip]] を使う場合は先頭を [N[0x1F]] [N[0x8B]] [N[0x08]] 
としなければ[RUBYB[なりません][must]]。
[SRC[>>13]]


* SVG の要件

[26] 
[CODE[SVG ]] で使う [[SVG]] は、

> [SNIP[]] Scalable Vector Graphics (SVG) 1.1 (Second Edition) specification at [ASIS[http://www.w3.org/TR/SVG11][リンク]]. 

であると定められています。 [SRC[>>13]]

[27] 
現時点でそのリンク先 <http://www.w3.org/TR/SVG11> は、 >>28 に[[リダイレクト]]され、
>>29 と同じものが表示されます。
[TIME[2024-11-17T10:57:53.00Z]]

[REFS[

- [28] 
[CITE[Scalable Vector Graphics (SVG) 1.1 (Second Edition)]], [TIME[2017-10-02T10:43:18.000Z]], [TIME[2024-11-17T10:57:07.973Z]] <https://www.w3.org/TR/SVG11/>
- [29] 
[CITE[Scalable Vector Graphics (SVG) 1.1 (Second Edition)]], [TIME[2017-10-02T10:43:18.000Z]], [TIME[2024-11-17T10:57:15.782Z]] <https://www.w3.org/TR/2011/REC-SVG11-20110816/>

]REFS]

[30] 
以前の版では、

> [SNIP[]] draft [ASIS[SVG 2][リンク]] specification. [SNIP[]]

の [CODE[context-fill]] とその他の [CODE[context-*]] [[特性値]]の利用が認められていました。
[SRC[>>13]]

[33] 
ここでそのリンク先は <https://www.w3.org/TR/SVG2/> [SRC[>>31]] で、
現時点で >>32 と同じものが表示されます。
「以前の版」がどの時点のものだったかは不明です。

[34] 
現在の版ではこれら[[特性]]群の利用は[RUBYB[[[非推奨]]][deprecated]]であります。
[[適合]]実装は、これら[[特性]]群を対応しても構いませんが、
対応することは[RUBYB[必須][required]]でも[RUBYB[推奨][recommended]]でも''ありません''。
[[フォント]]におけるこれら[[特性]]群の利用は[RUBYB[強く非推奨][strongly discouraged]]です。
[SRC[>>13]]


[REFS[

- [31] 
[CITE@en[Scalable Vector Graphics (SVG) 2]], [TIME[2018-10-02T17:56:01.000Z]], [TIME[2024-11-17T10:58:29.021Z]] <https://www.w3.org/TR/SVG2/>
- [32] 
[CITE@en[Scalable Vector Graphics (SVG) 2]], [TIME[2018-10-02T17:56:01.000Z]], [TIME[2024-11-17T10:58:40.407Z]] <https://www.w3.org/TR/2018/CR-SVG2-20181004/>

]REFS]




* 文脈

[23] 
[CODE[SVG ][SVG-in-OpenType]] [[表][OpenType表]]は必須ではありません。
[SRC[>>13]]

[24] 
[CODE[SVG ]] [[グリフ]]とは別に [CODE[glyf]], [CODE[CFF ]], [CODE[CFF2]]
のいずれかの[[グリフ]]は必須です。
[SRC[>>13]]


* 実装


[15] [CITE@en-US[CSS at-rule: `@font-face`: OpenType SVG rendering | Can I use... Support tables for HTML5, CSS3, etc]], [TIME[2024-11-17T09:03:39.000Z]] <https://caniuse.com/mdn-css_at-rules_font-face_opentype_svg>


[16] >>15 によると [[Firefox]] と [[Safari]] は対応していますが、
[[Blink]] は対応していません。
[TIME[2024-11-17T09:04:19.600Z]]

[17] 
>>18 によると [[EdgeHTML]] は対応していたようですが...

* 関連

[22] [CODE[SVG ]] グリフには [[variable][variable font]] や [[hint]]
は適用できません。
[SRC[>>13]]


[14] [[色フォント]], [[アニメーションフォント]]

* 歴史

** SVG Fonts

[5] [DFN[SVG Fonts]] は、 [[SVG]] を使って記述された[[フォント]]でした。

[10] 
一部の
[[Webブラウザー]]が実装していましたが、
削除されました。


[7] 
代替として、 通常の [[OpenType]] による [[Web Fonts]] を利用できます。

-*-*-

[12] 
[[SVG Fonts]] は[[スタイル]]指定の挙動が理解不能になることや、
[[OpenType]]
の
[CODE[GSUB]] / [CODE[GPOS]]
に相当する機能が欠落していて実用が困難であるとされました。
[SRC[>>2]]


[4] [CITE@en[Note how the SVG currently implemented in browsers is a mix of SVG 1.… · whatwg/html@969c45b]]
([TIME[2015-11-18 11:28:33 +09:00]] 版)
<https://github.com/whatwg/html/commit/969c45b2478d1d2d3be8564ec85dc316a53c8bcf>

[6] [CITE@ja[Henri Sivonenさんのツイート: "Today I wrote a patch to make Gecko’s HTML parser unaware of IE5 databinding, Web Forms 2.0 repetition and SVG fonts."]]
([TIME[2017-05-23 22:13:53 +09:00]])
<https://twitter.com/hsivonen/status/855048094320398336>

[8] [CITE@en[Reference SVG 2]]
([[dstorey]]著, [TIME[2018-05-18 15:05:35 +09:00]])
<https://github.com/whatwg/html/commit/7069de4fcf2f92295dded520ed5d7275addab2e7>

[9] 
[[Acid3]] に[[テスト]]がありましたが、後に削除されました。




** SVG-in-OpenType

[1] [CITE[Well, I'm Back: SVG In OpenType: A New Approach To SVG Fonts]]
( ([TIME[2013-02-01 19:25:37 +09:00]] 版))
<http://robert.ocallahan.org/2013/02/svg-in-opentype-new-approach-to-svg.html>

[2] [CITE@en[SVGOpenTypeFonts - MozillaWiki]]
( ([TIME[2013-01-28 18:41:35 +09:00]] 版))
<https://wiki.mozilla.org/SVGOpenTypeFonts>

[3] [CITE@en[For the record: Adobe's Draft 1 of the OT 'SVG ' table]]
( ([[Sairus Patel]] 著, [TIME[2011-10-28 23:42:36 +09:00]] 版))
<http://lists.w3.org/Archives/Public/public-svgopentype/2011Oct/0000.html>





[18] [CITE@ja[OpenTypeフォントにSVGアニメーションを突っ込んでみる - にせねこメモ]], [TIME[2022-08-14T15:13:28.000Z]] <https://nixeneko.hatenablog.com/entry/2017/10/31/211922>

[19] [CITE@en-US[SVG & colors in OpenType fonts - Mozilla Hacks - the Web developer blog]], [TIME[2023-08-26T12:03:56.000Z]] <https://hacks.mozilla.org/2014/10/svg-colors-in-opentype-fonts/>

[20] [CITE[SVG Glyphs in OpenType Specification]], [TIME[2017-01-23T20:46:13.000Z]], [TIME[2023-08-26T12:04:26.514Z]] <https://www.w3.org/2013/10/SVG_in_OpenType/>

[21] [CITE@en-US[SVG glyphs for OpenType Community Group]], [TIME[2023-08-26T12:04:54.000Z]] <https://www.w3.org/community/svgopentype/>
