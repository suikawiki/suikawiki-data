* 仕様書

[REFS[
- [9] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2016-02-21 07:50:23 +09:00]] 版) <https://html.spec.whatwg.org/#dom-script-text>
]REFS]

* [CODE(DOMi)@en[HTMLScriptElement]] インターフェイス

[10] [CODE(DOMi)@en[[[HTMLScriptElement]]]] [[インターフェイス]]の
[DFN[[CODE(DOMa)@en[[[text]]]]]] [[IDL属性]]は、
[[取得時]]、次のようにしなければ[['''なりません''']] [SRC[>>9]]。

[FIG(steps)[
= [12] [VAR[テキスト]]を、[[空文字列]]に設定します。
= [11] [[文脈オブジェクト]]の[F[[[子供]]]]リストに含まれる[[節点]][VAR[節点]]について[[木順]]に、
== [13] [VAR[節点]]が [CODE(DOMi)@en[[[Text]]]] なら、
=== [14] [VAR[テキスト]]の末尾に[VAR[節点]]の[F[[[データ]]]]を追加します。
= [15] [VAR[テキスト]]を返します。
]FIG]

;; [17] これは [CODE(DOMa)@en[[[textContent]]]] とは違って[[子要素]]を無視します。
[[HTML構文]]では [CODE(HTMLe)@en[[[script]]]] [[要素]]に[[子要素]]を含めることはできませんが、
[[XHTML]] や[[スクリプト]]を使えば可能です。しかし[[スクリプト]]の実行時には
[CODE(DOMa)@en[[[textContent]]]] ではなく [CODE(DOMa)@en[[[text]]]]
の値が使われ、[[子要素]]の[[内容]]は[[スクリプト]]の[[ソースコード]]の一部とはみなされません。

[16] [[設定時]]には、 [CODE(DOMa)@en[[[textContent]]]]
[[IDL属性]]の[[設定器]]と同じようにしなければ[['''なりません''']] [SRC[>>9]]。

* 歴史

** [CODE(DOMi)@en[Node]] インターフェイス

[8] [[MSXML]] では [CODE(DOMi)@en[[[Node]]]] [[インターフェイス]]相当に [CODE(DOMa)@en[[[text]]]]
[[属性]]があるようです。

[REFS[
- [6] [CITE@en-us[text Property ''''''[''''''DOM'''''']'''''']]
( ([TIME[2013-05-12 05:15:17 +09:00]] 版))
<http://msdn.microsoft.com/en-us/library/ms762687(v=vs.85).aspx>
]REFS]

[7] >>6 によると標準の [[DOM]] の [CODE(DOMa)@en[[[textContent]]]] に近いですが、
[CODE(XMLa)@en[[[xml:space]]]] [[属性]]などによって挙動が変わるようです。

** HTML5

[REFS[
- [1] [CITE@en[(X)HTML5 Tracking]]
([TIME[2010-01-11 13:57:26 +09:00]] 版)
<http://html5.org/tools/web-apps-tracker?from=4561&to=4562>
- [3] [CITE['''['''whatwg''']''' a element and .text]]
([TIME[2010-08-10 09:24:47 +09:00]] 版)
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2010-August/027781.html>
]REFS]

[2] >>1 で [CODE(DOMi)@en[[[HTMLAnchorElement]]]] の [CODE(DOMa)@en[[[text]]]] [[属性]]が定義されました。

[REFS[
- [4] [CITE@en[Web Applications 1.0 r7763     Match reality, and factor out an algorithm.]]
( ([TIME[2013-03-22 03:47:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=7762&to=7763>
]REFS]

[5] >>4 で [CODE(DOMi)@en[[[HTMLOptionElement]]]] の [CODE(DOMa)@en[[[text]]]] [[属性]]の定義が改められています。