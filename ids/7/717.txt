* 歴史

** SGML の階数

[FIG(quote)[
[17] 
>
:付番 (rank suffix):[[共通識別子]]を形成するために[[付番核]]に付加される[[番号]]。
- 備考 番号は、通常 [CODE[1]] から始まる連番であり、
結果の共通識別子は、それらの[[要素]]の相対的な付番を示す。
- 例 [[頭書き]]の場合、付番核を [SAMP(SGML)[H]] とすると、
頭書きの要素の水準は [SAMP(SGML)[H1]], [SAMP(SGML)[H2]],
[SAMP(SGML)[H3]] などとなる。 [INS[([[JISX4151]]‐1992 定義 (225))]]
]FIG]

[18] 付番機構は、 JIS X 4151‐1992 6.8.1 で規定されています。
[CODE(SGML)[[[RANK]] YES]] のとき、付番機構が使えます。

= [[開始タグ]]に付番付きの共通識別子を指定します。
この付番が[[現番号]]となります。
-- 例 : [SAMP(SGML)[<h1>Something</h1>]]
= 次に、[[付番核]]だけの共通識別子指定を使ったタグを使用します。すると、現番号が補われて完全な共通識別子が決定されます。
-- 例 : [SAMP(SGML)[<p>Something is something</p>]]
の共通識別子指定は [CODE(SGML)[p]] ですが、
現番号 [CODE(SGML)[1]] が補われ、
[CODE(SGML)[p1]] が共通識別子と認識されます。

[19] 現番号は、[[付番群]]ごとのものです。
前の例では [CODE(SGML)[h]] と [CODE(SGML)[p]]
が同じ付番群に属していると仮定しました。
もし別の付番群だったとすると、
付番核 [CODE(SGML)[p]] が出現した時に現番号が未定義なので、
[[誤り]]となってしまいます。

- [20] [CODE(ABNF)[[DFN[付番]] := [[数]] ;; (121)]]

[21] [Q[rank]] を改訳するとしたら[Q[階数]], [Q[位階]], [Q[階]], [Q[階級]]あたりでしょうか。

** 非標準の階数 (HTML)

[111] [CODE(HTML)[h[VAR[n]]]]
要素型群の [VAR[n]]
の部分について。

- [1] ''Module spug.web.html'' <http://www.users.cloud9.net/~proteus/spug/web/html.html>: この実装ではなんと [[h9]] まである。
- [2] ''HTML Cheat sheet'' <http://www.unc.edu/~twtaylor/teaching/29/web/cheat.html>: この解説には [[h10]] 要素もある。
- [3] [VAR[n]] は1〜7がありますと説明したすぐ後の「実例」で、1〜6しか示していない解説が複数ある。ブラウザの表示を見て変だなあと思ったのだろうか。どうして [[h7]] の存在まで疑わなかったのだろう。
- [4] H[VAR[n]] 要素型の [VAR[n]] は標準の [[HTML]] では [CODE(HTML)[1]]〜[CODE(HTML)[6]] なんだけど、 [CODE(HTML)[7]] も存在するという根強い信仰がある。
- [5] 信仰 (解説や実際に使った文書) だけではなく、実装も存在するからややこしい。有名なところでは [[IBM]] [[WebExplorer]] が実装していた。 (実装が存在する以上、単なる妄想ではなく独自拡張に分類される。もちろん、実際に信じている人の多くはそんなことは知らず、勘違いなのだろう。その辺が話をややこしくする原因だ。)
- [6] 更に、 [[h8]], [[h9]], 果ては [[h10]] まで「存在」しているらしい。 [CODE(HTML)[H256]] 辺りまで実在するのじゃないかと疑いたくなる(w
- [7] 「[CODE(HTML)[7]] 以上になると文字の大きさは変わりません。」などという恐ろしい解説まであったりする。なんだかなあ。
- [8] [[font]] 要素の [[size]] 属性の値の取り得る整数値が [CODE(HTML)[7]] までであることに由来する勘違いだという説もあるけど、本当にそうなのか不明。 (この命題の否定は、 [CODE(XPaht)[font/@size]] 登場以前の [CODE(HTML)[H7]] の解説を発見すればよいのかな?)
- [9] ちなみに H[VAR[n]] 要素型群のことを、他に H[VAR[x]] とか [CODE(HTML)[H]] とか呼んだりします。但し単に [CODE(HTML)[H]] と呼ぶのは [[XHTML]] 2.0 の [[h]] 要素型と紛らわしいですし、しない方が良いでしょう。
- [10] [CODE(HTML)[H0]] 要素型の存在を信じる人もわずかにいるみたい。すごいなぁ。
- [11] >>10 は夢のない人でつね
- [12] 今 >>11 がいいこと言った
- [13] <http://www.oasis-open.org/cover/nitf-x-dtd.txt> の [[NITF]] という[[マーク付け言語]]は [[HTML]] に語彙を付け足したような感じの [[XML]] 応用なんだけど、ここには [[h1]]〜[[h8]] が定義されていました
- [14] 流石に [CODE(HTML)[H11]] 以降は見つからないなぁ。

[112]
[CITE[Overview — Portal]] <http://dev.cellml.org/>

ここが [CODE(HTMLe)[[[h7]]]] と
[CODE(HTMLe)[[[h8]]]] を
使っています。 [[Plone]] というソフトウェアを使っているので、それについてきた雛形かもしれませんが、
調べてみたもののわかりませんでした
(要素型名で検索できないし)。
([[名無しさん]] [WEAK[2005-04-11 13:28:11 +00:00]])

** 不思議解釈

[113]
[CITE@ja[《三井住友銀行グループ》プロミス-キャッシング比較・オールナビ]] ([TIME[2007-08-02 21:56:23 +09:00]] 版) <http://www.cashing-navi.jp/promise.html#bsetHeading76>

[CITE@ja[(cache) 《三井住友銀行グループ》プロミス-キャッシング比較・オールナビ]] ([TIME[2007-08-02 21:59:32 +09:00]] 版) <http://megalodon.jp/?url=http://www.cashing-navi.jp/promise.html&date=20070802215934>

[CODE(HTMLe)@en[[[h1]]]]〜[CODE(HTMLe)@en[[[h6]]]]
が順に1個ずつ使われています。

これが構造的に正しいのかは書いた人以外なんともいえませんが。。。

** 非 HTML 文書中の HTML 素片

[15] [[Weblog]] の[[フィード]]に含まれる [[HTML]] [[素片]]では、
対応する [[HTML]] [[文書]]中で使われる[[見出し]]の[[階数]]と同じ[[階数]]の[[要素]]がそのまま使われていることがあります。

[16]
例えば、 [[HTML]] 版で記事内の[[見出し]]に [CODE(HTMLe)@en[[[h4]]]]
[[要素]]が使われている場合に、 [[Atom]]  [[フィード]]の
[CODE(XMLe)@en[[[content]]]] [[要素]]内でもそのまま [CODE(HTMLe)@en[[[h4]]]]
[[要素]]が使われていることがあります。
