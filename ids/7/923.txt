[17] [DFN[[CODE(DOMi)@en[Window]]]] [[オブジェクト]]は、
[[窓]]や[[タブ]]や[[フレーム]]を表します。

* 仕様書

[REFS[
- [56] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-04-25 04:40:19 +09:00]] 版) <https://html.spec.whatwg.org/#browsing-context>
- [51] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-03-05 09:33:40 +09:00]] 版) <https://html.spec.whatwg.org/#concept-document-window>
- [53] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-04-25 04:40:19 +09:00]] 版) <https://html.spec.whatwg.org/#the-session-history-of-browsing-contexts:concept-document-window>
- [54] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-04-25 04:40:19 +09:00]] 版) <https://html.spec.whatwg.org/#a-browsing-context-is-discarded>
- [74] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-05-06 10:42:35 +09:00]] 版) <https://html.spec.whatwg.org/#window>
- [105] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2016-03-31 07:16:44 +09:00]] 版) <https://html.spec.whatwg.org/#accessing-other-browsing-contexts>
- [109] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2016-03-31 07:16:44 +09:00]] 版) <https://html.spec.whatwg.org/#named-access-on-the-window-object>
]REFS]

* 各オブジェクトの関係の概要

[102] [[閲覧文脈]]は、[[窓]]や[[タブ]]や[[フレーム]]に相当する[[仕様書]]上の概念です。

[99] [CODE(DOMi)@en[Window]] は、[[閲覧文脈]]を表す[[オブジェクト]]ですが、
[[閲覧文脈]]内にある[[文書]]ごとに存在します。

[100] [CODE(DOMi)@en[WindowProxy]] は、[[閲覧文脈]]ごとに存在します。
当該[[閲覧文脈]]のいずれかの [CODE(DOMi)@en[Window]]
に操作が伝播します。

[101] [CODE(DOMi)@en[Window]] は、[[大域オブジェクト]]として使われます。
1対1対応関係の[[環境設定群オブジェクト]]と[[Realm]]が存在しています。

;; [[大域オブジェクト]]も参照。

[103] [[スクリプト]]は、 [CODE(DOMi)@en[Window]] に直接アクセスすることはできません。
常に [CODE(DOMi)@en[WindowProxy]] を経由することになります。

[104] [CODE(DOMi)@en[WindowProxy]] は、[[同じ起源ドメイン]]からのアクセスかどうかによって挙動が大きく変化します。

* 状態

[45] [CODE(DOMi)@en[Window]] は、[[大域オブジェクト]]としての状態、
[CODE[AnimationFrameProvider]] としての状態に加えて、
次の状態を持ちます。

[FIG(list members)[
: [F[活性タイマーのリスト]] : 
: [F[実行待ちタイマー群]] : 
: [F[アイドル要求コールバック群のリスト]] :
: [F[走らせられるアイドルコールバック群のリスト]] :
: [F[アイドルコールバック識別子]] :
: [F[文書][window.document]] : [[関連付けられた[CODE(DOMi)@en[Window]]]]
の逆方向の関係 (で最新のもの) です。
: [F[[CODE(DOMi)@en[[[Location]]]]]] : [CODE(JS)@en[[[window]].[[location]]]]
の [CODE(DOMi)@en[[[Location]]]] [[オブジェクト]]です。
: [F[子供閲覧文脈の数]] : >>108
: [F[子供閲覧文脈名特性集合]] : >>110
: [F[[CODE(DOMi)@en[CustomElementsRegistry]]]] :
: [F[[CODE(DOMi)@en[Performance]]]] :
: [F[現在イベント]] : 
]FIG]

[HISTORY[
[89] [[HTTPS状態]]は[[文書]]に移動しました。
]HISTORY]

[73] [CODE(DOMi)@en[[[Window]]]] [[インターフェイス]]の [[IDL素片]]には
[CODE(IDL)@en[[[PrimaryGlobal]]]] [[拡張属性]]が指定されており [SRC[>>74]]、
[[一次大域インターフェイス]]です。

* メンバー

[15] このリストは不完全です。[CITE[Results for window]] ([TIME[2009-02-28 13:33:53 +09:00]] 版) 
<http://suika.fam.cx/gate/test-results/list/enum-window/all> もご覧ください。

[FIG(short list)[
[1] [CODE(DOMi)@en[[[EventTarget]]]],
[CODE(DOMi)@en[[[AbstractView]]]], [CODE(DOMi)@en[[[ViewCSS]]]],
[CODE(JS)@en[[[Global]]]]
,[CODE(DOMm)@en[[[addEventStream]]]]
,[CODE(DOMm)@en[[[alert]]]]	,"[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.0]]), [[HTML5]]"
,[CODE(DOMa)@en[[[applicationCache]]]],[[HTML5]]
,[CODE(DOMm)@en[[[atob]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMm)@en[[[Audio]]]],[[HTML5]]
,[CODE(DOMm)@en[[[back]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMa)@en[[[blackberry]]]],[[BlackBerry Browser]]
,[CODE(DOMm)@en[[[blur]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.0]])
,[CODE(DOMa)@en[[[browser]]]]
,[CODE(DOMm)@en[[[btoa]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.0]])
-[CODE(DOMm)@en[[[cancelAnimationFrame]]]]
,[CODE(DOMm)@en[[[captureEvents]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
-[CODE(DOMa)@en[[[cipher]]]]
-[CODE(DOMa)@en[[[mozCipher]]]]
- [CODE(DOMm)@en[clearImmediate]]
,[CODE(DOMm)@en[[[clearInterval]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMm)@en[[[clearTimeout]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.0]])
,[CODE(DOMa)@en[[[clientInformation]]]]
,[CODE(DOMa)@en[[[clipboardData]]]]
,[CODE(DOMm)@en[[[close]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.0]])
,[CODE(DOMa)@en[[[closed]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.1]])
,[CODE(DOMa)@en[[[Components]]]]	,([[XPConnect]])
,[CODE(DOMm)@en[[[confirm]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.0]])
,[CODE(DOMa)@en[[[content]]]],[[Gecko]]
,[CODE(DOMa)@en[[[controllers]]]],[[Gecko]]
,[CODE(DOMm)@en[[[crypto]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
- [CODE(DOMa)@en[[[mozCrypto]]]]
- [CODE(DOMm)@en[[[CSSPrimitiveValue]]]]
- [CODE(DOMa)@en[customElements]]
,[CODE(DOMa)@en[[[defaultStatus]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.0]])
,[CODE(DOMa)@en[[[directories]]]],[[Gecko]]
,[CODE(DOMm)@en[[[disableExternalCapture]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMa)@en[[[document]]]],[[HTML5]]
,[CODE(DOMm)@en[[[DOMParser]]]]
,[CODE(DOMm)@en[[[dump]]]],[[Gecko]]
,[CODE(DOMm)@en[[[enableExternalCapture]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMa)@en[[[event]]]]
,[CODE(DOMa)@en[[[external]]]]
,[CODE(DOMm)@en[[[find]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMm)@en[[[focus]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.1]])
,[CODE(DOMm)@en[[[forward]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
- [CODE(DOMa)@en[fullScreen]]
- [CODE(DOMa)@en[frameElement]]
- [CODE(DOMa)@en[frames]]
,[CDOE(DOMa)@en[[[fullScreen]]]],[[Gecko]]
,[CODE(DOMm)@en[[[GeckoActiveXObject]]]],[[Gecko]]
,[CODE(DOMm)@en[[[getComputedStyle]]]],[[ViewCSS]]
,[CODE(DOMm)@en[[[getInterface]]]],[[Gecko]]
,[CODE(DOMm)@en[[[getSelection]]]],[[Gecko]]
,[CODE(DOMa)@en[[[globalStorage]]]],[DEL[廃止 ([[HTML5]])]]
,[CODE(DOMm)@en[[[handleEvent]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMa)@en[[[history]]]]	,"[CODE(DOMa)@en[[[window]]]] ([[WinIE 3]], [[JavaScript 1.1]])"
- [CODE(DOMi)@en[HTMLDocument]]
,[CODE(DOMm)@en[[[home]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMm)@en[[[Image]]]],[[HTML5]]
,[CODE(DOMa)@en[[[innerHeight]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMa)@en[[[innerWidth]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMa)@en[[[java]]]]	,([[LiveConnect]])
- [CODE(DOMa)@en[length][window.length]]
,[CODE(DOMa)@en[[[location]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.0]])
,[CODE(DOMm)@en[[[locationbar]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMm)@en[[[menubar]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMm)@en[[[moveBy]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMm)@en[[[moveTo]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMa)@en[[[name]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.0]])
,[CODE(DOMm)@en[[[navigate]]]]	,[CODE(DOMa)@en[[[window]]]] ([[WinIE 3]])
,[CODE(DOMa)@en[[[navigator]]]]	,[CODE(DOMa)@en[[[window]]]] ([[WinIE 3]])
- [CODE(JS)@en[netscape][window.netscape]]
,[CODE(DOMa)@en[[[offscreenBuffering]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
- [CODE(DOMa)@en[[[oipfObjectFactory]]]]
- [CODE(DOMa)@en[[[onafterprint]]]]
- [CODE(DOMa)@en[[[onbeforeprint]]]]
- [CODE(DOMa)@en[[[onbeforeunload]]]]
,[CODE(DOMa)@en[[[onblur]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.1]])
- [CODE(DOMa)@en[oncompassneedscalibration]]
,[CODE(DOMa)@en[[[ondragdrop]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
- [CODE(DOMa)@en[ondevicemotion]]
- [CODE(DOMa)@en[ondeviceorientation]]
- [CODE(DOMa)@en[ondeviceorientationabsolute]]
,[CODE(DOMa)@en[[[onerror]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.1]])
,[CODE(DOMa)@en[[[onfocus]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.1]])
,[CODE(DOMa)@en[[[onhelp]]]]
,[CODE(DOMa)@en[[[onload]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.0]])
,[CODE(DOMa)@en[[[onmove]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMa)@en[[[onresize]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMa)@en[[[onunload]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.0]])
,[CODE(DOMm)@en[[[open]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.0]])
,[CODE(DOMm)@en[[[openDialog]]]],[[Gecko]]
,[CODE(DOMa)@en[[[opener]]]]	,"[CODE(DOMa)@en[[[window]]]] ([[WinIE 3]], [[JavaScript 1.1]])"
- [CODE(JS)@en[opera][window.opera]]
- [CODE(DOMi)@en[Option]]
,[CODE(DOMa)@en[[[outerHeight]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMa)@en[[[outerWidth]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMa)@en[[[Packages]]]]
,[CODE(DOMa)@en[[[pageXOffset]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMa)@en[[[pageYOffset]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMa)@en[[[parent]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.0]])
- [CODE(DOMa)@en[[[performance]]]]
,[CODE(DOMa)@en[[[personalbar]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMa)@en[[[pkcs11]]]],[[Gecko]]
,[CODE(DOMm)@en[[[postMessage]]]],[[HTML5]]
,[CODE(DOMm)@en[[[print]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMm)@en[[[prompt]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.0]])
- [CODE(DOMm)@en[[[QueryInterface]]]]
- [CODE(DOMm)@en[[[requestAnimationFrame]]]]
,[CODE(DOMm)@en[[[releaseEvents]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMm)@en[[[removeEventStream]]]]
,[CODE(DOMm)@en[[[resizeBy]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMm)@en[[[resizeTo]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMm)@en[[[routeEvent]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMa)@en[[[screen]]]],[[JavaScript]]
,[CODE(DOMa)@en[[[screenX]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMa)@en[[[screenY]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMm)@en[[[scroll]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.1]])
,[CODE(DOMm)@en[[[scrollbars]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMm)@en[[[scrollBy]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMm)@en[[[scrollByLines]]]],[[Gecko]]
,[CODE(DOMm)@en[[[scrollByPages]]]],[[Gecko]]
,[CODE(DOMa)@en[[[scrollMaxX]]]],[[Gecko]]
,[CODE(DOMa)@en[[[scrollMaxY]]]],[[Gecko]]
,[CODE(DOMm)@en[[[scrollTo]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMa)@en[[[scrollX]]]],[[Gecko]]
,[CODE(DOMa)@en[[[scrollY]]]],[[Gecko]]
- [CODE(DOMa)@en[self][window.self]]
,[CODE(DOMa)@en[[[sessionStorage]]]],[[HTML5]]
,[CODE(DOMm)@en[[[setDocument]]]]
,[CODE(DOMm)@en[[[setHotKeys]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
- [CODE(DOMm)@en[setImmediate]]
,[CODE(DOMm)@en[[[setInterval]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMm)@en[[[setResizable]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMm)@en[[[setTimeout]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.0]])
,[CODE(DOMm)@en[[[setZOptions]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMm)@en[[[showModalDialog]]]],[[Gecko]]
,[CODE(DOMm)@en[[[sizeToContent]]]],[[Gecko]]
,[CODE(DOMa)@en[[[status]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.0]])
,[CODE(DOMa)@en[[[statusbar]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMm)@en[[[stop]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
- [CODE(JS)@en[sun][window.sun]]
,[CODE(DOMm)@en[[[SVGAngle]]]]
,[CODE(DOMm)@en[[[SVGLength]]]]
,[CODE(DOMm)@en[[[SVGPaint]]]]
,[CODE(DOMm)@en[[[SVGPathSeg]]]]
,[CODE(DOMm)@en[[[SVGPreserveAspectoRatio]]]]
,[CODE(DOMm)@en[[[SVGTransform]]]]
,[CODE(DOMm)@en[[[SVGUnitTypes]]]]
,[CODE(DOMm)@en[[[SVGZoonAndPan]]]]
,[CODE(DOMm)@en[[[toolbar]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.2]])
,[CODE(DOMm)@en[[[top]]]]	,[CODE(DOMa)@en[[[window]]]] ([[JavaScript 1.0]])
- [CODE(DOMm)@en[[[toStaticHTML]]]]
- [CODE(DOMm)@en[[[updateCommands]]]]
- [CODE(DOMi)@en[URL]]
- [CODE(DOMi)@en[webkitURL]]
- [CODE(DOMm)@en[[[VXMLAudioRecording]]]]
- [CODE(DOMm)@en[WebSocket]]
- [CODE(DOMa)@en[widget]]
- [CODE(DOMm)@en[window][window.window]]
- [CODE(DOMm)@en[[[XMLHttpRequest]]]]
- [CODE(DOMm)@en[[[XMLSerializer]]]]
- [CODE(DOMm)@en[[[XPCNativeWrapper]]]]
- [CODE(DOMm)@en[[[XPCSafeJSObjectWrapper]]]]
- [CODE(DOMm)@en[[[XSLTProcessor]]]]
]FIG]

[132] 次の[[インターフェイス]]を[[実装]]しています。
[FIG(list middle)[
- [CODE(DOMi)@en[WindowOrWorkerGlobalScope]]
- [CODE[AnimationFrameProvider]]
]FIG]

* 配列風アクセスとオブジェクト風アクセス

[106] [CODE(DOMi)@en[Window]] [[インターフェイス]]の
[CODE(DOMa)@en[length]] [[IDL属性]]の[[取得器]]は、
次のようにしなければ[MUST[なりません]] [SRC[>>105]]。
[FIG(steps)[
= [107] [[文脈オブジェクト]]の[F[文書木子供閲覧文脈の数]]を返します。
]FIG]

[108] [CODE(DOMi)@en[Window]] [VAR[窓]]の[DFN[[F[[RUBYB[文書木子供閲覧文脈の数]@en[number of document-tree child browsing contexts]]]]]]は、
[VAR[窓]]の[F[文書]]の[F[閲覧文脈]]の[F[活性文書]]の[[文書中]]にある[[要素]]を[[通じて入れ子][nested through]]である[[文書木子供閲覧文脈]]の数です [SRC[>>105]]。

[111] [CODE(DOMi)@en[Window]] [[インターフェイス]]は、
[[名前付き特性に対応]]しています [SRC[>>105]]。

[112] [CODE(DOMi)@en[Window]] [VAR[窓]]の[[対応特性名]]は、
次のものを[[木順]]に並べ、重複は後の方を無視したものです [SRC[>>105]]。
[FIG(list)[
- [113] [VAR[窓]]の[F[文書木子供閲覧文脈名特性集合]]
- [114] [VAR[窓]]の[F[文書]]の[F[閲覧文脈]]の[F[活性文書]]の[[木中][文書木中]]の
[[HTML要素]] [CODE(HTMLe)@en[applet]], [CODE(HTMLe)@en[embed]], [CODE(HTMLe)@en[form]],
[CODE(HTMLe)@en[img]], [CODE(HTMLe)@en[object]] の [CODE(HTMLa)@en[name]]
[[属性値]] ([[空]]でない[[属性値]]の場合)
- [115] [VAR[窓]]の[F[文書]]の[F[閲覧文脈]]の[F[活性文書]]の[[木中][文書木中]]の
[[HTML要素]]の [CODE(HTMLa)@en[id]] [[属性値]] ([[空]]でない[[属性値]]の場合)
]FIG]

[116] [CODE(DOMi)@en[Window]] [VAR[窓]]の[VAR[名前]]という[RUBYB[名前付き特性の値を決定]@en[determine the value of a named property]]は、
次のようにしなければ[['''なりません''']] [SRC[>>105]]。
[FIG(steps)[
= [117] [VAR[リスト]]を、[VAR[窓]]の[F[文書]]の[F[閲覧文脈]]の[F[活性文書]]における[[名前付きオブジェクト]]のリストに設定します。
= [118] [VAR[リスト]]に[[閲覧文脈]]が含まれる場合、
== [119] [VAR[リスト]]の[[閲覧文脈]]のうち、[F[閲覧文脈包含子]]が[[木順]]で最初となるものの
[F[[CODE(DOMi)@en[WindowProxy]]]] を返します。
= [120] それ以外で、[VAR[リスト]]に[[要素]]が1つだけ含まれる場合、
== [121] [VAR[リスト]]に含まれる[[要素]]を返します。
= [122] それ以外の場合、
== [123] [CODE(DOMi)@en[HTMLCollection]] を返します。
[FIG(list members)[
[FIGCAPTION[
[CODE(DOMi)@en[HTMLCollection]]
]FIGCAPTION]
: [F[根]] : [VAR[窓]]の[F[文書]]の[F[閲覧文脈]]の[F[活性文書]]
: [F[フィルター]] : [VAR[窓]]の[F[文書]]の[F[閲覧文脈]]の[F[活性文書]]における[[名前付きオブジェクト]]のみ一致する
]FIG]
]FIG]

[110] [CODE(DOMi)@en[Window]] [VAR[窓]]の[DFN[[F[[RUBYB[[[文書木子供閲覧文脈名特性集合]]]@en[document-tree child browsing context name property set]]]]]]は、
次のものです [SRC[>>109]]。
[FIG(steps)[
= [138] [VAR[文書]]を、[VAR[窓]]の[F[活性文書]]に設定します。
= [134] [VAR[リスト]]を、[VAR[文書]]の[F[[[子供閲覧文脈]]群]]の複製に設定します。
= [135] [VAR[リスト]]から、[F[閲覧文脈名]]が[[空文字列]]のものを除去します。
= [136] [VAR[リスト]]から、[F[閲覧文脈名]]に重複がある時、後の方を除去します。
= [137] [VAR[リスト]]から、[F[活性文書]]の[F[起源][文書の起源]]と[VAR[文書]]の[F[起源][文書の起源]]が[[同じ起源]]でなく、
[F[閲覧文脈名]]と[F[閲覧文脈包含子]]の [CODE(HTMLa)@en[name]] [[内容属性]]の値が一致しないものを除去します。
= [139] [VAR[リスト]]の各要素を、[F[閲覧文脈名]]に置き換えます。
= [141] [VAR[リスト]]を返します。
]FIG]

;; [[閲覧文脈名から閲覧文脈を選ぶ規則]]とは定義が違っています。

[126] [VAR[文書]]における[DFN[[RUBYB[[[名前付きオブジェクト]]]@en[named properties]]]]とは、
次のものを言います [SRC[>>109]]。
[FIG(list)[
- [127] [VAR[文書]]の[F[[[文書木子供閲覧文脈]]群]]の[[閲覧文脈]]
- [128] [VAR[文書]][[木中][文書木中]]の[[HTML要素]][CODE(HTMLe)@en[applet]],
[CODE(HTMLe)@en[embed]], [CODE(HTMLe)@en[form]],
[CODE(HTMLe)@en[img]], [CODE(HTMLe)@en[object]] であって、 [CODE(HTMLa)@en[name]]
[[属性値]]が [[null]] でも[[空文字列]]でもないもの
- [129] [VAR[文書]][[木中][文書木中]]の[[HTML要素]]であって、 [CODE(HTMLa)@en[id]] 
[[属性値]]が [[null]] でも[[空文字列]]でもないもの
]FIG]

[130] これらの方法では[[文書]]中の[[フレーム]]にはアクセスできますが、
他の[[窓]]や[[孫]]以下の[[フレーム]]にはアクセスできません。

* [CODE(DOMi)@en[WindowProxy]]

@@ [16] [DFN[[CODE(DOMi)@en[WindowProxy]]]]

[55] [CODE(DOMi)@en[[[WindowProxy]]]] が[[ごみ収集]]の対象となったら、
その[[閲覧文脈を捨てる]]処理を実行しなければ[['''なりません''']] [SRC[>>54]]。

[149] [CODE(DOMi)@en[WindowProxy]] は、[[閲覧文脈]]への[[強い参照]]を持ち''ません''
[SRC[>>54]]。

[52] [[閲覧文脈]]の [CODE(DOMi)@en[[[WindowProxy]]]] [[オブジェクト]]は、
[[閲覧文脈]]の[[活性文書]]の [CODE(DOMi)@en[[[Window]]]] [[オブジェクト]]にすべてを転送します [SRC[>>51]]。

* 事象モデルとの関係

[2]
[CITE[d:id:quaa]] [CSECTION@en['''['''opera''']''''''['''javascript''']''''''['''DOM''']'''Operaでwindow.addEventListenerがdocument.addEventListenerななぞ]]
([TIME[2007-08-10 23:56:42 +09:00]] 版) <http://d.hatena.ne.jp/quaa/20070809#p1>

>
Opera(9.22)でwindow.addEventListenerに関数をイベントリスナとして与えておいて呼び出されたときにthisの値調べたら予想(window)に反してwindow.documentになった*1ので、ためしにこうしてみた!
>
[PRE(JS example code)[
var listener = function(){ alert(this) };
window.addEventListener("click", listener, false); //windowにつけて
document.removeEventListener("click", listener, false); //documentで消す?
//でクリック
]PRE]
>
[PRE(JS example code)[
javascript:(function(){var listener=function(){alert(this)};window.addEventListener("click",listener,false);document.removeEventListener("click",listener,false);})();
]PRE]
>
何も出てこなくなった…
>*1:全部のイベント型は調べてないけどキーボードイベントもマウスイベントもHTMLイベントもMutationイベントもそうみたい。えーと、なに調べたっけ?とりあえずload, click, mousemove, keypress, keydown, keyup, resize, DOMNodeInsertedを確か調べたよ

[3]
[CITE[d:id:quaa]] [CSECTION@en['''['''opera''']''''''['''javascript''']''''''['''DOM''']'''Operaでwindow.addEventListenerがdocument.addEventListenerななぞ (”DOM 0”イベントハンドラ登録の場合)]]
([TIME[2007-08-10 23:56:42 +09:00]] 版) <http://d.hatena.ne.jp/quaa/20070810#p1>

>
Opera(9.22)でwindowにonなんとかでイベントハンドラつけた場合はthisがwindowになるからそっちの場合はwindow/document別なのかと思ってたけど、windowにonなんとかでイベントハンドラつけるときもそのままdocumentに行ってた。
>
[PRE(JS example code)[
window.onclick=function(){alert(this)};
alert(window.onclick == document.onclick); //true
//でもこの後クリックするとalertで"[object Window]"が出てくる
]PRE]
>
- javascript:window.onclick=function(){alert(this)};alert(window.onclick==document.onclick);void 0
- javascript:window.onclick=document.onclick=undefined (イベントハンドラ消すとき用)
>
で、windowにイベントハンドラをつけたあとにdocumentに同じイベント型のイベントハンドラつけるとdocumentにつけた方のイベントハンドラしか動作しなくなる。
>
[PRE(JS example code)[
window.onclick=function(){alert("window")}; //この後クリックするとalertで"window"が出てくる
document.onclick=function(){alert("document")}; //この後クリックするとalertで"document"のみ出てくる
document.onclick=null; //この後クリックすると何も起こらない
alert(window.onclick) //関数が出てくる (同期的ではないみたい)
]PRE]
>
OperaではWindowは擬似的なEventTargetで、Windowに登録しようとしたイベントハンドラ/イベントリスナはすべてアクティブなDocumentに送られるってことかな。
ということは
>
多分Operaはわざとそうしてるんだろう。一番妥当そうなOperaの主張(予想)は
= Window(window)はW3C DOMによってEventTargetとして定義されていないのでWindowをEventTargetとして認めていない
= が、他のメジャーなブラウザはそれを認めているし、多くのWebサイト作成者もその振舞いに沿ってコードを書いている
= それに対応しないとユーザにとって不利益になるので仕方なく擬似的に対応している
>
ってとこ?Window Object 1.0(Editor’s Draft 01 May 2006 - 3. Events)とかHTML 5(Working Draft 10 August 2007 - 4.9.5.3 Events and the Window object)はWindowもイベントフローに追加しろって言ってる(みたいだ)から変わってくるかもしれないけど。
>
ちなみにOperaの7系には試した限り(7.11, 7.50)ではDocumentにaddEventListenerはあるけどWindowにはaddEventListenerはないみたい。

[37] [[イベント親]]の項も参照してください。

* 文書との関係

[57] 通常は [CODE(DOMi)@en[[[Window]]]] と ([[閲覧文脈]]中にある) [CODE(DOMi)@en[[[Document]]]]
には[[一対一写像]]がありますが、2つ例外があります [SRC[>>56]]。

[FIG(list)[
- [58] [CODE(DOMi)@en[[[Window]]]] は、同じ[[閲覧文脈]]の次の [CODE(DOMi)@en[[[Document]]]]
に再利用されることがあります。
-- [59] 初期状態の [CODE(URI)@en[[[about:blank]]]] から次へ[[置換有効]]で [[navigate]]
した場合。
- [60] [CODE(DOMi)@en[[[Document]]]] は、 [CODE(JS)@en[[[document.open]]]]
により複数の [CODE(DOMi)@en[[[Window]]]] に再利用されることがあります。
]FIG]

[20] ([[閲覧文脈]]中の)
[CODE(DOMi)@en[[[Document]]]] [[オブジェクト]]にはそれに対応する [CODE(DOMi)@en[[[Window]]]]
[[オブジェクト]]が1つずつあります。

;; <http://www.whatwg.org/specs/web-apps/current-work/complete.html#browsing-context>

[21] 逆に [CODE(DOMi)@en[[[Window]]]] [[オブジェクト]]にはそれに対応する 
[CODE(DOMi)@en[[[Document]]]] [[オブジェクト]]が通常は1つあります。
例外的に、一番最初の [CODE(URI)@en[[[about:blank]]]] から他へと[[置換有効]]で [[navigate]]
された場合、2つの [CODE(DOMi)@en[[[Document]]]] が1つの [CODE(DOMi)@en[[[Window]]]]
を共有することになります。

;; <http://www.whatwg.org/specs/web-apps/current-work/complete.html#browsing-context>

;; [147] [CODE(JS)@en[window.document]] も参照。

* 作成

[75] [CODE(DOMi)@en[[[Window]]]] [[オブジェクト]]は次の場面で作成されます。
[FIG(list)[
- [[閲覧文脈の作成]]
- [[文書オブジェクトの初期化]]
- [CODE(JS)@en[[[document.open]]]]
]FIG]

[76] [CODE(DOMi)@en[[[WindowProxy]]]] は最初、すなわち[[閲覧文脈の作成]]の時点で作成されると思われます。

[77] [CODE(DOMi)@en[[[Window]]]] [[オブジェクト]]は[[大域オブジェクト]]なので、
[[大域オブジェクト]]としての ([[JavaScript大域環境]]の作成と絡んだ) 作成手順も踏む必要があります。

[86] [CODE(DOMi)@en[[[Window]]]] [[オブジェクト]]の作成時には、
関連付けられた[[環境設定群オブジェクト]]が作成されます。

* 歴史

** 誕生

[125] [CODE(DOMi)@en[Window]] [[オブジェクト]]は、
[[JavaScript 1.0]] で導入されました。

[124] [CODE(DOMi)@en[Window]] [[オブジェクト]]の
[CODE(DOMa)@en[length][window.length]] [[IDL属性]]や[[フレーム名]]によるアクセスは、
[[JavaScript 1.0]] で導入されました。

** DOM2 Views [CODE(DOMi)@en[AbstractView]]

[62] [DFN[[[DOM2 Views]]]] は、 [DFN[[CODE(DOMi)@en[[[AbstractView]]]]]]
[[インターフェイス]]のみを規定していた [[W3C勧告]]でした。 [CODE(DOMi)@en[[[AbstractView]]]]
[[インターフェイス]]は、 [CODE(DOMa)@en[[[document]]]] [[IDL属性]]のみを持っていました。

[REFS[
- [DOM2] ''Document Object Model Views'' <http://www.w3.org/TR/DOM-Level-2-Views/views.html#Views-AbstractView>
]REFS]

[63] [CODE(DOMi)@en[[[AbstractView]]]] は、 [CODE(DOMi)@en[[[Window]]]]
[[オブジェクト]]を表す [[W3C DOM]] 上の[[インターフェイス]]でした。
この当時 [[W3C]] が標準化する意思を持っていて、標準化が可能だったのは
[CODE(DOMa)@en[[[document]]]] [[属性]]だけだったようです。

[64] この界面は簡素な基底 view であって、用途に応じて具体的な view
の界面に継承されることを想定しています。

[65] [CODE(DOMm)[[[hasFeature]]]] で 
[CODE(DOM)[View]]/[CODE(DOM)[2.0]] が実装されていることが分かれば使用できます。

[66] 
[CODE(DOMi)@en[[[AbstractView]]]] を[[実装]]する[[物体]]が[[実装]]する他の[[界面]]:
:[CODE(DOMi)@en[[[Window]]]]:[[既定表示]]である
[CODE(DOMi)@en[[[AbstractView]]]] は 
[CODE(DOMi)@en[[[Window]]]] をも[[実装]]しなければなりません
[SRC@en[[[HTML 5]]]]。
:[CODE(DOMi)@en[[[WindowHTML]]]]:古い [[HTML 5]]
仕様案で定義されていましたが、現在は
[CODE(DOMi)@en[[[Window]]]] に統一されています。
:[CODE(DOMi)@en[[[ViewCSS]]]]:[CODE(DOMi)@en[[[AbstractView]]]]
を[[継承]]しており、 [CODE(DOMi)@en[[[AbstractView]]]]
の[[実体値]]から[[型変換]]により得られることが期待されています
[SRC@en[[[DOM水準2 CSS]]]]。
:[CODE(DOMi)@en[[[ViewCSS]]]]:[CODE(DOMi)@en[[[Window]]]]
を[[実装]]する[[物体]]は [CODE(DOMi)@en[[[ViewCSS]]]]
をも[[実装]]しなければなりません [SRC@en[[[CSSOM]]]]。
:[CODE(DOMi)@en[[[Global]]]]:[CODE(JS)@en[[[window]]]]
[[物体]]が[[実装]]することが期待されている旨が説明されていますが、
[CODE(DOMi)@en[[[AbstractView]]]] との関係は明記されていません
[SRC@en[[[SVG Tiny 1.2]]]]。
:[CODE(DOMi)@en[[[SVGGlobal]]]]:[CODE(DOMi)@en[[[Global]]]]
と [CODE(DOMi)@en[[[EventListenerInitializer2]]]] を[[継承]]しています。
[CODE(DOMi)@en[[[Window]]]] に影響され、
[CODE(JS)@en[[[window]]]] [[物体]]が[[実装]]することを期待している旨が説明されていますが、
[CODE(DOMi)@en[[[AbstractView]]]] との関係は不明です。
[CODE(DOMi)@en[[[AbstractView]]]] にもある
[CODE(DOMa)@en[[[document]]]] [[属性]]をも定義しています。
[SRC@en[[[SVG Tiny 1.2]]]]
:[CODE(DOMi)@en[[[EventListenerInitializer2]]]]:
[CODE(DOMi)@en[[[SVGGlobal]]]] が[[継承]]しています
[SRC@en[[[SVG Tiny 1.2]]]]。
:[CODE(DOMi)@en[[[EventTarget]]]]:[CODE(DOMi)@en[[[Window]]]]
を[[実装]]する[[物体]]は [CODE(DOMi)@en[[[EventTarget]]]]
をも[[実装]]しなければなりません [SRC@en[[[HTML 5]]]]。
:[CODE(DOMi)@en[[[View]]]]:例示だけで明記されていませんが、
[CODE(DOMi)@en[[[AbstractView]]]] から[[型変換]]で得られることが期待されていたようです
[SRC@en[[[DOM水準3表示及び書式付け]]]]。
:[CODE(DOMi)@en[[[VisualView]]]]:例示だけで明記されていませんが、
[CODE(DOMi)@en[[[AbstractView]]]] から[[型変換]]で得られることが期待されていたようです
[SRC@en[[[DOM水準3表示及び書式付け]]]]。
:[CODE(DOMi)@en[[[WindowView]]]]:[CODE(DOMi)@en[[[Window]]]]
を[[実装]]する[[物体]]は [CODE(DOMi)@en[[[WindowView]]]]
をも[[実装]]しなければなりません
[SRC@en[[[CSSOM表示]]]]。

[67] [CITE@en-US[Window Object 1.0]]
( ([TIME[2006-04-08 02:19:28 +09:00]] 版))
<http://www.w3.org/TR/Window/#window>

[78] [CITE@en[HTML5 Revision Tracker]]
([TIME[2010-04-02 23:57:52 +09:00]] 版)
<http://html5.org/tools/web-apps-tracker?from=4947&to=4948>

[79] [CITE[Bug 9336 – Remove concept of views as per discussion at last TPAC in the WebApps WG. At some point DOM Level 2 Views will be updated to recommend that implementors not implement the concept.]]
([TIME[2010-04-03 00:00:35 +09:00]] 版)
<http://www.w3.org/Bugs/Public/show_bug.cgi?id=9336>

[69] [CITE[IRC logs: freenode / #whatwg / 20110803]]
( ([TIME[2011-08-15 08:26:12 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20110803>

[70] [CITE@en[Re: Adding a note to DOM2 Views]]
( ([[Ian Jacobs]] 著, [TIME[2011-08-04 06:24:44 +09:00]] 版))
<http://lists.w3.org/Archives/Public/public-webapps/2011JulSep/0625.html>

[71] [CITE[IRC logs: freenode / #whatwg / 20110813]]
( ([TIME[2011-08-27 02:37:55 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20110813>

[FIG(quote)[
[FIGCAPTION[
[72] [CITE@en[Document Object Model (DOM) Level 2 Views Specification]]
([TIME[2011-09-23 07:51:37 +09:00]] 版)
<http://www.w3.org/TR/2000/REC-DOM-Level-2-Views-20001113/>
]FIGCAPTION]

> Document Status Update 2011-09-22: This paragraph is informative. The concepts this document defines are obsolete. The 'document' and 'defaultView' attributes are defined in the HTML5 specification with simplified semantics. The Web Applications Working Group encourages implementation of these concepts as defined by HTML5.

]FIG]

[80] [[DOM2 View]] は複数の「view」により (異なる [[CSS]] [[媒体型]]かもしれない)
同じ[[文書]]の複数の表示が同時並行で存在することを想定していました。
しかしこれはほとんど実装されず ([[Presto]] が画面表示と音声表示の異なる「view」
を同時に保持していたことがありました。またほとんどの[[Webブラウザー]]の[[印刷プレビュー]]や[[印刷]]機能は、理論上はこれに該当するべきもののはずでした。)、
意味のない概念として廃止されました。

;; [CODE(DOMa)@en[[[defaultView]]]] [[IDL属性]]はその名残りとして、削除されずに残っています。

** Window Object 1.0

[13] 
[CITE[Window Object 1.0]] <http://www.w3.org/TR/2006/WD-Window-20060407/>
([[名無しさん]] [WEAK[2006-04-11 03:15:24 +00:00]])

[14] 
>>13 現状

[CITE[HTML5 IRC logs: freenode / #whatwg / 20070425]] ([CODE[2007-04-26 08:53:19 +09:00]] 版) <http://krijnhoetmer.nl/irc-logs/whatwg/20070425#l-555>

[7]
[CITE[HTML5 IRC logs: freenode / #whatwg / 20070913]] ([CODE[2007-09-14 21:42:43 +09:00]] 版) <http://krijnhoetmer.nl/irc-logs/whatwg/20070913#l-188>

> <ROBOd> othermaciej: is the spec "abandoned"? Window 1.0
> <othermaciej> ROBOd: not explicitly, although I'm not sure if it's worth continuing effort with HTML5 under w3c auspices now 

** HTML5

[68] [CODE(DOMi)@en[[[AbstractView]]]] は [[HTML5]] により完全に消滅しました。
[CODE(DOMa)@en[[[document]]]] [[IDL属性]]は [CODE(DOMi)@en[[[Window]]]]
[[インターフェイス]]の一部となっています。

[95] [CODE(HTMLe)@en[[[script]]]] [[要素]]の [CODE(HTMLa)@en[[[for]]]]
[[属性]]は、正式に[[廃止]]されました。その値 [CODE[[[window]]]]
の扱いは[[スクリプトの準備]]を参照。

** Widget

[81] [[Widget API]] 仕様書は [[Widget]] における [CODE(DOMi)@en[[[Window]]]]
の拡張 ([CODE(IDL)@en[[[Window]] [[implements]]]] かつ [CODE(IDL)@en[[[NoInterfaceObject]]]]
な[[インターフェイス]]) として [DFN[[CODE(IDL)@en[[[WindowWidget]]]]]]
を定義していました [SRC[>>82, >>83]]。[[IDL属性]]として
[CODE(DOMa)@en[[[widget]]]] が定義されていました。

[REFS[
- [82] [CITE[Widget Interface]]
( ([TIME[2013-10-29 00:58:56 +09:00]] 版))
<http://www.w3.org/TR/widgets-apis/#the-windowwidget-interface>
- [83] [CITE[Widget Interface]] ([TIME[2015-01-27 11:24:04 +09:00]] 版) <http://w3c.github.io/packaged-webapps/api/Overview.html#the-windowwidget-interface>
]REFS]

[84] しかし [[Widget]] 仕様は普及せず、後に放棄されています。

* メモ

[4]
[CITE@en[/trunk/LayoutTests/fast/dom/Window/window-special-properties.html - WebKit - Trac]] ([CODE[2007-10-06 13:10:28 +09:00]] 版) <http://trac.webkit.org/projects/webkit/browser/trunk/LayoutTests/fast/dom/Window/window-special-properties.html>

[5]
[CITE@en[Re: Window pointer]] ([[Boris Zbarsky]] 著, [TIME[2007-11-24 08:36:07 +09:00]] 版) <http://lists.w3.org/Archives/Public/public-webapi/2007Nov/0026.html>

[6]
[CITE@en[DOM Client Object Cross-Reference:window - MDC]] ([CODE[2005-09-03 05:00:40 +09:00]] 版) <http://developer.mozilla.org/en/docs/DOM_Client_Object_Cross-Reference:window>

[9]
[CITE[subtech - using Misuzilla.Subtech; - Internet ExplorerのDocumentプロパティが遅いわけの推測]] ([CODE[2007-10-19 22:04:52 +09:00]] 版) <http://subtech.g.hatena.ne.jp/mayuki/20071012/1192208017>
([[名無しさん]])

[10]
[CITE[IEの気持ち - 最速チュパカブラ研究会]] ([CODE[2007-10-19 18:28:05 +09:00]] 版) <http://d.hatena.ne.jp/gyuque/20071013>
([[名無しさん]])

[11]
[CITE[Bug 16387 - Variable names can be enumerated across domains]] ([CODE[2008-01-01 12:43:22 +09:00]] 版) <http://bugs.webkit.org/show_bug.cgi?id=16387>
([[名無しさん]])


[12]
[CITE@ja[DOM:window - MDC]] ([TIME[2008-01-07 01:03:11 +09:00]] 版) <http://developer.mozilla.org/ja/docs/DOM:window>


[18] [CITE@en-GB-hixie[Web Controls 1.0]]
([TIME[2004-11-09 08:49:52 +09:00]] 版)
<http://www.whatwg.org/specs/web-controls/current-work/#the-window>

[19] [CITE[IRC logs: freenode / #whatwg / 20090808]]
([TIME[2009-10-06 23:37:54 +09:00]] 版)
<http://krijnhoetmer.nl/irc-logs/whatwg/20090808>

[22] [CITE[IRC logs: freenode / #whatwg / 20110211]]
( ([TIME[2011-03-21 23:36:54 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20110211#l-1856>

[23] [CITE['''['''whatwg''']''' Should events be paused on detached iframes?]]
([TIME[2011-06-14 11:42:41 +09:00]] 版)
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2011-June/032022.html>

[24] [CITE@en-GB-hixie[Web Controls 1.0]]
( ([TIME[2004-11-09 08:49:52 +09:00]] 版))
<http://www.whatwg.org/specs/web-controls/current-work/#the-window>

[25] [CITE@en-GB-hixie[Web Applications Markup Language 1.0]]
( ([TIME[2004-04-08 02:39:12 +09:00]] 版))
<http://hixie.ch/specs/html/apps/web-apps-1#the-window>

[26] [CITE[IRC logs: freenode / #whatwg / 20120104]]
( ([TIME[2012-01-05 08:30:55 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20120104>

[27] [CITE@en[Web Applications 1.0 r7272     Make window'''''''''['''''''''name''''''''']''''''''' lookup match more browsers.]]
( ([TIME[2012-08-25 07:44:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=7271&to=7272>

[28] [CITE[''''''[''''''whatwg'''''']'''''' '''['''canvas''']''' Path object]]
( ([TIME[2012-10-04 12:08:21 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-October/037520.html>

[29] [CITE@en-US[Window Object 1.0]]
( ([TIME[2006-04-08 02:19:28 +09:00]] 版))
<http://www.w3.org/TR/Window/>

[30] [CITE@en-US[Window Object 1.0]]
( ([TIME[2006-04-08 02:19:28 +09:00]] 版))
<http://www.w3.org/TR/Window/#window>

[31] [CITE[''''''[''''''whatwg'''''']'''''' SecurityError with parent, top, window, self and opener members of Window]]
( ([TIME[2012-12-29 16:40:25 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-December/038482.html>

[32] [CITE@en[Web Applications 1.0 r7603     More things you can access on Window.]]
( ([TIME[2012-12-29 16:31:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=7602&to=7603>

[33] [CITE@en-US[XBL 2.0]]
( ([TIME[2012-05-03 02:23:03 +09:00]] 版))
<http://dev.w3.org/2006/xbl2/Overview.html#scripting>

[34] [CITE@en[Web Applications 1.0 r7722     Try to define order for supported property names. This is not based on testing. If there are compatibility constraints here that prevent implementing this as specced, please let me know.]]
( ([TIME[2013-02-13 09:03:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=7721&to=7722>

[35] [CITE[Design Plans for Out-of-Process iframes - The Chromium Projects]]
( ([TIME[2013-04-04 01:08:00 +09:00]] 版))
<http://www.chromium.org/developers/design-documents/oop-iframes>

[36] [CITE[IEの気持ち - 最速チュパカブラ研究会]]
( ([TIME[2013-04-04 02:21:29 +09:00]] 版))
<http://d.hatena.ne.jp/gyuque/20071013>

[38] [CITE@en[Web Applications 1.0 r7977     Define window.close; update the list of members exposed cross-origin on Window to match reality]]
( ([TIME[2013-06-15 03:28:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=7976&to=7977>

[39] [CITE[''''''[''''''whatwg'''''']'''''' Window and WindowProxy]]
( ([TIME[2013-08-07 05:48:31 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2013-August/040384.html>

[40] [CITE[''''''[''''''whatwg'''''']'''''' Window and WindowProxy]]
( ([TIME[2013-09-24 05:44:51 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2013-September/040885.html>

[41] [CITE[Design Plans for Out-of-Process iframes - The Chromium Projects]]
( ([TIME[2013-11-15 23:46:41 +09:00]] 版))
<http://www.chromium.org/developers/design-documents/oop-iframes>

[42] [CITE@en-US[XML Binding Language (XBL) 2.0]]
( ([TIME[2007-03-16 22:20:16 +09:00]] 版))
<http://www.w3.org/TR/2007/CR-xbl-20070316/#scripting>

[43] [CITE@en[Web Applications 1.0 r8515     Make the spec match more UAs (frames'''''''''['''''''''''''''''']''''''''' is in insertion order, not tree order)]]
( ([TIME[2014-02-28 07:16:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=8514&to=8515>

[44] [CITE[IRC logs: freenode / #whatwg / 20140415]]
( ([TIME[2014-04-16 14:05:04 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20140415#l-724>

[46] [CITE@en[Web Applications 1.0 r8631 Discourage window.foo usage]]
( ([TIME[2014-05-14 08:53:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=8630&to=8631>

[47] [CITE@en[domenic/window-proxy-spec]]
( ([TIME[2015-01-15 12:06:28 +09:00]] 版))
<https://github.com/domenic/window-proxy-spec>

[48] [CITE@en[1107443 – Make WindowProxy throw if you attempt to define a non-configurable property]]
( ([TIME[2015-01-15 12:07:42 +09:00]] 版))
<https://bugzilla.mozilla.org/show_bug.cgi?id=1107443>

[8] [CITE[IRC logs: freenode / #whatwg / 20150223]]
([TIME[2015-02-24 12:33:54 +09:00]] 版)
<http://krijnhoetmer.nl/irc-logs/whatwg/20150223>

[FIG(quote)[
[FIGCAPTION[
[49] [CITE[IRC logs: freenode / #whatwg / 20150225]]
([TIME[2015-02-26 11:38:20 +09:00]] 版)
<http://krijnhoetmer.nl/irc-logs/whatwg/20150225#l-545>
]FIGCAPTION]

> '''['''15:35''']''' <Ms2ger> MikeSmith, any chance you can get a big banner on http://www.w3.org/TR/Window/?

]FIG]

[50] <http://www.w3.org/TR/Window/> は <http://www.w3.org/TR/html/browsers.html#the-window-object>
への[[リダイレクト]]になったようです。 [TIME[2015-02-26T02:39:05.800Z]]

[61] [CITE@en[Re: More on workerStart]]
([[Boris Zbarsky]] 著, [TIME[2015-06-09 05:01:18 +09:00]] 版)
<https://lists.w3.org/Archives/Public/public-web-perf/2015Jun/0051.html>

[85] [CITE@en[Make properties on Window unenumerable · whatwg/html@681f341]] ([TIME[2015-09-03 20:45:48 +09:00]] 版) <https://github.com/whatwg/html/commit/681f341183cd8e029028f1862c147b25f5e51916>

[87] [CITE@en[Defining exotic objects in IDL, HTML, or both?]]
([[Anne van Kesteren]] 著, [TIME[2015-10-12 21:45:31 +09:00]] 版)
<https://lists.w3.org/Archives/Public/www-archive/2015Oct/0009.html>

[88] [CITE@en[annevk/html-cross-origin-objects]]
([TIME[2015-10-20 21:03:27 +09:00]] 版)
<https://github.com/annevk/html-cross-origin-objects>

[90] [CITE@en[Update ECMAScript and IDL integration · whatwg/html@52f96c4]]
([TIME[2015-12-16 12:27:22 +09:00]] 版)
<https://github.com/whatwg/html/commit/52f96c455a53763a7fe00162c067da6adb20e62c>

[91] [CITE@en[Rewrite global object initialization to delegate to ES · whatwg/html@cf0355d]]
([TIME[2015-12-16 18:58:29 +09:00]] 版)
<https://github.com/whatwg/html/commit/cf0355d7e0e229b98f7fbd51b8c7608010c787f5>

[92] [CITE@en[Add some more parameters to the "perform a security check" hook (for … · heycam/webidl@adf3772]]
([TIME[2016-01-14 15:20:04 +09:00]] 版)
<https://github.com/heycam/webidl/commit/adf37720bd92138f9f1627a214330287550c0004>

[93] [CITE@en[29386 – Account for WindowProxy (window proxy)]]
([TIME[2016-01-21 11:57:43 +09:00]] 版)
<https://www.w3.org/Bugs/Public/show_bug.cgi?id=29386>

[94] [CITE@en[Tie Location to the Window object · whatwg/html@fdd8216]]
([TIME[2016-02-04 21:04:18 +09:00]] 版)
<https://github.com/whatwg/html/commit/fdd8216a902a065dd3e205cbbc1b5a6b527970a2>

[96] [CITE@en[Acknowledge Bobby Holley for Window/Location security design · whatwg/html@20f97a2]]
([TIME[2016-02-28 21:29:37 +09:00]] 版)
<https://github.com/whatwg/html/commit/20f97a2aebfff007d56f6310d6d5caa96b98329d>

[97] [CITE@en[Define security around Window, WindowProxy, and Location properly · whatwg/html@acae3df]]
([TIME[2016-03-13 23:32:32 +09:00]] 版)
<https://github.com/whatwg/html/commit/acae3df652b382e9f4f1d1b4dc7e08e2b00df821>

[98] [CITE@en[Fix #751: window.length can be accessed across origins · whatwg/html@c4bcb42]]
([TIME[2016-03-13 23:52:26 +09:00]] 版)
<https://github.com/whatwg/html/commit/c4bcb42cc167976c2a12c97364acae9b8be54eb6>

[131] [CITE@en[Editorial: put properties shared across globals on mixin · whatwg/html@cdd48e1]]
([TIME[2016-04-07 20:04:05 +09:00]] 版)
<https://github.com/whatwg/html/commit/cdd48e1f570c817402bf62108847c4a9f4b00b1e>

[133] [CITE@en[Reduce the number of Window objects exposed on the Window object]]
( ([[annevk]]著, [TIME[2016-05-29 03:47:48 +09:00]]))
<https://github.com/whatwg/html/commit/ae055fbc49e6b57bbfdc69537af67e8971871c06>

[140] [CITE@en[Fix and clarify child browsing context name property set definition]]
( ([[annevk]]著, [TIME[2016-06-02 00:36:22 +09:00]]))
<https://github.com/whatwg/html/commit/a2bde183aa5eddc3a58c4852ac9f4c3431ea86fa>

[142] [CITE@en['''['''giow''']''' (2) Drop DOM Views support.]]
( ([[Hixie]]著, [TIME[2010-04-02 14:32:48 +09:00]]))
<https://github.com/whatwg/html/commit/f6f145d6eb44f40c7977d3d2f08dece686dccfee>

[143] [CITE@en['''['''''']''' (0) Make the Window object support events]]
( ([[Hixie]]著, [TIME[2007-04-21 11:41:48 +09:00]]))
<https://github.com/whatwg/html/commit/16d81185f31b98ef752e036fce228199a1e8502c>

[144] [CITE@en['''['''''']''' (0) Make the Window object support events]]
( ([[Hixie]]著, [TIME[2007-04-21 11:41:48 +09:00]]))
<https://github.com/whatwg/html/commit/16d81185f31b98ef752e036fce228199a1e8502c>

[145] [CITE@en[Cross-origin objects: do not wrap JavaScript functions]]
( ([[annevk]]著, [TIME[2016-06-22 00:21:17 +09:00]]))
<https://github.com/whatwg/html/commit/db361b608157b5cf9fd0d491d7dc76cdce80380b>

[146] [CITE@en[Fix(installation): clarify installation event (closes #473) (#474)]]
([[marcoscaceres]]著, [TIME[2016-06-29 12:36:29 +09:00]])
<https://github.com/w3c/manifest/commit/639ccb12b892396c62b3af3e985e688c1ccec508>

[148] [CITE@en[Be more precise about nested and discarded browsing contexts]]
([[domenic]]著, [TIME[2016-07-20 22:58:49 +09:00]])
<https://github.com/whatwg/html/commit/39118df640ad4a3f03f164fb5ffe0a56316297be>

[150] [CITE@en[1048535 – Cross-origin info leak: '''[''''''['''get''']'''''']''' calls on global expose text (or CSV) sniffed as JS]]
([TIME[2016-07-26 21:12:18 +09:00]])
<https://bugzilla.mozilla.org/show_bug.cgi?id=1048535>

[151] [CITE@en[Make Window and Document named/indexed properties exclude shadow trees]]
([[domenic]]著, [TIME[2016-08-03 13:42:52 +09:00]])
<https://github.com/whatwg/html/commit/7b567729ac3cc66b074b0df53138c353ec540bb9>

[152] [CITE@en[Editorial: annotate WindowProxy JavaScript willful violations]]
([[annevk]]著, [TIME[2016-08-18 14:06:55 +09:00]])
<https://github.com/whatwg/html/commit/9fe9cca9d6708616638ca07e1a4f40ea88ba6f9a>

[153] [CITE@en[Explain why cross-origin properties are configurable]]
([[domenic]]著, [TIME[2016-09-09 05:18:17 +09:00]])
<https://github.com/whatwg/html/commit/7891ea33f643f2b6af18dacc532378671c922b76>

[154] [CITE@en[Throw for cross-origin '''[''''''['''Delete''']'''''']''' and use "SecurityError" as needed]]
([[annevk]]著, [TIME[2016-09-15 01:50:33 +09:00]])
<https://github.com/whatwg/html/commit/9b22d034cd5a89cac9e54174d009ef8a256bcf13>

[155] [CITE@en[Align window named properties with implementations]]
([[domenic]]著, [TIME[2016-10-06 05:40:08 +09:00]])
<https://github.com/whatwg/html/commit/d3c9442efe3370b9414d290f45ca356e1f0411bd>

[156] [CITE@en[Tweak '''[''''''['''SetPrototypeOf''']'''''']''' custom internal methods]]
([[domenic]]著, [TIME[2017-03-16 05:53:26 +09:00]])
<https://github.com/whatwg/html/commit/94e9bd672c9030d15c85993a8772cfff34fcfa23>

[157] [CITE@en[Fix '''[''''''['''GetOwnProperty''']'''''']''' and '''[''''''['''Delete''']'''''']''' for WindowProxy]]
([[annevk]]著, [TIME[2017-04-18 20:01:03 +09:00]])
<https://github.com/whatwg/html/commit/e1c9c2a0153a4a825d021459609e9f3eefbd51f4>

[158] [CITE@en[Tweak the exposure of cross-origin properties]]
([[domenic]]著, [TIME[2017-07-17 17:14:13 +09:00]])
<https://github.com/whatwg/html/commit/79b4fbc6cfa2123620fa05c27579f4ec1e7d9c5d>

[159] [CITE@en[Why are indexed properties on WindowProxy not enumerable in the spec? · Issue #2753 · whatwg/html]]
([TIME[2017-07-18 20:57:05 +09:00]])
<https://github.com/whatwg/html/issues/2753>

[160] [CITE@en[Why are indexed properties on WindowProxy not enumerable in the spec? · Issue #2753 · whatwg/html]]
([TIME[2017-07-18 21:08:03 +09:00]])
<https://github.com/whatwg/html/issues/2753>

[161] [CITE@en[Tweak the exposure of cross-origin properties by domenic · Pull Request #2777 · whatwg/html]]
([TIME[2017-07-18 21:08:52 +09:00]])
<https://github.com/whatwg/html/pull/2777>

[162] [CITE@en[Remove <applet>]]
([[zcorpan]]著, [TIME[2017-08-21 22:19:30 +09:00]])
<https://github.com/whatwg/html/commit/b9b9d60f9451c05f8e8d542e4094f987ae1a5fb8>

[163] [CITE@en[Deprecations and Removals in Chrome 61  |  Web  |  Google Developers]]
([TIME[2017-08-16 00:56:37 +09:00]])
<https://developers.google.com/web/updates/2017/08/chrome-61-deprecations>

[164] [CITE@en[<a> and <area> are not window named objects]]
([[ayg]]著, [TIME[2017-09-06 22:44:24 +09:00]])
<https://github.com/whatwg/html/commit/9c209523143cb97551799e185e2a5d2750854bda>

[165] [CITE@en[<a> and <area> are not window named objects by annevk · Pull Request #3013 · whatwg/html]]
([TIME[2017-09-09 17:05:32 +09:00]])
<https://github.com/whatwg/html/pull/3013>

[166] [CITE@en[Enumerate fewer cross-origin properties]]
([[annevk]]著, [TIME[2017-11-07 01:09:46 +09:00]])
<https://github.com/whatwg/html/commit/ad8823782e7f6b7d60f8e216901bb76d1a53dd6d>

[167] [CITE@en[Enumerable cross-origin properties don't seem to be web-compatible · Issue #3183 · whatwg/html]]
([TIME[2017-11-07 17:01:05 +09:00]])
<https://github.com/whatwg/html/issues/3183>

[168] [CITE@en[Enumerate less cross-origin properties by annevk · Pull Request #3186 · whatwg/html]]
([TIME[2017-11-07 17:02:16 +09:00]])
<https://github.com/whatwg/html/pull/3186>

[169] [CITE@en[Remove '''['''PrimaryGlobal''']''' by annevk · Pull Request #2956 · whatwg/html]]
([TIME[2017-12-16 15:32:31 +09:00]])
<https://github.com/whatwg/html/pull/2956>

[170] [CITE@en[Remove '''['''PrimaryGlobal''']''']]
([[annevk]]著, [TIME[2017-12-06 22:31:21 +09:00]])
<https://github.com/whatwg/html/commit/dff66be7bd3c2a6ce1a411f2e8c2a1ccac88fd92>

[171] [CITE@en[Remove '''['''PrimaryGlobal''']''' by annevk · Pull Request #2956 · whatwg/html]]
([TIME[2017-12-16 15:32:46 +09:00]])
<https://github.com/whatwg/html/pull/2956>

[172] [CITE@en[Make crossOriginObject.then undefined for promises]]
([[annevk]]著, [TIME[2018-02-08 04:39:51 +09:00]])
<https://github.com/whatwg/html/commit/6031e3a2d66ee2ff11d09abd18e6a25a3c78c5ba>

[173] [CITE@en[Make crossOriginObject.then undefined for promises]]
([[annevk]]著, [TIME[2018-02-08 04:39:51 +09:00]])
<https://github.com/whatwg/html/commit/6031e3a2d66ee2ff11d09abd18e6a25a3c78c5ba>

[174] [CITE@en[No way to resolve a Promise with a cross domain WindowProxy · Issue #536 · whatwg/dom]]
([TIME[2018-02-08 16:52:30 +09:00]])
<https://github.com/whatwg/dom/issues/536>

[175] [CITE@en[Make crossOriginObject.then undefined for promises by annevk · Pull Request #3242 · whatwg/html]]
([TIME[2018-02-08 16:53:42 +09:00]])
<https://github.com/whatwg/html/pull/3242>

[176] [CITE@en[document.open() simplifications, part 1]]
([[TimothyGu]]著, [TIME[2018-08-17 07:20:44 +09:00]])
<https://github.com/whatwg/html/commit/6f769b8089a843066aa19f5991405bf4c84458b3>

[177] [CITE@en[Calling InitializeHostDefinedRealm in document.open is probably unnecessary · Issue #1698 · whatwg/html]]
([TIME[2018-08-23 20:15:33 +09:00]])
<https://github.com/whatwg/html/issues/1698>

[178] [CITE@en[document.open() simplifications: realm creation, unloading, tasks removal by TimothyGu · Pull Request #3918 · whatwg/html]]
([TIME[2018-08-23 20:19:25 +09:00]])
<https://github.com/whatwg/html/pull/3918>

[179] [CITE@en[Correct WindowProxy's '''[''''''['''Set''']'''''']''']]
([[annevk]]著, [TIME[2018-10-12 04:10:56 +09:00]])
<https://github.com/whatwg/html/commit/b4edc09fe9005cf13bd011a062f539dddee14935>

[180] [CITE@en[WindowProxy '''[''''''['''Set''']'''''']''' doesn't quite make sense · Issue #4064 · whatwg/html]]
([TIME[2018-10-30 23:56:17 +09:00]])
<https://github.com/whatwg/html/issues/4064>

[181] [CITE@en[Correct WindowProxy's '''[''''''['''Set''']'''''']''' by annevk · Pull Request #4067 · whatwg/html]]
([TIME[2018-10-30 23:56:37 +09:00]])
<https://github.com/whatwg/html/pull/4067>

[182] [CITE@en[WindowProxy and Location use ordinary internal methods by default]]
([[annevk]]著, [TIME[2018-11-27 23:13:42 +09:00]])
<https://github.com/whatwg/html/commit/44da6795888d90cc7d4181a57e5b7aeafe461fb5>

[183] [CITE@en[Correct branching logic in choosing a browsing context by annevk · Pull Request #4197 · whatwg/html]]
([TIME[2019-05-18 14:43:07 +09:00]])
<https://github.com/whatwg/html/pull/4197>

[184] [CITE@en[Cross-origin WindowProxy's '''[''''''['''GetOwnProperty''']'''''']''' cannot return undefined]]
([[annevk]]著, [TIME[2019-01-03 19:11:27 +09:00]])
<https://github.com/whatwg/html/commit/4fbaea9d440cf93953371627c065e358051fcf96>

[185] [CITE@en[Window's '''[''''''['''Get''']'''''']''' can fail an assert · Issue #4252 · whatwg/html]]
([TIME[2019-05-31 15:01:27 +09:00]])
<https://github.com/whatwg/html/issues/4252>

[186] [CITE@en[Cross-origin WindowProxy's '''[''''''['''GetOwnProperty''']'''''']''' cannot return undefined by annevk · Pull Request #4266 · whatwg/html]]
([TIME[2019-05-31 15:01:44 +09:00]])
<https://github.com/whatwg/html/pull/4266>

[187] [CITE@en[Handle cross-origin "then" and friends at a later point]]
([[annevk]]著, [TIME[2019-01-07 22:00:24 +09:00]])
<https://github.com/whatwg/html/commit/5e370be9b9d48fe5106472db0ea65e01c64387bc>

[188] [CITE@en[Handling of "then" on cross-origin windows doesn't match what we agreed to do or browsers · Issue #4251 · whatwg/html]]
([TIME[2019-06-01 11:45:04 +09:00]])
<https://github.com/whatwg/html/issues/4251>

[189] [CITE@en[Handle cross-origin "then" and friends at a later point by annevk · Pull Request #4269 · whatwg/html]]
([TIME[2019-06-01 11:45:30 +09:00]])
<https://github.com/whatwg/html/pull/4269>

[190] [CITE@en[WindowProxy and Location use ordinary internal methods by default]]
([[annevk]]著, [TIME[2018-11-27 23:13:42 +09:00]])
<https://github.com/whatwg/html/commit/44da6795888d90cc7d4181a57e5b7aeafe461fb5>

[191] [CITE@en[Should clearly define that the ordinary object internal methods are used when not stated otherwise for WindowProxy and Location · Issue #4189 · whatwg/html]]
([TIME[2019-06-20 09:57:42 +09:00]])
<https://github.com/whatwg/html/issues/4189>

[192] [CITE@en[Clarify that WindowProxy and Location use ordinary internal methods by default by annevk · Pull Request #4191 · whatwg/html]]
([TIME[2019-06-20 09:58:02 +09:00]])
<https://github.com/whatwg/html/pull/4191>

[193] [CITE@en[Only run "perform a security check" for Window and Location objects]]
([[annevk]], [TIME[2019-12-11 19:48:19 +09:00]], [TIME[2021-03-17T11:12:27.000Z]])
<https://github.com/whatwg/html/commit/e46fc2f59a064ab4e45b9f3e6fa9322ad591ef0f>