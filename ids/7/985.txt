[9] [[条件付き要求]]の事前条件として使われる資源メタデータの値のことを、
[DFN[[RUBYB[検証子]@en[validator]]]]といいます [SRC[>>8]]。

[10] そのような資源メタデータとして、 [[RFC 7232]] では修正日時
([CODE(HTTP)@en[[[Last-Modified]]]]) と[[実体タグ]]が規定されている他、
[[WebDAV]] その他の拡張でも定義されることがあります [SRC[>>8]]。

* 仕様書

[REFS[
- [8] '''[CITE@en[RFC 7232 - Hypertext Transfer Protocol (HTTP/1.1): Conditional Requests]] ([TIME[2014-09-11 10:02:44 +09:00]] 版) <https://tools.ietf.org/html/rfc7232#section-2>'''
- [2] [CITE@en[RFC 7231 - Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content]] ([TIME[2014-08-07 05:54:02 +09:00]] 版) <https://tools.ietf.org/html/rfc7231#section-7.2>
- [507] [CITE@en[RFC 7231 - Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content]] ([TIME[2014-06-07 01:55:45 +09:00]] 版) <https://tools.ietf.org/html/rfc7231#section-4.3.4>
]REFS]

* 検証子ヘッダー

[3] [DFN[[RUBYB[検証子ヘッダー]@en[validator header fields]]]]は、
[[選択された表現]]についての[[メタデータ]]を伝達するものです。 [SRC[>>2]]

[4] [[安全]]な[[要求]]に対する[[応答]]の[[検証子ヘッダー]]は、
[[応答]]を処理するに当たり[[起源鯖]]が選んだ[[選択された表現]]について説明したものです。 [SRC[>>2]]

;; [5] [[状態符号]]の意味次第では、ある[[応答]]の[[選択された表現]]は必ずしもその[[応答]]に含まれる
[[payload]] の[[表現]]と同じではないかもしれません。 [SRC[>>2]]

[6] 状態を変更しようとする[[要求]]の成功した[[応答]]の[[検証子ヘッダー]]は、
処理の結果以前の[[選択された表現]]を置き換えた新しい[[表現]]について説明するものです。 [SRC[>>2]]

[EG[
[7] 例えば [CODE(HTTP)[[[201]]]] [[応答]]の [CODE(HTTP)@en[[[ETag:]]]]
[[ヘッダー]]は、新しく作られた[[資源]]の[[実体タグ]]を表しています。 [SRC[>>2]]
]EG]

[515] [[起源鯖]]は、 [CODE(HTTP)@en[[[PUT]]]] [[要求]]の[[表現]]が[[変形]]なしに保存され、 
[[検証子ヘッダー]]の値が新しい[[表現]]にそのまま適用される場合を除き、
[CODE(HTTP)@en[[[PUT]]]] への[[応答]]で[[検証子ヘッダー]]を送信しては[['''なりません''']]
[SRC[>>507]]。

[202] 次の[[ヘッダー]]が[[検証子ヘッダー]]とされています [SRC[>>2]]。
[FIG(short list)[
- [CODE(HTTP)@en[[[ETag:]]]]
- [CODE(HTTP)@en[[[Last-Modified:]]]]
]FIG]

* 歴史

[FIG(quote)[
[FIGCAPTION[
[1] [[HTTP]] ([[RFC 2068]] 1.3, [[RFC 2616]] 1.3)
]FIGCAPTION]

>
:validator: A protocol element (e.g., an entity tag or a Last-Modified time)
that is used to find out whether a cache entry is an equivalent
copy of an entity.

:検証子: [[キャッシュ項目]]が[[実体]]の同等の複製であるかを調べるのに使うプロトコル要素
(例えば[[実体札]]や [CODE(HTTP)[[[Last-Modified]]]] 時刻)。
]FIG]