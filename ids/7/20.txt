#?SuikaWiki/0.9

[17] [[UCS]] では、 [[JIS X 0211]] やそれと同様な構造の[[制御機能]]が使用できます。
通常そのような規格は [[ISO/IEC 2022]] などの7ビットや8ビットの環境で用いることを想定していますが、

制御機能を構成する列 ([[制御文字]]に限らず、[[エスケープシーケンス]]や[[制御シーケンス]]や[[制御列]]を構成する後続の[[ビット組合せ]]列も含みます。) は、
上位ビットに 0 を詰め込んで ([DFN[zero padding]])
UCS (の符号化表現) のオクテット長に合わせます。

仕様書:
- [[ISO/IEC 10646]]‐1:2000 15
- [[JIS X 0221]]‐1:2001 15.

[18] ISO/IEC 10646 と JIS X 0221 で「[[文字]]」
という用語の定義が異なりますが、適当に調整して適用してよいそうです (15. 備考)。

[[#comment]]


* エスケープ・シーケンス

[1] [[ISO/IEC 2022]] 
で定義されている[[エスケープシーケンス]]の一部が使えます。
(規格では ISO/IEC 2022 
のエスケープシーケンスを使う時は、云々。と書いてありますが、どういう時に使えるのかはよくわかりません。
実装が対応してればいつでも使えるんでしょうか?)

[17] >>1 規格で [Q[JIS X 0202 のエスケープシーケンスを使う場合]]と書いてあるのは、 [Q[16. 機能識別の宣言]]です。
16.1 では、大雑把に言うと、
- 情報交換のためには、送受信者間で方法 ([Q[UTF-8 を使う]]とか) の合意が必要
- その方法は適用範囲外だが、情報交換列の一部として識別情報を送受信するために、情報交換規格は、 ISO/IEC 10646 で規定する方法を使ってもよい

と書いてあります。で、その 10646 が規定する方法の一つとして、[Q[JIS X 0202 のエスケープシーケンスを使う場合]]と言っているのです。

ですから、[Q[どういう時に使えるのか]>>1]の答えは情報交換規格となります。

- [2] Zero padding。 01/11 は U+001B になります。他も同様。 (1:2000 15)

[3] [[指示]]・[[呼び出し]]など[[符号拡張法]]は使えません。 (ISO/IEC 10646‐1:2000 15)

> JIS X 0202 の符号拡張制御機能 (指示用エスケープシーケンス,
シングルシフト及びロッキングシフト) は、
この符号化文字集合と一緒に使ってはならない。
([[JIS X 0221]]‐1:2001 15. より)

- [4] ([[UCS]] の) [[符号化方式]]・[[実装水準]]明示のために ESC 02/05 02/15 [VAR[Ft]] が使えます。 (1:2000 16.2, C.5, D.6)
- [5] ([[UCS]] と同時に使う) [[C0]] 集合の識別に ESC 02/01 [VAR[F]] が使えます。 (1:2000 16.4)
- [6] (UCS と同時に使う) [[C1]] 集合の識別に ESC 02/02 [VAR[F]] が使えます。 (1:2000 16.4)
- [7] ISO/IEC 2022 に復帰あるいは移行するのに ESC 02/05 04/00 が使えます。 (1:2000 16.5)

[8] ''指示''は駄目 (>>3) だけど''識別'' (>>5-6) は OK
ってのは、 [[CCデータ要素]]中で切り替えることが出来ないってことかなあ。

[10] >>7 同様に ISO/IEC 2022 
以外の[[符号系]]に移行できるのかどうかわからない。 >>3
を素直に解釈すれば出来ないのだろうか。

[9] [[ISO/IEC10646]] 的お勧めの C0/C1 は [[ISO/IEC6429]] のもの。
ESC 02/01 04/00 と ESC 02/02 04/03。
(でも ISO/IEC 10646-1:2000 が参照しているのは
ISO/IEC 6429:1992 だから、このエスケープ・シーケンスはおかしい。
[[ISO/IEC6429のC1文字集合]]を参照。)

[[#comment]]


* 制御シーケンス

[11] [[ISO/IEC6429]] が使えるなら、
[CODE(CHAR)[IUCS]] を使って、使用する部分集合 (ISO/IEC 10646-1
附属書Aの番号) を識別できます。
もちろん、 zero padding します。 (1:2000 16.3)

- [12] IUCS = CSI <Ps...> %x20 %x6D ;; [CODE(CHAR)[IDENTITY UNIVERSAL CHARACTER SET SUBSET]]
- [13] <Ps...> = collection *(separator collection)
- [14] collection = *DIGIT
- [15] separator = %x3B

[16] 他の[[制御シーケンス]]についての言及はありません。
でも使えるんだと解釈するのが素直でしょう。
なお、 ISO/IEC 6429 が C1 に使われていると識別するのに、
ISO/IEC 2022 を使っている時は ESC 02/01 04/00 を使います。
(>>1,>>6,>>9 参照。)

[19]
実は [CODE(char)[IUCS]] は ISO/IEC 6429 では規定されていない罠。
([[名無しさん]])
[[#comment]]