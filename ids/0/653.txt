[52] [DFN[XML]] ([DFN[Extensible Markup Language]]、[DFN[拡張可能マーク付け言語]])
は、ある種の[[木構造]]を表現する[[マーク付け言語]]構文でした。
90年代末から00年代前半に流行していました。

[244] 現在では一部の分野で限定的に使われるのみとなっています。

* 代替

[245] [[Web]] における[[文書]]の交換には [[HTML]] が引き続き用いられています。
[[XML]] はその構文部分の置き換えを狙っていましたが、失敗しました。

[246] [[Web API]] の[[データ形式]]として一時 [[XML]] が標準的な地位にありましたが、
現在では [[JSON]] が[[事実上の標準]]となっています。

[247] [[アプリケーション]]の[[設定ファイル]]の形式としては、
現在でも [[XML]] が使われることもあります。しかし新規に採用されることはあまりなさそうです。
この分野では [[XML]] 以外にも多種多様な選択肢があります。

* 仕様書

[248] [[XML]] の[[仕様書]]は [[W3C勧告]]となっています。

[REFS[
- [6] ''Extensible Markup Language (XML) 1.0'' <http://www.w3.org/TR/REC-xml>
]REFS]

** 標準化

[132] [[W3C]] [[SGML ERB]] により [[Web]] 向けの [[SGML]] として開発されました。

[87] 晩年は [[W3C]] [[XML Core WG]] が開発を担当していました (が、実質的に放置状態でした)。
[TIME[2016年][year:2016]]夏に閉鎖され、名実ともに [[XML]] の時代が終わりました。

[REFS[
- [5] [[W3C]] XML [[Activity]]: ''Extensible Markup Language (XML)'' <http://www.w3.org/XML/>
]REFS]

** 国内規格

[258] 
[DFN[KS X 6030:2010]]

[[XML 1.1]] の[[大韓民国]]版

* XML の版

[53] 現在までに [[XML]] には大別して3つの[[版]]があります。

:[[XML 1.0]] 第4版以前:[[XML]] の最初の版です。第1版は1998年に [[W3C]] [[勧告]]となりました。
:[[XML 1.1]]:[[名前]]として利用可能な[[文字]]を拡充するなどした [[XML]] の改訂版です。
ほとんど普及せず、 [[XML 1.0 5e]] の出版によって事実上廃止されました (名目上は依然 [[W3C]]
[[勧告]]のままです)。
:[[XML 1.0 5e]] 以降:[[名前]]として利用可能な[[文字]]を拡充するなどした [[XML]]
の改訂版です。 [[XML 1.1]] の失敗を踏まえて[[版番号]]は 1.0 のまま拡張するという暴挙に出ましたw

[16] [DFN[[ABBR[XML] [Extensible Markup Language]] 1.1]] [SRC[>>175]]
は、 [[XML 1.0]] の小改訂版です。
[[XML 1.0]] と基本的には変わっていないのですが、
[[名前文字]]や[[空白]]の規定に多少の変更がありました。
そのため XML 1.0 と XML 1.1 で[[整形式]]の定義が変わってきます 
(ので新しい版とされました)。

[174] しかし [[XML 1.0 5e]] で[[整形式]]の定義が変更され、 [[XML 1.1]]
相当の変更の多くが取り込まれたことにより、事実上廃止されました。
形式的には依然として有効な [[W3C勧告]]ではあるものの、
当時も現在も、実際にはほとんど使われていません。

[80] [[XML文書]]は [[XML 1.0 4e]] までの範囲の機能のみを使うのが安全です。
[[XML 1.0 5e]] の変更が実装されているかどうかは、怪しいです。

[249] [[XML 1.1]] 制定以前は、 [[XML]] には [[XML 1.0]] という単一の仕様しかなく、
[[DTD][XML DTD]] を使わない限りにおいてはほとんど実装間の差異もなく、
[[相互運用性]]は良好な状態でした。ところが [[XML 1.1]] と [[XML 1.0 5e]]
によってこの[[相互運用]]状態は崩壊し、
混乱が収拾されないまま [[XML]] の時代が終わってしまいました。
従って現在残されている [[XML]] に関係する仕様や実装や[[応用][XML応用]]を扱う場合は、それがどの
[[XML]] に対応しているのか (あるいはどれでもない何かなのか) 注意してみなければなりません。

** XML 1.0 第4版までと XML 1.1 との互換性

[176] 適合 [[XML 1.0]] [[文書]]を [[XML 1.1]] [[処理器]]に与えると、 [[XML 1.0]]
[[処理器]]と異なる出力が得られることがあります。この意味で [[XML 1.1]]
と [[XML 1.0]] に互換性はありません。

[177] 適合 [[XML 1.1]] [[文書]]を [[XML 1.0]] [[処理器]]に与えると、 [[XML 1.1]]
[[処理器]]と異なる出力が得られたり、[[致死的誤り]]となったりすることがあります。
この意味で [[XML 1.1]] と [[XML 1.0]] に互換性はありません。

[178] なお [[XML 1.1]] が派生した当時の [[XML 1.0 4e]] とは違いが色々ありましたが、
その多くは [[XML 1.0 5e]] に取り込まれていますから、 [[XML 1.1]] と
[[XML 1.0 5e]] では >>176 や >>177 のような結果になることは 4e よりは少なくなっています。
それでも >>176 や >>177 がまったく起こらなくなったわけではありません。

[179] [[XML 1.1]] を使う場合は [[XML名前空間 1.1]] を使うことになっています。
[[XML名前空間 1.0]] を使うことはできません。

;; [180] また [[XML名前空間 1.1]] を [[XML 1.0]] で使うこともできません。

** 各仕様の XML 1.1 対応状況

[201] 
,仕様	,構文	,意味	,仕様書	,その他
,[CODE(XML)[[[xml-stylesheet]]]]	,[[XML 1.0]] を'''陽に参照'''	,仕様書本文で [[XML 1.0]] を'''陽に参照'''	,[[XML 1.0]] [[FE]] を参照

[202] [CITE[Pronunciation Lexicon Specification (PLS) Version 1.0]] ([TIME[2008-10-13 23:03:02 +09:00]] 版) <http://www.w3.org/TR/2008/REC-pronunciation-lexicon-20081014/#S3>

[[XML 1.0 4e]] と [[XML 1.1 2e]] を参照しています。

[203] [CITE[Introduction – SVG Tiny 1.2]] ([TIME[2008-12-20 02:31:29 +09:00]] 版) <http://www.w3.org/TR/2008/REC-SVGTiny12-20081222/intro.html#compatibility>

[204] [[EmotionML]] は [[XML 1.1]] を参照しておらず、適合 [[EmotionML]] [[文書]]には [[XML 1.0]]
と [[XML名前空間1.0]]への適合を求めていますが、 [[EmotionML]] [[名前空間]]は [[XML名前空間1.0]]と[[XML名前空間1.1]]
で利用できるとしています [SRC[>>205]]。

[REFS[
- [205] [CITE@en[Emotion Markup Language (EmotionML) 1.0]] ([TIME[2014-05-20 20:02:30 +09:00]] 版) <http://www.w3.org/TR/emotionml/#s4>
]REFS]

[FIG(quote)[
[FIGCAPTION[
[206] [CITE[OEBPS Container Format 1.0]] ([TIME[2008-01-16 00:44:29 +09:00]] 版) <http://www.idpf.org/ocf/ocf1.0/download/ocf10-20060911.htm#_Toc130009832>
]FIGCAPTION]

>
-All XML files MUST be well-formed (as defined in XML 1.1) and thus include a correct XML declaration (e.g. <?xml version=’1.0’?>)
-All XML files MUST be compatible with the XML 1.1 specification (http://www.w3.org/TR/2004/REC-xml11-20040204) and the Namespaces in XML specification (http://www.w3.org/TR/REC-xml-names)
]FIG]

そんな無茶苦茶なwww

[207] [CITE[EMMA: Extensible MultiModal Annotation markup language]] ([TIME[2009-02-03 15:38:28 +09:00]] 版) <http://www.w3.org/TR/2009/REC-emma-20090210/#s5>

[[文書]]も[[処理器]]も [[XML 1.1]]、[[XML名前空間 1.1]] に適合しなければならないことになっています。
でも仕様書中の例示のどれにも [[XML宣言]]が含まれていませんが・・・。

[208] [[XML 1.1]] の規定により、[[XML 1.1]] に適合する[[処理器]]は [[XML 1.0]]
[[文書]]をも処理できなければなりません。一方、 [[XML 1.0]] に適合する[[文書]]が
[[XML 1.1]] にも適合するという規定は特にありません。なので [[XML宣言]]がないものは
[[XML 1.1]] には適合しません。

[209] [CITE@en-US[Basic XML Schema Patterns for Databinding Version 1.0]] ([TIME[2009-05-05 01:07:15 +09:00]] 版) <http://www.w3.org/TR/2009/NOTE-xmlschema-patterns-20090505/#assert-XML10>、
[CITE@en-US[Advanced XML Schema Patterns for Databinding Version 1.0]] ([TIME[2009-05-05 01:07:15 +09:00]] 版) <http://www.w3.org/TR/2009/NOTE-xmlschema-patterns-advanced-20090505/#document-conformance>

[[XML 1.0]] [[整形式]]で[['''なければなりません''']]とあり、 [[XML 1.1]] には言及されていません。

[210] [CITE@en-US[Service Modeling Language, Version 1.1]] ([TIME[2009-05-12 17:50:10 +09:00]] 版) <http://www.w3.org/TR/2009/REC-sml-20090512/#document>,
<http://www.w3.org/TR/2009/REC-sml-20090512/#Conformance>

[[XML 1.0]] [[整形式]]で[['''なければなりません''']]とあり、 [[XML 1.1]] には言及されていません。

[CITE@en-US[Service Modeling Language Interchange Format Version 1.1]] ([TIME[2009-05-12 17:50:21 +09:00]] 版) <http://www.w3.org/TR/2009/REC-sml-if-20090512/#Dependencies>

こちらでは [[XML 1.0]] を実装し[['''なければなりません''']]とあり、注記として新しい版にも対応してもよいが、
版間の差異による問題があるかも、とのみ言及があります。

[211] [CITE[XProc: An XML Pipeline Language]]
([TIME[2010-05-11 22:38:07 +09:00]] 版)
<http://www.w3.org/TR/2010/REC-xproc-20100511/#syntax>

[212] [CITE@EN[XQuery 1.0 and XPath 2.0 Functions and Operators (Second Edition)]]
( ([TIME[2010-12-17 00:06:54 +09:00]] 版))
<http://www.w3.org/TR/2010/REC-xpath-functions-20101214/#conformance>

[213] [CITE@en[RFC 6120 - Extensible Messaging and Presence Protocol (XMPP): Core]]
( ([TIME[2011-03-31 08:23:45 +09:00]] 版))
<http://tools.ietf.org/html/rfc6120#section-11.8>

[214] [CITE@en[Voice Browser Call Control: CCXML Version 1.0]]
( ([TIME[2011-06-28 19:48:47 +09:00]] 版))
<http://www.w3.org/TR/2011/REC-ccxml-20110705/#J1>

[215] [[InkML]] は [[XML 1.1]] だけを参照し、 [[XML 1.0]] を参照していません。

[REFS[
- [216] [CITE[Ink Markup Language (InkML)]] ([TIME[2011-09-20 17:16:49 +09:00]] 版) <http://www.w3.org/TR/2011/REC-InkML-20110920/#s8.1>
]REFS]

[217] [CITE@EN[W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes]]
( ([TIME[2012-04-05 06:34:51 +09:00]] 版))
<http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#intro-relatedWork>

[218] [CITE@EN[W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes]]
( ([TIME[2012-04-05 06:34:51 +09:00]] 版))
<http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#sec-ast-lex>

[219] [CITE@EN[W3C XML Schema Definition Language (XSD) 1.1 Part 1: Structures]]
( ([TIME[2012-04-05 06:34:07 +09:00]] 版))
<http://www.w3.org/TR/2012/REC-xmlschema11-1-20120405/#intro-relatedWork>

[222] [CITE@EN[XQuery 3.0: An XML Query Language]]
( ([TIME[2014-04-08 08:26:21 +09:00]] 版))
<http://www.w3.org/TR/xquery-30/#parse-note-xml-version>

[223] [CITE@EN[XML Path Language (XPath) 3.0]]
( ([TIME[2014-04-08 07:58:50 +09:00]] 版))
<http://www.w3.org/TR/xpath-30/#parse-note-xml-version>

[224] [CITE@en[XQuery and XPath Data Model 3.0]]
( ([TIME[2014-04-08 07:00:06 +09:00]] 版))
<http://www.w3.org/TR/xpath-datamodel-3/#xml-and-xsd-versions>

[225] [CITE@EN[XPath and XQuery Functions and Operators 3.0]]
( ([TIME[2014-04-08 07:02:07 +09:00]] 版))
<http://www.w3.org/TR/xpath-functions-3/#conformance>

[226] [CITE@en[XSLT and XQuery Serialization 3.0]]
( ([TIME[2014-04-07 23:19:15 +09:00]] 版))
<http://www.w3.org/TR/xslt-xquery-serialization-3/#reconstructed-tree>

[227] [CITE@en[RFC 7303 - XML Media Types]]
( ([TIME[2014-07-07 20:56:43 +09:00]] 版))
<http://tools.ietf.org/html/rfc7303#section-7>

[228] [CITE@EN[XQuery 3.1: An XML Query Language]]
([TIME[2017-03-20 09:23:33 +09:00]])
<https://www.w3.org/TR/2017/REC-xquery-31-20170321/#parse-note-xml-version>

[229] [CITE@EN[XML Path Language (XPath) 3.1]]
([TIME[2017-03-20 09:18:04 +09:00]])
<https://www.w3.org/TR/2017/REC-xpath-31-20170321/#parse-note-xml-version>

[230] [CITE@en[XQuery and XPath Data Model 3.1]]
([TIME[2017-03-20 07:26:25 +09:00]])
<https://www.w3.org/TR/2017/REC-xpath-datamodel-31-20170321/#xml-and-xsd-versions>

[232] [CITE@EN[XSL Transformations (XSLT) Version 3.0]]
([TIME[2017-06-06 21:59:56 +09:00]])
<https://www.w3.org/TR/2017/REC-xslt-30-20170608/#xml-versions>



* XML 関連仕様

[54] [[XML]] はそれ自体でも利用可能ですが、通常は関連仕様と併用されます。

:[[XML名前空間]]: [[XML]] の[[要素]]や[[属性]]を [[URL]] によって[[大域的]]に識別可能とします。
:[[XML情報集合]]: [[XML]] と [[XML情報集合]]が具体的な構文を規定するのに対し、
それに相当する[[データ・モデル]]を規定しています。
:[[XLink]]: [[XML]] で[[ハイパーリンク]]を実現します。元々は [[XML]]
の第2部とされていました。
:[[XPointer]]: [[URL]] の[[素片識別子]]において [[XML]] [[文書]]の一部を識別します。
:[[XPath]]: [[XML]] [[文書]]の一部を識別できる[[式言語]]です。
:[[XML Schema]]: [[XML]] [[文書]]のための[[スキーマ言語]]です。
:[[XQuery]]: [[XML]] [[文書]]を[[データベース]]的に操作する[[照会言語]]です。
:[[XSLT]]: [[XML]] [[文書]]を[[変形]]する[[雛形]]言語です。
:[[XML基底]]: [[XML]] [[文書]]の[[基底URL]] に関する規定です。
:[CODE(XMLa)@en[[[xml:id]]]]: [[XML]] [[要素]]に[[識別子]]を与える[[属性]]です。

[55] [[Webブラウザー]]で [[XML]] を扱う場合には、 [[DOM中核]]、[[DOM XML]]、
[[DOM XPath]] のような仕様が用いられます。

[56] [[XML]] は構文であり、[[語彙]]は含まれません。代表的な [[XML]]
の[[語彙]]としては [[XHTML]]、[[SVG]]、[[MathML]] などがあります。

* 無限に長い XML

[58] [[XMLストリーミング]]参照。

* XML 構文と XML データモデル

[98] [[XML]] の構文に関しては、次の各項を参照。

[FIG(short list)[
- [[XMLの構文解析]]
- [[XML文書]]
- [[XML文書実体]]
- [[XML DTD]]
- [[XML MIME実体]]
]FIG]

[69] 構文としての [[XML]] に対応するメモリー上のデータ構造および [[API]]
はいくつも存在します。

[FIG(short list)[ [119] [[XML]] の[[データモデル]]や [[API]]
- [[XML情報集合]]
- [[PSVI]]
- [[DOM]]
- [[XPath 1.0のデータモデル]]
- [[XDM]]
- [[E4X]]
- [[SAX]]
- [[XPP]]
- [[XNI]]
- [[XMLisp]]
]FIG]

[101] [[XML]] に対応する[[データモデル]]の一部または全部を記述できる、
またはそれに近い記述形式・言語には、次のものがあります。

:[[正準XML]]:[[署名]]などのために構文と機能を制限した、 XML の一つの書式です。
[[XML 1.0]] の部分集合になっています。

[FIG(short list)[
- [[XML構文]]
-- [[XML 1.0]]
-- [[XML 1.1]]
-- [[XML 2.0]]
-- [[XML5]]
-- [[XML-ER]]
- [[XML名前空間]] では、
[[名前空間]]機能を導入するため、更に構文に制限が課されています。
[[XML名前空間 1.0]] と [[XML名前空間 1.1]] があります。
- [71] [[XMLK]] は、 [[XML]] から[[文書型宣言]]を除去したものです。
-- [[SOAP]]でも同じものが採用されています。
- [19]
'''XMPP の制限付き XML''':
[[XMPP]] では[RUBYB[制限付き] [restricted]] XML
を規定しています [SRC[[[RFC 3920]] 11.1]]。
実装は次の構造を生成しては'''なりません'''し、
受取ったら無視しなければ'''なりません'''。
[FIG(list)[
- [[注釈宣言]]
- [[処理指令]]
- [[文書型宣言]]
- [[定義済実体]]以外への[[実体参照]]
- [[定義済実体]]に相当する生の[[文字]]
([[文字データ]]や[[属性値表記]]で)
]FIG]
- [42] [[Open Packaging]] は [[XML文書]]中の [[DTD宣言]]の使用を禁じています
[SRC[[[ECMA 376]] Part 2 8.1.4]]。
- [43] [[WML2]] は [[DTD]] の[[引数実体]]の上書きを禁じています
[SRC@en[[[WML 2.0]] [CSECTION@en[6.17. Document Conformance]]]]。
- [29]
[[SHF]] ([[RFC 4194]]) は[[定義済実体]]''以外''の[[実体参照]]の使用を禁止しています。
- [30]
[[VoiceXML 2.0]]は[[DTD]]中の[[引数実体]]を上書きする目的で[[宣言部分集合]]を使用することを禁じています。
- [51] [[RFC 5485]] は [[Internet-Draft]] の [[XML文書]]の[[署名]]のための[[正準形]]として、
[[改行]]に [CODE(charname)@en[[[LF]]]] を使わ[['''なければならない''']]と規定しています
[SRC@en[[[RFC 5485]] 2.3.]]。
- [73] [[Pingback]] はその [CODE(HTMLe)@en[[[link]]]] [[要素]]の[[文字列]]表現に特別な制約を設けています。
- [[ECS]]
- [[MicroXML]]
- [48] [[バイナリーXML]]各種
- [74] [[SOX]]
- [75] [[xml2]] の行指向フォーマット
- [25]
[CITE[XML Alternatives]] <http://www.pault.com/pault/pxml/xmlalternatives.html>
- [26]
[CITE[dW : XML : XMLウォッチ: XML用の代替構文を調査する]] <http://www-6.ibm.com/jp/developerworks/xml/030117/j_x-syntax.html>
- [28]
[CITE[S-expressions for XML documents]] <http://www.w3.org/People/cmsmcq/2001/xs-sexp/xscomp.html>
- [77] [[JXON]]
- [78] [[E4X]]
- [97] [[XMLリテラル (Visual Basic)]]
- [81] [[ASN.1]] の [[XML]] 系データ型
- [79] [[JSX (Facebook)]]
- [[JsonML]]
- [47] [[HTML5]]
- [[XML/RDF]]
- [[EBML]]
- [[XML/JSON]]
- [[ZenML]]

]FIG]


[263] 
[DFN[XMLの非正規的処理]]:
現実に存在する多くの実装が [[XML]] 仕様書の想定する[[XML構文解析器]]による正規の方法によらずに
[[XML文書]]を処理しています。

- [264] [[SAX]] や [[XPP]] は処理対象となる [[XML文書]]が、
[[XML]] 仕様書の要求する [[XML処理器]]が検出しなければならない[[誤り]]のすべてを検出できる
(方法で使われている) かどうかには疑義があります。
-- [265] [[XML]] の代表的な処理 [[API]] であるところの [[SAX]] や [[XPP]]
がこのような疑いを持たれるということは、
[[XML]] という仕様それ自体のあり方が疑わしいということです...
- [266] [[XML]] 仕様書の要件を満たさない [[XML文書]]にはしばしば遭遇します。
従って [[XML5]] のような要件を緩和した [[XML構文解析器]]が
必要とされる現実があります。
-- [269] [[Feed Parsing]]
- [267] [[XMLストリーミング]]で用いられるような無限に長い [[XML]]
は、
[[SAX]] のような方法で [[XML]] 仕様と整合的な方法でも処理できるとはいえ、
現実的には従来のテキストベースのプロトコルと同様のアドホックな方法で処理する方が簡単かつ柔軟です。
- [271] 
[CITE[Wikipedia]] のデータベースダンプファイルや政府機関配布のデータファイルなど、
超巨大な [[XML]] 形式のデータファイルを処理することがあります。
汎用の [[XML]] ツールでは入力が大きすぎてまともに扱えない、
かつ使われる [[XML]] 構文が限定的、
という特徴から、アドホックな方法で処理されることが多いです。
- [268] [[正規表現]]のような簡易な方法で [[XML]] 文書から情報を取り出すのはよくあることです。
- [270] その他、特定の [[XML]] の構文は受け付けるのにそれ以外の構文は受け付けない、
のような事例が各所で報告されています。
[SEE[ [[GPX]], [[フィード]], [[空要素タグ]] ]]


[49] [CITE[Text::PORE - Perl Object Rendering Engine - search.cpan.org]] ([TIME[2009-03-20 23:25:27 +09:00]] 版) <http://search.cpan.org/~ztang/Text-PORE-1.02/PORE.pm>

[50] >>49 は「[[XML]] [[タグ]]」を使っていると主張していますが、 [[PORE]]
の[[雛形]]言語はどう見ても [[XML]] ではなさそうです。
[[根要素]]に相当するものがなかったり、[[引用符]]なしの[[属性値]]があったり、
[[終了タグ]]のない[[空要素]]の[[開始タグ]]があったり、
[[escape]] されていない [CODE(char)[[[<]]]] があったり。


* XML 応用

[72] [[XML]] を使った[[マーク付け言語]] ([[XML応用]])
は多数考案されました。その一部は今も使われています。
[SEE[ [[XML応用]] ]]


[88] [[XML]] は[[00年代]]に流行し色々な分野で汎用データ形式として採用されましたが、
その後衰退し、 [[Java]] など一部の分野で限定的に使われる言語となりました。

[120] 
なお、[[XML]] は [[SGML]] に基いていますが、
[[XML応用]]は[[SGML応用]]ではありません。
[SEE[ [[SGML応用]] ]]

* 文脈

[118] 
[[XML文書]]が使われる場面 ([[プロトコル要素]]) は、
[[XML文書実体]]を参照。

* XML とセキュリティー

[91] [[XML]] を使った[[セキュリティー]]の仕様には、次のものがあります。

[FIG(short list)[
- [[XML Signature]]
- [[XML Encryption]]
- [[WS-Security]]
]FIG]

[92] [[XML]] に関する[[セキュリティー]]問題には、次のものがあります。

[FIG(short list)[
- [[XML entity explosion attack]]
- [[外部実体]]
]FIG]

[70] [[XML]] 自体の抱える問題の他に、
[[XML]] を使った語彙によっては、例えば [[XHTML]] の [CODE(HTMLe)@en[[[script]]]]
[[要素]]など、別途[[セキュリティー]]に配慮が必要な[[要素]]などもあったりします。

* プログラミング言語との関係

[82] [[XML]] 自体はただの[[データ形式]]で、[[プログラミング言語]]には[[中立]]なものです。

[99] [[Java]] [[コミュニティー]]では [[XML]] が好まれ、[[設定ファイル]]その他で広く用いられています。

* HTML との関係

[241] [[HTML]] を [[XML応用]]として使う ([[XML構文]]で記述する) ことができます。
かつてはこれを [[XHTML]] と呼んでいました。

;; [[XHTML]] 参照。

[242] [[HTML]] の成功が [[XML]] の開発を勢いづかせた、関心を集めさせた、
というような間接的な影響を除けば、 [[XML]] の歴史に [[HTML]]
はそれほど関係していません。 (機能の選択や設計に主要な 
[[SGML応用]]として影響を与えたところはありますが。)
たまに「[[HTML]] が発展して [[XML]] が作られた」というような説明がみられますが、
不適切です。

[243] とはいえ [[XML]] は [[HTML]] を[[応用][XML応用]]の1つとして吸収し、
構文や言語を支える[[エコシステム]]としては置き換えていくことが期待されるものではありました。
[[W3C]] 自身も [[XHTML1]] や [[XHTML2]]、[[WICD]] といったような形でそれを目指していきました。
しかし、それも完全な失敗に終わりました。

* 歴史

** SGML

[89] [[SGML]]、[[HTML]] 参照。

** XML の開発

[133] [[W3C]] [[SGML ERB]] が [[Web]] 向けの [[SGML]]
として開発した [[XML]] 本体は、 [TIME[1998年][year:1998]]に初版が [[W3C勧告]]となりました。

[REFS[
- [7] [CITE[Extensible Markup Language (XML) 1.0]]
( ([TIME[2000-05-09 16:35:50 +09:00]] 版))
<http://www.w3.org/TR/1998/REC-xml-19980210>
- [11] ''Errata in REC-xml-20001006'' <http://www.w3.org/XML/xml-V10-2e-errata>
]REFS]

[90] 当初 [[XML]] の一部として開発されていた[[ハイパーリンク]]機能は
[[XLink]] や [[XPath 1.0]]、[[XPointer]] となり、
同時に開発された[[スタイル言語]]は [[XSL]]、[[XSLT 1.0]]、[[XPath 1.0]] となりました。

** 第2版

[134] [CITE@EN[Extensible Markup Language (XML) 1.0 (Second Edition)]]
( ([TIME[2007-10-11 20:41:47 +09:00]] 版))
<http://www.w3.org/TR/2000/REC-xml-20001006>

** 第3版と XML 1.1

[135] [DFN[[[XML 1.0]] [RUBYB[第3版][Third Edition]]]]は、
[[W3C]] の [[XML 1.0]] に関する3回目の正式な仕様書です。
[[XML 1.0]] 第3版は第2版に対する正誤表の修正と、
更に幾つかの修正を第2版に加えたもので、
[TIME[2004年2月4日][2004-02-04]]に [[XML 1.1]] 初版と同時に[[勧告]]となりました。

[REFS[
- XML 1.0 第3版仕様書 <http://www.w3.org/TR/2004/REC-xml-20040204>
- XML 1.0 第3版訂正票 <http://www.w3.org/XML/xml-V10-3e-errata>
- XML 1.0 の最新版 <http://www.w3.org/TR/REC-xml>
]REFS]

- [14] [WEAK[2004-02-05 12:07:54 +00:00]] ''[[名無しさん]]'': XML 1.0 TE, XML 1.1, XML Names 1.1, XML 情報集合 1.1 が一気に W3C 勧告になりました。
- [15] XML 1.0 TE, XML 1.1 は前規格との diff がありますけど、 Names と Infoset はなし。ひどいなあ。 XML も PR と REC の diff がないのは嬉しくない。仕方ないから [[XMLspec]] 版の diff 取ったら、ソース整形が一杯あって嫌になります。。。 で、 diff の結果ですが、 XML 1.1 PR→REC は細々した修正が多々と、 charmod WD への参照をやめて一部抜粋附属書化。技術的には大体 PR と同じでしょう。 (大違いだったら REC にはならんわな。) Names PR→REC も細々が多々。 1.0 TE PER→CR と Infoset は見てませんけど、どうせ同じような感じでしょう。


*** XML 1.0 第2版から第3版への変更点

[136] 
- [ABBR[[[SE]]][第2版]] に対する errata の適用
- [[RFC 2119]] 見出し語の採用 
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#sec-terminology>
-- [CODE[[[may]]]], [CODE[[[must]]]] の定義の削除
-- 見出し語 [CODE[[[MUST]]]],
[CODE[[[REQUIRED]]]], [CODE[MUST NOT]],
[CODE[[[SHALL]]]], [CODE[SHALL NOT]]
への違反が (特に言及がない限り) [[誤り]]であるとされた
[WEAK[([CODE[must]] は以前から誤りだったが、他は新規)]]
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#dt-error>
- [CODE(char)[<]] を含む[[内部実体]]を宣言しても意味がないという注記に「一般」(実体) と補われる。
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#IDA2S1S>
- [CODE(char)[&]] や [CODE(char)[<]] が[[注釈宣言]]や[[処理指令]]などでのみ生で出現できるから、それらを除いて出現しては'''ならない'''に改められた <http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#syntax>
- 注釈宣言で[[引数実体参照]]が認識されないから認識'''してはならない'''に修正された
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#sec-comments>
- [[処理指令]]で引数実体参照が認識されないから認識'''してはならない'''に修正された
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#IDAP51S>
- [[内部部分集合]]の引数実体参照について、マーク宣言外にのみ出現できるから、マーク宣言外では出現しても'''よい'''、マーク宣言外では出現しては'''ならない'''に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#wfc-PEinInternalSubset>
- 内部部分集合の後に[[外部部分集合]]があるものと考えるから、そう考えないと'''ならない'''に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#ext-Subset>
- [Q[一つの開始タグ中で複数回現れても良い属性名はない]]から、[Q[現れては'''ならない''']]に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#uniqattspec>
- [[属性値表記]]が[[外部非解析実体]]への[[実体参照]]を含めることはできないから'''ならない'''に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#NoExternalRefs>
- 複数回[[要素型宣言]]に現れても良い[[要素型名]]はないから、要素型名は複数回現れては'''ならない'''に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#EDUnique>
- [[属性指定]]は[[開始タグ]]にのみ出現できるから、開始タグ以外に出現しては'''ならない'''に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#attdecls>
- 複数の[[識別子属性]]を持てる要素型はないから、要素型は複数持っては'''ならない'''に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#one-id-per-el>
- [[列挙属性]]は値並びから一つ取れるから、取らなければ'''ならない'''に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#dt-enumerated>
- 複数の[[記法属性]]を持てる要素型はないから、要素型は複数持っては'''ならない'''に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#OneNotationPer>
- [[条件区間]]でマーク区間の内容が
DTD の一部とみなされる・無視されるがみなさなければ'''ならない'''・無視しなければ'''ならない'''に改められ、
引数実体参照がこの過程では認識されないからしては'''ならない'''に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#OneNotationPer>
- 「解析実体の内容」が、
[Q[a parsed entity's contents]]
から [Q[the contents of a parsed entity]]
に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#dt-parsedent>
- [Q[引数実体参照は DTD 内にだけ現れても良い]]から、 [Q[DTD 外に現れては'''ならない''']]に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#indtd>
- [Q[外部解析実体の頭以外に現れても良い[[文宣言]]はない]]から、
[Q[現れては'''ならない''']]に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#indtd>
- [Q[[[置換文]]はその場にあったかのように処理する]]から[Q[しなければ'''ならない''']]に、[Q[置換文中の引用符は通常データ文字として扱い、[[表記]]の終端とはしない]]から[Q[扱わなければ'''ならず、終端としては'''ならない''']]に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#inliteral>
- [Q[迂回してそのままにする]]から[Q[しなければ'''ならない''']]に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#bypass>
- [Q[前後に[[間隔]]を補って展開する]]から[Q[しなければ'''ならない''']]に、
[Q[ただし[[実体値]]中ではそうしない]]から[Q[しては'''ならない''']]に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#as-PE>
- [CODE(XML)[[[gt]]]] などの二重[[逃避]]は[Q[不必要]]から[Q['''[[任意選択]]''']]に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#sec-predefined-ent>
- [Q[一つの[[記法宣言]]だけがある[[名前]]を宣言できる]]から、
[Q[ある名前が複数の記法宣言で宣言されては'''ならない''']]に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#UniqueNotationName>
- 参考文献で当該文書へのリンクの始点が URI 文字列から文書名に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#sec-bibliography>
- [Q[XML 作業部会の構成員]]が[Q[関係者]]に改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#sec-xml-wg>
- XML 中核作業部会の章が第2版のものから第3版のものに改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#sec-core-wg>
- [[XMLspec]] についての章が書き改められた
<http://www.w3.org/TR/2004/REC-xml-20040204/REC-xml-20040204-review.html#prod-notes>

[137] SE に対する errata で既に修正された部分は大きな変更が幾つかあるのでそれはそれで重要なのですが、
その他の言い回しの変化も重要かもしれません。
たとえば、[Q[一つの開始タグ中で複数回現れても良い属性名はない]]から、[Q[現れては'''ならない''']]に改められていますが、
以前は以前は[Q[ない]]と断定されていた以上、そうであるとしか言えませんでしたが、
TE では[Q['''ならない''']]ので、不適合文書ではそうではないことがあり得ます。
そして適合解析器は[Q['''ならない''']]ときにこれを誤りと見なすので、
回復しても'''構いません'''。

単なる言葉尻のことに過ぎないというのなら、それはそれで構いませんけど。

*** XML 1.0 第3版に対する修正

[138] 
- E01 [本質的] <http://www.w3.org/XML/xml-V10-3e-errata#E01>
-- [CODE(XMLa)[[[xml]]:[[lang]]]] の実際の適用対象は応用規定であることを明確化。
-- XML 1.1 初版の訂正 E03 と同じ内容。
- E02 [編集上] <http://www.w3.org/XML/xml-V10-3e-errata#E02>
-- 文字の欠落を修正。
-- XML 1.0 第2版の訂正 E46 で追加された部分。
<http://www.w3.org/XML/xml-V10-2e-errata#E46>
-- XML 1.1 初版の訂正 E04 と同じ内容。
- E03 [編集上] <http://www.w3.org/XML/xml-V10-3e-errata#E03>
-- 用語のリンク先を修正。
-- XML 1.1 初版の訂正 E05 と同じ内容。
- E04 [編集上] <http://www.w3.org/XML/xml-V10-3e-errata#E04>
-- EBNF 生成規則にリンクを追加。
-- XML 1.1 初版の修正 E08 と同じ内容。
- E05 [本質的] <http://www.w3.org/XML/xml-V10-3e-errata#E05>
-- [CODE(XML)[[[ANY]]]] [[要素内容]]で[[注釈宣言]], [[処理指令]], 
[[[CODE(XML)[CDATA]]区間]]が使えることを明確化。
-- XML 1.1 初版の訂正 E11 と同じ内容。
- E06 [本質的] <http://www.w3.org/XML/xml-V10-3e-errata#E06>
(2004年11月20日)
-- [[妥当性制約]][Q[属性既定値が構文的に正しいこと]]
の[Q[正しい]]条件が明確化されました。
-- XML 1.1 初版の訂正 E12 と同じ内容です。
- E07 [編集上] <http://www.w3.org/XML/xml-V10-3e-errata#E07>
(2004年12月15日)
-- リンクの説明の書き間違いが修正されました。
-- XML 1.1 初版の訂正 E13 と同じ内容です。
- E08 [編集上] <http://www.w3.org/XML/xml-V10-3e-errata#E08>
(2005年1月9日)
-- [[外部解析対象実体]]が[[整形式]]であることは、
その実体が[[文書]]から直接又は間接に参照されている場合のみ要求されることが注記として加えられました。
-- この規定自体は以前から仕様書の別の場所に書かれていました。
-- XML 1.1 初版の訂正 E14 と同じ内容です。
- E09 [編集上] <http://www.w3.org/XML/xml-V10-3e-errata#E09>
(2005年1月9日)
-- XML 文書が[[妥当]]たりうることの言い回しが改められました。
-- XML 1.1 初版の訂正 E16 と同じ内容です。
- E10 [編集上] <http://www.w3.org/XML/xml-V10-3e-errata#E10>
(2005年11月2日)
-- [[妥当性制約]][Q[実体が宣言されていること]]における条件の中で、
[Q[[[外部引数実体]]]]が[Q[[[外部引数実体''参照'']]]]に改められました。
-- XML 1.1 初版の訂正 E17 と同じ内容です。
- E11 [編集上] <http://www.w3.org/XML/xml-V10-3e-errata#E11>
(2005年12月7日)
-- [Q[意味]]が[Q[応用での意味]]に修正されました。
[Q[字句化型はそれぞれ字句的・意味的に制約されます]]が[Q[字句化型は更に制約されます]]に修正されました。
-- 2つの[Q[意味]]の意味の違いを明確にするための訂正だそうです。
-- XML 1.1 初版の訂正 E19 と同じ内容です。
- E12 [本質的] <http://www.w3.org/XML/xml-V10-3e-errata#E12>
(2006年4月25日)
-- [CODE@en[[[DefaultDecl]]]] に[[整形式制約]][[外部実体参照なし]]が追加されました。
-- [[属性指定]]ではこの[[整形式制約]]が参照されているのに、
こちらの[[属性定義]]の方では参照されていませんでした。
-- [[XML 1.1]] 初版の訂正 E20 と同じ内容です。
- E13 [本質的] <http://www.w3.org/XML/xml-V10-3e-errata#E13>
(2006年4月25日)
-- [[妥当性制約]][[実体が宣言されていること]]の条件で[Q[[[外部引数実体]]]]とあったところが、[Q[[[引数実体]]]]と修正されました。
-- [[妥当性]]を[[検証]]しない[[処理器]]は[[内部引数実体]]も[[処理]]しないので、
こう規定しておくべきでした。
-- [[XML 1.1]] 初版の訂正 E21 と同じ内容です。
- E14 [本質的] <http://www.w3.org/XML/xml-V10-3e-errata#E14>
(2006年8月9日)
-- [[RFC 2396]] と [[RFC 2732]] への参照が削除され、
代わりに [[RFC 2732]] への参照になりました。
-- [[XML 1.1]] 初版の訂正 E22 と同じ内容です。

*** XML 1.1

[139] XML 1.0 第3版は、 [[XML 1.1]] 初版と同時に勧告されました。
内容的には、 XML 1.1 で技術的に変更された部分を除き同じことが書かれています。

[REFS[
- [175] <http://www.w3.org/TR/xml11>
- [181] 第1版 勧告 <http://www.w3.org/TR/2004/REC-xml11-20040204/>
- [182] 第1版 正誤表 <http://www.w3.org/XML/xml-V11-1e-errata>
]REFS]

[272] [[勧告]]以前の案

- [276] 
[CITE@en[XML 1.1]], [TIME[2018-10-09T13:26:02.000Z]], [TIME[2024-07-03T08:47:58.730Z]] <https://www.w3.org/TR/2001/WD-xml11-20011213/>
- [275] 
[CITE@en[Extensible Markup Language (XML) 1.1]], [TIME[2017-10-02T10:24:58.000Z]], [TIME[2024-07-03T08:47:48.896Z]] <https://www.w3.org/TR/2002/CR-xml11-20021015/>
- [274] 
[CITE@EN[Extensible Markup Language (XML) 1.1]], [TIME[2018-10-09T13:18:50.000Z]], [TIME[2024-07-03T08:47:41.019Z]] <https://www.w3.org/TR/2003/PR-xml11-20031105/>
- [273] [CITE@EN[Extensible Markup Language (XML) 1.1]], [TIME[2018-10-09T13:18:50.000Z]], [TIME[2024-07-03T08:47:13.575Z]] <https://www.w3.org/TR/2003/PR-xml11-20031105/>




[183] XML 1.0 [ABBR[TE] [第3版]] から XML 1.1 の変更点を、
仕様書の差分を取って調べてみました。 

(変更点を示した版も用意されていますが、
すべての変更点が明記されているわけではありません。
その差分版で明記されていない変更点は
[Q[(マークされていない)]] と注記しています。)

- [Q[1.0]] が [Q[1.1]] に置き換えられた。 
-- <http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-origin-goals>
(マークされていない)
-- <http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-prolog-dtd>
(マークされていない)
-- <http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-rmd>
(マークされていない)
-- <http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-prolog-dtd>
(マークされていない)
- [Q[[[ISO/IEC 10646]]]] が [Q[[[Unicode]]]] に変更された。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#dt-match>
(マークされていない)
- 変更点解説の節が追加された。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-xml11>
概要:
-- XML 1.0 は 1998 年の最初の勧告以来、何が[[整形式]]でなにがそうでないかは変えずに来た。これは[[相互運用性]]的には極めて有用だ。
-- しかしその間に XML の参照する [[Unicode]] はどんどん変わっていって、
[[名前]]に使えるべき文字が使えなかったり、そもそも本来使えるべきでない文字が名前文字になっていた。
-- 名前文字の定義の仕方をまったく変えて、がちっと決めてしまうのではなく、
禁止文字以外なんでもありにした。
-- [[メインフレーム]]の[[改行]]文字が[[空白]]じゃなくて不便だったので、
追加した。完全性のために [CODE(char)[U+2028]] も追加した。
-- [CODE(char)[[[C0]]]] を使いたいという要求が多かったので、
[CODE(char)[[[NULL]]]] 以外は[[文字参照]]でなら使えるようにした。
[[頑強性]]のため、 [CODE(char)[[[DEL]]]] と [CODE(char)[[[C1]]]]
は文字参照でないと使えないようにした。
-- [DFN[[[完全正規化]]]]制約集合を追加した。
著者は従う'''べき'''だし、処理器は検証する'''べき'''だ。
完全正規化されていれば[[バイナリ比較]]できる。
-- 整形式の定義に関わるので新しい版とした。
版は [[XML宣言]]の版宣言で区別する。
- [CODE(ABNF)[[[document]]]] の定義で、[[制限文字]]の除外が追加された。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#NT-document>
(マークされていない)
- ISO/IEC 10646 の版・章節参照が削除された。
-- <http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#dt-character> (マークされていない)
-- <http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#charencoding>
(マークされていない)
- [CODE(ABNF)[[[Char]]]] の定義が拡大され、 [CODE(char)[C0]]
([CODE(char)[NULL]] を除く。) が追加された
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#NT-Char>
- 新しい生成規則 [CODE(ABNF)[[[RestrictedChar]]]]
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#NT-RestrictedChar>
- Unicode の版・章節参照が削除された。
-- <http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#charsets>
(マークされていない)
-- <http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-external-ent>
(マークされていない)
-- <http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#charencoding>
(マークされていない)
- [[互換文字]]についての [[UnicodeStandard]] 参照から章番号が削除された
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#charsets>
(マークされていない)
- 文字の分類 (附属書 B) についての言及が削除された
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-common-syn>
- 名前の文字について追記された
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-common-syn>
概要:
-- 名前は [CODE(ABNF)[NameStartChar *NameChar]] でなければ'''ならない'''。
つまり[[欧州数字]]と[[基本結合文字]]は最初に来れない。
-- [[区切子]]以外のほとんどの文字が名前に使える。
定義は排他的ではなく包含的なので、まだ Unicode にない[[書字系]]も使える。
-- 名前についての提案 (附属書 I) を参照されたし。
-- [[文書著者]]は、自然言語的に意味のある名前を使い、
記号的な名前や空白を避けるように推奨する (encouraged)。
-- [CODE(char)[[[COLON]]]], [CODE(char)[[[FULL STOP]],  [CODE(char)[[[HYPHEN-MINUS]]]], [CODE(char)[[[LOW LINE]]]],]]
[CODE(char)[[[MIDDLE DOT]]]] は陽に認める。
-- 記号・句読点の多くは、 XML 文書以外で名前を使う場合も想定し、
除外している。
-- [CODE(char)[[[GREEK QUESTION MARK]]]] は正規化すると
[CODE(charname)@en[SEMICOLON]] になってしまうので除外している。
- [CODE(ABNF)[NameStartChar]] が追加された。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#NT-NameStartChar>
- [CODE(ABNF)[NameChar]] の定義が大きく変更された。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#NT-NameChar>
- [CODE(ABNF)[Name]] の定義が [CODE(ABNF)[NameStartChar]]
を使うように変更された。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#NT-Name>
- (要素の内容の文字は) [Q[どのマークの開始区切子も含まないし、 CDATA 区間閉じ区切子も含まない]]が[Q[どのマークの開始区切子も CDATA 区間閉じ区切子も含まない]]に改められた。また、二つ目の [Q[CDATA 区間閉じ区切子, [CODE(XML)[''']'''''']'''>]]]] が単に [Q[CDATA 区間閉じ区切子]]に改められた。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#syntax>
(マークされていない)
- [Q[XML 文書]]が [Q[XML 1.1 文書]]に変更された。
-- <http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-prolog-dtd>
(マークされていない)
- 文書は [Q[XML 宣言で始める'''べきである''']]から[Q[始めなければ'''ならない''']]に変更された。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#dt-xmldecl>
(マークされていない)
- XML 宣言のない例の説明が、 XML 1.0 とみなされる旨に変更された。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-prolog-dtd>
(マークされていない)
- [CODE(ABNF)[[[prolog]]]] で [CODE(ABNF)[[[XMLDecl]]]]
が必須となった。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#NT-prolog>
(マークされていない)
- [CODE(ABNF)[VersionNum]] が [Q[[CODE(ABNF)['1.0']]]] から [Q[[CODE(ABNF)['1.1']]]] に変更された。
- XML 1.0 との関係についての記述が追加された
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-prolog-dtd>
概要:
-- [DEL[XML 1.1 処理器は XML 1.0 文書も受け入れる'''べきである'''。]]
--- [185] 正誤表 E15 で削除されました。
XML 1.1 処理器は XML 1.0 文書を受け入れなければ'''なりません'''
(>>184)。
-- XML 1.0 整形式/妥当で、 [CODE(char)[U+007F]] や [CODE(char)[[[C1]]]]
を生で含まなければ、版番号を直すだけで 1.1 整形式/妥当である。
- [DEL[[CODE(ABNF)[SDDecl]] の [CODE(ABNF)[[[S]]]] が [CODE(ABNF)[1*[CODE(char)[U+0020]]]] に変更された。]]
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#NT-SDDecl>
(マークなし)
-- [17] 正誤表で元に戻されました。
<http://www.w3.org/XML/xml-V11-1e-errata#E10>
- [186] 改行の処理についての変更。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-line-ends>
概要:
-- 次は、 [CODE(char)[[[U+000A]]]] に変換する。
--- [CODE(char)[[[U+000D]]]] [CODE(char)[U+000A]] (従来通り)
--- [CODE(char)[U+000D]] [CODE(char)[[[U+0085]]]]
--- [CODE(char)[U+0085]]
--- [CODE(char)[[[U+2028]]]]
--- [CODE(char)[U+000D]] (従来通り)
-- [[符号化宣言]]を読むまで表現が不定であるから、
[CODE(char)[U+0085]] や [CODE(char)[U+2028]]
を XML 宣言や[[文宣言]]で使うことはできず、[[致命的誤り]]とする。
- 正規化検査の章が追加された。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-normalization-checking>
概要:
-- すべての[[解析対象実体]]は、附属書 B とこの章の
[DFN[XML の[[関連構造]]]]の定義にしたがって完全正規化されている'''べきである'''。
XML の関連構造 (relavant constructs) とは、
--- 解析実体の[[置換文]]
--- [CODE(ABNF)[Cdata]]
--- [CODE(ABNF)[CharData]]
--- [CODE(ABNF)[content]]
--- [CODE(ABNF)[[[Name]]]]
--- [CODE(ABNF)[Nmtoken]]
-- 文書は完全正規化されていなくても整形式である。
-- XML 処理器は[[利用者の任意選択]]で完全正規化形かどうかを検証 (verify) することができる'''べきである'''。
検証しない選択肢は完全正規化形であることが[[保証]] ([[certify]]) されているときのみ選ぶ'''べきである'''。
-- 完全正規化形検証は、次の手順であるかのように行わなければ'''ならない''':
=== まず[[取込み正規化形]]であるかを検証
=== 関連構造 (参照展開済み) の中に[[合成文字]] ([[composing character]]) で始まるものがないか検証
--- メモ: 合成文字とは、すべての [[Unicode]] の非零[[結合級]]
(cmbining class) の文字と、零級であるにもかかわらずある Unicode
[[正準分解]] (cannonical decomposition) の最初以外になる文字。
これらの文字は[[基底文字]]の後に続くことを想定したものだから、
関連構造の先頭から排除しても実質表現力低下には至らない。
-- 非検証 (validating) 処理器は、読んでいない[[外部実体]]の取込みにより起こり得る非正規化 (denormalization) を無視しなければ'''ならない'''。
-- 完全正規化形検証において正規化特性を得られない文字
(処理器が対応している Unicode の版より後で追加された文字)
に遭遇したら、利用者の任意選択により、その文字により起こり得る非正規化を無視しても'''よい'''。
信頼性や安全性が重要である応用はこれを既定では選択する'''べきではない'''。
-- XML 処理器は入力を完全正規化形にかえては'''ならない'''。
-- XML 1.0/1.1 を出力する応用は、それが完全正規化されているようにする'''べきである'''。
-- 内部処理形が完全正規化されている必要はない。
-- この章の目的は、 XML文書の作者が適切に文書を正規化するように
XML 処理器を推奨 (encourage) することで、 XML 応用が複数の「綴り」
をいちいち検査しなくても文字列一致ができるようにというところにある。
-- 実体が非 Unicode 符号化であって、処理器がこれを Unicode
に変換するときは、[[正規化転符号器]]を使う'''べきである'''。
- [Q[4.5 内部実体置換文の構築]]が [Q[4.5 実体置換文の構築]]に修正された。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-internal-ent>
(マークされていない。本来 XML 1.0 [ABBR[SE]] Errata での節題修正に合わせて修正されるべきで、 XML 1.0 [ABBR[TE]] の修正漏れ)
- [CODE(ABNF)[extParsedEnt]] で制限文字の除外が書き加えられた。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#NT-extParsedEnt>
- [CODE(ABNF)[extParsedEnt]] で [CODE(ABNF)[restrictedChar]]
を除外するように修正された。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#NT-extParsedEnt>
- 実体と XML 版情報についての節が追加された。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-version-info>
概要:
-- [[文書実体]]の版が文書全体の版となる。
-- XML 1.1 文書は XML 1.0 外部実体を呼び出しても良い。
そのような場合でも文書全体に XML 1.1 の規則が適用される。
- [Q[whitespace]] が [Q[white space]] に修正された。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#dt-extrepltext>
(マークされていない)
- 適合性について追記された。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#proc-types> (マークなし)
概要:
-- [184] XML 1.1 処理器は XML 1.0 も処理できないと'''いけない'''。
-- XML 生成プログラムは XML 1.1 の機能を使う場合以外 1.0
文書を生成する'''べきである'''。 
- [DEL[<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#safe-behavior>  の最後の段落の文中の閉じ括弧が削除された。]]
(マークされていない。 XML 1.1 の編集ミス。
開き括弧も削るか、閉じ括弧を復活させないといけない。)
-- XML 1.1 初版正誤表 E09 で修正。
<http://www.w3.org/XML/xml-V11-1e-errata#E09>
- [ISO/IEC 10646:2000] が削除された。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-existing-stds>
(マークされていない。 [ISO/IEC 10646] はそのまま。)
- [Unicode] が最新版参照に改められた (もとは Unicode 2.0 参照)。
[Unicode3] は削除された、
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#Unicode>
(マークされていない)
- [XML-1.0] が追加された。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#XML1.0>
- [Charmod] が追加された。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#Charmod>
- [Q[附属書 B 文字級]]が削除され、新しい[Q[附属書 B 文字正規化]]が追加されました。<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-CharNorm> (マークされていない (XMLspec 注釈にはある)。)
概要:
-- 文字正規化に関する定義をする。背景情報と例示は [Charmod]
を参照。[WEAK[(Draft では完全に Charmod 参照だったけど、 Charmod はまだ WD だから定義をコピペしたらしい。)]]
-- 文が [[UTF-8]], [[UTF-16]] または [[UTF-32]] で符号化されているとき、
[DFN[[[Unicode符号化形]]]]であるという。
-- [DFN[[[遺産符号化]]]]とは、 Unicode に基づかない任意の文字符号化を意味する。
-- [DFN[[[正規化転符号器]]]]とは、遺産符号化から Unicode 符号化形に変換し、結果が確実に [[Unicode正規化形C]] になる転符号器である。
-- [DFN[[[文字逃避]]]]とは、マーク付け言語またはプログラム言語で、
次の一つ以上を実現する構文装置である。
--- 構文で意味を持つ文字を、その意味を持たさずに表現する
--- 選択した文字符号化で表現できない文字を表現する
--- 一般に文字を対応する[[文字符号]]を使わずに表現する
-- [DFN[[[保証]]]]文は、次の最低一つを満足する。
--- 文が検査により正規化形されていることが確認されている
--- 原始文処理部品がわかっていて、正規化文だけを出力することを知っている
-- 文は、次の条件を満たすとき、この仕様書の目的においては
[DFN[[[Unicode正規化]]]]されている。
--- Unicode 符号化形である
--- 次のうちの新しい方の版の Unicode 規格において [[NFC]] である。
---- [[Unicode3.2]]
---- 実際に文に含まれている全ての文字を含む最古の版
-- 文は、次のいずれかを満たすとき、[DFN[[[取込み正規化]]済み]]である。
--- Unicode 正規化されており、それを取込むことによって正規化形でなくなる文字参照や取込みを含まない。
--- 遺産符号化されており、正規化転符号器を使ったとしたら前項を満たす。
-- [DFN[[[合成文字]]]]は、次の一方又は両方を満たす。
--- なんらかの[[一次分解]]の[[正準分解写像]]の第2文字である。
--- 非零[[結合級]]である。
-- 次のいずれかの時、文は[DFN[[[完全正規化]]]]されている。
--- 文は Unicode 符号化形であり、取込み正規化されており、
関連構造で合成文字や合成文字を表す文字逃避で始まるものがない。
--- 文は遺産符号化であり、正規化転符号器で Unicode 符号化形に変換したとすると前項を満たす。
- 附属書 C XML と SGML が削除された。 (マークされていない。 XMLspec 注釈にはある。)
- 附属書 D〜I が附属書 C〜H に繰り上げられた。
(マークされていない。)
-- [DEL[附属書 C (XML 1.1) に [CODE(XML)[version="1.0"]] の例がある!]]
--- XML 1.1 初版正誤表 E06 で修正。 <http://www.w3.org/XML/xml-V11-1e-errata#E06>
- 附属書 F (旧附属書 G) の記述がやや改められた。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-xml-wg>
(マークされていない)
-- XML 1.0 [ABBR[SE]]: [Q[この仕様書を WG が承認したことは、必ずしもすべての WG 構成員が承認票を投じたことを暗示しない。現在および以前の XML WG 構成員は:]]
-- XML 1.0 [ABBR[TE]]: [Q[この仕様書を WG が承認したことは、必ずしもすべての WG 構成員が承認票を投じたことを暗示しない。現在および以前の XML WG 関係者は:]]
-- XML 1.1: [Q[この仕様書を WG が承認したことは、必ずしもすべての WG 関係者が承認票を投じたことを暗示しない。現在および以前の XML WG 構成員は:]]
- 1.0 [ABBR[TE]] では Fran&#231;ois Yergeau の後に [Q[(第3版編集者)]] と書かれているが 1.1 にはなく、 1.1 には John Cowan の後ろに [Q[(XML 1.1 初版編集者)]] と書かれているが 1.0 [ABBR[TE]] にはない。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-core-wg>
(マークされていない)
- 附属書 H (旧附属書 I) で[Q[第3版]]が[Q[この版]]に置き換えられた。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#prod-notes>
(マークされていない)
- [Q[附属書 I XML 名前についての提案]]が追加された。
<http://www.w3.org/TR/2004/REC-xml11-20040204/REC-xml11-20040204-review.html#sec-suggested-names>
概要:
-- XML 名前の構築についての最前の慣習と信ずるところの提案である。
-- Unicode 3.0 以上の特定の版だが、どれを採用するかは著者や
schema 設計者の裁量である。
-- Unicode 3.0 の識別子についての規則から、
制御文字、囲み[[現在位置の前進動作を伴わない]]記号、
非十進数字、私用文字、句読点 (例外あり)、記号、未割当て符号位置、
空白を除外した。すなわち:
--- 名前開始文字は [CODE[[[Ll]]]], [CODE[[[Lu]]]], [CODE[[[Lo]]]], [CODE[[[Lm]]]], [CODE[[[Lt]]]], [CODE[[[Nl]]]] または
[CODE(char)[[[_]]]] ([CODE(char)[U+005F]]) であるべきだ。
--- 名前文字は [CODE[[[Ll]]]], [CODE[[[Lu]]]], [CODE[[[Lo]]]], [CODE[[[Lm]]]], [CODE[[[Lt]]]],
[CODE[[[Mc]]]], [CODE[[[Mn]]]], [CODE[[[Nl]]]], [CODE[[[Nd]]]], [CODE[[[Pc]]]], [CODE[[[Cf]]]],
[CODE(char)[[[-]]]] ([CODE(char)[U+002D]]), [CODE(char)[.]] ([CODE(char)[U+002E]]), [CODE(char)[[[:]]]] ([CODE(char)[U+003A]]) または
[CODE(char)[&#183;]] ([CODE(char)[U+00B7]] = [CODE(char)[MIDDLE DOT]])
であるべきだ。
--- [CODE[Cf]] は直接的には不可視なので、注意して、必要なときにかぎって使用するべきだ。 (XML 処理器的には異なるけど人間が見たら同じ名前は避けたほうがいい。)
-- XML 1.0 附属書 B から。
--- [[正準分解]]を持つ[[表意文字]] ([[CJK互換漢字]]を含む。)
は使用するべきではない。
--- [[互換分解]]を持つ文字は使用するべきではない。ただし、
[CODE(char)[U+0E33]] = [CODE(char)[THAI CHARACTER SARA AM]], [CODE(char)[U+0EB3]] = [CODE(char)[LAO CHARACTER AM]]
は普通に使われているから除く。
--- 記号と共にのみ使われることを想定した結合文字は使用するべきではない。
--- [[行内注釈文字]]は使用するべきではない。
--- [[異体字選択子文字]]は使用するべきではない。
--- 意味のない名前、発音できない名前、読みにくい名前、
他の名前と混同しやすい名前は使用するべきではない。

[187] 差分明示版、 1.0 TE との差分でも 1.1 PR との差分でもない。
いったいなにとの差分なのでしょうねぇ。

前掲の修正点一覧は w3m で 1.0 TE と 1.1 FE のレンダリング結果を保存したものを [KBD[[[diff]]]] 取ったものと差分版と見比べながら作りました。
ちなみに、 XMLspec 版の両仕様書の差分は、字下げ修正のせいで
([KBD[diff -b]] したって) なんとも面倒くさい状態です。
(1.0 から 1.1 が fork した後で更に両仕様書に修正が入っているみたい。
面倒なことしやがって。)
[WEAK[行指向ではなく木としての差分を取ればまともな結果が得られるかもしれないけど。)]]

リストにはありませんが、 (XMLspec 版の字下げ修正なんて阿呆なことをしたせいで)
例示中の空白がずれてるところが大量にあります。
([[混合内容]]のときに空白整形をいじったりしたら困ることくらいわかりそうなものだが!)

[188] [CODE(char)[U+0085]] や [CODE(char)[U+2028]] が XML 宣言/文宣言で使えない件、
本当は他の文字だって符号化方式が確定しないと分からないのだけどね。
(非 ASCII 文字が混じると推定が難しくなるのは確かだから、適当な線引きだとは思うけど。。。)

使えない (使うべきではない) 本当の理由は、
XML 1.0 との互換性ではないのでしょうか。
2.11 <http://www.w3.org/TR/xml11/#sec-line-ends> の規定により、
解析器は構文解析の前に改行の正規化をしないといけませんが、
正規化の仕様は XML 1.1 で改められました (>>19)。
ですから正規化の前に XML の版が判らないと正しい処理ができません。
しかし XML の版を得るためには少なくても XML 
宣言を構文解析しなければならないのでして・・・。

[189] [CODE(ABNF)[CData]], [CODE(ABNF)[PI]], [CODE(ABNF)[Comment]],
[CODE(ABNF)[CharData]], [CODE(ABNF)[EntityValue]],
[CODE(ABNF)[AttValue]], [CODE(ABNF)[SystemLiteral]],
[CODE(ABNF)[Ignore]]
の定義は改められていない。

[CODE(ABNF)[Document]] や [CODE(ABNF)[extParsedEnt]]
から [CODE(ABNF)[restritedChar]] が除外されているのだから、
[PRE[
<?xml version="1.1"?>
<![CODE[]]
[CODE(char)[U+0001]]
]]>
]PRE]

は不可だけど、
[PRE[
<?xml version="1.1"?>
<!ENTITY % foo "<![CODE[&#x0001;]]>">
%foo;
]PRE]

ならいいのだろう。

実体参照を置換した結果が [CODE(char)[C0]] や
[CODE(char)[C1]] を含んだ[[注釈]]や[[処理指令]]を持っていたら、
(実体参照が存在したという情報を除去して、完全に置換してしまっていたら)
再度 serialize することが (適当な実体でもでっち上げない限り) 
できなくなってしまう。 [[DOM]] のようにプログラム等から実体を作ろうとする場合も同様。
(従来このような問題は、 [CODE[--]] のような分離子を含めようとしたときか、
非 ISO/IEC 10646 符号化方式で保存しようとしたときにしか生じなかった。)

[190] [CODE(XML)[[[standalone]]]] 疑似属性の前の
[CODE(ABNF)[S]] は [CODE(ABNF)[#x20+]] にしたのに、
XML 宣言/文宣言の他の [CODE(ABNF)[S]] はそのままのはなぜ?

[191] XML 1.1 文書から参照されている XML 1.0 外部解析実体は XML 1.1
の規則が適用される。ということは、 [CODE(char)[C1]]
が含まれた外部解析実体は整形式でなくなる。

また、 [CODE(XML)[version="1.0"]] または版情報なしの外部実体を
XML 1.1 文書から参照していると、その実体の整形式性・妥当性は正しく検証されるとは限らないわけだ。
(だから XML 1.0 外部実体が正しいか検証するのに、 XML 1.1 文書実体を使ってはいけない。当たり前と言えば当たり前だが。 XML 1.1 外部解析実体のつもりで文宣言を忘れるというのはありうるミスだから、検証器は警告してくれるといいかもしれない。)

**** 2004年4月15日の修正

[192] [TIME[2004年4月15日][2004-04-15]]に [[XML 1.1]] 仕様書の HTML
版が差し替えられています。

修正されているのは、生成規則 [1]
の [CODE(ABNF)[Document]] で、
記号の周りに挿入されるべき[[空白]]が欠けていました。

<http://www.w3.org/TR/2004/REC-xml11-20040204/#status>

[193] この種の見ればわかる程度の間違いは訂正票だけで十分ではないでしょうか?
[Q[Edited in place]] ってのはマークの誤りのようなもっと重大な間違いのための制度では。

[194] なお、修正は HTML 版だけで、
XML 版や差分版はそのままのようです。
([[名無しさん]] [WEAK[2004-06-04 06:56:04 +00:00]])

[195] >>194 差分版も間違っているのにね。

[197] >>192 は >>196 と同じ。

**** 訂正票による仕様書の修正

[196] 第1版 Errata による修正点:

- E01 [編集上] <http://www.w3.org/XML/xml-V11-1e-errata#E01>
-- [[EBNF]] [[生成規則]]中で[[間隔]]が欠落している箇所があったので挿入。
-- 該当するのは XML 1.1 初版で変更された部分。
- E02 [本質的] <http://www.w3.org/XML/xml-V11-1e-errata#E02>
-- EBNF 生成規則中で曖昧な箇所があったので括弧を挿入。
-- 該当2箇所共 XML 1.1 初版で変更された部分。
- E03 [本質的] <http://www.w3.org/XML/xml-V11-1e-errata#E03>
-- [CODE(XMLa)[[[xml]]:[[lang]]]] の実際の適用は応用依存であることを追記。
-- XML 1.0 第3版の訂正 E1 と同じ内容。
- E04 [編集上] <http://www.w3.org/XML/xml-V11-1e-errata#E04>
-- 文字の欠落を修正。
-- XML 1.0 第2版の訂正 E46 で追加された部分。
<http://www.w3.org/XML/xml-V10-2e-errata#E46>
-- XML 1.0 第3版の訂正 E02 と同じ内容。
- E05 [編集上] <http://www.w3.org/XML/xml-V11-1e-errata#E05>
-- 用語のリンク先を修正。
-- XML 1.0 第3版の訂正 E03 と同じ内容。
- E06 [編集上] <http://www.w3.org/XML/xml-V11-1e-errata#E06>
-- [CODE(XMLa)[[[version]]]] 擬似属性の値を [CODE(XML)[1.0]] から
[CODE(XML)[1.1]] に変更。
-- XML 1.1 初版の修正漏れ。
- E07 [編集上] <http://www.w3.org/XML/xml-V11-1e-errata#E07>
-- 括弧が欠落しているのを修正。
-- XML 1.1 初版で追加された部分。
- E08 [編集上] <http://www.w3.org/XML/xml-V11-1e-errata#E08>
-- EBNF 生成規則にリンクを追加。
-- XML 1.0 第3版の修正 E04 と同じ内容。
- E09 [編集上] <http://www.w3.org/XML/xml-V11-1e-errata#E09>
-- 括弧が欠落しているのを修正。
-- XML 1.1 初版で誤って変更された部分。
- E10 [本質的] <http://www.w3.org/XML/xml-V11-1e-errata#E10>
-- [CODE(XMLa)[[[standalone]]]] 擬似属性の直前に[[間隔]]以外の[[空白]]文字を認める。
-- XML 1.1 初版で誤って変更された部分。
- E11 [本質的] <http://www.w3.org/XML/xml-V11-1e-errata#E11>
-- [CODE(XML)[[[ANY]]]] [[要素内容]]で[[注釈宣言]], [[処理指令]], 
[[[CODE(XML)[CDATA]]区間]]が使えることを明確化。
-- XML 1.0 第3版の訂正 E05 と同じ内容。
- E12 [本質的] <http://www.w3.org/XML/xml-V11-1e-errata#E12>
(2004年11月20日)
-- [[妥当性制約]][Q[属性既定値が構文的に正しいこと]]
の[Q[正しい]]条件が明確化されました。
-- XML 1.0 第3版の訂正 E06 と同じ内容です。
- E13 [編集上] <http://www.w3.org/XML/xml-V11-1e-errata#E13>
(2004年12月15日)
-- リンクの説明の書き間違いが修正されました。
-- XML 1.0 第3版の訂正 E07 と同じ内容です。
- E14 [編集上] <http://www.w3.org/XML/xml-V11-1e-errata#E14>
(2005年1月9日)
-- [[外部解析対象実体]]が[[整形式]]であることは、
その実体が[[文書]]から直接又は間接に参照されている場合のみ要求されることが注記として加えられました。
-- この規定自体は以前から仕様書の別の場所に書かれていました。
-- XML 1.0 第3版の訂正 E08 と同じ内容です。
-- 正誤表への追加日が2004年になっています。
(そのうち修正されるでしょう。)
- E15 [本質的] <http://www.w3.org/XML/xml-V11-1e-errata#E15>
(2005年1月9日)
-- [Q[XML 1.1 処理器は XML 1.0 に対応する'''べきです'''。]]
という規定が削除されました。
-- 以前から他の部分で[Q[対応しなければ'''なりません'''。]]
と規定されていました。
-- 正誤表への追加日が2004年になっています。
(そのうち修正されるでしょう。)
- E16 [編集上] <http://www.w3.org/XML/xml-V11-1e-errata#E16>
(2005年1月9日)
-- XML 文書が[[妥当]]たりうることの言い回しが改められました。
-- XML 1.0 第3版の訂正 E09 と同じ内容です。
-- 正誤表への追加日が2004年になっています。
(そのうち修正されるでしょう。)
--- いつの間にか修正されています @ 2005年11月
- E17 [編集上] <http://www.w3.org/XML/xml-V11-1e-errata#E17>
(2005年11月2日)
-- [[妥当性制約]][Q[実体が宣言されていること]]における条件の中で、
[Q[[[外部引数実体]]]]が[Q[[[外部引数実体''参照'']]]]に改められました。
-- XML 1.0 第3版の訂正 E10 と同じ内容です。
- E18 [編集上] <http://www.w3.org/XML/xml-V11-1e-errata#E18>
(2005年11月2日)
-- [[タブ]]と[[改行]]を''除く'' [[C0]] 
[[制御文字]]が''非推奨''な[[符号位置]]の一覧に付け加えられました。
-- [[XML 1.0]] では使えず、 [[XML 1.1]] 
で新たに[[文字参照]]としてに限って使えるようになった[[文字]]ですが、
使えるようにしたと言っても推奨できるものではないからだそうです。
-- [Q[本質的]]とは言えないまでも[Q[編集上]]の変更じゃないと思うがどうよ。
- E19 [編集上] <http://www.w3.org/XML/xml-V11-1e-errata#E19>
(2005年12月7日)
-- [Q[意味]]が[Q[応用での意味]]に修正されました。
[Q[字句化型はそれぞれ字句的・意味的に制約されます]]が[Q[字句化型は更に制約されます]]に修正されました。
-- 2つの[Q[意味]]の意味の違いを明確にするための訂正だそうです。
-- XML 1.0 第3版の訂正 E11 と同じ内容です。
- E20 [本質的] <http://www.w3.org/XML/xml-V11-1e-errata#E20>
(2006年4月25日)
-- [CODE@en[[[DefaultDecl]]]] に[[整形式制約]][[外部実体参照なし]]が追加されました。
-- [[属性指定]]ではこの[[整形式制約]]が参照されているのに、
こちらの[[属性定義]]の方では参照されていませんでした。
-- [[XML 1.0]] 第3版の訂正 E12 と同じ内容です。
- E21 [本質的] <http://www.w3.org/XML/xml-V11-1e-errata#E21>
(2006年4月25日)
-- [[妥当性制約]][[実体が宣言されていること]]の条件で[Q[[[外部引数実体]]]]とあったところが、[Q[[[引数実体]]]]と修正されました。
-- [[妥当性]]を[[検証]]しない[[処理器]]は[[内部引数実体]]も[[処理]]しないので、
こう規定しておくべきでした。
-- [[XML 1.0]] 第3版の訂正 E13 と同じ内容です。
- E22 [本質的] <http://www.w3.org/XML/xml-V11-1e-errata#E22>
(2006年8月9日)
-- [[RFC 2396]] と [[RFC 2732]] への参照が削除され、
代わりに [[RFC 2732]] への参照になりました。
-- [[XML 1.0]] 第3版の訂正 E14 と同じ内容です。

**** XML 1.1 は使われるのか

[198] XML 1.1 で嬉しい人は余りいないので XML 1.1
は使われないという意見があります。

特に、文字の正規化は面倒なだけなので誰も実装しないという意見があります。
実際、現在 W3C の XML 1.1 実装報告の頁に載っている実装は、
Duerest の charlint を呼び出すことができるものが1種類あるだけで、
他は正規化は実装していない模様です。

[199] 文字正規化以外の XML 1.1 の機能は XML 1.0
と然程違いがないので、実装は徐々に 1.1 に対応していくでしょうが、
文書の方はどうでしょう。 XML 1.1 仕様書も、
必要がない限り XML 1.0 を使えと言っていますしねぇ。

なんだかんだいっても少しずつ使われるようになっていくような気もしますけど、
普及して来た頃に今度は XML 1.2 が出たりして:)

[200] [CITE@ja[「忘れられた XML1.1」@水無月ばけらのえび日記]] ([CODE[2007-06-29 15:36:42 +09:00]] 版) <http://bakera.jp/ebi/topic/2929>
[TIME[2007-06-29 12:58:23 +00:00]]


[220] [CITE@en[233154 – Add support for XML 1.1]]
( ([TIME[2013-11-10 02:02:59 +09:00]] 版))
<https://bugzilla.mozilla.org/show_bug.cgi?id=233154>

[221] [[Firefox]] も [[Chrome]] も [[XML 1.1]] を実装していません。 [TIME[2013-11-10T02:36:58.100Z]]

**** 架空の XML 1.1

[277] [[XML 1.1]] ではないものが [[XML 1.1]] といわれることが稀にあります。
[SEE[ [[ボヘミアンと貴族の階級闘争]] ]]


** 知的財産権に関して

- [4] ''XML'' は機械部品系で[[登録商標]] (登録3334400) の他、出版系の会社?が登録申請中です (商願2001-090297)。後者は謎のロゴを含めた登録で、 [[W3C]] XML に関係する書籍のロゴでないかと思われます。

[27]
[CITE[XMLの利用料金を支払え--特許権を主張する企業 - ZDNet Japan]] <http://japan.zdnet.com/news/ir/story/0,2000054251,20089449,00.htm>
[TIME[2005-11-09 12:55:37 +00:00]]

** XML 1.0 第4版と XML 1.1 第2版

[REFS[
- [140] [CITE[Extensible Markup Language (XML) 1.0 (Fourth Edition)]] <http://www.w3.org/TR/2006/REC-xml-20060816/>
- [231] [CITE[Extensible Markup Language (XML) 1.1 (Second Edition)]] 
<http://www.w3.org/TR/2006/REC-xml11-20060816/>
]REFS]

*** XML 1.0 第3版から PER への変更点

[REFS[
- [141] [CITE[Extensible Markup Language (XML) 1.0 (Fourth Edition)]] <http://www.w3.org/TR/2006/PER-xml-20060614/>
[TIME[2006-06-14 23:06:49 +00:00]]
]REFS]

- [142] [[XML 1.0]] 第3版に対する[[正誤表]] ([[XML 1.0//TE]] 参照。)
を反映。
- [143] [[RFC 2119]] [[助動詞]]の見直し
-- 一部の [Q@en['''[[MUST]]''']] の削除、一部の 
[Q@en['''[[MAY]]''']] の[[小文字]]化など。
- [144] 追加 <http://www.w3.org/TR/2006/PER-xml-20060614/#sec-prolog-dtd>:
-- [Q[版番号 [CODE(XML)[1.0]] はこの仕様のこの版への[[適合]]を示すために使うべきです。この仕様のこの版に[[適合]]しないのに値 [CODE(XML)[1.0]] を使うのは[[誤り]]です。この仕様の将来の版には [CODE(XML)[1.0]] 以外の番号を与えるのが [[XML]] [[作業部会]]の意図ですが、この意図は [[XML]] の将来の版を製作することも、仮に製作したとして特定の番号付け方式を採用することもどちらも意図していません。将来の版があるかもしれませんから、自動的な版認識が必要ならば可能にするための手段としてこの構造を用意したいます。[[処理器]]は対応していない版として[[札付け]]された[[文書]]を[[受信]]したら、[[誤り]]を[[通知]]して構いません。]]
- [145] [[列挙属性]]の定義文を変更
<http://www.w3.org/TR/2006/PER-xml-20060614/#dt-enumerated>:
-- 旧: [Q[ [定義: [DFN[[[列挙属性]]]]は、[[宣言]]中に示された[[値]]の[[並び]]の一つを取らなければ'''なりません'''。] [[列挙型]]には2種類あります。]]
-- 新: [Q[ [定義: [DFN[[[列挙属性]]]]はで認められる[[値]]の[[並び]]を[[宣言]]内に持ちます。] [[列挙属性]]はそれらの[[値]]の一つを取らなければ'''なりません'''。[[列挙属性型]]には2種類あります。]]
- [146] [[条件区間]]の[[状態]]に関する説明の修正
<http://www.w3.org/TR/2006/PER-xml-20060614/#sec-condition-sect>:
-- [Q[[[DTD]] の一部と考えられなければ'''ならない''']]
→ [Q[[[DTD]] の一部として[[処理]]されなければ'''ならない''']]
-- [Q[[[論理的]]には [[DTD]] の一部ではないと考えられなければ'''ならない''']]
→ [Q[[[DTD]] の一部として[[処理]]しては'''ならない''']]
- [147] [[WG]] の中の人の一覧の更新
<http://www.w3.org/TR/2006/PER-xml-20060614/#sec-xml-wg>
- [148] [[XMLspec]] の版情報の更新
<http://www.w3.org/TR/2006/PER-xml-20060614/#prod-notes>

*** XML 1.1 第1版から PER への変更点

[233] [CITE[Extensible Markup Language (XML) 1.1 (Second Edition)]] <http://www.w3.org/TR/2006/PER-xml11-20060614/>
([[名無しさん]] [WEAK[2006-06-14 23:07:45 +00:00]])

[234] [[XML 1.0]] 第4版 [[PER]] における変更点とほぼ同じです。

ただし、版番号に関する追記は行われて''いません''。

*** XML 1.0 第4版 PER から第4版勧告への変更点

[REFS[
- [149] [CITE[Extensible Markup Language (XML) 1.0 (Fourth Edition)]] 
<http://www.w3.org/TR/2006/REC-xml-20060816/>
]REFS]

[150] diff 版を流し読みした限りでは、
[[4e]] [[PER]] の後 [[3e]] [[正誤表]]で修正された、
[[URI]] の仕様が [[RFC 3986]] になった件以外は
[[PER]] と同じにみえます。

*** XML 1.1 第2版 PER から第2版勧告への変更点

[235] [CITE[Extensible Markup Language (XML) 1.1 (Second Edition)]] 
<http://www.w3.org/TR/2006/REC-xml11-20060816/>

*** その場編集

[FIG(quote)[
[FIGCAPTION[
[151] [CITE[Extensible Markup Language (XML) 1.0 (Fourth Edition)]] <http://www.w3.org/TR/2006/REC-xml-20060816/>
]FIGCAPTION]

>On 29 September 2006 this document was edited in place to remove a number of spurious and potentially misleading spaces.
]FIG]

[FIG(quote)[
[FIGCAPTION[
[236] [CITE[Extensible Markup Language (XML) 1.1 (Second Edition)]] <http://www.w3.org/TR/2006/REC-xml11-20060816/>
]FIGCAPTION]

>On 29 September 2006 this document was edited in place to remove a number of spurious and potentially misleading spaces.
]FIG]



** XML 10

[38]
[CITE[Slashdot | Celebrate the XML Decade]] ([CODE[2007-03-19 08:18:01 +09:00]] 版) <http://it.slashdot.org/article.pl?sid=06/11/17/002223&from=rss>

[39]
[CITE@en[Microsoft XML Team's WebLog : People are reflecting on XML after 10 years]] ([CODE[2007-03-19 08:18:09 +09:00]] 版) <http://blogs.msdn.com/xmlteam/archive/2006/11/19/people-are-reflecting-on-xml-after-10-years.aspx>

[40]
[CITE[XML 10 @ W3C]] ([CODE[2008-02-13 09:21:39 +09:00]] 版) <http://www.w3.org/2008/xml10/>

**

[44] [CITE[Back to XML - 檜山正幸のキマイラ飼育記]] ([TIME[2008-12-17 07:51:42 +09:00]] 版) <http://d.hatena.ne.jp/m-hiyama/20081216/1229410746>

[46] 
[CITE@ja[yohei-y:weblog: 半構造データ、あるいは Web 上のデータ]] ([TIME[2009-01-18 22:12:16 +09:00]] 版) <http://yohei-y.blogspot.com/2008/12/web.html>

** 第5版

[152] [[XML 1.0]] の第5版は、 [[XML 1.0]] の5回目の [[W3C勧告]]です。

[153] [[XML 1.0]] の歴史上最も大きな変更が行われ、 [[XML 1.1]] における変更の多くが
[[backport]] されました。

[FIG(corollary)[
[154] [[XML 1.0]] 第4版以前に適合する[[XML文書]]は、 [[XML 1.0]]
第5版にも適合し、処理できる[[文書]]です。逆に [[XML 1.0]] 第5版に適合する
[[XML文書]]は、必ずしも [[XML 1.0]] 第4版以前に適合しませんし、
正しく処理できるとは限りません。
]FIG]

*** 勧告案

[155] [CITE@EN[Extensible Markup Language (XML) 1.0 (Fifth Edition)]] ([CODE[2008-02-05 21:53:42 +09:00]] 版) <http://www.w3.org/TR/2008/PER-xml-20080205/>

[156] >>155 4e Errata への追加を見逃していたけど、
[[XML 1.1]] は死んだんだ。

でも >>155 はよくも平気で
[Q@en[This fifth edition is not a new version of XML.]]
なんていう嘘をいっていられるなw

;; [Q@en[version]] が未定義語だからなんでもありかw

[157] [CITE@en[FW: XML 1.0 Fifth Edition is a W3C Proposed Edited Recommendation 	(Call for Review)]] ([[Grosso, Paul]] 著, [CODE[2008-02-07 00:43:52 +09:00]] 版) <http://lists.w3.org/Archives/Public/public-xml-core-wg/2008Feb/0007.html>

[158] [CITE[Background to Changes in XML 1.0 5th Edition]] ([TIME[2008-02-07 22:55:06 +09:00]] 版) <http://www.w3.org/XML/2008/02/xml10_5th_edition_background.html>

*** 勧告

[159] [CITE@EN[Extensible Markup Language (XML) 1.0 (Fifth Edition)]] ([TIME[2008-11-21 21:41:46 +09:00]] 版) <http://www.w3.org/TR/2008/REC-xml-20081126/>

[160] [[PER]] からは、「[[名前]]」の定義周りの整合性のための文面の修正と附属書 J
に「名前は [[NFC]] がよい」というのの追加だけが実際上の変更点のようです。

*** 正誤表

[REFS[
- [161] [CITE@en[Errata in REC-xml-20081126]] ([TIME[2008-11-21 20:27:39 +09:00]] 版) <http://www.w3.org/XML/xml-V10-5e-errata>
]REFS]

[162] E01 (2009-09-16) は、[[構文解析対象実体]]は[[完全正規化形]]たる[['''べき''']]であり、
[[XML処理器]]はこれを検査してその結果を[[応用]]に報告して[['''構わない''']]という規定を追加しています。

;; [163] [[XML 1.1]] から [[backport]] されてきた規定です。なぜか [[Note]] として追加されており、
そのためか編集上の変更に分類されていますが、[['''SHOULD''']] 要件になっています。

[164] S01 (2013-01-09) は、[[XMLで始まる名前]]に関する規定を改めています。
「[CODE[[[xml]]]]」で始まる[[名前]]一般の予約は削除され、
[[処理指令]]の[[対象名]]は [CODE[[[xml-]]]] ([[小文字]]) で始まるもののみ、
[[要素名]]と[[属性名]]については [CODE[[[xml:]]]] ([[小文字]]) で始まるもののみ予約することになっています。

;; [165] これによって「[CODE[[[xmlns]]]]」[[属性]]や「[CODE[[[xmlns:]]]]」で始まる[[属性]]が予約から外れてしまっていますがそれでいいのでしょうか・・・。

*** 実装

[170] [[Firefox]] も [[Chrome]] も [[XML 1.0 5e]] を実装していません。 [TIME[2013-11-10T02:37:25.900Z]]

[166] [CITE[501837 – Liberalize XML Names to reflect latest XML 1.0 edition (5th)]]
( ([TIME[2013-01-14 17:11:50 +09:00]] 版))
<https://bugzilla.mozilla.org/show_bug.cgi?id=501837>

[167] [CITE[James Clark's Random Thoughts: XML 1.0 5th edition]]
( ([TIME[2012-11-26 05:38:37 +09:00]] 版))
<http://blog.jclark.com/2008/10/xml-10-5th-edition.html>

[168] [CITE@en[501837 – Liberalize XML Names to reflect latest XML 1.0 edition (5th)]]
( ([TIME[2013-11-10 01:56:07 +09:00]] 版))
<https://bugzilla.mozilla.org/show_bug.cgi?id=501837>

[169] [CITE@en[233154 – Add support for XML 1.1]]
( ([TIME[2013-11-10 02:03:08 +09:00]] 版))
<https://bugzilla.mozilla.org/show_bug.cgi?id=233154#c19>

[173] [CITE@en[Bug 24271 – Document.createElement name validation inconsistent with HTML parse rules]]
( ([TIME[2014-01-15 08:54:47 +09:00]] 版))
<https://www.w3.org/Bugs/Public/show_bug.cgi?id=24271>

[171] [CITE@en[501837 – Liberalize XML Names to reflect latest XML 1.0 edition (5th)]]
( ([TIME[2014-01-15 08:57:02 +09:00]] 版))
<https://bugzilla.mozilla.org/show_bug.cgi?id=501837>

[172] [CITE@en[501837 - Liberalize XML Names and VersionNum to reflect latest XML 1.0 edition (5th)]]
([TIME[2017-05-20 00:49:33 +09:00]])
<https://bugzilla.mozilla.org/show_bug.cgi?id=501837>




**

- [1] ''ToyFish.Net'' <http://www2.airnet.ne.jp/sardine/index.html>
- [2] ''TR List/J_Tpc'' <http://www.y-adagio.com/public/standards/std_lst_jtp.htm>
- [3] ''どら猫本舗のリファレンスカウンター'' <http://www.doraneko.org/>
- [8] XML 氏んじゃの一部の人達って [[SGML]] 的構文 ([[DTD]] とか。) を毛嫌いしている嫌いがありますけど、たしかに XML の実装を作ってみるとわかります。 XML では文書インスタンスは[[完全タグ付き]]だから随分簡単に実装できちゃうんですけど、[[マーク宣言]]や[[マーク区間]]はそれが通用しない茨の道というか。
- [9] SGML から XML にしたときに文書インスタンス本体は完全タグ付きで単純にしたのに、 DTD は SGML 構文で取り残された形だから、 SGML ではどっちも似たようなものだったのに、 XML ではやけに複雑なきがしてしまうんだよね、 DTD とかが。
- [10] もうこうなってしまうと、マーク宣言もマーク区間も、 SGML 的な (XML からみたら) 「特殊」な構文を使うのではなく、 (XML からみたら) 一般的な[[タグ]]の構文にしちまえ、 [[XML名前空間]]だってあるんだしさ〜、という気持ちになってくる。
- [12] ''To XML from HTML'' <http://www.y-adagio.com/public/confs/sgml_xml/dd99/procdg.htm>: [[SGML]] 側からみた [[XML]], というか [[ISO/IEC]] や [[JIS]] の動向。
- [13] ''XMLの現状'' <http://www.y-adagio.com/public/confs/sgml_xml/cif99/s0_0.htm>

[18]
[CITE[How to validate XML]] <http://www.flightlab.com/~joe/sgml/validate.html>

[20]
[CITE[ASN.1 Site - XML]] <http://asn1.elibel.tm.fr/xml/>
([[名無しさん]])

[21]
[CITE[JavaWorld Online - XMLボキャブラリのアンチ・パターン 第1回 アンチ・パターン抽出のねらいとその記述形式]] <http://www.javaworld.jp/xml/-/10904.html>

[[檜山正幸]]氏の雑誌記事 (2004年6月)。

([[名無しさん]])

[22]
>>21 [[Stricter]] 系過激派批判わろたw
([[名無しさん]])

[23]
[CITE[Collection & Copy - JavaScript、マークアップビルダ、存在しないメソッド]] <http://d.hatena.ne.jp/brazil/20050905/1125896604>
([[名無しさん]])

[24]
[CITE[Collection & Copy - ノードツリー作成、まとめ]] <http://d.hatena.ne.jp/brazil/20050906/1125984538>

[31]
[CITE[A Handy Line-breaking Algorithm for XML (esp XHTML)]] <http://www.w3.org/2000/08/lb2/>
([[名無しさん]])

[32]
>>31 [[処理指令]]の [CODE(SGML)@en[[[pic]]]] 直前に[[改行]]を入れてしまうのはやばいような。
([[名無しさん]])

[33]
[CITE[Draft DD-1996-0001 - Design Principles for XML]] <http://www.textuality.com/sgml-erb/dd-1996-0001.html>
([[名無しさん]])

[34]
[CITE[Microsoft XML Team's WebLog : People are reflecting on XML after 10 years]] <http://blogs.msdn.com/xmlteam/archive/2006/11/19/people-are-reflecting-on-xml-after-10-years.aspx>
([[名無しさん]] [WEAK[2006-11-20 11:30:10 +00:00]])

[35]
[CITE[Bug 18333 &#8211; XML Content Sink should be incremental]] ([CODE[2007-02-10 13:01:14 +09:00]] 版) <https://bugzilla.mozilla.org/show_bug.cgi?id=18333>
([[名無しさん]] [WEAK[2007-02-10 04:10:14 +00:00]])

[36]
[CITE[ongoing &#183; XML Automaton]] ([CODE[2006-04-24 00:25:56 +09:00]] 版) <http://www.tbray.org/ongoing/When/200x/2006/04/18/XML-Grammar>
([[名無しさん]])

[37]
[CITE[XML in XML - O'Reilly XML Blog]] ([[Rick Jelliffe]] 著, [CODE[2007-03-08 21:09:24 +09:00]] 版) <http://www.oreillynet.com/xml/blog/2006/04/xml_in_xml.html>

[41]
[CITE[Brady's Blog: Horrifically bad technology]] ([TIME[2008-10-10 04:55:49 +09:00]] 版) <http://uberbrady.blogspot.com/2008/10/horrifically-bad-technology.html>

[45] [CITE@en[Accessibility/Handlers/References/SMLs - The Linux Foundation]] ([[Linux Foundation]] 著, [TIME[2009-01-19 12:22:28 +09:00]] 版) <http://www.linuxfoundation.org/en/Accessibility/Handlers/References/SMLs>



[57] [CITE[Re: '''['''hybi''']''' Is there a traffic jam?]]
([TIME[2009-04-14 09:10:02 +09:00]] 版)
<http://www.ietf.org/mail-archive/web/hybi/current/msg00136.html>

[60] [CITE[James Clark's Random Thoughts: XML vs the Web]]
( ([TIME[2010-12-09 00:46:42 +09:00]] 版))
<http://blog.jclark.com/2010/11/xml-vs-web_24.html>

[61] [CITE@ja[RSSとトラックバック]] ([TIME[2009-03-01 01:07:57 +09:00]] 版) <http://www.kanzaki.com/docs/sw/rss-trackback.html#mode-rss>

>いくつかのMovableTypeのウェブログで試してみたところ、少なくともMTでは?__mode=rssは実装されているような感じでした(ただし、たまに整形式XMLになっていない)。



[62] [CITE@en-US[Efficient XML Interchange (EXI) Format 1.0]]
( ([TIME[2011-03-10 23:00:15 +09:00]] 版))
<http://www.w3.org/TR/2011/REC-exi-20110310/#fidelityOptions>

[63] [CITE@en[XML processor profiles]]
( ([TIME[2012-01-21 07:31:30 +09:00]] 版))
<http://www.w3.org/TR/2012/WD-xml-proc-profiles-20120124/>

[64] [CITE@en[The Lynx's Den: Coding Experiments]]
( ([[John-David Kraaikamp]] 著, [TIME[2012-04-22 18:02:26 +09:00]] 版))
<http://www.mrinitialman.com/coding_experiments.php#ElementML>

[65] [CITE@en[Web Applications 1.0 r7525     Allow XML documents to be rendered as DOM trees if they're not being used by a script or something.]]
( ([TIME[2012-11-23 07:44:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=7524&to=7525>

[66] [CITE[Intent to Implement - TTML - Google グループ]]
( ([TIME[2013-11-26 19:58:56 +09:00]] 版))
<https://groups.google.com/a/chromium.org/forum/#!topic/blink-dev/vXuOTK5M0hM>

[67] [CITE@en[XML processor profiles]]
( ([TIME[2014-02-06 08:45:58 +09:00]] 版))
<http://www.w3.org/TR/2014/NOTE-xml-proc-profiles-20140206/>

[68] [CITE@EN[XPath and XQuery Functions and Operators 3.0]]
( ([TIME[2014-04-08 07:02:07 +09:00]] 版))
<http://www.w3.org/TR/xpath-functions-3/#func-parse-xml-fragment>

[76] [CITE[Z39.50 Proposal for oids for xml 1.0 and 1.1]]
([TIME[2005-10-11 22:54:51 +09:00]] 版)
<http://www.loc.gov/z3950/agency/proposals/xmloid.html>

[83] [CITE[The XML data model]]
([TIME[2005-08-17 18:27:38 +09:00]] 版)
<http://www.w3.org/XML/Datamodel.html>

[FIG(quote)[
[FIGCAPTION[
[84] [CITE[Simple XML Subset Parser: GLib Reference Manual]]
([TIME[2015-11-13 01:45:37 +09:00]] 版)
<https://developer.gnome.org/glib/stable/glib-Simple-XML-Subset-Parser.html>
]FIGCAPTION]

> Simplifications to XML include:
> Only UTF-8 encoding is allowed
> No user-defined entities
> Processing instructions, comments and the doctype declaration are "passed through" but are not interpreted in any way
> No DTD or validation
> The markup format does support:
> Elements
> Attributes
> 5 standard entities: & < > " '
> Character references
> Sections marked as CDATA

]FIG]

[85] [CITE[Reports from the SGML ERB to the SGML WG and from the XML WG to the XML SIG]]
([TIME[2000-06-26 22:49:51 +09:00]] 版)
<http://www.w3.org/XML/9712-reports.html>

[86] [CITE[Draft DD-1996-0001 - Design Principles for XML]]
([TIME[2010-03-28 07:46:40 +09:00]] 版)
<http://www.textuality.com/sgml-erb/dd-1996-0001.html>

[FIG(quote)[
[FIGCAPTION[
[93] [CITE@en[RFC 4992 - XML Pipelining with Chunks for the Internet Registry Information Service]]
([TIME[2016-07-03 20:10:15 +09:00]])
<https://tools.ietf.org/html/rfc4992>
]FIGCAPTION]

> This transfer protocol defines simple framing for sending XML in
>    chunks so that XML fragments may be acted upon (or pipelined) before
>    the reception of the entire XML instance.  This document calls this
>    XML pipelining with chunks (XPC) and its use with IRIS as IRIS-XPC.

]FIG]

** 剥がれていくメッキ

[259] 
[[Ajax]] 
の
「x」
は
[[XMLHttpRequest]]
で
[[XML文書]]が主役に抜擢されていたはずなのに、
いつの間にか
[[XHR]]
は
[[JSON]]
を動的に読み込むツールになっていました。

[261] 
[[XML]]
は
[[RDF/XML]]
の需要に応えるために複雑な
[[XML名前空間]]を採用したにも関わらず、
[[Semantic Web]]
コミュニティーはいつの間にか
[[RDF/XML]]
を見放して、
読み書きしやすい
[[N3]]
の一族へと移っていきました。


[260] [CITE@ja[XMLの屍を超えていく――セマンティックウェブの挑戦 | 指向性メモ - [[技術]]]], 
2006年8月18日,
[TIME[2022-06-11T03:38:26.000Z]], [TIME[2022-06-13T05:23:35.556Z]] <https://yudai.arielworks.com/memo/2006/08/18/113530>




** 閉鎖

[FIG(quote)[
[FIGCAPTION[
[94] [CITE@en[ending work]]
([[Liam R. E. Quin]]著, [TIME[2016-07-07 06:02:36 +09:00]])
<https://lists.w3.org/Archives/Public/public-xml-core-wg/2016Jul/0000.html>
]FIGCAPTION]

> I'll send a formal announcement but it looks like, overall, the XML
Core Working Group has done the work it was chartered to do, that "Web
SGML" (XML) was a success, and that a lack of resources in maintaining
errata and making relatively small changes is no surprise.

]FIG]

[95] [[XML]] は成功だった ([[大本営発表]])。

[130] 
この締めはどうなんかと思いますけど、でもまあ、10年くらいは [[XML]]
の時代だったわけですから、成功「だった」というのは間違いでもないかなー。
[[XML Core WG]] 時代は成功「だった」後のずるずる時代のような気もするが。

[96] [CITE@en[Refer to XML rather than XHTML syntax]]
([[sideshowbarker]]著, [TIME[2016-11-25 19:20:23 +09:00]])
<https://github.com/whatwg/html/commit/643d1bce74435ec5e7980245e3ab2669b2bc985b>

[FIG(quote)[
[FIGCAPTION[
[100] [CITE@en[RFC 8153 - Digital Preservation Considerations for the RFC Series]]
([TIME[2017-04-20 11:16:35 +09:00]])
<https://tools.ietf.org/html/rfc8153>
]FIGCAPTION]

>    Consider a future where XML has been obsoleted for half a century,
HTML5 was a format used three to four human generations ago, and PDF/
A-3 is no longer supported by any existing company's reading
software.

]FIG]

[102] 将来を予測するのは難しい。 [[HTML5]] はこの [[RFC]] の出版の時点で既に過去のものとなって数年経過しているのだけれども、
その後継の [[HTML]] と読み替えよう。 [[PDF/A-3]] も、それを引き継ぐ [[PDF]] と読もう。
この [[RFC]] の[[著者]]の仮定する将来は、

= [[XML]] が廃止されて半世紀
= [[HTML]] を使っていた人々から3・4世代先の子孫の時代
= [[PDF]] の商用実装は存在していない時代

の3つの条件が満たされる時代。果たしてそんな時代は来るのか。

[[HTML]] も [[PDF]] も、現在世界中でかなり使われていて、
その地位は揺るぎそうにない。それでもいつかは代わりの何かが登場するか、
世界が大きく変わって、使われなくなるだろうか。 
[[HTML]] と [[PDF]] のどちらかが使われなくなるほど現代と前提が変化した世界なら、
他方が使われなくなっていても不思議はない。

一方 [[XML]] は既に瀕死状態。既に採用してしまった分野では今後も使われ続けるかもしれないが、
新たに採用する分野が増えるかどうかは大変疑わしい。既に採用しているが脱却しようとしている分野
(例えば [[Web]]) もある。どの時点が「廃止」なのか (手続き上の廃止なのか、
利用実態としての廃止なのか、誰がどう判断するのか) にもよるのかもしれないが、
現代からそう遠くない将来に起こりそうだ。

その [[XML]] の廃止の方が [[HTML]] や [[PDF]] の衰退よりもこの[[著者]]の仮定する将来からみて近い時代 (現代から遠い時代) に起こるなんてことがあるのだろうか。
[[HTML]] と [[PDF]] が使われなくなるほど現代と前提が違う世界なのだから、
[[XML]] が復活して大流行というのもあり得るのだろうか。

[103] [CITE@en[Update: SGML WG to XML IG transition]]
([[Jon Bosak]]著, [TIME[1997-06-23 13:43:31 +09:00]])
<https://lists.w3.org/Archives/Public/w3c-sgml-wg/1997Jun/0462.html>

[104] [CITE@en[ERB votes on error handling]]
([[Tim Bray]]著, [TIME[1997-05-08 03:32:50 +09:00]])
<https://lists.w3.org/Archives/Public/w3c-sgml-wg/1997May/0079.html>

[105] [CITE@en[Final words, I think, on error handling]]
([[Tim Bray]]著, [TIME[1997-05-07 09:53:00 +09:00]])
<https://lists.w3.org/Archives/Public/w3c-sgml-wg/1997May/0063.html>

[106] [CITE@en[Error handling in XML]]
([[Tim Bray]]著, [TIME[1997-04-19 14:35:26 +09:00]])
<https://lists.w3.org/Archives/Public/w3c-sgml-wg/1997Apr/0164.html>

[107] [CITE[Extensible Markup Language (XML): Part 1. Syntax]]
([TIME[2017-03-10 07:16:57 +09:00]])
<http://www.textuality.com/sgml-erb/WD-xml-lang.html>

[108] [CITE@en[Netscape now represented in the XML process]]
([[Tim Bray]]著, [TIME[1997-06-03 22:15:08 +09:00]])
<https://lists.w3.org/Archives/Public/w3c-sgml-wg/1997Jun/0019.html>

[109] [CITE[Draft DD-1996-0001 - Design Principles for XML]]
([TIME[2010-03-28 07:46:40 +09:00]])
<http://www.textuality.com/sgml-erb/dd-1996-0001.html>

[110] [CITE[Features of ISO 8879 for Use in W3C SGML Editorial Review Board Discussions]]
([TIME[2010-03-28 07:46:40 +09:00]])
<http://www.textuality.com/sgml-erb/dd-1996-0002.html>

[111] [CITE[Extensible Markup Language (XML)]]
([TIME[2010-03-28 07:46:40 +09:00]])
<http://www.textuality.com/sgml-erb/WD-xml.html>

[112] [CITE[Reports from the SGML ERB to the SGML WG and from the XML WG to the XML SIG]]
([TIME[2000-06-26 22:49:51 +09:00]])
<https://www.w3.org/XML/9712-reports.html>

[113] [CITE@en[ongoing by Tim Bray · JSON and XML]]
([TIME[2006-12-22 05:54:46 +09:00]])
<http://www.tbray.org/ongoing/When/200x/2006/12/21/JSON>

[59] 
[CITE[XML.com: The Annotated XML Specification]] ([[C.M. Sperberg-McQueen, Jean Paoli, Tim Bray]] 著, [TIME[2007-03-11 04:50:44 +09:00]] 版) <http://www.xml.com/pub/a/axml/axmlintro.html>


[FIG(quote)[
[FIGCAPTION[
[117] [CITE[XML.com]]
([[C.M. Sperberg-McQueen, Jean Paoli, Tim Bray]] 著, [TIME[2015-12-24 22:48:45 +09:00]] 版)
<http://www.xml.com/pub/a/axml/axmlintro.html>
]FIGCAPTION]

> Tim created the Annotated XML Specification in XML, and wrote an excellent explanation of how he did this.

]FIG]

[114] 
[CITE@en-US[XML Core Working Group]]
( ([TIME[2013-07-23 16:38:09 +09:00]] 版))
<http://www.w3.org/XML/2013/xml-core-charter.html>

[115] 
[CITE@en[RFC 4918 - HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)]]
( ([TIME[2014-09-21 17:04:59 +09:00]] 版))
<http://tools.ietf.org/html/rfc4918#section-8.2>

[FIG(quote)[
[FIGCAPTION[
[116] [CITE@en-US[XML Core Working Group]]
([TIME[2015-05-21 07:08:20 +09:00]] 版)
<http://www.w3.org/XML/2015/05/xml-core-charter.html>
]FIGCAPTION]

> XML 1.0 6th Edition					June 2016	October 2016

]FIG]


[121] [CITE[Extensible Markup Language (XML)]]
([TIME[1996-12-09 11:49:58 +09:00]])
<https://www.w3.org/TR/WD-xml-961114>

[122] [CITE[Extensible Markup Language Version 1.0 Part I: Syntax]]
([TIME[2000-09-09 01:13:50 +09:00]])
<https://www.w3.org/TR/WD-xml-lang-970331>

[123] [CITE[Extensible Markup Language (XML): Part 1. Syntax]]
([TIME[1997-07-04 06:54:01 +09:00]])
<https://www.w3.org/TR/WD-xml-lang-970630>

[124] [CITE[Extensible Markup Language (XML)]]
([TIME[2000-03-13 23:38:36 +09:00]])
<https://www.w3.org/TR/WD-xml-970807>

[125] [CITE[Extensible Markup Language (XML)]]
([TIME[1997-11-25 01:59:54 +09:00]])
<https://www.w3.org/TR/WD-xml-971117>

[126] [CITE[Extensible Markup Language (XML)]]
([TIME[2000-09-09 01:13:50 +09:00]])
<https://www.w3.org/TR/PR-xml-971208>

[127] [CITE[Extensible Markup Language (XML) 1.0]]
([TIME[2014-02-19 08:04:11 +09:00]])
<https://www.w3.org/TR/1998/REC-xml-19980210>

[128] [CITE@en[Extensible Markup Language (XML) 1.0 (Second Edition)]]
([TIME[2000-08-15 07:33:38 +09:00]])
<https://www.w3.org/TR/2000/WD-xml-2e-20000814>

[129] [CITE@EN[Extensible Markup Language (XML) 1.0 (Second Edition)]]
([TIME[2007-10-12 05:41:47 +09:00]])
<https://www.w3.org/TR/2000/REC-xml-20001006>

[FIG(quote)[
[FIGCAPTION[
[131] [CITE[Intent to Implement - TTML - Google グループ]]
([TIME[2017-06-29 19:48:38 +09:00]])
<https://groups.google.com/a/chromium.org/d/msg/blink-dev/vXuOTK5M0hM/NqNoc75QFmcJ>
]FIGCAPTION]

> Generally speaking, we're not eager to take more dependencies on XML and are looking to remove our existing XML dependencies.  Obviously, removing XML support from Blink is a long term project and one we might never finish completely, but a feature that adds more XML dependencies is going to meet with some resistance.

]FIG]


[237] [CITE[The XML data model]]
([TIME[2005-08-17 18:27:38 +09:00]])
<https://www.w3.org/XML/Datamodel.html>

[238] [CITE@en[XML is 20]]
(February 10, 2018  Tim Bray [TIME[2018-02-12 15:37:44 +09:00]])
<https://www.xml.com/articles/2018/02/10/xml-20/>

[FIG(quote)[
[FIGCAPTION[
[239] [CITE@en-US[XML Summer School – Professional XML training]]
([TIME[2018-03-03 19:49:54 +09:00]])
<http://xmlsummerschool.com/>
]FIGCAPTION]

> The XML Summer School is a unique event for everyone using, designing, or implementing solutions using XML and related technologies, held in Oxford, UK. The week-long event is made up of courses which range from the basics of XML to advanced topics in linked data, web design, and publishing. Faculty tutors include practitioners and academics who are at the forefront of XML and related technologies.

]FIG]


[FIG(quote)[
[FIGCAPTION[
[240] [CITE@en[Semantic Interpretation for Speech Recognition (SISR) Version 1.0]]
([TIME[2017-10-02 19:33:39 +09:00]])
<https://www.w3.org/TR/semantic-interpretation/#SI7>
]FIGCAPTION]

> If returning XML results, the following serialization rules must be used to generate an XML fragment from the Semantic Interpretation process.

]FIG]



[FIG(quote)[
[FIGCAPTION[
[250] [CITE[XEP-0295: JSON Encodings for XMPP]]
([TIME[2019-05-16 02:22:54 +09:00]])
<https://xmpp.org/extensions/xep-0295.html>
]FIGCAPTION]

> NOTICE: This document is Humorous. It MAY provide amusement but SHOULD NOT be taken seriously.
> [SNIP[]]
> It has long been known that XML is an outdated, failed format for interchangeable data serialization. 

]FIG]


[251] ([TIME[2009-10-22T02:20:52.000Z]], [TIME[2020-10-29T05:27:54.420Z]])
<https://www.nmda.or.jp/kanmin/1kai/6-5.pdf>

[253] [CITE@en[RFC 3470 - Guidelines for the Use of Extensible Markup Language (XML) within IETF Protocols]], [TIME[2021-04-11T07:58:17.000Z]], [TIME[2021-04-23T09:57:03.037Z]] <https://tools.ietf.org/html/rfc3470>

[254] [CITE[RFC Errata Report » RFC Editor]], [TIME[2021-04-23T09:57:20.000Z]] <https://www.rfc-editor.org/errata_search.php?rfc=3470>


[255] [CITE@en[XML 1.1 · Issue #6 · w3ctag/obsoletion]]
([TIME[2021-06-30T03:03:29.000Z]])
<https://github.com/w3ctag/obsoletion/issues/6>

[256] [CITE@en[Remove references to XML1.1. · Issue #1158 · w3c/ttml2]]
([TIME[2021-06-30T03:04:19.000Z]])
<https://github.com/w3c/ttml2/issues/1158>

[257] [CITE@en[Remove references to XML 1.1 (#1158). by skynavga · Pull Request #1159 · w3c/ttml2]]
([TIME[2021-06-30T03:04:32.000Z]])
<https://github.com/w3c/ttml2/pull/1159>



[252] 
[CITE@ja[digidepo_3525276_po_koukan_format_houkoku_2011_05.pdf]], [TIME[2024-04-04T09:23:27.000Z]] <https://dl.ndl.go.jp/view/prepareDownload?itemId=info%3Andljp%2Fpid%2F3525276&contentNo=1#page=31>

>
[LEFT[
XMDF は他の電子出版フォーマットと直接的な互換性はないが、コンテンツ記述が[BR[]]
XML であることから、各種 XML フォーマットからの変換が容易となっている。
]LEFT]



[262] 
>>252 ちょっと考えればそんなはずないってわかるはずなのに、この時代にはこういう意味不明なプロパガンダをあちこちで見かけましたよね。

- [278] 
[CITE@ja[Silent'H - diary]], [TIME[2024-09-22T03:29:15.000Z]], [TIME[2004-09-25T07:35:55.952Z]] <https://web.archive.org/web/20040925070526/http://www.silenth.sytes.net/diary.php?date=2004-01>
-- [279]  
[CITE@ja[ウェブの10年――1990年代のインターネット技術開発における文化、市場、標準化]],
[[細川裕樹]],
[TIME[2004-01-21][2004-01-21]]公開



[FIG(data)[ [280] [[HTML要素概説]]

:出典:
[REFS[

-
[281] 
[DFN[XML]]:
[CITE@EN[Extensible Markup Language (XML) 1.0 (Fifth Edition)]], 
[DATA(.author)[W3C]],
[TIME(.published)[7 February 2013][2013-02-07]],
[TIME[2018-10-09T13:18:59.000Z]], [TIME[2024-11-03T01:08:41.209Z]] <https://www.w3.org/TR/xml/>

]REFS]
:注釈:
-
[DFN@en[XML]]
Extensible Markup Language (拡張可能マーク付け言語)。
[[SGML]] を大幅に簡略化した[[マーク付け言語]]。
[SRC[>>281]]
[[HTML]] ブームを引き継ぐ形で[[平成時代]]中期頃には猫も杓子も [[XML]]
を使うのが良いとされた。
本来の[[マーク付け言語]]の領域を超えてあらゆる[[データ構造]]の記述と交換に使われたが、
無理を重ねた使いづらさから失速。今は限られた分野で使われている。

]FIG]
