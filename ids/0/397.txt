[4] 1990年代から2000年代初め頃にかけて、当時の [[HTML]]
仕様からはかけ離れた、特定の [[Webブラウザー]]での見た目のためだけの
[[HTML文書]]が大量に生産されました。

[7] [[英語圏]]では、これを [DFN[tag soup]] などと呼びました。

[6] [[日本]]の一部では、これを [DFN[不思議マークアップ]]などと呼びました。

* 技術

[17] 
[[HTML]] のあらゆる構文は、[[タグ]]と呼ばれていました。
「[[要素]]」という言葉はマイナーでした。
[[コメント]]も[[文字参照]]も[[属性]]も、みんな[[タグ]]でした。

[14] 
[[開始タグ]]と[[終了タグ]]が揃っていないなどの[[構文エラー]]は日常茶飯事でした。

[15] 
[[要素の意味]]は、顧みられることはありませんでした。

[EG[
[16] [CODE(HTMLe)@en[blockquote]] や [CODE(HTMLe)@en[dl]]
は、[[インデント]]の[[タグ]]として知られていました。
]EG]

[EG[
[18] [CODE(HTMLe)@en[h1]] は文字を大きくする[[タグ]]として使われていました。
]EG]

[FIG(short list)[ [5] 
- [[物理マーク付け]]
- [[テーブルレイアウト]]
- [CODE[spacer.gif]]
- [[[CODE(HTMLe)@en[div]]厨]]
- [[どこでも配置モード]]
- [[B&BR]]
]FIG]

* 構文解析への影響

[19] 
世の中に溢れる滅茶苦茶な[[HTML文書]]に対応するため、
[[Webブラウザー]]は「エラー訂正」技術を発展させていきました。
ある [[Webブラウザー]]では[[著者]]の意図通りに「エラー訂正」され、
他の [[Webブラウザー]]ではそうならないと、
その [[Webブラウザー]]は劣っていると[[利用者]]には認識されました。
1990年代には [[Webブラウザー]]の挙動は様々で、
[[著者]]も[[利用者]]も大混乱でしたが、
徐々に「エラー訂正」方法も収束していきました。

[20] 
そうして成立した[[事実上の標準]]である [[HTML構文解析器]]その他の挙動は、
公式な標準仕様には含まれていなかったため、
[[Webブラウザー]]を作るためには他の有力 
[[Webブラウザー]]の挙動を[[リバースエンジニアリング]]する必要があり、
深刻な参入障壁となっていました。

[21] 
00年代半ば頃に開発された [[HTML5]]
は、[[HTML構文解析器]]その他の詳細な挙動を初めて明文化することに成功しました。
これによって新たな [[Webブラウザー]]の開発が容易になり、
既存の [[HTML文書]]との互換性を維持しながら細かな[[相互運用性]]の向上を行ったり、
新機能を追加したりすることが可能となりました。
人知の及ばない魑魅魍魎のように思われていた「tag soup」は、
処理方法が明確に規定された、「理解された」存在に落ち着きました。

;; [[HTML5]] の歴史も参照。

* メモ

** tag soup

[8] 文書がタグに埋もれているさま。
[9] 

[Q[Tag soup]] は、しばしば、
英語で[Q[[[不思議マーク付け]]]]に対応する概念であると説明される。
しかしながら、 tag soup は[[データ]]が[[マーク]]に埋もれた本末の転倒した様子を皮肉ったものであって、
極度に[[物理マーク付け]]に走った結果スパゲッティと化した
HTML もどきを批判する[Q[不思議マーク付け]]とは、
必ずしも一致しないと考えられる。

[10] 
''EMail Msg <9212020222.AA20569@pixel.convex.com>'' <http://ksi.cpsc.ucalgary.ca/archives/WWW-TALK/www-talk-1992.messages/390.html>

[Q[Tag soup]] の最古の用例か?

[11] 
[CITE[HTMLAsSheAreSpoke - ESW Wiki]] <http://esw.w3.org/topic/HTMLAsSheAreSpoke>
([[名無しさん]] [WEAK[2006-11-03 05:16:44 +00:00]])

[12] 
[CITE@en[Tag Soup Integration]] ([[T.V Raman, Dan Connolly]] 著, [CODE[2007-03-20 04:08:57 +09:00]] 版) <http://www.w3.org/2001/tag/doc/tag-soup-integration>
([[名無しさん]] [WEAK[2007-03-28 06:41:24 +00:00]])

[13] 
[CITE@en[Tag Soup Integration]] ([[T.V Raman, Dan Connolly]] 著, [TIME[2007-03-20 04:08:57 +09:00]] 版) <http://www.w3.org/2001/tag/doc/tag-soup-integration>
([[名無しさん]] [WEAK[2007-03-28 06:41:46 +00:00]])

**

[1] HTML の動作確認, してますか?

- [44] ''ダサいホームページ作成マニュアル凝縮版'' <http://www.geocities.co.jp/Bookend-Soseki/4377/> 不思議マーク付けと''ダサいホームページ''には密接な関係がある。
- [55] CSS とかを使った変な指定も不思議マークアップに分類していいのでしょうか?
-- 実際のところそういう人達は外部スタイル・シートも知らないし、スタイル・シートは HTML
のむずかしめの表現拡張機能程度にしか思ってないでしょうから、一緒くたに不思議マーク付けとしてもいいでしょう。
-- たとえ連中が将来外部スタイル・シートを知ったとしても。
- [56] 驚くべきことに、 XML + XSLT -> 不思議マーク付け HTML なんてことをする DQN もいる。
確かに XSL-FO はまだ使い物にならんわけだが。

[78]
[CITE[Baddest HTML Lab.]] <http://www.geocities.co.jp/HeartLand-Namiki/6549/goku01.html#CONTENTS>

** 不思議マーク付けが XML 時代にも通用することの n つの傍証(w

[72] [[XML]] 系技術、例えば [[XSLT]] とか [[XMLSchema]]
とかで、[[要素]](型)のことを相変わらず[[タグ]]と言っていたりするのを見てると、
不思議マーク付けよ永遠なれ! とか思ってしまいます。

- [1] ''XHTML入門'' <http://tohoho.wakusei.ne.jp/ex/xhtml.htm>
-- [2] 内容は無茶苦茶。しかもこんな内容を2003年になってから書けること自体賞賛に値する。
-- [3] ''CSSコミュニティの功罪を懐かしむスレ 9th'' <http://pc3.2ch.net/test/read.cgi/hp/1038911361/766->
- [74] [[i-XHTML]] も仕様自体不思議で不思議で...

** 不思議マーク付けの検証

- [31] ''.note - Diary.note'' <http://www10.ocn.ne.jp/~dotnote/diary/index.html#date20030219>
-- [30] ''CSSコミュニティの功罪を懐かしむスレ 11th'' <http://pc2.2ch.net/test/read.cgi/hp/1045361055/232->
-- >>30 の 237 曰く「transitionalなマークアッパーは「見た目」に固執するので、
じゃあ、マークアップを見た目に反映させましょう、ってコンセプト」。すばらしい。
- [32] >>31 とりあえず [CODE(CSS)[*{background-color:red}]] にした上で、 W3C にある要素は OK 色にしていけばいいんじゃないかな。そうすれば独自拡張要素にも対応できる。更に、属性セレクタも使えば(ry。但し、文書型宣言に応じた判定はできないけど。 ([[XHTML]] でない [[HTML]] で使われてる [[ruby]] 要素を判定する方法はある。 CSS に [CODE(CSS)[RUBY {}]] と書けば良い。 ([[XML]] では要素名の大文字・小文字を区別しないため。))

** 不思議マーク付けは、不思議だと宣言しておけば不思議でもない。

- [33] 不思議広告への対策
-- [34] ''Geocities で valid な HTML を - マークの付けかた'' <http://www.geocities.co.jp/Hollywood-Studio/8691/>
[[和塩]]や [[isweb]] の不思議広告挿入 HTML を [[SGML]]
的に妥当にしてしまう。有名な Satoshi タンの。
-- [35] ''ad_xhtml'' <http://raccy.s1.xrea.com/xrea-memo/ad_xhtml.html>
[[XREA]] の広告は手動挿入にすれば自分でどのような要素をどう使うかが決められるそうです。ということで、実際に [[XHTML]] でつかってみたのがここ。
-- [36] [[Cool]] の自動挿入広告は、常に HTML 文書の一番最初に挿入されるため、 >>34 の方法では対策のしようがありません。あきらめましょう。
- [37] その他不思議マーク付けをせざるを得ないときは、文書の先頭に [CODE(HTML)[<!-- DTD ha nai FUSHIGI MARKUP -->]]
とでも書いておきましょう。 (もちろん [[HTML]] 的にも [[SGML]]
的にも [[XML]] 的にも意味はありません。気休め。)
- [38] >>37 間違っても、その文書が適合しない [[DTD]]
を書いてはいけません。不思議度アップを目指すなら話は別ですが。

[77]
[CITE[ad_xhtml]] <http://xrea-memo.raccy.org/ad_xhtml.xhtml>
([[名無しさん]] [WEAK[2006-11-25 05:22:04 +00:00]])

** メモ

- [47] たとえば、半角仮名を多用している ''魔法のiらんど'' <http://ip.tosp.co.jp/> にある無料サイト群は[[半角かな]]使用率が高い。半角仮名率だけじゃなくて、不思議マーク率とか、利用者の質とかも、色々なサイト群で、似たようになる傾向がなんとなくではあるけど観察できる気がします。なんか興味深いな。
- [48] >>47 Windoze 95 で半角かなの使用が盛り上がって、 Windoze 98 で盛り下がったのと似たようなもの?
- [49] >>47 ハ゜ケ代(ryという落ちではないのか?
- [50] ''HTML講座'' <http://pc2.2ch.net/test/read.cgi/hp/1010398268/>: 高い金取る不思議マーク付け講座は他にも仰山ありそうだ。詳しくは明日の朝刊で(謎)
- [51] ''頁のタイトル'' <http://ayamecchi.easter.ne.jp/tagu/filename.html>
- [52] ''* Web Design Tips * by ETRE-M'' <http://www.e-tamago.net/etre-m/m_design.htm>
- [53] ''ホームページを作ろう!'' <http://www.tamano.or.jp/takara/takarahtml/sakusei.htm>
- [54] ''CSS Maker - スタイルシート作成ツール'' <http://www.cssmaker.com/>
- [70] 不思議マーク付けを広めることになった種々の HTML の拡張の提案者・実装者は, そしてそれを追認してしまった我々は十二分に反省しなければならない。行き当たりばったりに目先の利益を求めて非計画的な拡張を繰り返した結果、 HTML は素人には手の出せない難解なものになってしまったし、[[テーブル・レイアウト]]マンセー派のような難解であることを美徳とするような考えまで生んでしまった。これらは取り返しの付かない失敗だ。
- [71] >>70 機械の性能とか、[[スタイル・シート]]技術が未熟だったとか、釈明の余地はあるのですが。。。現在から過去を攻めるのは得てして酷ではあるのですが。それでもあえてこの失策は責めるべきだ。

[76]
''Baddest HTML Lab.'' <http://www.geocities.co.jp/HeartLand-Namiki/6549/goku01.html>
([[名無しさん]] [sage])

[79]
[CITE[Part 2: The Web is Ruined and I Ruined It]] ([[David Siegel]] 著, [CODE[2007-01-13 00:41:07 +09:00]] 版) <http://web.archive.org/web/19970727011113/www.webreview.com/97/04/11/feature/part2.html>
([[名無しさん]])

[80]
[CITE@en[Tag Soup: How Mac IE 5 and Safari handle <x> <y> </x> </y>]] ([[Henri Sivonen]] 著, [CODE[2005-07-28 02:07:37 +09:00]] 版) <http://hsivonen.iki.fi/soup-dom/>
([[名無しさん]] [WEAK[2007-01-24 12:53:48 +00:00]])

[81]
[CITE@ja[CSSに見惚れてばかりじゃなくて、もっと私(HTML)を見てよっ!|CSS HappyLife]] ([CODE[2007-03-04 14:33:27 +09:00]] 版) <http://css-happylife.com/log/html/000117.shtml>
([[名無しさん]] [WEAK[2007-03-04 05:36:28 +00:00]])

[82]
[CITE@ja[SEO狂想曲 (kuruman.org > Kuruman Memo)]] ([CODE[2007-03-02 11:46:23 +09:00]] 版) <http://kuruman.org/diary/2007/03/02/seo-rhapsody>
([[名無しさん]] [WEAK[2007-03-04 05:40:00 +00:00]])

[83]
[CITE[人力検索はてな - HTMLでの質問です。 ある文字を太字にしてサイズを大きくしたい場合は <b> <font size> といったタグを使用します。 <b><font size="10">特定の文字 こういった感じになり..]] ([CODE[2007-03-09 22:40:24 +09:00]] 版) <http://q.hatena.ne.jp/1171495958>
([[名無しさん]] [WEAK[2007-03-09 13:44:06 +00:00]])

[84]
[CITE@ja[第18回 XHTMLの設計〜状況に合った要素選び(3)〜:ITpro]] ([CODE[2007-03-11 10:38:05 +09:00]] 版) <http://itpro.nikkeibp.co.jp/article/COLUMN/20070306/263966/>
([[名無しさん]] [WEAK[2007-03-11 01:40:26 +00:00]])

[85]
[CITE@ja-JP['''['''Accessibility''']'''第18回 XHTMLの設計〜状況に合った要素選び(3)〜 - おさんぽさんぽ (2007-03-10)]] ([[FUMING]] 著, [CODE[2007-03-11 01:17:08 +09:00]] 版) <http://hpbuilder.net/diary/?date=20070310#p03>
([[名無しさん]] [WEAK[2007-03-11 22:41:24 +00:00]])

[86]
[CITE@ja[LSC - Mar 2007]] ([CODE[2007-03-17 09:42:10 +09:00]] 版) <http://www.midnightlover.net/memo/2007/03#D04D>
([[名無しさん]] [WEAK[2007-03-18 02:47:06 +00:00]])

[87]
[CITE@ja-JP[リソースの書き直し - Weblog]] ([CODE[2007-03-18 21:00:00 +09:00]] 版) <http://ryus.s21.xrea.com/w/item/872>
([[名無しさん]] [WEAK[2007-03-18 12:43:34 +00:00]])


[22] [CITE@ja[LynxFM]], [TIME[2025-11-02T13:51:30.000Z]] <https://groups.google.com/g/fj.net.infosystems.www.browsers/c/lUmwes-lu84/m/M9uHA4E6_UIJ>

>
[PRE[
ところで、lynx-2.4 から、http://www.kyoto-u.ac.jp/cgi/AA.html のような
Archie 検索サービス にアクセスすると ** Bad HTML!! Use -trace to diagnose. **
とかいわれてしまうようになり、使用できなくなってしまいました。
</UL> が単独ではいってるのが原因の様ですが、無視するようには出来ないのでしょうか.

# これができれば 2.3JP から完全に移行できるのに.. 
]PRE]

