[69] 
[DFN[[RUBYB[ルビ][ruby]]]]は、
[[文字列]]の隣に小さな[[文字]]を添える形式の[[注釈]]です。

[70] 
[[ルビ]]という語は、
その概念や構造のこと全体を指す場合もあれば、
そこに含まれる小さな[[文字]]の[[注釈]]のことを指す場合もあります。
語源によれば後者を指すべきですが、
どちらの意味でも広く使われます。
後者を明確にするため[DFN[[RUBYB[ルビ文字列][ruby text]]]]のように言うことがあります。
[[ルビ文字列]]を構成する[[文字]]を[DFN[ルビ文字]]といいます。
[[ルビ文字列]]に対して本文側を[[親文字列]]といいます。

* 仕様書

[REFS[
- [2004] [[JIS X 4051:2004]]
]REFS]

*

[1] ([[JISX4051]]-1995)

> 文字のそばにつけて文字の読み方, 意味などを示す小さな文字。

[2]
[CITE[ルビ(ふりがな)の指定の仕方(付:ルビの語源と活字サイズ名一覧) [絵文録ことのは]2005/06/19]] <http://kotonoha.main.jp/2005/06/19ruby.html>
([[名無しさん]])

[4]
日本語[[組版]]の慣習では、[[ルビ文]]に[[小書き]]の[[仮名]]にするべきものがあっても通常の[[仮名]]と同じ大きさにしていました。
[[CSS]] にも [CODE(CSS)@en[[[text-transform]]]] あたりに[[仮名]]の大小を変更する[[値]]が必要そうです。
([[名無しさん]] [sage])

[5]
[[傍点]]は、 [[CSS]] の場合 [CODE(CSS)@en[[[text-emphasis]]]]
を使います。
([[名無しさん]] [sage])

[6]
[[訓点]]は、 [[HTML]] [CODE(HTMLe)@en[[[ruby]]]]
では記述できないと思われます。何か別の方法が必要でしょう。
([[名無しさん]] [sage])

[7]

[PRE(example)[
  ママ
ふんいき
]PRE]

のような、形式的には[[ルビ]]だけど、[[ルビ]]とせずに、
[PRE(HTML example code)[
<span class="ママ">ふいんき</span>
]PRE]

とでも[[マーク付け]]したいものがあります。 [[CSS]]
の場合 [CODE(CSS)@en[[[display]]: [[ruby]]]] と
[CODE(CSS)@en[::[[after]]]] 辺りを組合わせれば実現できそうです。
([[名無しさん]] [sage])

[16]
[[日本]]領時代の[[朝鮮]]では、[[日本語]]の[[仮名漢字混じり文]]に[[ハングル]]の[[ルビ]]を振ったものが使われていました。

;; [[縦書き]]は[[右]]に、[[左横書き]]は[[下]]に[[ルビ]]がついていました。

([[名無しさん]] [sage])

[17]

[PRE(example aafig)[
(注5)
直角二等辺三角形
]PRE]

表現的にはルビで、意味的にはルビでは無い例






[21]
<http://www.osaka-monorail.co.jp/admin/pdf/20070222daiyakaisei.pdf#page=2>
>
[PRE(aafig example)[
    本線       彩都線
○ 千里中央駅と彩都西駅間の直通運転に伴い、[INS[・・・]]
  がさらに短縮されます。
]PRE]

([[名無しさん]] [WEAK[2007-02-26 00:45:08 +00:00]])

* ルビの位置と意味

[91] 
[[日本語]]では、
[[左横書き]]の[[上]]、
[[上縦書き]]の[[右]]に[[ルビ]]を置くのが基本とされています。

[90] [[JIS X 4051:2004]]
は、
[[左横書き]]で[[上]]または[[下]]、
[[上縦書き]]で[[右]]または[[左]]、
の一方又は両方に[[ルビ]]を置くとしていました。
指定がない場合は[[上]]か[[右]]としていました。

[98] [[日本語]]で[[上]]や[[右]]に[[ルビ]]を置くのは、
次のような場合です。

- [99] [[読み仮名]]
- [100] [[漢文]]の[[読み仮名]]、[[送り仮名]] [SRC[>>2004 5.6.1]]
- [101] [[読み]]や意味を表す[[欧米語]]その他の[[親文字列]]とは異なる表記
- [103] [[ママ]]注
- [104] [[合印]]
- [102] [[傍点]] [SEE[ [[傍点]] ]]

[92] 
[[日本語]]で[[下]]や[[左]]に[[ルビ]]を置くのは、
次のような場合です。

- [93] [[欧米語]]の翻訳を書く場合
- [94] [[生没年]]などの[[注釈]]を書く場合
- [95] 他に主となる[[読み仮名]]を示した上で、副の[[読み仮名]]を書く場合
- [97] [[再読文字]]の2度目の[[送り仮名]]・[[読み仮名]] [SRC[>>2004 5.6.1]]
- [96] 枠の左端に[[縦書き]]する場合、
2行に分けて[[横書き]]する場合の下の[[行]]の場合、
その他[[ロゴ]]の一部として使用する場合など、
視覚上の理由からより好ましい場合

;; [105] [[JIS X 4051]] は狭義の[[ルビ]]の[[組版]]方法とは別に、
[[圏点]]、[[合印]]、[[漢文]]の[[読み仮名]]、[[送り仮名]]を定めています。
細かい規則に少しずつ違いがあります。

** 左横書き右ルビ

[19]
現在も[[台湾]]で行われている、[[横書き]]であっても[[文字]]の[[右]]側に[[ルビ]]を振る方式は、
[[日本]]でも[[明治時代]]には使われることがあったようです。
([[名無しさん]] [sage])

[20]
>>19 最近日本で看板でみた
([[名無しさん]] [WEAK[2006-11-12 07:37:21 +00:00]])


[31] [[注音字母]]: 右ルビ、右&下ルビ、右&下ルビ

[32] [[サムハラ神社]]: 右ルビ

[33] [[横中縦]]も参照。

[37] 
[[居酒屋]]チェーン店の[[[TATE[[RUBY[贔][ひ]]]][TATE[[RUBY[屭][いき]]]]屋][贔屓屋]]。
[[左横書き]]の[[ロゴ]]では[[右ルビ]] [SRC[>>36, >>38, >>39]]。
メニュー名でも「[L[鍋[TATE[[RUBY[贔][び]]]][TATE[[RUBY[屭][いき]]]]]]」 [SRC[>>39]]
([[連濁]])。
[[上縦書き]]では普通の[[右ルビ]]「[V[[RUBY[贔][ひ]][RUBY[屭][いき]]屋]]」 [SRC[>>36]]。「[V[[RUBY[贔][ひ]][RUBY[屭][いき]]鍋]]」 [SRC[>>39]]。
現地[[左横書き]]看板で普通の上ルビ「[L[[RUBY[贔][ひ]][RUBY[屭][いき]]屋]]」の店舗もある [SRC[>>42]]。
なお公式ツイッターや[[プレスリリース]]、現地手書きでは「贔屓屋」表記 [SRC[>>36, >>>39, >>40]]。

[REFS[
- [42] [CITE@ja[家庭料理竹とんぼ | もっくんの旨い物リスト - [[楽天ブログ]]]], [TIME[2020-11-05T03:40:34.000Z]] <https://plaza.rakuten.co.jp/hypermokun/diary/201604040000/>
- [41] [CITE@ja[なにわ味 [[贔屓屋]] 枚方市駅前店(枚方市新町)の写真1枚|エキテン]], [TIME[2020-11-05T03:39:25.000Z]] <https://www.ekiten.jp/shop_750046/photo/>
-- [40] [CITE[2907661_20171128030932.jpg (JPEG 画像, 750x1000 px)]], [TIME[2017-11-27T18:09:33.000Z]], [TIME[2020-11-05T03:39:09.596Z]] <https://www.img03.ekiten.jp/image_voice2/290/3255949/2907661_20171128030932.jpg>
- [36] [CITE@ja[[[贔屓屋]]天王寺さん (@hiikiya029010) / Twitter]], [TIME[2020-11-05T01:30:00.000Z]], [TIME[2020-11-05T03:30:37.875Z]] <https://twitter.com/hiikiya029010>
- [38] [CITE@ja[【守口市】地元からも残念の声が多数、長年営業されていた居酒屋『[[贔屓屋]](ひいきや)京阪守口店』が閉店されていました | 号外NET 守口・門真]], [TIME[2020-11-05T03:32:56.000Z]] <https://moriguchikadoma.goguynet.jp/2019/03/25/hiikiyakeihanmoriguchitenheiten/>
- [39] [CITE[大阪で創業40年来“[[贔屓屋]]”の“鍋贔屓” ! 永年愛され続ける名物「贔屓鍋」・揚げさんに出汁が染み込む「もつ鍋」・お好みでしびれを楽しめる「牛すじぼっかけ鍋」など|株式会社レインズインターナショナル/CWカンパニーのプレスリリース]], [TIME[2020-11-05T03:33:52.000Z]] <https://prtimes.jp/main/html/rd/p/000000081.000035155.html>
]REFS]

[137] [CITE@ja[【復刻デザイン】「花王石鹸」復刻デザインパッケージ | さいたま運転所の「非」鉄道ブログ]], [TIME[2020-11-09T08:29:07.000Z]] <https://ameblo.jp/aokikoa7211/entry-12564751030.html>

包み紙
「[L[[TATE[[RUBY[[ASIS[花][<https://glyphwiki.org/wiki/cc-2840>]]][か]]]][TATE[[RUBY[王][おう]]]][TATE[[RUBY[石][せつ]]]][TATE[[RUBY[[ASIS[鹸][<https://glyphwiki.org/wiki/n-gtwinppx_u9e78>]]][けん]]]]]]」

[[右横書き]]バージョンもある [SEE[ [[右横書き]] ]]

** 右横書き右ルビ

[34] [[右横書き]]に実例あり

** 上縦書き下ルビ

[REFS[
- [142] [CITE@ja[日本語で書いている [[櫐の木]]]], [[黒字看板]], [TIME[2020-11-09T12:03:33.000Z]], [TIME[2020-11-09T12:12:18.451Z]] <http://kurojikanbandesu.blog102.fc2.com/blog-entry-125.html>
- [139] 
<https://goo.gl/maps/RB4Dz4dvnf6GhoeW8>
- [141] [CITE@ja[『濃いアイスコーヒーを飲みたいときにはお勧めです。』by さすらいパン屋 : [[ふじの木]] - 今福鶴見/喫茶店 '''['''食べログ''']''']], [TIME[2020-11-09T12:11:55.000Z]] <https://tabelog.com/osaka/A2701/A270305/27057446/dtlrvwlst/B113305475/?use_type=0&smp=1>
-- [140] [CITE[640x640_rect_7807748.jpg (JPEG 画像, 491x640 px) - 表示倍率 (86%)]], [TIME[2011-05-12T14:49:33.000Z]], [TIME[2020-11-09T12:11:03.121Z]] <https://tblg.k-img.com/restaurant/images/Rvw/7807/640x640_rect_7807748.jpg>
]REFS]

[143] 看板  [SRC[>>142, >>139]]

>
[VRLBOX[
[YOKO[[I[COFFEE]]]][YOKO[& ・・・]][YOKO[[RUBYB[櫐][ふじ]]]]の木
]VRLBOX]

[[上縦書き]]に見えるが、「COFFEE」と「& ・・・」が[[左横書き]]なので、
1行1文字横書きの疑いを拭い去れない。

ドア [SRC[>>140]]
「[L[[LINES[[L[[I[COFFEE]] & ・・・]]][[RUBYB[櫐][ふじ]]の木]]]]」

壁 [SRC[>>139]]
「[L[[SUP[[I[COFFEE]] & ・・・]]櫐の木]]」

* ルビのルビ


[18]
'''ルビ文にルビが含まれる例'''
[SRC[[[週刊少年ジャンプ]]より[CITE[[[みえるひと]]]]]]
[PRE(example aafig)[
ボン
BOMB
 梵
]PRE]

[[HTML]]を含むいくつかの[[ルビ]]の書式では[[ルビ]]の[[入れ子]]を認めていないので、これが表現できない。

[43] 
現在の [CITE[[[HTML Standard]]]] は [CODE[rt]] [[要素]]に
[CODE[ruby]] [[要素]]を含められるので、表現できる。

[PRE(HTML example code)[
<ruby>梵<rt><ruby>BOMB<rt>ボン</ruby></ruby>
]PRE]

[44] [CITE@ja[[[梵]]BOMB | (・∀・)]], [TIME[2020-11-05T04:55:53.000Z]] <https://ameblo.jp/o00mikey00o/entry-11406240885.html>

漫画コマ引用「[V[[RUBY[梵][[RUBY[[L[BOMB]]][ボン[YOKO[[I[!]]]]]]]]]]」

[45] 
[CITE[[[みえるひと]] - 錬金場]], [TIME[2020-11-05T05:05:24.000Z]] <http://yamaba.blog71.fc2.com/blog-entry-57.html?sp>

漫画コマ引用「[V[[RUBY[梵][[RUBY[[L[BOMB]]][ボン[YOKO[[I[!]]]]]]]][YOKO[[I[!!!]]]]]]」


[46] [CITE@ja[Wordで、ルビにさらにルビをふる方法はありますか。 - Wordで、訓点... - Yahoo!知恵袋]], [[Yahoo! JAPAN]], [TIME[2020-11-05T05:18:09.000Z]] <https://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q12116833577>

[50] [CITE@ja[夜桜てるさんはTwitterを使っています 「なろうで活動している民よ…… こんな書き方できること知ってた? 私は知らなんだ これって 「|アルテミス《|天《ガチなやつ》》」 みたいな書き方してるってことか? https://t.co/gBnMZgCoh9」 / Twitter]], [TIME[2020-11-05T05:12:15.000Z]], [TIME[2020-11-05T05:33:36.144Z]] <https://twitter.com/teru0653/status/1160099801926516737>

[124] 
[CITE@ja[カイシトモヤさんはTwitterを使っています 「「[[ちゃお]]」研究ばかりでごめんなさい、カタカナに漢字混じりのルビをふって、そのルビにまたルビふるって女児漫画ならではの斬新な表現。1層目のルビは意味へのルビで、2層目のルビが読みへのルビ。2層目のルビの級数、コミックスでの再現度が心配。 https://t.co/OheaBhDMIO」 / Twitter]], [TIME[2020-11-07T09:19:58.000Z]], [TIME[2020-11-07T09:42:47.171Z]] <https://twitter.com/room_composite/status/783692359947001856/photo/1>

漫画写真
「[V[[RUBY[カナヅチ][([RUBY[泳][およ]]げない)]]]]
[V[なの[YOKO[?]]]]」

* ルビと傍点

[47] [CITE[文字列に傍点とルビを設定する方法 (二重にルビを設定する):ぜんばのブログ:SSブログ]], [TIME[2020-11-05T05:18:27.000Z]], [TIME[2020-11-05T05:18:52.096Z]] <https://s-zenba.blog.ss-blog.jp/2017-03-23>

[48] [CITE@ja[AH Formatter V7.0 - ルビ拡張]], [TIME[2020-10-21T23:32:37.000Z]], [TIME[2020-11-05T05:22:09.901Z]] <https://www.antenna.co.jp/AHF/help/v70/ahf-ruby.html>

[49] [CITE@ja-JP[GIMPで縦書き - mynote]], [TIME[2020-11-05T05:26:33.000Z]] <http://reddog.s35.xrea.com/wiki/index.php?GIMP%E3%81%A7%E7%B8%A6%E6%9B%B8%E3%81%8D#rb569397>

[116] 
[[JIS X 4051:2004]] 5.8 備考は、
[[漢文]]で[[圏点]]と[[読み仮名]]・[[送り仮名]]は両立できないとしています。


[121] [[CSS]] で[[ルビ]]付き文字列に[[圏点]]:
[[親文字列]]の数に合わせて、
[[ルビ文字列]]より外側に[[圏点]]が振られる。
下から順に積んでいき、高さは揃えられない。
[SRC[>>119, >>120]]


[REFS[
- [119] [CITE@en[CSS Text Decoration Module Level 3]], [TIME[2019-08-02T06:14:38.000Z]], [TIME[2020-11-07T08:49:42.986Z]] <https://www.w3.org/TR/2019/CR-css-text-decor-3-20190813/#text-emphasis-position-property>
- [120] [CITE@ja[EPUBで縦書きや組版を綺麗に表示する電子書籍ソリューション | BPS株式会社]], [TIME[2020-11-07T08:50:25.000Z]] <https://www.bpsinc.jp/epub.html#typesetting-kenten>
]REFS]


* 書字方向混在とルビ

** 縦中横の横にルビ

[51] 
[CITE@ja[InDesign 割注で組数字の縦中横を使用する - ちくちく日記]], [TIME[2020-11-05T05:39:37.000Z]] <https://chiku-chiku-nikki.hatenablog.com/entry/20130412/1365760535>

利用例スクリーンショット
「[V[渋谷の[RUBY[[YOKO[109]]][まるきゅー]]で]]」

[133] [CITE@ja[Word2010-2016:縦書き「縦中横」にルビ(横) -教えて!HELPDESK]], [TIME[2019-06-19T07:56:00.000Z]], [TIME[2020-11-09T02:00:12.319Z]] <http://office-qa.com/Word/wd1003.htm>


[123] [CITE@ja[[[よつばと!]]のルビ考察]], [TIME[2020-11-07T09:37:54.000Z]] <https://428and.com/ruby/>

漫画写真
「[V[牛乳を[YOKO[100]][RUBY[[YOKO[c]]][シー]][RUBY[[YOKO[c]]][シー]]]]」
「[V[[RUBY[[YOKO[2]]人][ふたり]]]]」
「[V[[RUBY[[YOKO[3]]][みっ]][RUBY[日][か]][RUBY[泊][と]]まる]]」

[130] [CITE[空(前絶後の顔面凶)器ちゃん (@_____lip_oO) さんの漫画 | 44作目 | ツイコミ(仮)]], [TIME[2020-11-07T10:16:34.000Z]] <https://twicomi.com/manga/_____lip_oO/1135530655528341504>

漫画「[V[[RUBY[[YOKO[10]]日[YOKO[5]]割][トゴ]]]]」

[136] [CITE[hz1114 AOEインキ 片面【戦前のホーロー看板屋さん】]], [TIME[2019-03-18T22:27:44.000Z]], [TIME[2020-11-09T08:17:51.808Z]] <http://www.nagoya-milky.com/hz1114.html>

看板
「[V[[RUBY[[YOKO[A.]]][エ]][RUBY[[YOKO[O.]]][オ]][RUBY[[YOKO[E.]]][イ]]インキ]]」

「[CODE[.][FULL STOP]]」はとても微妙な位置に置かれている c.f. [[ザビエル]]

** 寝かせた横書きに縦書きルビ

[52] [CITE[TVアニメ「龍ヶ嬢七々々の埋蔵金」公式サイト]] ([TIME[2020-11-06 08:31:25 +09:00]]) <https://www.nanana.tv/>

>
[VRLBOX[
[RUBY[[L[NO ADVENTURE, NO LIFE]]][ノーアドベンチャー ノーライフ]]

[L[Blu-ray & DVD]] 第[YOKO[1]]巻好評発売中[YOKO[!]]
]VRLBOX]

ルビ(?)は上揃え

** 縦書きルビに正立欧字

[132] [CITE@ja[『セレベスト織田信長』が超面白いのに人にオススメしづらい件【WEBマンガ総選挙第4位】 | ほんのひきだし]], [TIME[2020-11-07T10:26:11.000Z]] <https://hon-hikidashi.jp/enjoy/61471/>


漫画「[V[[RUBY[国際自然保護][[YOKO[I]][YOKO[U]][YOKO[C]]]]]]
[V[[RUBY[連合][[YOKO[N]]]]指定・]]
[V[絶滅危惧種[YOKO[!!]]]]」

[[グループルビ]]の途中で[[改行]]するべきではないが、
バランスを適切に保つためなのか「保護」と「連合」の間で[[改行]]されている。
略称の「IUCN」のうち「N」だけ2行目にかかっている。

** ルビに縦中横

[134] [CITE@ja[No.50 ルビ文字の2ケタ数字に縦中横を設定したい | InDesign 2.0 | 勉強部屋 | study-room]], [TIME[2020-11-09T02:03:16.000Z]] <https://study-room.info/id/studyroom/id2/study50.html>

** 右横書き文の上下ルビ

[148] 
[[アラビア文字]]や[[ヘブライ文字]]で書かれた語学書の類に[[カタカナ]]の発音や[[日本語]]・[[英語]]の訳語がついていることがあります。
この種のものは明らかに[[ルビ]]といえるものより、
併記と呼ぶべきものが多く、
その境界をどこに定めるべきか難しい。



[FIG(quote)[
[FIGCAPTION[
[144] [CITE@ja[アラビア語の初歩の初歩 (平田 伊都子) – アラビア語学習メモ]]
([TIME[2020-11-10T06:07:46.000Z]])
<https://alarabiyah.sakura.ne.jp/arabic/books/shohonoshoho/>
]FIGCAPTION]

> 読みガナはカタカナで、アラビア文字に合わせ左←右の逆方向となっています。手書きアラビア文字の行間が狭いので読みガナは一直線上ではなく高さが上下しており、読みづらいです。

]FIG]

[149] 右横書き文に右横書き下ルビ。例えば「[R[ッサラーマ]]」。
(この本に限らず、[[日本語]]と違って[[アラビア語]]表記では「っ」から始まる語がある。)
[[ルビ文字]]に[[下線]]が引かれていることも ([[アクセント]]か)。
真左や真下に書かれた日本語訳文は[[左横書き]]。

[FIG(quote)[
[FIGCAPTION[
[145] [CITE@ja[アラビア語熱、再燃 | tomokodiemusikarin]]
([TIME[2020-11-10T06:17:09.000Z]])
<https://tomokodiemusikarin.wordpress.com/2016/01/30/%E3%82%A2%E3%83%A9%E3%83%93%E3%82%A2%E8%AA%9E%E7%86%B1%E3%80%81%E5%86%8D%E7%87%83/>
]FIGCAPTION]

> 右から左へと書いてゆくアラビア語を勉強してると、左から右へ振られてる日本語の「読み方のふりがな」も、ついうっかり右から読んじゃう(苦笑)

]FIG]

[150] 右横書き文に左横書き上ルビ。 (この[[ブログ]]著者は「ふりがな」としているが、
かなり大きな文字で少し行間があるので、ルビと呼んでいいものか悩ましい。
ルビではなくても振り仮名ではあるのかもしれない。)
[[左横書き]]の2語の[[アラビア文字]]の上に[[左横書き]]の2語の[[カタカナ]]発音、
下に[[左横書き]]で1連なりの[[日本語]]訳。
(語と対応関係にないので、振り仮名と呼んでいいものか悩ましい。)


[146] [CITE[ニューエクスプレスプラス 古典ヘブライ語 - 白水社]]
([TIME[2020-11-10T06:34:02.000Z]])
<https://www.hakusuisha.co.jp/book/b437597.html>

[151] [[右横書き]]文の[[単語]]ごとに括弧付き左横書き下ルビ。
括弧にはそのまま左から右に読んでいく日本語の振り仮名とは違うというニュアンスもこもっているのだろうか。

[147] ([TIME[2019-10-07T14:16:53.000Z]], [TIME[2020-11-10T06:37:26.610Z]])
<http://yohane.natsu.gs/00%200%200%20syu%20no%20mina.htm>

[152] 
[[右横書き]]文の[[ヘブライ語]]の[[単語]]ごとに[[カタカナ]]発音の[[左横書き]]上ルビ。
[[英訳]]の[[左横書き]]下ルビ。英訳も単語ごとなので、
英文としては読めない。

ただし[[ヘブライ語]]2語をまとめめて英訳1語の[[グループルビ]]になっているところがあって、
そこは原語と見かけ上の順序が逆転する。


(下ルビは長くて2行になったり、更に補足説明が下の行に続いたりしている。
これもルビと呼んでいいものか?)

* 文字でないものにルビ

[138] [CITE[煙草の広告]], [TIME[2019-12-30T11:20:00.000Z]], [TIME[2020-11-09T10:11:16.101Z]] <http://tokyowanyosai.com/soft/shakai/pr-taba.html>

[[縦書き]]文中、[[絵文字]]的に置かれたイラストに[[漢字]]の[[ルビ]]。
昭和15年、昭和16年

* 文字の大きさ

[53] [[JIS X 4051]]
によれば、
[[ルビ文字]]の[[文字サイズ]]は、
[[親文字]]の[[文字サイズ]]の[FRAC[1][2]]です。
[SRC[>>2004 4.12.1, 5.4]]
ただし、
[[見出し]]などで[[親文字]]が大きいときは、
[FRAC[1][2]]
[[以下]]でも構いません。
[SRC[>>2004 4.12.1]]
[[漢文]]の場合も[[処理系定義]]で
[FRAC[1][2]]
[[以下]]とできます。
[[字間]]や配置などいろいろな調整が行われています。
[SRC[>>2004 5.4]]



[54] 指定があれば[[三分ルビ]]を使うことができます。 [SRC[>>2004 4.12.1 備考2.]]
[DFN[[RUBY[三分][さんぶ(ん)]]ルビ][三分ルビ]]は、
[[全角]]の[[字幅]]に3文字の[[ルビ]]をつけるための[[ルビ]]であって、
[[縦書き]]では[[親文字]]の[FRAC[1][3]]の[[高さ]]、
[[親文字]]の[FRAC[1][2]]の[[幅]]となり、
[[横書き]]では[[親文字]]の[FRAC[1][3]]の[[幅]]、
[[親文字]]の[FRAC[1][2]]の[[高さ]]となります。
[SRC[>>2004 3. 54)]]

[106] 
[[合印]]についてはまた別の規定があります。

* ルビの配置

[71] [[親文字列]]の長さを[[親文字列長]]、
[[ルビ文字列]]の長さを[DFN[ルビ文字列長]]といいます。
両者は一致しないことも多いので、
配置の調整が必要となります。

[72] [[ルビ文字列長]]は、
[[ルビ文字列]]を指定の[[文字サイズ]]で[[ベタ組]]で配置し、
規定の[[空き]]量を挿入したときの、
先頭から末尾までの長さです。
[SRC[>>2004 3. 135)]]


[73] 
[[ルビ文字列長]]が[[親文字列長]]より短ければ、
[[ルビ文字列]]は[[親文字列]]の適当な位置に揃えて配置することなります。
逆に[[ルビ文字列長]]が[[親文字列長]]より長いなら、
[[親文字列]]側に適度に[[空き]]を挿入するか、
[[親文字列]]の前後の[[文字]]の部分にはみ出して配置することになります。
前後の[[文字]]にはみ出すことを、その[[文字]]に[DFN[かける][ルビかけ]]といいます。
[DFN[ルビかけ対象]]とはルビ文字をかけて配置できる字種の[[文字]]や[[空き]]量を指し
[SRC[>>2004 3. 133)]]、
[DFN[ルビかけ長]]とは[[ルビかけ対象]]にかけて配置する[[ルビ文字列]]の長さをいいます
[SRC[>>2004 3. 134)]]。

[67] [[ルビ]]の種類を表す語が3つあり、配置方法に関係してきます。

- [57] 
[DFN[モノルビ]]は、
[[親文字列]]の1文字ごとに対応させた[[ルビ]]です
[SRC[>>2004 3. 127)]]。
--
[56] 
[DFN[熟語ルビ]]は、
[[モノルビ]]がつく[[親文字群]]が[[熟語]]を構成する[[ルビ]]です
[SRC[>>2004 3. 63)]]。
--
[68] 逆方向は「熟語ルビを構成するモノルビ」のような言い方をします。
-
[55] 
[DFN[グループルビ]]は、
2文字以上の[[親文字列]]全体にまとめてつけた[[ルビ]]です
[SRC[>>2004 3. 42)]]。

;; [85] [[漢字]]1つ1つに対応する語に[[読み仮名]]を振っていく場合、
[[漢字]]1つの[[ルビ]]が[[モノルビ]]となります。
[[熟字訓]]の[[読み仮名]]を振ったり、
[[英訳]]や説明を添えたりするときは、
[[グループルビ]]となります。
[[漢文]]でも[[読み仮名]]が3種類のルビと同じ方法で配置されます。

[58] 
原則的には、
[[親文字列]]の中心と、
[[ルビ文字列]]の中心とを揃えます。
[SRC[>>2004 4.12.3 a) 2)]]


- [62] [[ルビ文字列長]]が[[親文字列長]]より短いとき、
--[74] 
[[縦書き]]で、
[[ルビ文字列]]が1文字で、
[[親文字列]]が特定の字種の1文字のときは、
[[親文字]]の先頭と[[ルビ文字]]の先頭を揃えることもできます。
[SRC[>>2004 4.12.3 a) 2)]]
-- [76] 
[[グループルビ]]で、
[[ルビ文字列]]が2文字以上で、
[[欧字]]でも[[連数字]]でもないとき、
[[ルビ文字]]の字間を、
[CODE(math)[[VAR[x]] : [VAR[y]] : [VAR[z]] [[=]] 1 : 2 : 1]]
となるよう配置します。
[VAR[x]] は[[親文字列]]の先頭から[[ルビ文字列]]の先頭まで、
[VAR[y]] は[[ルビ文字]]間、
[VAR[z]] は[[ルビ文字列]]の末尾から[[親文字列]]の末尾までの[[空き]]量とします。
これ以外の比率を使うこともできます。
[SRC[>>2004 4.12.3 b) 1.2)]]
-- [63] [[親文字群]]が[[行頭]]のとき、[[親文字]]の先頭を[[行頭]]に合わせます。
[SRC[>>2004 4.12.3 a) 5.1.1)]]
-- [64] [[親文字群]]が[[行末]]のとき、[[親文字]]の末尾を[[行末]]に合わせます。
[SRC[>>2004 4.12.3 a) 5.1.2)]]
- [78] [[熟語ルビ]]を構成する[[モノルビ]]に、
[[ルビ文字列長]]が[[親文字列長]]より長いものがあるとき、
-- [80] 1つの[[行]]内に配置するとき、
--- [79] [[熟語ルビ]]全体を[[グループルビ]]とみなして配置します。
[SRC[>>2004 4.12.3 c) 2.1)]]
-- [81] 複数の[[行]]に分かれるとき、
それぞれの部分の長さに基づき配置します。
[SRC[>>2004 4.12.3 c) 2.2)]]
- [75] [[ルビ文字列長]]が[[親文字列長]]より長いとき、
-- [61] 
前後の文字の字種と[[処理系定義]]により、
[[ルビ文字]]
0文字分、
[FRAC[1][2]]文字分、
または1文字分、
前後の[[文字]]に[[かける][ルビかけ]]ことができます。
[SRC[>>2004 4.12.3 a) 3), >>5.6.4]]
前後の文字にかけない場合、
[[親文字列]]の前後に[[アキ]]が生じることがあります。
-- [77] 
[[親文字列]]が[[欧字]]でも[[連数字]]でもないとき、
[[親文字列]]の字間を、
[CODE(math)[[VAR[x]] : [VAR[y]] : [VAR[z]] [[=]] 1 : 2 : 1]]
となるよう配置します。
[VAR[x]] は[[ルビ文字列]]の先頭から[[親文字列]]の先頭まで、
[VAR[y]] は[[親文字]]間、
[VAR[z]] は[[親文字列]]の末尾から[[ルビ文字列]]の末尾までの[[空き]]量とします。
これ以外の比率を使うこともできます。
(>>65, >>66 により[[親文字列]]の[[行頭]]か[[行末]]を揃える場合、
[VAR[x]] または [VAR[z]] を [N[0]] とします。)
[SRC[>>2004 4.12.3 b) 2.2)]]
-- [117] 
[[返り点]]や[[竪点]]があるとき、
[[空き]]は[[返り点]]や[[竪点]]の後に挿入します。
[SRC[>>2004 5.6.3]]
-- [65] [[親文字群]]が[[行頭]]のとき、[[ルビ文字列]]の先頭を[[行頭]]に合わせるのが原則です。
[[ルビ文字列]]と[[親文字列]]の先頭と[[行頭]]を揃えても構いません。
[SRC[>>2004 4.12.3 a) 5.2.1)]]
-- [66] [[親文字群]]が[[行末]]のとき、[[ルビ文字列]]の末尾を[[行末]]に合わせるのが原則です。
[[ルビ文字列]]と[[親文字列]]の末尾と[[行末]]を揃えても構いません。
[SRC[>>2004 4.12.3 a) 5.2.2)]]
-- [83] [[ルビ文字列]]と[[行]]の端を揃える場合で、
両側に[[ルビ文字列]]がある場合、
長い方の端を揃えます。
[SRC[>>2004 4.12.4 b)]]

[84] 
両側に[[ルビ]]があるとき、
[[ルビ文字列長]]が長い方をまず配置します。
[SRC[>>2004 4.12.4 c)]]


[108] 
[[漢文]]の[[送り仮名]]は、
開始位置を次のように決めます。
[SRC[>>2004 5.6.2]]

- [107] 
[[読み仮名]]がある場合、
[[読み仮名]]の直後に[[ベタ組]]とします。
- [115] それ以外の場合、
-- [110] 原則、
[[漢字]]の上端から[[漢字]]の文字サイズ × [FRAC[1][2]]
-- [111] [[処理系定義]]により、
[[漢字]]の上端から[[漢字]]の文字サイズ × [FRAC[3][4]]
-- [112] [[漢文二分アキ組]]の場合、[[処理系定義]]により、
--- [113] [[送り仮名]]が1文字のとき、
[[漢字]]の下端
--- [114] それ以外のとき、
[[漢字]]の上端から[[漢字]]の文字サイズ × [FRAC[1][2]]





[59] 
[[親文字列]]内、
[[ルビ文字列]]内での[[行]]分割はできません。
[SRC[>>2004 4.12.3 a) 4)]]
[[漢文]]の[[親文字列]]と[[送り仮名]]も分割できません。
[SRC[>>2004 5.6.2 c)]]
[[熟語ルビ]]を構成する[[モノルビ]]同士の間では分割できます。
[SRC[>>2004 4.12.3 c) 1.3)]] 

[60] 
[[親文字列]]内、
[[ルビ文字列]]内で[[字間]]の調整はできません。 
[SRC[>>2004 4.12.3 a) 4)]]
[[熟語ルビ]]を構成する[[モノルビ]]間で[[字間]]の調整はできません。
[SRC[>>2004 4.12.3 c) 1.2)]]

[EG[
[86] 
[[熟語ルビ]]
「[RUBY[表紙][ひょうし]]」
は「表」より「ひょう」が長いので、
1行に収まるときは[[グループルビ]]と同じように配置されます。
[[グループルビ]]とは違って途中で改行でき、
その場合は
「[RUBY[表][ひょう]]」
「[RUBY[紙][し]]」
と分けて配置されます。

[87] 
[[グループルビ]]
「[RUBY[表紙][カバー]]」
は必ず同じ[[行]]に配置されます。
「バ」の前後には[[空き]]が挿入されます。
「カ」の前と「ー」の後にはその半分の[[空き]]が挿入されます。
]EG]

[82] 
片側に[[グループルビ]]、片側に[[モノルビ]]の連続となる場合には、
[[モノルビ]]の連続を[[グループルビ]]とみなして配置します。
[SRC[>>2004 4.12.4 a) 備考]]


[89] [[ルビ]]がついた全体の長さの計算 >>2004 6.2.6

[88] [[圏点]]は[[モノルビ]]と同じように配置されます。
[[合印]]についてはまた別の規定があります。

* ルビの実装

[FIG(short list)[ [122] [[ルビ]]の実装
- [[ruby]] 要素 ([[HTML]], [[XHTML]], [[JISX4052]])
- [[朝刊太郎]]
]FIG]


[3]
[CITE[MANUAL_2]] <http://www.aozora.gr.jp/KOSAKU/MANUAL_2.html#ruby>

[[青空文庫]]の[[テキスト]]形式の[[ルビ]]の記述方法。
([[名無しさん]] [sage])

[8]
[[setext-j]] の[[ルビ]][[タグ]]:
[PRE(example code)[
[AA(fw)[^]]大和[AA(fw)['''[''']]やまと[AA(fw)[''']''']]
]PRE]

([[名無しさん]] [sage])

[9]
[CITE[Fujita Shinsaku TeX/LaTeX Page (JP)]] <http://imt.chem.kit.ac.jp/fujita/fujitas/rd/texlatex.html>
([[名無しさん]] [sage])

[10]
[CITE[より高度なLaTeXの使い方]] <http://sils.shoin.ac.jp/~gunji/TUE2/logs/misc.html>
([[名無しさん]] [sage])

[11]
[CITE[ルビを振る]] <http://tex.sparcstation.org/TIPSruby.html>
([[名無しさん]] [sage])

[12]
[CITE[The page of TeX]] <http://www.let.osaka-u.ac.jp/~kinsui/tex/top.htm>
([[名無しさん]] [sage])

[13]
[CITE[ルビふり for TeX(WindowsNT/2000/XP/文書作成)]] <http://www.vector.co.jp/soft/winnt/writing/se324728.html>
([[名無しさん]] [sage])

[14]
[CITE[ruby.sty	ルビを使うためのスタイルファイル]] <http://www.nls.ics.saitama-u.ac.jp/~tohru/ja/Exports/External/Chosho/ruby.sty>
([[名無しさん]] [sage])

[15]
[[OpenDocument]]: [CODE(XMLe)@en[[VAR@en[text:]][[ruby]]]],
[CODE(XMLe)@en[[VAR@en[text:]][[ruby-base]]]],
[CODE(XMLe)@en[[VAR@en[text:]][[ruby-text]]]]

([[名無しさん]] [sage])

[22] [CITE@ja[日本語組版処理の要件(日本語版)]]
( ([[Japanese Layout Task Force]] 著, [TIME[2012-03-23 20:19:12 +09:00]] 版))
<http://www.w3.org/TR/jlreq/ja/#usage_of_ruby>

[23] 2つの読みがある語を表すときに、両側ルビを使うことがあります。

[FIG(quote)[
[FIGCAPTION[
[24] [CITE@ja[臨時戸籍 - Wikipedia]]
([TIME[2016-12-24 21:08:59 +09:00]])
<https://ja.wikipedia.org/wiki/%E8%87%A8%E6%99%82%E6%88%B8%E7%B1%8D>
]FIGCAPTION]

> 氏名にはローマ字でルビが付され、米軍への労務提供の資料として利用された。

]FIG]


[FIG(quote)[
[FIGCAPTION[
[25] [CITE@ja[恒❄️さんはTwitterを使っています 「https://t.co/pu7IuOxX12」 / Twitter]] ([TIME[2020-09-30 09:28:45 +09:00]]) <https://twitter.com/tsune123/status/1302508587294490624/photo/2>
]FIGCAPTION]

>
[BOX(vertical)[

[RUBYB[不][Yang]][RUBYB[敗][Wen-li]]の魔術師  

]BOX]

]FIG]

[[縦書き]]の左側の[[ルビ]]、[[左横書き]]の[[時計回り90度回転][回転 (書字方向)]]

[26] [CITE@zh-TW[認識正字標記]]
([TIME[2020-10-11T08:25:38.000Z]])
<https://www.bsmi.gov.tw/wSite/ct?xItem=85024&ctNode=9495>

[FIG(quote)[
[FIGCAPTION[
[27] [CITE[文化庁 | 国語施策・日本語教育 | 国語施策情報 | 国語審議会(終戦~改組) | 現代かなづかい]]
([TIME[2019-11-15T11:20:54.000Z]], [TIME[2020-10-17T09:32:16.265Z]])
<https://www.bunka.go.jp/kokugo_nihongo/sisaku/joho/joho/kakuki/syusen/tosin01/index.html>
]FIGCAPTION]

> ×

]FIG]

[28] [[アニメ]]
[CITE[魔女の旅々]]
の
[[OP]]
のテロップは、
[[日本語]]の[[人名][日本人名]]に下ルビで[[[CITE[魔女の旅々]]の文字]]が併記されていました。
下ルビというべきか、下に小書きで併記したというべきか悩ましいですが。

海外向けに[[ローマ字表記]]で併記した近年たまにある例とは違って、
読まれることは想定せず世界観の表現に使った装飾的なものです。


[29] ([TIME[2015-05-29T04:01:46.000Z]], [TIME[2020-10-28T06:58:05.021Z]])
<https://www.antenna.co.jp/ml/back/Korean/Korean_DTP0811.pdf#page=8>

[FIG(quote)[
[FIGCAPTION[
[30] [CITE@ja[第20回 脳内辞書と電子辞書 | 漢字の現在(笹原 宏之) | 三省堂 ことばのコラム]]
([TIME[2020-11-04T03:50:40.000Z]])
<https://dictionary.sanseido-publ.co.jp/column/kanji_genzai020>
]FIGCAPTION]

> もう一つ陥穽<small>(かんせい)</small>がある

]FIG]


[35] [CITE@ja[神代⿰字栗符~かみよぐりふ~さんはTwitterを使っています 「登記統一文字01000440。どう見ても「丨」(コン、すす・む、etc..)と言う字に「ススム」とルビを打った文書を活字化したようにしか見えないw #漢字 http://t.co/neT0GpbgBJ」 / Twitter]]
(午後2:16 · 2014年8月3日 [TZ[+09:00]], [TIME[2020-11-04T03:41:56.000Z]])
<https://twitter.com/kamiyoglyph/status/495800273609043968>

[118] [CITE[bungakuronshu_42_71.pdf]], [TIME[2017-12-01T16:30:12.000Z]], [TIME[2020-11-07T08:37:30.515Z]] <https://m-repo.lib.meiji.ac.jp/dspace/bitstream/10291/19100/1/bungakuronshu_42_71.pdf>

[125] [CITE@ja[ルビと本文、どっちを読む? - Togetter]], [TIME[2020-11-07T09:45:47.000Z]] <https://togetter.com/li/1302009>

[127] [CITE@ja[義訓 - Wikipedia]], [TIME[2020-10-24T04:46:53.000Z]], [TIME[2020-11-07T09:57:20.410Z]] <https://ja.wikipedia.org/wiki/%E7%BE%A9%E8%A8%93>

[126] [CITE@ja["不運"と"踊"っちまったんだよ…特殊なルビが海外では「DEEP-FURIGANA」と呼ばれて悩みの種らしい - Togetter]], [TIME[2020-11-07T09:52:57.000Z]] <https://togetter.com/li/1066075>

[128] [CITE@ja[群龍天に在り(webディレクターと歴史好きの雑記帳) : "不運"と"踊"っちまったんだよ的な文体はいつ生じたのか?~『通俗続三国志』・魯迅・吉川英治の流れ]], [TIME[2020-11-07T09:56:55.000Z]], [TIME[2017-11-19T12:07:06.239Z]] <https://web.archive.org/web/20171119120619/http://touryuuuan.blog.jp/archives/1063504918.html>

[129] [CITE@ja[FeZn (m.sugiyama)さんはTwitterを使っています 「「数字にはルビを振らない」ルール、 ザッと探して出て来たのは 「算用数字のみ」だった。 (漫画少年誌) 「漢数字は振る」のが一般的なのかな。 ※固有名詞を構成する数字は、基本的には漢数字。…これまた例外があって、ややこしい。」 / Twitter]], 午前1:28 · 2018年9月5日 [TZ[+09:00]], [TIME[2020-11-07T10:01:01.000Z]] <https://twitter.com/fezn/status/1037014534228078592>


[131] [CITE@ja[『セレベスト織田信長』が超面白いのに人にオススメしづらい件【WEBマンガ総選挙第4位】 | ほんのひきだし]], [TIME[2020-11-07T10:23:32.000Z]] <https://hon-hikidashi.jp/enjoy/61471/>

漫画「[V[[RUBY[受応][カマ―――ン]][YOKO[!!]]]]」

[[長音]]は[[親文字列]]に合う長さまで引き伸ばされている。[[ルビ文字列]]3文字相当の区切れ目のない「―」。



[135] [CITE@ja[日本語で書いている 蓬莱岩]]
([[黒字看板]], [TIME[2020-11-09T03:35:39.000Z]], [TIME[2020-11-09T03:35:41.251Z]])
<http://kurojikanbandesu.blog102.fc2.com/blog-entry-264.html>

[[上縦書き]]の[[日本語]]に左ルビの[[バス停]]。看板デザインの都合で左に置いた?

