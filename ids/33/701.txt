[4] [DFN[[RUBYB[符号化の取得]@en[get an encoding]]]]は、
[[符号化ラベル]]から[[符号化][文字符号化]]を取得する操作です。

* 仕様書

[REFS[
- [5] [CITE@en[Encoding Standard]] ([TIME[2018-01-09 16:41:43 +09:00]]) <https://encoding.spec.whatwg.org/#concept-encoding-get>
]REFS]

* 性質

[14] [[符号化ラベル]]と期待される[[文字列]]を入力とし、[[文字符号化]]または[[失敗]]を返します。

[16] [[符号化ラベル]]は、 [CITE[Encoding Standard]] で規定されたもののいずれかでなければなりません。

;; [17] それ以外の任意の[[文字コード]]や[[文字コード]]名称の利用は認められておらず、
[[失敗]]となります。

[13] [[符号化ラベル]]は、[[ASCII大文字・小文字不区別]]です。

[15] [[符号化ラベル]]の前後に[[ASCII空白]]があっても構いません。

* 操作

[6] [[文字列]][VAR[ラベル]]について[DFN[[RUBYB[符号化を取得]@en[get an encoding]]]]するには、
次のようにします [SRC[>>5]]。


[FIG(steps)[
= [7] [VAR[ラベル]]の先頭と末尾の[[ASCII空白]]をすべて除去します。
= [8] [VAR[ラベル]]が[[符号化ラベル]]のいずれかと [[ASCII大文字・小文字不区別]]で一致する場合、
== [9] その[[符号化ラベル]]の表す[[符号化][文字符号化]]を返します。
= [10] それ以外の場合、
== [11] [[失敗]]を返します。
]FIG]

[12] [[符号化ラベル]]と[[符号化][文字符号化]]は、それぞれの項を参照。

* 歴史

[1] [CITE@en[Fix overrideMimeType() again]]
([[annevk]]著, [TIME[2018-04-17 17:54:28 +09:00]])
<https://github.com/whatwg/xhr/commit/121cee50b6f51215f046266642964b4c53a02a7c>

[2] [CITE@en[Look at overrideMimeType() again · Issue #157 · whatwg/xhr]]
([TIME[2018-04-18 13:57:34 +09:00]])
<https://github.com/whatwg/xhr/issues/157>

[3] [CITE@en[Fix overrideMimeType() again by annevk · Pull Request #174 · whatwg/xhr]]
([TIME[2018-04-18 13:58:06 +09:00]])
<https://github.com/whatwg/xhr/pull/174>