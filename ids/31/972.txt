[104] [[プロキシの名前]]として、通常の[[ホスト]] ([[ドメイン名]]や[[IPアドレス]])
の他に、真の[[ホスト]]を隠匿した識別子が使われる場合があります。
これは、[[プロキシ]]によって内部[[ネットワーク]]内の構造を外部に晒してしまうことを防ぐのが目的です。

* 仕様書

[REFS[
- [17] '''[CITE@en[RFC 7230 - Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing]] ([TIME[2014-06-07 01:59:35 +09:00]] 版) <https://tools.ietf.org/html/rfc7230#section-5.7.1>'''
]REFS]

* 構文

[23] [CODE[Via:]] [[ヘッダー]]における受信者は、 
[CODE(HTTP)@en[[[Host:]]]] [[ヘッダー]]の[[欄値]]と同じような値か、
[[変名]]です。 [SRC[>>17]]

[FIG(railroad)[
= |
== =
=== [[ホストとポート]]
=== ?
==== [CODE(URI)[[[:]]]]
==== [[ポート]]
== [[変名]]
]FIG]

[1] [DFN[[RUBYB[[[変名]]]@en[[[pseudonym]]]]]]は、[[字句]]です。
通常は転送を行う[[受信者]]の[[ホスト]]と[[ポート]]ですが、
これを晒したくない場合には[[変名]]を使うことができます。 [SRC[>>17]]

[2] [[ポート]]が省略された場合には、指定された[[プロトコル]]の[[既定のポート番号]]と解釈して構いません。 [SRC[>>17]]

;; [30] [[ホスト]]は [[ASCII]] でなければなりません。 [[IDN]]
は [[Punycode]] 化する必要があります。

;; [31] [[ホスト]]と[[変名]]は、構文的に完全には区別できません。
ただ実用上は [[TLD]] が[[串]]になっていることは無いでしょう。
([[DNS]] 以外のシステムを使っているネットワークではあり得ますが...)

[3] 実際に指定する値の決定や置き換えについては、 [CODE[Via:]] を参照。

;; [6] この構文は [CODE(HTTP)@en[[[Warning:]]]] [[ヘッダー]]でも使われています。
しかし [CODE(HTTP)@en[[[Warning:]]]] における [CODE[-]] の用法は
[CODE(HTTP)@en[[[Via:]]]] には無いようです。
