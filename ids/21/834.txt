[15] [[IETF]] の [[XML]] 系仕様では [[XML Schema]] や [[RELAX NG]] のデータ型としては [CODE(XML)@en[[[xs:dateTime]]]]
([[XML Schemaの日付形式]]) を採用しつつ、本文で「[[RFC 3339]] の [CODE[[[date-time]]]] かつ [CODE[[[T]]]]
と [CODE[[[Z]]]] は[[大文字]]」とされていることが多いです。[[スキーマ]]が[[規定]]か[[参考]]かは仕様によりますが、
[[RFC 3339]] と [[XML Schema]] の両方の規定の[[積集合]]に従わなければならないということになります。

;; [18] [[ISO 8601の日付形式]>>25]に、両者の比較があります。

[16] [[Atom]] の [[Date construct]] もそのような規定になっています。 (本体仕様の他、関連仕様でそれぞれ個別に同じ規定があります。)

[17] [CITE@en[RFC 5854 - The Metalink Download Description Format]] ([TIME[2011-07-03 17:23:02 +09:00]] 版) <http://tools.ietf.org/html/rfc5854#section-3.2>

[[RFC 3339]] の [CODE(ABNF)@en[[[date-time]]]] を採用しつつ、[[大文字]]でなければ[['''ならない''']]とし、
[[XML Schema]] の [CODE(XML)[[[xs:dateTime]]]] を使っています。

* Date construct (Atom 1.0)

[12] [[Atom]] [SRC[>>11]] および [[Metalink]] [SRC[>>1]]
では、[[日時]]の指定は [DFN[[[Date construct]]]] と呼ばれています。

** 仕様書

[REFS[
- [11] [CITE@en[RFC 4287 - The Atom Syndication Format]] ([TIME[2008-08-30 23:12:03 +09:00]] 版) <http://tools.ietf.org/html/rfc4287#section-3>
- [1] [CITE@en[RFC 5854 - The Metalink Download Description Format]] ([TIME[2014-09-14 16:54:14 +09:00]] 版) <http://tools.ietf.org/html/rfc5854#section-3.2>
]REFS]

** 内容

[13] [[Date construct]] 中には[[空白]]を含めては[['''なりません''']]
[SRC@en[[[Atom 1.0]] 3.]]。

[14] [[RFC 3339]] の [CODE[[[date-time]]]] ([[RFC 3339の日付形式]]) でなければなりません。
記号 [CODE[[[T]]]] と [CODE[[[Z]]]] は[[大文字]]でなければ[['''なりません''']]。 [SRC[>>3, >>1]]

[19] [[RELAX NG]] [[スキーマ]] ([[参考]]) では [CODE[[[xsd:dateTime]]]] となっています [SRC[>>3, >>1]]。

;; [20] [[RFC 3339]] と [[XML Schema]] で定義が微妙に異なります。

** 歴史

[15] [[Atom 0.3]] では [[W3C-DTF]] が用いられていました。 [[Atom 1.0]]
の定義とほとんど変わりませんが、厳密には多少の違いがあります。

* EPP

[7] [[EPP]] では、 [[RFC 3339]] と
[[XML Schema]] [CODE(XML)[[VAR[xsd:]][[dataTime]]]]
の両方の部分集合である日付形式を規定しています。

[8] 仕様書:
- [[RFC 3730]] [CITE[Extensible Provisioning Protocol (EPP)]]
<urn:ietf:rfc:3730>
-- [CSECTION[5.  Internationalization Considerations]]
- [[RFC 3731]] [CITE[Extensible Provisioning Protocol (EPP) Domain Name Mapping]]
<urn:ietf:rfc:3731>
-- [CSECTION[2.4.  Dates and Times]]
-- [CSECTION[5.  Internationalization Considerations]]
- [[RFC 3732]] [CITE[Extensible Provisioning Protocol (EPP) Host Mapping]]
<urn:ietf:rfc:3732>
-- [CSECTION[2.4.  Dates and Times]]
-- [CSECTION[5.  Internationalization Considerations]]
- [[RFC 3733]] [CITE[Extensible Provisioning Protocol (EPP) Contact Mapping]]
<urn:ietf:rfc:3733>
-- [CSECTION[2.7.  Dates and Times]]
-- [CSECTION[5.  Internationalization Considerations]]
- [[RFC 3915]] [CITE[Domain Registry Grace Period Mapping for the Extensible Provisioning Protocol (EPP)]]
<urn:ietf:rfc:3915>
-- [CSECTION[3.3.  Dates and Times]]

[9] RFC 3730〜3733 によれば:
- 基本的には [[RFC 3339の日付形式]] ([CODE(ABNF)[[[date-time]]]]) です。
- [[時間帯]]は [CODE[Z]] でなければ'''なりません'''。
- [CODE[T]] と [CODE[Z]] は大文字でなければ'''なりません'''。

[10] 例:

- [21] [SAMP[2000-06-06T22:00:00.0Z]]
- [22] [SAMP[2005-11-26T22:00:00.0Z]]



* UTC 固定の変種

[2] [[RFC 3982]] は[[時間帯]]を [[UTC]] ([CODE[Z]])
に固定しています。 ([[XML Schema]] 定義では
[CODE(XML)[[VAR[xs:]]dateTime]] を使用。)

[3] 仕様書:
- [[RFC 3982]] [CITE[IRIS:  A Domain Registry (dreg) Type for the Internet Registry Information Service (IRIS)]]
<urn:ietf:rfc:3982>
-- [CSECTION[3.2.1.  Privacy Labels]]

[4] [[EPPの日付形式]]は [CODE(XML)[[VAR[xs:]]dataTime]]
と [[RFC 3339の日付形式]]の両方の部分集合で、
時間帯を [CODE[Z]] に固定した上で [CODE[T]] と [CODE[Z]]
を[[大文字]]で記述すると規定しています。
([[XML Schema]] 定義では [CODE(XML)[[VAR[xs:]]dateTime]] を使用。)

[5]
[[WS-BaseFaults]] 1.2 は、[[時間帯]]が省略された場合には [[UTC]]
と解釈[['''しなければなりません''']]と規定しています。

* 年号

[6] [CODE[xs:dateTime]] は[[10000年問題]]に対応していますが、
[[RFC 3339の日時形式]]は対応していません。
両方の規定に従うためには、9999年までの[[年]]しか扱えません。