[11] [DFN[[RUBYB[一時]@en[temporary]]credentials]]は、 [[OAuth 1.0]]
の[[認可]]の過程において[[クライアント]]からのアクセス要求を識別するものです。
[DFN[[RUBYB[一時]@en[temporary]]credentials[RUBYB[要求]@en[request]]]]は、
[[クライアント]]が[[鯖]]から[[一時credentials]]を取得するための
[[HTTP要求]]です。

* 仕様書

[REFS[
- [1] [CITE@en[RFC 5849 - The OAuth 1.0 Protocol]] ([TIME[2014-12-28 14:19:21 +09:00]] 版) <http://tools.ietf.org/html/rfc5849#section-1.1>
- [3] [CITE@en[RFC 5849 - The OAuth 1.0 Protocol]] ([TIME[2014-12-28 14:19:21 +09:00]] 版) <http://tools.ietf.org/html/rfc5849#section-2>
-- [10] [CITE@en[RFC 5849 - The OAuth 1.0 Protocol]] ([TIME[2014-12-28 14:19:21 +09:00]] 版) <http://tools.ietf.org/html/rfc5849#section-2.1>
]REFS]

* 用語

[2] [[temporary credentials]] のことを元は [DFN[[[request token]]]] および [DFN[[[request token secret]]]]
と呼んでいました [SRC[>>1]]。

* 一時 credentials

[5] [[temporary credentials]] は、[[認可]]の間[[クライアント]]からのアクセス要求を識別するために使います [SRC[>>3]]。

[4] [[temporary credentials]] は、[[temporary credentials要求]]によって[[鯖]]から[[クライアント]]に発行されます。

[6] [[temporary credentials]] は、[[資源所有者認可]]において[[アクセス要求]]を識別するために使います。

[7] [[temporary credentials]] は、[[トークン要求]]において[[クライアント]]が[[鯖]]から[[token credentials]]を得るために使います。

[8] [[鯖]]は、[[token credentials]]を得るために [[temporary credentials]]
が使われた後、[[temporary credentials]] を取り消し ([[revoke]]) しなければ[['''なりません''']]
[SRC[>>3]]。

[9] [[temporary credentials]] の[[寿命]]は限定する[['''べきです''']] [SRC[>>3]]。

* 一時 credentials 要求

[12] [[クライアント]]は、[RUBYB[一時credentials要求]@en[temporary credentials request]]によって[[鯖]]から[[一時credentials]]を得ることができます。

[18] [[鯖]]は[[保安通信路]]を使うことを要求しなければ[['''なりません''']] [SRC[>>10]]。

;; [19] [[HTTP応答]]に[[平文]]の [[credentials]] が含まれることになるからです [SRC[>>10]]。

[14] [[クライアント]]は、[[鯖]]から何らかの方法で[[広告]]された[[エンドポイント]]の
[[URL]] を[[要求URL]]として使います [SRC[>>10]]。

;; 以降の通り、[[引数]]が追加されることもあります。

[13] [[クライアント]]は、[[要求メソッド]]として [CODE(HTTP)@en[[[POST]]]]
を使います。 [SRC[>>10]]

[15] [[クライアント]]は [CODE(HTTP)@en[[[oauth_callback]]]]
[[引数]]を指定しなければ[['''なりません''']] [SRC[>>10]]。

[17] [[クライアント]]は、[[クライアントcredentials]]のみ使って[[認証]]します。
空の [CODE(HTTP)@en[[[oauth_token]]]] [[引数]]は省略しても構いません。
[[token secret]] の値は[[空文字列]]としなければ[['''なりません''']]。 [SRC[>>10]]

[16] [[鯖]]はその他の[[引数]]を求めても構いません。 [SRC[>>10]]

[20] [[鯖]]は[[要求]]を[RUBYB[検証]@en[verify]]し、
[[妥当]]であるなら[[一時credentials]] ([[識別子]]と[[共有秘密]])
を[[応答]]しなければ[['''なりません''']] [SRC[>>10]]。

[21] [[一時credentials]]を送る場合、[[状態符号]]は [CODE(HTTP)[[[200]]]] で、
[[MIME型]]は [CODE(MIME)@en[[[application/x-www-form-urlencoded]]]] とします [SRC[>>10]]。
そこには、次の[[引数]]を含めなければ[['''なりません''']] [SRC[>>10]]。
[FIG(list)[
- [CODE(HTTP)@en[[[oauth_token]]]] は、[[一時credentials]]の[RUBYB[[[識別子]]]@en[identifier]]とします。
- [CODE(HTTP)@en[[[oauth_token_secret]]]] は、[[一時credentials]]の[RUBYB[[[共有秘密]]]@en[shared-secret]]とします。
- [CODE(HTTP)@en[[[oauth_callback_confirmed]]]] は、 [CODE(HTTP)@en[[[true]]]]
とします。
]FIG]

;; [22] [CODE(HTTP)@en[[[oauth_callback_confirmed]]]] は、 [[OAuth 1.0]] 
の最初の版と区別するためのものです。
