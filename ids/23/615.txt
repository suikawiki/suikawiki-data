[11] [DFN[[RUBYB[[[UNIXドメインソケット]]]@en[UNIX domain socket]]]]は、
多くの [[UNIX]] 系システムで実装されている [[IPC]] 機構の一種です。

[REFS[
- [4] [CITE[Man page of UNIX]]
([TIME[2012-07-10 13:44:11 +09:00]] 版)
<http://linuxjm.sourceforge.jp/html/LDP_man-pages/man7/unix.7.html>
]REFS]

* API

[6] [[Socket]]

* 上位層プロトコル

[1] 様々な[[アプリケーションプロトコル]]の下位層として用いられています。

[10] [[HTTP]] での利用については、 [[HTTP接続]]を参照。

* URL

[5] [[URL scheme]] として [DFN[[CODE(URI)@en[[[unix:]]]]]]
が使われることがあります。

[13] [[PHP]]5以上では [[Unix domain socket]] による[[データグラム]] ([[UDP]] 相当)
を表すために [DFN[[CODE(URI)@en[[[udg:]]]]]] を使っています。

* 実装

[FIG(quote)[
[FIGCAPTION[
[2] [CITE@en[Docker basics - Docker Documentation]]
([TIME[2015-02-27 00:20:24 +09:00]] 版)
<https://docs.docker.com/articles/basics/>
]FIGCAPTION]

> 
> unix://path/to/socket -> Unix socket located at path/to/socket

]FIG]


[FIG(quote)[
[FIGCAPTION[
[3] [CITE@en[Docker basics - Docker Documentation]]
([TIME[2015-02-27 00:20:24 +09:00]] 版)
<https://docs.docker.com/articles/basics/>
]FIGCAPTION]

> 
> $ sudo <path to>/docker -H tcp://127.0.0.1:2375 -H unix:///var/run/docker.sock -d &

]FIG]

[FIG(quote)[
[FIGCAPTION[
[7] [CITE@en[Connection String URI Format — MongoDB Manual 2.6.7]]
([TIME[2015-01-24 08:01:19 +09:00]] 版)
<http://docs.mongodb.org/manual/reference/connection-string/>
]FIGCAPTION]

> The following connects to a UNIX domain socket:
> mongodb:///tmp/mongodb-27017.sock

]FIG]

[FIG(quote)[
[FIGCAPTION[
[8] [CITE[Module ngx_http_proxy_module]]
([TIME[2015-02-26 15:57:24 +09:00]] 版)
<http://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_pass>
]FIGCAPTION]

> or as a UNIX-domain socket path specified after the word “unix” and enclosed in colons:
> proxy_pass http://unix:/tmp/backend.socket:/uri/;

]FIG]

[FIG(quote)[
[FIGCAPTION[
[9] [CITE[AnyEvent::Socket - search.cpan.org]]
([TIME[2015-03-21 20:30:43 +09:00]] 版)
<http://search.cpan.org/dist/AnyEvent/lib/AnyEvent/Socket.pm#($service,_$host)_=_AnyEvent::Socket::unpack_sockaddr_$sa>
]FIGCAPTION]

> If the $text is unix/, then this function returns a special token recognised by the other functions in this module to mean "UNIX domain socket".

]FIG]


[FIG(quote)[
[FIGCAPTION[
[12] [CITE@en[kennethreitz/dj-database-url]]
([TIME[2015-07-09 00:48:26 +09:00]] 版)
<https://github.com/kennethreitz/dj-database-url>
]FIGCAPTION]

> With PostgreSQL, you can also use unix domain socket paths with percent encoding: postgres://%2Fvar%2Flib%2Fpostgresql/dbname.

]FIG]
