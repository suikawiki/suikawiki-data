[13] [DFN[[[distinguished name]]]] ([DFN[[[DN]]]]) / [[X.501]] の[[型]] [DFN[[CODE[[[Name]]]]]] は、
「国名」その他の[[属性]]によって表現される階層化された名前を表すものです。

* 仕様書

[REFS[
- [1] '''[CITE@en[RFC 5280 - Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile]] ([TIME[2015-02-22 15:44:10 +09:00]] 版) <http://tools.ietf.org/html/rfc5280#section-4.1.2.4>'''
- [20] [CITE@en[RFC 5280 - Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile]] ([TIME[2015-02-22 15:44:10 +09:00]] 版) <http://tools.ietf.org/html/rfc5280#section-4.1.2.6>
- [27] [CITE@en[RFC 5280 - Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile]] ([TIME[2015-02-22 15:44:10 +09:00]] 版) <http://tools.ietf.org/html/rfc5280#section-7.1>
]REFS]

[3] [[RFC 5280]] は [[X.501]] の[[型]] [CODE[[[Name]]]] の[[インターネットPKI]]における[[プロファイル]]を規定しています。

* 構文

[4] [CODE[[[Name]]]] の書式は [[ASN.1]] により定義されています。

[5] [DFN[[CODE[[[Name]]]]]] は、 [CODE[[[RDNSequence]]]] 型の値の[[欄]]
[DFN[[CODE[[[rdnSequence]]]]]] のみを持ちます [SRC[>>1]]。

[6] [DFN[[CODE[[[RDNSequence]]]]]] は、 [CODE[[[RelativeDistinguishedName]]]]
の[[列]] ([CODE[[[SEQUENCE]]]]) です [SRC[>>1]]。

[7] [DFN[[CODE[[[RelativeDistinguishedName]]]]]] は、1個[[以上]]の
[CODE[[[AttributeTypeAndValue]]]] の[[集合]]です [SRC[>>1]]。

[8] [DFN[[CODE[[[AttributeTypeAndValue]]]]]] は、
[CODE[[[AttributeType]]]] 型の[[欄]] [DFN[[CODE[[[type]]]]]] と
[CODE[[[AttributeValue]]]] 型の[[欄]] [DFN[[CODE[[[value]]]]]] で構成されます [SRC[>>1]]。

[9] [DFN[[CODE[[[AttributeType]]]]]] は、[[オブジェクト識別子]]です [SRC[>>1]]。

[10] [DFN[[CODE[[[AttributeValue]]]]]] は、 [CODE[[[AttributeType]]]] によって決まる値です [SRC[>>1]]。通常は [CODE[[[DirectoryString]]]] となります [SRC[>>1]]。

;; [12] まとめると、1つ[[以上]]の[[属性]]の[[集合]]であり、[[属性]]は[[型]]と[[値]]により構成されます。

* 文脈

[2] [[証明書]]の [CODE[[[issuer]]]] [[欄]], [CODE[[[subject]]]]
[[欄]]の値として用いられます。

* 属性

[17] [[RFC 5280]] は[[名前]]中で使用できる[[属性型]]を制限していません [SRC[>>1]]。

[18] 次の[[属性型]]を含む [CODE[[[issuer]]]] と [CODE[[[subject]]]]
の[[名前]]に対応しなければ[['''なりません''']]。 [SRC[>>1]]

[FIG(short list)[
- [[country]]
- [[organization]]
- [[organization unit]]
- [[distinguished name qualifier]]
- [[state or province name]]
- [[common name]]
- [[serial number]]
- [CODE[[[domainComponent]]]]
]FIG]

[19] 次の[[属性型]]を含む [CODE[[[issuer]]]] と [CODE[[[subject]]]]
の[[名前]]に対応する[['''べきです''']]。 [SRC[>>1]]

[FIG(short list)[
- [[locality]]
- [[title]]
- [[surname]]
- [[given name]]
- [[initials]]
- [[pseudonym]]
- [[generation qualifier]]
]FIG]

[26] その他:
[FIG(short list)[
- [CODE[[[emailAddress]]]]
]FIG]

* 比較

[FIG(quote)[
[FIGCAPTION[
[28] [CITE@en[RFC 5280 - Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile]]
([TIME[2015-02-22 15:44:10 +09:00]] 版)
<http://tools.ietf.org/html/rfc5280#section-7.1>
]FIGCAPTION]

> Two naming attributes match if the attribute types are the same and
the values of the attributes are an exact match after processing with
the string preparation algorithm.  Two relative distinguished names
RDN1 and RDN2 match if they have the same number of naming attributes
and for each naming attribute in RDN1 there is a matching naming
attribute in RDN2.  Two distinguished names DN1 and DN2 match if they
have the same number of RDNs, for each RDN in DN1 there is a matching
RDN in DN2, and the matching RDNs appear in the same order in both
DNs.  A distinguished name DN1 is within the subtree defined by the
distinguished name DN2 if DN1 contains at least as many RDNs as DN2,
and DN1 and DN2 are a match when trailing RDNs in DN1 are ignored.

]FIG]

[21] [CODE[[[subject]]]] [[欄]]の値の比較では、[[属性値]]が [CODE[[[DirectoryString]]]]
なら、その比較規則を使って構いません。それ以外の値なら、バイナリ比較を使うべきです。 [SRC[>>20]]


[FIG(quote)[
[FIGCAPTION[
[11] [CITE@en[RFC 6125 - Representation and Verification of Domain-Based Application Service Identity within Internet Public Key Infrastructure Using X.509 (PKIX) Certificates in the Context of Transport Layer Security (TLS)]]
([TIME[2015-03-13 22:27:53 +09:00]] 版)
<https://tools.ietf.org/html/rfc6125#section-1.8>
]FIGCAPTION]

> attribute-type-and-value pair:  A colloquial name for the ASN.1-based
>       construction comprising a Relative Distinguished Name (RDN), which
>       itself is a building-block component of Distinguished Names.  See
>       Section 2 of '''['''LDAP-DN''']'''.

]FIG]
