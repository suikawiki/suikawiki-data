[8] [DFN[漢数字]]は、[[漢字]]の[[数字]]です。

* 仕様書

[REFS[
- [4] [CITE@en[Numbers]]
([TIME[2015-12-13 23:28:14 +09:00]] 版)
<https://manakai.github.io/spec-numbers/#cjk-numbers>
-- [10] [CITE@en[Numbers]] ([TIME[2019-03-05 14:39:57 +09:00]]) <https://manakai.github.io/spec-numbers/#parse-a-cjk-number>
]REFS]

* 記数法

[62] [CITE@ja[93651301_01.pdf]], [TIME[2022-08-22T08:37:01.000Z]], [TIME[2024-10-19T07:51:16.587Z]] <https://www.bunka.go.jp/seisaku/bunkashingikai/kokugo/hokoku/pdf/93651301_01.pdf#page=28>

** 位取り記数法

[SEE[ [[漢数字の位取り記数法]] ]]

* 十

[38] [[[CH[十]]]], [[[CH[廿]]]]、[[[CH[卅]]]]、[[[CH[卌]]]], [[50]]

* and

@@
[44] 
「十又二」
「十有三」

* 弋

- [75] [CH[弌]]
- [76] [CH[弍]], [CH[弍󠄂]], [CH[弐]]
- [77] [CH[弎]], [CH[弎󠄂]], [CH[__&&swc692(弎)&&__]], [CH[__&&swc697(弎)&&__]]
- [78] [CH[__&&swc688(亖弋)&&__]], [CH[__&&swc690(亖弋)&&__]], [CH[__&&swc696(亖弋)&&__]]
- [79] [CH[__&&swc691(二三弋)&&__]], [CH[__&&swc693(二三弋)&&__]], 
[CH[__&&swc694(二三弋)&&__]], [CH[__&&swc695(二三弋)&&__]]

[80] 
[TIME[嘉禎3(1237)年][1237]]までに成立したとされる
[CITE[[[宮寺縁事抄]]]]
に収録された
[CITE[住吉縁起]]
([[明朝体]][[翻刻]])
は、
古い時代に
[CH[弌]],
[CH[弍󠄂]],
[CH[弎󠄂]],
[CH[__&&swc690(亖弋)&&__]],
[CH[__&&swc691(二三弋)&&__]]
が使われたようなことが書かれています。
[SRC[>>74, >>83]]

[HISTORY[

[81] >>74 に[CH[弐]]が出てくるのが不審ですが、[[誤植]]か誤[[翻刻]]でしょうか。

[84] >>83 だと[CH[弍]]なので、[[誤植]]のようです。
]HISTORY]

[82] 
[[住吉大社]]に関係する縁起の1本にあるものだといい、
言うまでもなく怪しげな説ですが、[[鎌倉時代]]初期、もしかすると[[平安時代]]末期頃
([SEE[ [[宮寺縁事抄]] ]])
にはそのような説が唱えられていたということなのでしょう。
[SEE[ [[二中歴]]の古代年号の項 ]]

[87] 
[CITE[[[宗像大菩薩御縁起]]]]にも同じ一節があります。 [SRC[>>86]]
こちらは[[鎌倉時代]]末期から[[南北朝時代]]の写本とされます。



[REFS[

- [72] 
[CITE@ja-JP[[[石清水八幡宮史料叢書]] 2 (縁起・託宣・告文)]], [[石清水八幡宮社務所]], [TIME[1976]], [TIME[2024-11-28T09:48:19.000Z]], [TIME[2024-12-15T05:18:41.891Z]] <https://dl.ndl.go.jp/pid/3006229/1/61> (要登録)
-- [73] [CITE[[[宮寺縁事抄]]]]
--- [74] [CSECTION[住吉縁起]]
- [83] 
[CITE@ja-JP[[[大日本古文書]] 家わけ 四ノ五]], [[東京帝国大学文学部史料編纂所]], [TIME[大正2][1913]], [TIME[2024-11-28T09:48:19.000Z]], [TIME[2024-12-15T07:22:59.935Z]] <https://dl.ndl.go.jp/pid/1915659/1/110>
- [85] 
[CITE@ja[[[宗像関連古文書]]・史料|世界遺産「神宿る島」宗像・沖ノ島と関連遺産群デジタルアーカイブ]], [TIME[2024-12-17T13:51:41.000Z]] <https://www.munakata-archives.asia/frmSearchArchiveDetail.aspx?langid=&id=1474>
-- [86] 
[CITE[[[宗像大菩薩御縁起]]]]


]REFS]


[50] [CITE@ja[拾萬字鏡🐦さんはTwitterを使っています: 「弌、弍、弎、…?? https://t.co/v5yGDNmH28」 / X]], [TIME[午前9:24 · 2017年3月18日][2017-03-18T00:24:42.000Z]], [TIME[2023-08-07T01:38:32.000Z]] <https://twitter.com/JUMANJIKYO/status/842894496232747008>

[CH[弌]], [CH[弍]], [CH[__&&swc692(弎)&&__]], [CH[__&&swc690(亖弋)&&__]] ([[楷書]])



* 処理

[11] 
[DFN[[RUBYB[漢数字の構文解析]@en[parse a CJK number]]]][[アルゴリズム]]
[SRC[>>10]] により、[[漢数字]]の[[文字列]]を[[数値]]に変換できます。

* 文字コード

[40] 
ほとんどの[[文字コード]]体系では[[漢数字]]を[[漢字]]一般と区別していません。

[41]
珍しい例として [[CCCII]] には[[漢字]]と別に[[漢数字]]があります。

[42] 
[[〇]]は例外で、[[日本語]]系の[[文字コード]]では[[非漢字]]扱いになっています。
[[中文]]系の[[文字コード]]では[[漢数字]]の[[〇]]を使わずに[[全角]]の[[欧州数字]]の
[[0]] を使います。
[SEE[ [[〇]] ]]

[43] 
[[中文]]系の[[文字コード]]では 10, 20, 30 が[[蘇州号碼]]として用意されています。
横線型の 1, 2, 3 はなく[[漢数字]]と (= 一般の[[漢字]]と) 共用とされています。
[SEE[ [[蘇州号碼]] ]]


* 実装

[45] 
[CITE@en[wakaba/perl-number-cjk]], [TIME[2023-04-18T04:05:31.000Z]] <https://github.com/wakaba/perl-number-cjk>

* テストデータ

[33] [CITE@en[[[data-chars]]/cjk-numbers.json at master · manakai/data-chars]], [TIME[2020-12-29T02:04:10.000Z]] <https://github.com/manakai/data-chars/blob/master/data/tests/cjk-numbers.json>

* 関連

[SEE[ [[蘇州号碼]] ]]

* メモ

[1] [CITE@ja[漢数字 - Wikipedia]]
([TIME[2015-12-06 17:02:31 +09:00]] 版)
<https://ja.wikipedia.org/wiki/%E6%BC%A2%E6%95%B0%E5%AD%97>

[2] [CITE@ja[大字 (数字) - Wikipedia]]
([TIME[2015-11-11 00:20:18 +09:00]] 版)
<https://ja.wikipedia.org/wiki/%E5%A4%A7%E5%AD%97_(%E6%95%B0%E5%AD%97)>

[3] [CITE@ja[命数法 - Wikipedia]]
([TIME[2015-12-08 14:22:41 +09:00]] 版)
<https://ja.wikipedia.org/wiki/%E5%91%BD%E6%95%B0%E6%B3%95>

[5] [CITE@en[Character set "漢数字"]]
([TIME[2015-12-14 12:10:14 +09:00]] 版)
<https://chars.suikawiki.org/set/%24numbers%3ACJK-number-char>

[FIG(quote)[
[FIGCAPTION[
[6] [CITE@ja[法令番号 - Wikipedia]]
([TIME[2015-12-14 00:31:28 +09:00]] 版)
<https://ja.wikipedia.org/wiki/%E6%B3%95%E4%BB%A4%E7%95%AA%E5%8F%B7>
]FIGCAPTION]

> 縦書き環境では漢数字であるが、行政での方式(例:百七十五)と異なり、簡素な方式(例:一七五)が用いられる

]FIG]


[7] [CITE[1.無電台(新設増設報告)関係 真茹無電台ハ別項(10.)ニアリ/分割1]]
(28ページ [[アジア歴史資料センター | Japan Center for Asian Historical Records]]著, [TIME[2017-03-24 15:57:36 +09:00]])
<https://www.jacar.archives.go.jp/aj/meta/image_B10074937500>

[9] [CITE@en[Support for Japanese numbers · Issue #639 · MenoData/Time4J]]
([TIME[2018-03-18 16:01:06 +09:00]])
<https://github.com/MenoData/Time4J/issues/639>

[12] [CITE@ja[千円単位の書き方!1000千円や3000千円は? '''['''一般事務で働く・転職する''']''' All About]]
([TIME[2019-03-12 13:17:08 +09:00]])
<https://allabout.co.jp/gm/gc/295828/>

[13] [CITE@ja[大至急教えて下さい!!10百万円と資本金に記入されているんで... - Yahoo!知恵袋]]
([TIME[2019-03-12 13:18:22 +09:00]])
<https://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1020597170>

[FIG(quote)[
[FIGCAPTION[
[14] ([TIME[2018-05-18 13:31:11 +09:00]])
<http://www.heiwado.jp/ir/img_61pdf_all/year_05.pdf>
]FIGCAPTION]

> 40億37百万円減少

]FIG]


[FIG(quote)[
[FIGCAPTION[
[15] ([TIME[2016-08-09 16:11:21 +09:00]])
<http://nakashima-s.co.jp/wp-content/uploads/2016/08/b53398e7a45e7195d6b6874ac937d947.pdf>
]FIGCAPTION]

> 【資本金】 1,000万円
> 【売上高】 1,324百万円(2015年決算)

]FIG]


[FIG(quote)[
[FIGCAPTION[
[16] [CITE@ja[会社概要 | SCSK株式会社]]
([TIME[2019-03-11 09:15:02 +09:00]])
<https://www.scsk.jp/corp/outline.html>
]FIGCAPTION]

> 資本金
> 21,152百万円
> 売上高
> 336,654百万円(2018年3月期 連結)
> 営業利益
> 34,602百万円(2018年3月期 連結)

]FIG]


[17] ([TIME[2015-01-13 10:11:54 +09:00]])
<http://www.moe.gov.cn/ewebeditor/uploadfile/2015/01/13/20150113091154536.pdf>

[18] [CITE[CLDR: #4473 (Add Suzhou and counting rod numbering systems) – CLDR]]
([TIME[2019-04-02 11:55:16 +09:00]])
<https://unicode.org/cldr/trac/ticket/4473>

[19] [CITE@ja[大字 (数字) - Wikipedia]]
([TIME[2019-07-08 09:16:19 +09:00]])
<https://ja.wikipedia.org/wiki/%E5%A4%A7%E5%AD%97_(%E6%95%B0%E5%AD%97)>

[20] 
「⿰氵𣎽」、
「氵<https://glyphwiki.org/wiki/zihai-000617>[SUP[丶]]」
(「柒」の伝統的楷書体 [CITE[解説字体辞典]] 普及版 pp.14-15)

[21] [[GB/T 15835]]

[22] [CITE@ja[『吸血鬼すぐ死ぬ』人気投票の投票数が「20潤2溝400億3187万2259無量大数1158不可思議9994那由他7923阿僧祇5925恒河沙3394極17載227正5013澗7636溝3129穣701杼8436垓3237京5482兆1365億2080万2682票」も集まって笑う人達。全ての原因は悪ふざけ投票システム - Togetter]]
([TIME[2020-07-06 18:14:37 +09:00]])
<https://togetter.com/li/1552370>

[23] [CITE@ja[使わぬ外字に歴史あり - ことばマガジン:朝日新聞デジタル]]
([[The Asahi Shimbun Company]]著, [TIME[2020-08-11 13:56:28 +09:00]])
<http://www.asahi.com/special/kotoba/archive2015/moji/2012061700005.html>

[24] [CITE@ja[続・使わぬ外字に歴史あり - ことばマガジン:朝日新聞デジタル]]
([[The Asahi Shimbun Company]]著, [TIME[2020-08-11 14:00:11 +09:00]])
<http://www.asahi.com/special/kotoba/archive2015/moji/2012070200007.html>

[25] [CITE@ja[和歌山県条例の形式を左横書きに改正する条例]]
([TIME[2020-08-31T04:54:46.000Z]], [TIME[2020-09-06T13:47:41.388Z]])
<https://www.pref.wakayama.lg.jp/prefg/010100/reiki/reiki_honbun/k501RG00001382.html>

[26] ([TIME[2019-11-15T11:20:49.000Z]], [TIME[2020-09-06T13:49:54.510Z]])
<https://www.bunka.go.jp/kokugo_nihongo/sisaku/joho/joho/kijun/sanko/koyobun/pdf/yoryo_ver02.pdf>

[27] [CITE@ja[朝日字体の時代 20 - ことばマガジン:朝日新聞デジタル]]
([[The Asahi Shimbun Company]], [TIME[2020-09-19T08:30:09.000Z]])
<http://www.asahi.com/special/kotoba/archive2015/moji/2014122500001.html>


[28] 
[CITE[090905.pdf]], [TIME[2011-07-14T05:38:31.000Z]], [TIME[2020-10-16T10:58:16.685Z]] <https://www.nhk.or.jp/bunken/summary/research/report/2009_09/090905.pdf>

[29] 
興味深い調査だけど分析に日本の伝統が云々と入ってくるあたりはちょっと怪しい。
「平成20年」だけでなく「平成21年」も調査するべきだったろう
(「二十」と「二〇」の違いと「二十」と「二一」の違いは若干性質が異なる)。




[30] [CITE[姿形書換字(1)]]
([TIME[2016-11-24T08:26:47.000Z]], [TIME[2020-11-05T11:05:02.587Z]])
<http://gattin.world.coocan.jp/kanji/sikeika.htm>

[FIG(quote)[
[FIGCAPTION[
[31] [CITE@ja[第136回 幼稚園と文字 | 漢字の現在(笹原 宏之) | 三省堂 ことばのコラム]]
([TIME[2020-11-23T02:09:28.000Z]])
<https://dictionary.sanseido-publ.co.jp/column/kanji_genzai136>
]FIGCAPTION]

> 金文には、「五」までその方式があったと解読する人もいた。琉球では、独特な数字が編み出され、使用されていた時期があったが、もっと横線をたくさん書き、一目では何本あるのか分からないものもあった。さらに中国では、「万(萬)」という姓を書くように頼まれた者が、「一」を下へ下へと500本くらいまで重ねて書いたところで時間切れになって音を上げたという笑い話もあることを知った。

]FIG]



[34] [CITE[数字の表記を考える]], [TIME[2013-09-08T00:12:23.000Z]], [TIME[2022-01-12T09:58:56.277Z]] <http://www5d.biglobe.ne.jp/Jusl/Bunsyo/Suujihyouki.html>


[35] 
>>34

>このパソコンで金額表記をしようとする場合,「23456」と入力すると,辞書機能で「23,456」と位取りをして自動変換されるが,まず「2万3456円」とは変換されない。表計算ソフトで金額を入力しても,自動的に万進法で表示されることはない。パソコンは,基本的に千進法を数字の呼称単位とする欧米式思考の産物だからである。 

これは現状認識としては正しいと思いますが、悲しいことですよね。
昔は[[日本語入力システム]]を作っていたのは全員[[日本人]]だったから、
(それが米国の技術に憧れた技術者だったとしてもみんながみんな) 「欧米式思考」に侵されていたとは思いたくない。
実際のところ[[平成]]初期くらいは[[日本語入力システム]]もその周辺環境も、
今よりもっと多様性があったような。
[[表計算]]は「欧米式思考」かもしれないけれども、
昔は4桁区切りに設定できる製品もあった気がするし、
今の製品がどうなのかはしらんけど、それができてこその[[ロケール]]。
できないのは技術者の怠慢でしかない。

ここに挙げられた問題も、他のいろいろな問題も、結局は日本の技術者が日本の文化にちゃんと向き合ってこなかったり、
日本人が製品選択時にそこを検討基準に入れてこなかったり、
という小さな怠慢の積み重ねで、未だに未解決のままに残されていたり、
「欧米式思考」に押しつぶされたりしちゃったのですよね、、、


[36] [CITE[拼音正词法基本规则]], [[Mark Swofford]], [TIME[2004-10-02T11:02:43.000Z]], [TIME[2022-03-13T06:39:11.247Z]] <http://www.pinyin.info/rules/pinyinrules_simp.html#x4.6>

[37] [CITE[22111-unihan-numeric-updates.pdf]], [TIME[2022-06-14T13:32:46.000Z]], [TIME[2022-06-17T03:40:02.269Z]] <https://www.unicode.org/L2/L2022/22111-unihan-numeric-updates.pdf>

[47] [CITE@ja[田中けい🇺🇦🇯🇵さんはTwitterを使っています: 「ATMで45千円おろしたら全部千円札で出てきた。。。45千という入力のせいですかね?」 / Twitter]], [TIME[午前10:32 · 2023年6月18日][2023-06-18T01:32:31.000Z]], [TIME[2023-06-18T11:06:08.000Z]] <https://twitter.com/TANAKA_Kei/status/1670243060188590081>




[51] [CITE@ja[数字表記で4苦8苦|コトバのゲンバ(中日新聞校閲部)]], [TIME[2023-10-19T11:00:10.000Z]] <https://note.com/kotoba_no_genba/n/n5a53ab17d335?sub_rt=share_pw>

>2023年9月に、中日新聞は数字の基礎表記を漢数字から洋数字に改めました。[SNIP[]]

>最近では福島民報が2022年9月に「新聞制作システムの更新に伴い」洋数字に変更。中部圏では伊勢新聞が、自社記事は漢数字、通信社の配信記事は洋数字で併存させるという形式を採っています。


[55] 
最近の[[新聞社]]は右に倣えで大新聞や通信社が変えたらすぐ真似するというイメージ(偏見)があったけど、
意外とそうでないところもあったのね。

[56] 
でも[[縦書き]]と相性が悪い[[欧州数字]]に切り替えるところが多くて、[[漢数字]]に戻すところがないってのがなんともまあ。
自分で考えることをしないで猿真似ばかり。

[52] >>51

>[SNIP[]]
毎日新聞社校閲グループの平山泉さんは、雑誌のインタビューにこう答えています。
>>    「(注・1996年の洋数字化の)当初は洋数字と決めていました。けれど、第一次、第二次世界大戦は戦争のレベルとして別格で、3次、4次と繰り返されることは決してあってはならない、という強い意見が社内から出て、漢数字に変更したんです。言葉にはそうした思い入れも反映されるんだ、と実感しました。ちなみに、第1次中東戦争などは洋数字で書きます」
>
[BOX(right)[
雑誌「クロワッサン」(2018年6月25日号)
]BOX]

[53] 
また[[毎日新聞]]か。[[毎日新聞]]は言葉遣いの[[イデオロギー]]汚染がひどすぎる。
[SEE[ [[毎日新聞]] ]]

[54] 
こんな言い方すると[[中東戦争]]は繰り返してもいいのかってクソリプしてくるやつ絶対いるはずだけど何て返してるんだろうね?




[57] [CITE@ja[RosettaDoc300_Sinosphere.pdf]], [TIME[2020-06-06T17:29:26.000Z]], [TIME[2024-01-07T04:23:04.459Z]] <https://occhann.jp/Documents/RosettaDoc300_Sinosphere.pdf>

[58] [CITE@ja[Xユーザーの治田 洗礫さん: 「昭和28(1953)年の社会科地図帳(帝国書院)に載っていた「#警察」の地図。警察・防衛の組織が過渡期だった時期にて、現在からは想像が及びにくいが、警察組織に #自治体警察署 と #国家地方警察署 があって混在していたり、実質的には準軍事組織である #警察予備隊 についても描かれている。 https://t.co/eA2k2Af6Ss」 / X]], [TIME[午後10:39 · 2024年4月11日][2024-04-11T13:39:33.000Z]], [TIME[2024-04-18T05:18:49.000Z]] <https://twitter.com/Harita_arayshi/status/1778417607319896276/photo/1>

[59] >>58
漢数字のことを「日本数字」といっている。

「アラビア数字」の記述や地名は[[左横書き]]なのに「日本数字」の記述は[[縦書き]]なのもおもしろい点。


[60] 
令和6年の[[東京都知事選挙]]では[[漢数字]]の[[改良][日本語新字]]を[[公約]]の1つに掲げる候補が出現しました。
当選の可能性や[[公約]]への賛否はともかくとして、
今この時代に[[文字改良][国語国字問題]]が政治的課題に挙げられるというのは大変興味深い現象です。





[61] [CITE@ja[平成16年度e-Bookに関する標準化調査研究成果報告書 - h16_hyoujunka_nihonkikakukyoukai-11.pdf]], [TIME[2007-09-26T15:00:00.000Z]], [TIME[2024-08-23T09:19:13.105Z]] <https://hojo.keirin-autorace.or.jp/seikabutu/seika/16nx_/bhu_/w_/h16_hyoujunka_nihonkikakukyoukai-11.pdf#page=135>



- [63] [CITE@ja[XユーザーのKen Lunde 小林剣さん: 「@shell_mug See Consensus 173-C11 from #UTC173, along with the associated action items, specifically 173-A45. Summary: Any value over 10000000000000000 was explicitly excluded due to overflow concerns. https://t.co/4mlIljLhhl」 / X]], [TIME[午前2:14 · 2024年11月17日][2024-11-16T17:14:19.000Z]], [TIME[2024-12-02T09:40:57.000Z]] <https://x.com/ken_lunde/status/1857834598178370041>
- [64] [CITE@ja[Python の isnumeric() の謎を追う:"兆" は True、"垓" は False? - マグマグ (起動音)]], [TIME[2024-12-02T09:44:18.000Z]] <https://shmug.hatenablog.com/entry/2024/12/01/000000>


[65] 
>>63 明確な処理モデルの規定もないのに「桁溢れするかも」という謎の基準で勝手に取捨選択する情報ファイル、使い道あると思う?

[66] 
この特性値は恒久的にこの値以下であることが保証されます、みたいな規定がないのに気分次第で
いつ勝手に増やされるか減らされるかわからない、って怖くて使えないじゃん。



[67] 
そもそも[[数字]]って文脈がない数値価だけあっても使えないんだよな。。。
この[[文字特性]]の使い道は謎すぎるよな。

[68] 
[[Python]] で [CODE["一億万".isnumeric()]] 実行したら[[真]]になるけど誰がどう嬉しいんだろうねこれ。


[69] [CITE@ja[Python 3.13 から「兆」が 10 の 6 乗になっている - マグマグ (起動音)]], [TIME[2024-12-05T12:20:19.000Z]] <https://shmug.hatenablog.com/entry/2024/12/03/000000>

>
Python 3.13 から unicodedata.numeric("兆") の結果が変わったのは、Unicode 15.1 で「兆」(U+5146) の kPrimaryNumeric が変更されたためです。参考までに、Unicode 15.0[SUP[5]] と Unicode 15.1[SUP[6]] での Unihan データベースで「兆」の扱いを掲載しておきます。
,*バージョン 	,*kPrimaryNumeric 	,*Numeric_Value
,15.0 	,[CODE[1000000000000]], 	[CODE[1000000000000]]
,15.1 	,[CODE[1000000 1000000000000]], 	[CODE[1000000]]


[70] 
この [CODE[kPrimaryNumeric]] は何か使い道あるのかな。せめてどの系列における[CH[兆]]はこの数値価、みたいな区別の情報がないと、ただ並べただけだと役に立たないゴミデータじゃない?

[71] 
ウェブ検索でいっぱい引っかかる Unihan の文字特性を並べただけのゴミサイトの情報が充実してうわーすごーい!っていうくらいしかメリットなくない?


[32] [CITE@ja[L2/25-009 (CJK & Unihan Working Group Recommendations for UTC #182 Meeting) - 25009-cjk-unihan-wg-utc182.pdf]], [TIME[2025-01-10T15:32:22.000Z]], [TIME[2025-01-11T14:05:33.609Z]] <https://www.unicode.org/L2/L2025/25009-cjk-unihan-wg-utc182.pdf#page=17>

[39] 
[CITE@ja[25054-ktaynumeric.pdf]], [TIME[2025-02-03T16:10:05.000Z]], [TIME[2025-02-04T02:46:44.672Z]] <https://www.unicode.org/L2/L2025/25054-ktaynumeric.pdf>

