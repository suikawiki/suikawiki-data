[3] [CODE(DOMi)@en[[[URLUtils]]]] [[インターフェイス]]の
[DFN[[CODE(DOMa)@en[[[host]]]]]] [[IDL属性]]は、
[[ホスト]]と[[ポート]]を表します。

* 仕様書

[REFS[
- [4] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2016-03-14 22:44:13 +09:00]] 版) <https://html.spec.whatwg.org/#dom-location-host>
]REFS]

* 性質

[24] この[[属性]]は、 [CODE(xattr IDL)@en[Unforgeable]] です [SRC[>>4]]。

* 取得器

[5] [CODE(JS)@en[location.host]] の[[取得器]]は、次のようにしなければ[MUST[なりません]]
[SRC[>>4]]。

[FIG(steps)[
= [8] [[文脈オブジェクト]]の[F[[[関係する[CODE(DOMi)@en[Document]]]]]]の[F[実効スクリプト起源]]と[[入口設定群オブジェクト]]の[F[実効スクリプト起源]]が[[同じ起源]]でなければ、
== [9] [CODE(DOMe)@en[SecurityError]] [[例外]]を[[投げ]]、ここで停止します。
= [10] [VAR[URL]]を、[[文脈オブジェクト]]の[F[URL][Location (DOM)]] に設定します。
= [6] [VAR[URL]]の[F[ホスト]]が [[null]] なら、
== [7] [[空文字列]]を返してここで停止します。
= [14] [VAR[結果]]を、[VAR[URL]]の[F[ホスト]]に[[ホスト直列化器]]を適用した結果に設定します。
= [11] [VAR[URL]]の[F[ポート]]が [[null]] でなければ、
== [15] [VAR[結果]]の末尾に [CODE[:]] を追加します。
== [12] [VAR[結果]]の末尾に [VAR[URL]] の[F[ポート]]に[[整数の直列化]]を適用した結果を追加します。
= [13] [VAR[結果]]を返します。
]FIG]

* 設定器

[17] [CODE(JS)@en[location.host]] の[[設定器]]は、次のようにしなければ[MUST[なりません]]
[SRC[>>4]]。

[FIG(steps)[
= [18] [[文脈オブジェクト]]の[F[[[関係する[CODE(DOMi)@en[Document]]]]]]の[F[実効スクリプト起源]]と[[入口設定群オブジェクト]]の[F[実効スクリプト起源]]が[[同じ起源]]でなければ、
== [19] [CODE(DOMe)@en[SecurityError]] [[例外]]を[[投げ]]、ここで停止します。
= [20] [VAR[複製]]を、[[文脈オブジェクト]]の[F[URL][Location (DOM)]] に設定します。
= [22] [VAR[複製]]の[F[非相対フラグ]]が設定されていれば、ここで停止します。
= [21] 与えられた値に[[基本URL構文解析]]を適用します。
[VAR[URL]] は[VAR[複製]]、[VAR[状態上書き]]は [[host state]] とします。
= [23] [[文脈オブジェクト]]と [VAR[複製]]について
[[[CODE(DOMi)@en[Location]]-object-setter navigate]] を実行します。
]FIG]

* 関連

[16] [[URL Standard]] の用語である[[ホスト]]は、[[ポート]]を含まない[[ホスト名]]部分を表します。
一方 [[DOM API]] の [CODE(DOMa)@en[host][location.host]] は、
[[ホスト]]と[[ポート]]の両方を表します。

[2] [CODE(DOMa)@en[[[hostname]]]] [[IDL属性]]は[[ホスト]]のみを表します。

* 歴史

[REFS[
- [1] [CITE@en[URL Standard]] ([TIME[2015-09-18 15:38:29 +09:00]] 版) <https://url.spec.whatwg.org/#dom-urlutils-host>
]REFS]