[2] [DFN[[RUBYB[[[要素を文書に挿入]]]@en[insert an element into a document]]]]するとは、
[[要素]]を[[文書]]の[[子孫]]とすることをいいます。

* 仕様書

[REFS[
- [1] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2014-07-20 22:41:10 +09:00]] 版) <http://www.whatwg.org/specs/web-apps/current-work/#insert-an-element-into-a-document>
]REFS]

* 定義

[3] [[要素]]の[[根要素]]が変更され、[[文書]]の[[根要素]]となったとき、
[DFN[[RUBYB[[[文書に挿入]]]@en[inserted into a document]]]]されたといいます [SRC[>>1]]。

;; [4] この定義によれば、[[根要素]]が[[文書]]に挿入されて[[文書]]の[[根要素]]となった時には、
[[根要素]]自身は変化していませんから、[[文書に挿入]]はされていないこととなります。
(意図通りなのかは不明です。) 他の定義との整合性を考えると、
このケースも該当すると考えるべきかもしれません。

* 処理

[7] [[文書への挿入]]のタイミングで行われる[[要素]]ごとの処理も存在しています。

[FIG(list)[
- [CODE(HTMLe)@en[[[meta]]]] [SRC[[[HTML Standard]]]]
- [CODE(HTMLe)@en[[[style]]]] [SRC[[[HTML Standard]]]]
- [CODE(HTMLe)@en[[[link]]]] [SRC[[[HTML Standard]]]]
- [CODE(HTMLe)@en[[[iframe]]]] [SRC[[[HTML Standard]]]]
- [CODE(HTMLe)@en[[[object]]]] [SRC[[[HTML Standard]]]]
- [[フォーム被関連付け要素]] [SRC[[[HTML Standard]]]]
- [[ID]] のある[[要素]] [SRC[[[HTML Standard]]]]
- [CODE(HTMLa)@en[[[autofocus]]]] のある[[要素]] [SRC[[[HTML Standard]]]]
- [CODE(HTMLe)@en[[[script]]]] [SRC[[[HTML Standard]]]]
]FIG]

* 関連

[5] [[文書]]が属する[[木]]以外の場合や、[[要素]]以外の場合も含まれる
「[[節点の挿入]]」という[[フック]]も存在します。

[6] 逆に[[要素が文書から削除]]される場合に発生する処理もあり、
挿入時と共通しているものも多くあります。