[2] [DFN[[RUBYB[[[要素を文書から削除]]]@en[remove an element from a document]]]]するとは、
[[要素]]を[[文書]]の[[子孫]]ではない状態にすることをいいます。

* 仕様書

[REFS[
- [1] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2014-07-20 22:41:10 +09:00]] 版) <http://www.whatwg.org/specs/web-apps/current-work/#remove-an-element-from-a-document>
]REFS]

* 定義

[3] [[要素]]の[[根要素]]が[[文書]]の[[根要素]]から他の[[要素]]に変更されることを、
[DFN[[RUBYB[文書から削除]@en[removed from a document]]]]されたといいます [SRC[>>1]]。

;; [4] この定義では[[文書]]の[[根要素]]が[[文書]]から削除された時が該当するのか不明瞭です
(「他の」[[要素]]には変更されていない)。他の定義との整合性を考えると、
該当すると考えるべきとも思えます。

* 処理

[7] 次の[[要素]]ごとの処理が定義されています。

[FIG(list)[
- [CODE(HTMLe)@en[[[style]]]] ※ [SRC[[[HTML Standard]]]]
- [CODE(HTMLe)@en[[[iframe]]]] [SRC[[[HTML Standard]]]]
- [CODE(HTMLe)@en[[[object]]]] ※ [SRC[[[HTML Standard]]]]
- [[媒体要素]] [SRC[[[HTML Standard]]]]
- [[ID]] のある[[要素]] [SRC[[[HTML Standard]]]]
- [CODE(HTMLe)@en[[[dialog]]]] [SRC[[[HTML Standard]]]]
- [CODE(HTMLe)@en[[[embed]]]] [SRC[[[HTML Standard]]]]
- [CODE(HTMLe)@en[[[applet]]]] ※ [SRC[[[HTML Standard]]]]
]FIG]

;; [8] [CODE(HTMLe)@en[[[embed]]]] と [CODE(HTMLe)@en[[[applet]]]]
については仕様上 [[in a [CODE(DOMi)@en[Document]]]] を使って半ば宣言的に規定されていますが、
実質的に「[[要素の文書からの削除]]」の処理に該当します。

[9] 「※」のあるものは、[[構文解析器]]による挿入で特別扱いされるもので、
[[開いている要素のスタック]]からの除去で挿入時の処理が行われるかもしれませんが、
同時に削除が発生するならその処理は行われるべきではないと考えられます。
([[構文解析器]]による削除は [CODE(HTMLe)@en[[[frameset]]]] による置き換えでしか発生しないはずです。
[[AAA]] では同じ[[木]]の内部の移動しか起こらないはず...)

* 関連

[5] [[要素]]に限定されず、また[[文書]]の属する[[木]]にも限定されない、
「[[節点の削除]]」という[[フック]]もあります。

[6] 逆の状況である「[[要素を文書に挿入]]」もあります。