[6] 名前と値を [CODE(HTTP)[=]] で連ねた構文は[DFN[[RUBY[引数][ひきすう]@en[parameter]]]]と呼ばれています。

* 仕様書

[REFS[
- [1] [CITE@en[RFC 7231 - Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content]] ([TIME[2014-08-07 05:54:02 +09:00]] 版) <https://tools.ietf.org/html/rfc7231#page-79>
]REFS]

* 構文

[2] いわゆる[[引数]]構文は、それぞれで異なる定義になっています。
その多くは構文の一部を共有していますが、それぞれ個別の要件が課されていることがあります。

[3] [[RFC 7231]] は新しい[[ヘッダー]]についてできるだけ構文解析器を流用できるように共通の構文を採用することを求めています
[SRC[>>1]]。

;; [5] しかし [[RFC 723x]] の[[引数]]系構文はそれぞれで構文が少しずつ異なっているのですが...
同時に追加されたはずの [CODE(HTTP)@en[[[Forwarded:]]]] と
[CODE(HTTP)@en[[[Prefer:]]]] すら別々の構文を規定していますし...

[4] 特に値について[[字句]]と[[引用文字列]]の両方を認め、
その両者で意味を同じとすることをすすめています [SRC[>>1]]。

[9] いくつかの場面では [CODE(HTTP)[[[=]]]] と値を省略できますが、
そうでない場面も多々あります。値の省略は[[空文字列]]の指定と同一視される場面もありますが、
そうでない場面もあります。

[10] いくつかの場面では [CODE(HTTP)[[[=]]]] の前後に [CODE(ABNF)@en[[[BWS]]]]
が含まれていますが、そうでない場面もあります。

[11] 多くの場面では [CODE(HTTP)[[[;]]]] の前後に [CODE(ABNF)@en[[[OWS]]]]
が含まれていますが、そうでない場面もあります。

[12] いくつかの場面では [CODE(HTTP)[[[;]]]] の連続 (名前と値の組のかわりに[[空文字列]])
が認められています。

;; [13] 類似した構文である[[リスト]] ([CODE(HTTP)[#]]) では [CODE(HTTP)[[[,]]]]
の連続は認められていませんが、[[受信者]]は対応することが求められています。
[[引数]]に関してはなぜかそのような規定はなく、文脈ごとに構文が違っています。

[14] 値は[[字句]]と[[引用文字列]]の両方の構文が認められ、どちらも同じ意味とするのが普通ですが、
その解釈が明記されていないことや、どちらか一方に限定されていること、
定義上一方に限定されているように書かれているものの行間や実態からどちらでも良いと解釈するべきこともあります。

[15] 名前は[[ASCII大文字・小文字不区別]]で、値は区別されるのが普通ですが、
明記されていないこともあります。

[16] 多くの場面では同名の[[引数]]が複数ある場合の処置を明記していません。

[17] 多くの場合は[[引数]]の順序に意味があるか明記していませんが、
意味は無いのが普通です。

* 引数やそれと同様の構文を採用している箇所

[FIG(list short)[
- [[転送符号化]]
- [CODE(HTTP)@en[[[TE:]]]]
- [[MIME型]]
- [[媒体範囲]]
- [CODE(HTTP)@en[[[Accept:]]]] ([CODE(ABNF)@en[[[accept-params]]]])
- [[品質値]]
- [CODE(HTTP)@en[[[chunked]]]]
- 各種[[指令]]
-- [CODE(HTTP)@en[[[Cache-Control:]]]]
-- [CODE(HTTP)@en[[[Pragma:]]]]
-- [CODE(HTTP)@en[[[Strict-Transport-Security:]]]]
-- [CODE(HTTP)@en[[[Negotiate:]]]]
- [CODE(ABNF)@en[[[auth-param]]]]
-- [[challenge]]
-- [[credentials]]
- [CODE(HTTP)@en[[[Authentication-Info:]]]]
- [CODE(HTTP)@en[[[Forwarded:]]]]
- [CODE(HTTP)@en[[[Prefer:]]]]
- [CODE(HTTP)@en[[[Preference-Applied:]]]]
- [CODE(HTTP)@en[[[Set-Cookie:]]]]
- [CODE(HTTP)@en[[[Set-Cookie2:]]]]
- [CODE(HTTP)@en[[[Cookie:]]]]
]FIG]

;; [7] [[HTTP]] 以外では、 [[MIMEヘッダー]]や[[電子メール]]の[[ヘッダー]]の一部、 [[HTML]]
の [CODE(HTML)@en[<[[meta]] [[http-equiv]]>]] の一部で似た
(しかし異なる) 構文を採用しています。また [[URL]] の [[query]] や [[HTML]]
の[[属性]]の指定も似たようにみえる構文を採用していますが、かなりの違いもあります。

* メモ

[8] [CITE@en[charset / Content-Type BNF flaw in RFC2616]] ([[Andreas Maier]] 著, [TIME[2007-05-23 20:41:09 +09:00]] 版) <http://lists.w3.org/Archives/Public/ietf-http-wg/2007AprJun/0065.html>
([[名無しさん]] [WEAK[2007-06-11 11:22:27 +00:00]])
