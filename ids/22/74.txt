[2] 意味的に意味のある形で ([[HTTP]] の通常の処理で要求されるもの以上の)
メッセージを変更するよう設計された、あるいは設定された [[HTTP]] から [[HTTP]]
への[[串]]を、[DFN[[RUBYB[[[変形串]]]@en[transforming proxy]]]]といいます [SRC[>>1]]。

* 仕様書

[REFS[
- [1] '''[CITE@en[RFC 7230 - Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing]] ([TIME[2014-06-07 01:59:35 +09:00]] 版) <https://tools.ietf.org/html/rfc7230#section-5.7.2>'''
- [9] [CITE@en[RFC 7234 - Hypertext Transfer Protocol (HTTP/1.1): Caching]] ([TIME[2014-09-11 10:19:59 +09:00]] 版) <https://tools.ietf.org/html/rfc7234#section-5.2>
-- [7] [CITE@en[RFC 7234 - Hypertext Transfer Protocol (HTTP/1.1): Caching]] ([TIME[2014-09-11 10:19:59 +09:00]] 版) <https://tools.ietf.org/html/rfc7234#section-5.2.1.6>
-- [11] [CITE@en[RFC 7234 - Hypertext Transfer Protocol (HTTP/1.1): Caching]] ([TIME[2014-09-11 10:19:59 +09:00]] 版) <https://tools.ietf.org/html/rfc7234#section-5.2.2.4>
]REFS]

* [CODE(HTTP)@en[Cache-Control: no-transform]]

[8] [[要求]]や[[応答]]の [CODE(HTTP)@en[[[Cache-Control:]]]] [[ヘッダー]]の
[DFN[[CODE(HTTP)@en[[[no-transform]]]]]] [[キャッシュ指令]]は、
[[中間器]]が ([[キャッシュ]]であるかどうかに関わらず)
[[payload]] を[[変形]]しては[['''ならない''']]ことを示します [SRC[>>7, >>11]]。

[10] この[[キャッシュ指令]]は[[引数]]を指定できません [SRC[>>9]]。

* 処理モデル

[3] [[串]]は、 [CODE(HTTP)@en[[[no-transform]]]] [[キャッシュ制御指令]]を含む[[メッセージ]]の
[[payload]] を[[変形]]しては[['''なりません''']] [SRC[>>1]]。

[4] [[串]]は、 >>3 以外の[[メッセージ]]の [[payload]] を[[変形]]して[['''構いません''']] 
[SRC[>>1]]。

[215] [[payload]] を[[変形]]する[[串]]は、[[警告符号]] [CODE(HTTP)[[[214]]]]
の [CODE(HTTP)@en[[[Warning:]]]] [[ヘッダー]]を (なければ) 追加しなければ[['''なりません''']]
[SRC[>>1]]。

[216] [[payload]] を[[変形]]する[[串]]は、 [CODE(HTTP)[[[200]]]] [[応答]]を[[転送]]する時に
[CODE(HTTP)[[[203]]]] に[[状態符号]]を変更することができます [SRC[>>1]]。

* 実装

[REFS[
- [5] [CITE[Hatena::MobileGateway]]
([TIME[2011-09-09 12:16:11 +09:00]] 版)
<http://mgw.hatena.ne.jp/help#deny>
]REFS]

[6] >>5 は [[HTTP]] でいう[[中間器]]ではありませんが、
[[応答]]の [CODE(HTTP)@en[[[Cache-Control:]] [[no-transform]]]]
に対応しているようです。