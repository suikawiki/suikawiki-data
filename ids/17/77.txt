* 仕様書

[REFS[
- [1] [CITE@en-US[DOM Standard]] ([TIME[2014-09-14 14:03:21 +09:00]] 版) <https://dom.spec.whatwg.org/#dom-document-url>
- [2] [CITE@en-US[DOM Standard]] ([TIME[2014-09-14 14:03:21 +09:00]] 版) <https://dom.spec.whatwg.org/#concept-document-url>
- [3] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2014-09-16 21:36:14 +09:00]] 版) <https://html.spec.whatwg.org/#documents>
]REFS]

* [CODE(JS)@en[document.URL]]

[4]
[[DOM HTML]]、[[Firefox]] 2.0、[[Opera]] 9 では
[CODE(DOMa)@en[[[URL]]]] [[属性]]を[[読取専用]]としていますが、
[[WinIE 6]] では値の[[設定]]もできます。
[CODE(JS)@en[[CODE(DOMa)@en[[[location]]]].[CODE(DOMa)@en[[[href]]]]]]
のように、与えられた [[URI]] に[[遷移]]します。

;; 
<http://suika.fam.cx/~wakaba/-temp/test/dom/document/meta/url/set-http-1.html>

[7] [CITE@en-us[url Property (DOMDocument)]]
( ([TIME[2013-05-12 05:14:37 +09:00]] 版))
<http://msdn.microsoft.com/en-us/library/ms767669(v=vs.85).aspx>

* [CODE(JS)@en[document.documentURI]]

[12] [[Firefox]] 2.0 と [[Opera]] 9 は [CODE(DOMa)@en[[[documentURI]]]]
[[属性]]を実装しています。 [[WinIE 6]] は実装していません。

;; 
<http://suika.fam.cx/~wakaba/-temp/test/dom/document/meta/document-uri/get-1.html>

[13] >>12 いずれも、値の設定はできないようです。

;;
<http://suika.fam.cx/~wakaba/-temp/test/dom/document/meta/document-uri/set-http-1.html>

* 実際と異なる URL

[14] [[文書の番地]]は、次の場合に実際とは異なる (同じ瞬間に同じ条件で [[fetch]]
していたとしても同じものが得られない) [[URL]] に設定されます。
[FIG(list)[
- [CODE(DOMm)@en[[[pushState]]]]/[CODE(DOMm)@en[[[replaceState]]]] 後
- [[[CODE(HTMLe)@en[iframe]] [CODE(HTMLa)@en[srcdoc]]文書]]
- [CODE(JS)@en[[[window.open]]]] 後
- [CODE(URI)@en[[[javascript:]]]] への [[navigate]] 後
]FIG]

* 歴史

[5] [CITE[''''''[''''''whatwg'''''']'''''' Reconcile document.URL and document.documentURI?]]
( ([TIME[2012-01-14 12:22:47 +09:00]] 版))
<http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2012-January/034377.html>

[6] [CITE@en[Web Applications 1.0 r7145 sync with dom core]]
( ([TIME[2012-06-27 04:29:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=7144&to=7145>

[8] [CITE@en[Web Applications 1.0 r7159     Turns out that browsers don't distinguish between the 'document's address' and the 'documents's current address', so we can merge them.]]
( ([TIME[2012-06-29 10:23:00 +09:00]] 版))
<http://html5.org/tools/web-apps-tracker?from=7158&to=7159>

[9] [CITE[''''''[''''''whatwg'''''']'''''' Document's base URI should use the document's *current* address]]
( ([TIME[2012-06-29 17:17:08 +09:00]] 版))
<http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-June/036504.html>

[10] [CITE[IRC logs: freenode / #whatwg / 20120629]]
( ([TIME[2012-07-15 16:06:48 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20120629>

[11] [CITE[IRC logs: freenode / #whatwg / 20130117]]
( ([TIME[2013-01-18 21:01:10 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20130117#l-766>


[15] [CITE[The HTTP Protocol As Implemented In W3]]
([TIME[1999-10-27 03:45:32 +09:00]] 版)
<http://www.w3.org/Protocols/HTTP/AsImplemented.html>