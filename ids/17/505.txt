* 仕様書

[REFS[
- [14] [CITE@en[Public Suffix List]] ([TIME[2014-07-29 18:50:45 +09:00]] 版) <https://publicsuffix.org/>
-- [15] [CITE@en[View the Public Suffix List]] ([TIME[2014-07-29 17:56:21 +09:00]] 版) <https://publicsuffix.org/list/>
- [20] [CITE@en[RFC 6265 - HTTP State Management Mechanism]] ([TIME[2014-10-12 15:11:47 +09:00]] 版) <http://tools.ietf.org/html/rfc6265#section-5.3>
- [23] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-03-05 09:33:40 +09:00]] 版) <https://html.spec.whatwg.org/#dom-document-domain>
- [25] [CITE@en-GB-x-hixie[HTML Standard]] ([TIME[2015-03-05 09:33:40 +09:00]] 版) <https://html.spec.whatwg.org/#dom-external-issearchproviderinstalled>
]REFS]

* 分類

[33] [[PSL]] には ICANN DOMAINS と PRIVATE DOMAINS の2つの部分があります。

[34] ICANN DOMAINS には [[gTLD]] や [[ccTLD]] と、それらの下位にある分類を表すドメインが掲載されています。

[35] PRIVATE DOMAINS には、私企業等が自身の保有するドメインを第三者に割り当てているもの
(独自のドメイン階層の販売者、[[クラウド]]サービス事業者、[[DDNS]] 事業者等)
が掲載されています。

* 処理

[21] [[Cookie]] の[[利用者エージェント]]は、できれば最新の [[public suffix]]
のリストを使う[['''べきです''']] [SRC[>>20]]。

[24] [CODE(JS)@en[[[document.domain]]]] の[[設定器]]は、
新しい値が適切かどうか [[Public Suffix List]] によって検査しなければ[['''なりません''']]
[SRC[>>23]]。

;; [CODE(JS)@en[[[document.domain]]]] では比較方法も規定されています。

[26] [CODE(DOMm)@en[[[IsSearchProviderInstalled]]]] [[メソッド]]は、
判定に [[Public Suffix List]] を使わなければ[['''なりません''']] [SRC[>>25]]。

[32] [[BR]] に従う [[CA]] は [[PSL]] の ICANN DOMAINS に掲載された [[public suffix]]
のみについての[[ワイルドカード証明書]]を発行してはなりません。

;; [[ワイルドカード証明書]]を参照。

* 歴史

[1] [CITE[mozilla-central mozilla/netwerk/dns/effective_tld_names.dat]]
( ([TIME[2011-03-01 01:48:36 +09:00]] 版))
<http://mxr.mozilla.org/mozilla-central/source/netwerk/dns/effective_tld_names.dat>

[2] [CITE@en[draft-pettersen-subtld-structure-10 - The Public Suffix Structure file format and its use for Cookie domain validation]]
( ([TIME[2014-05-18 19:19:53 +09:00]] 版))
<http://tools.ietf.org/html/draft-pettersen-subtld-structure-10>

[3] [CITE@en[Bug 25865 – Consider defining Public Suffix]]
( ([TIME[2014-05-28 02:47:14 +09:00]] 版))
<https://www.w3.org/Bugs/Public/show_bug.cgi?id=25865>

[4] [CITE@en[Public Suffix List/Uses - MozillaWiki]]
( ([TIME[2014-05-23 07:49:48 +09:00]] 版))
<https://wiki.mozilla.org/Public_Suffix_List/Uses>

[5] [CITE@en[Understanding Domain Names in Internet Explorer - IEInternals - Site Home - MSDN Blogs]]
( ([TIME[2014-05-28 02:54:02 +09:00]] 版))
<http://blogs.msdn.com/b/ieinternals/archive/2009/09/19/private-domain-names-and-public-suffixes-in-internet-explorer.aspx>

[6] [CITE@ja-JP[''''''[''''''IE'''''']'''''' Internet Explorer が 2 文字のドメインに対して Cookie を設定しない]]
( ([TIME[2014-05-28 02:54:25 +09:00]] 版))
<http://support.microsoft.com/kb/310676>

[7] [CITE@en[Re: ''''''[''''''DNSOP'''''']'''''' Public Suffix List]]
( ([TIME[2008-06-12 14:10:38 +09:00]] 版))
<http://www.mail-archive.com/dnsop@ietf.org/msg01002.html>

[8] [CITE@en[Bug List]]
( ([TIME[2014-01-15 03:36:25 +09:00]] 版))
<https://bugzilla.mozilla.org/buglist.cgi?component=Networking%3A%20Domain%20Lists>

[9] [CITE@en[Bug List]]
( ([TIME[2014-01-15 03:36:31 +09:00]] 版))
<https://bugzilla.mozilla.org/buglist.cgi?component=Networking%3A%20Domain%20Lists>

[10] [CITE@en[687165 – Pseudo-TLDs causing problems for Chrome navigations]]
( ([TIME[2014-01-15 03:44:38 +09:00]] 版))
<https://bugzilla.mozilla.org/show_bug.cgi?id=687165>

[11] [CITE@en[712640 – Split PSL into "registry" and "owner-requested" sections]]
( ([TIME[2014-01-15 03:45:36 +09:00]] 版))
<https://bugzilla.mozilla.org/show_bug.cgi?id=712640>

[12] [CITE@en[Public Suffix List - MozillaWiki]]
( ([TIME[2013-08-10 14:11:55 +09:00]] 版))
<https://wiki.mozilla.org/Public_Suffix_List>

[13] [CITE@en[687165 – Pseudo-TLDs causing problems for Chrome navigations]]
( ([TIME[2014-09-19 14:57:36 +09:00]] 版))
<https://bugzilla.mozilla.org/show_bug.cgi?id=687165>

[16] [CITE@en[draft-pettersen-subtld-structure-10 - The Public Suffix Structure file format and its use for Cookie domain validation]]
( ([TIME[2014-08-25 02:38:41 +09:00]] 版))
<https://tools.ietf.org/html/draft-pettersen-subtld-structure-10>

[17] [CITE@en[draft-sullivan-domain-policy-authority-01 - Asserting DNS Administrative Boundaries Within DNS Zones]]
( ([TIME[2014-09-14 18:25:17 +09:00]] 版))
<http://tools.ietf.org/html/draft-sullivan-domain-policy-authority-01>

[18] [CITE[rhcloud.com on the Public Suffix List | OpenShift Forums]]
( ([TIME[2014-10-09 15:51:45 +09:00]] 版))
<https://forums.openshift.com/rhcloudcom-on-the-public-suffix-list>

[19] [CITE[IRC logs: freenode / #whatwg / 20121027]]
( ([TIME[2012-11-22 22:18:53 +09:00]] 版))
<http://krijnhoetmer.nl/irc-logs/whatwg/20121027#l-133>

[22] [CITE@en[draft-pettersen-dns-cookie-validate-05 - Enhanced validation of domains for HTTP State Management Cookies using DNS]]
( ([TIME[2014-10-16 13:01:02 +09:00]] 版))
<http://tools.ietf.org/html/draft-pettersen-dns-cookie-validate-05>

[27] [[HTML Standard]] の古い版から派生して [[W3C]]  [[HTML WG]] が変更を加えて出版した
[[HTML 5.0]] は、(元の [[HTML Standard]] に存在していた) [[W3C]] 
が認めている[[標準化団体]]が出版した文書への [[normative reference]]
を削除するなど不可解な編集により仕様としての整合性に欠いていることがありますが、
[[Public Suffix List]] については [[HTML Standard]] と同じまま [[Mozilla]]
の [[Webサイト]]を引用している [SRC[>>28]] ようです。

[REFS[
- [28] [CITE@en-US-x-Hixie[HTML5]] ([TIME[2014-10-25 01:15:24 +09:00]] 版) <http://www.w3.org/TR/2014/REC-html5-20141028/single-page.html#refsPSL>
]REFS]

;; [29] [[特許ポリシー]]に関する独特の解釈に基づき [[URL Standard]] への参照を意味の分からない独自の記述に置き換えたり、
[[仕様書]]ではない文書であるためなのか [[microformats wiki]] への参照を[[規定]]から[[参考]]に置き換えたりしている [[W3C]] [[HTML 5.0]] ですが、
[[特許ポリシー]]が存在せず、仕様書でも無い [[Public Suffix List]] への参照はなぜか[[規定]]のままです。


[30] [CITE@en[Public Suffix List - MozillaWiki]]
([TIME[2015-03-09 17:08:02 +09:00]] 版)
<https://wiki.mozilla.org/Public_Suffix_List>

[FIG(quote)[
[FIGCAPTION[
[31] ([TIME[2014-11-01 05:54:38 +09:00]] 版)
<https://cabforum.org/wp-content/uploads/BRv1.2.3.pdf#page=25>
]FIGCAPTION]

> Note: For purposes of determining the appropriate domain name level or Domain Namespace, the registerable
> Domain Name is the second-level domain for generic top-level domains (gTLD) such as .com, .net, or .org, or, if the
> Fully Qualified Domain Name contains a 2 letter Country Code Top-Level Domain (ccTLD), then the domain level
> is whatever is allowed for registration according to the rules of that ccTLD. 

]FIG]


[FIG(quote)[
[FIGCAPTION[
[36] [CITE@en[Mozilla CA Certificate Inclusion Policy — Mozilla]]
([TIME[2015-04-06 23:00:45 +09:00]] 版)
<https://www.mozilla.org/en-US/about/governance/policies/security-group/certs/policy/inclusion/>
]FIGCAPTION]

> Each dNSName in permittedSubtrees must be a registered domain (with zero or more subdomains) according to the Public Suffix List algorithm.

]FIG]


[37] [CITE@en[publicsuffix/list]]
([TIME[2015-09-12 14:24:08 +09:00]] 版)
<https://github.com/publicsuffix/list>

[38] [CITE@en[Public Suffix List]]
([TIME[2015-09-12 14:24:21 +09:00]] 版)
<https://github.com/publicsuffix>