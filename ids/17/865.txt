[9] [DFN[Web [RUBYB[互換性]@en[compatibility]]]]とは、現実の [[Web]]
の世界との (主に [[Webサイト]]の [[HTML]] や [[JavaScript]] と、
あるいは [[Web鯖]]の挙動との) [[互換性]]のことをいいます。
多くの場合、何らかの仕様書に明示されていない [[Webブラウザー]]の挙動について、
それに依存しているものが存在することをもって「[[Web互換性]]のために必要」
などと議論する時に使います。

[1] [[Web]] で利用されている技術は、広く利用されているため、その拡張や変更には色々な制限があります。
ある実装方法や拡張案を採用することによって現実に存在している[[文書]]や[[アプリケーション]]の動作に支障が出たり、
意図しない解釈をしてしまったりする場合があります。そういったものを[DFN[[RUBYB[Web互換]@en[Web-compatible]]]]でないといいます。

[EG[
[2] 例えば、 [[Web]] 上の相当数の [[HTML文書]]は、
[[タグ]]の入れ子関係が間違っているなど構文上の誤りを含んでいます。
構文的に正しくない [[HTML文書]]に遭遇した時に処理を停止し、エラーを表示するような実装は、
[[Web互換]]とは言えません。
]EG]

[10] [[Webブラウザー]]および近代的な[[Web標準]]の開発において、[[Web互換性]]は最も重要な性質の一つであると考えられています。
セキュリティ上必要な場合など極めて例外的な場合を除き、[[Web互換性]]の無い変更や新機能は
[[Webブラウザー]]に実装されることはありませんし、[[Web互換性]]のために必要な機能が削除されることもありません。

;; [11] 歴史的には [[Web標準]]の制定プロセスにおいて[[Web互換性]]は軽視されてきましたし、
現在でもなお [[IETF]] や [[W3C]] においては [[Web互換性]]の優先度は必ずしも高くありません。

* Web 非互換な変更

[3] [[Web互換]]でない変更が企てられたことは過去に何例かありますが、
多くは失敗しています。

[FIG(list)[
- [[AttrExodus]]
- [[IE10]] における [[Flash]] の排除
- [[RDFa]]
- [[無奇癖モード]]における[[注釈]]の[[構文解析]]の変更
- [[RSS]]/[[Atom]] の [CODE(XMLa)@en[[[xml-stylesheet]]]] の無視
- [[HTML]] への [[XML名前空間]]構文の追加
- [[XHTML]] への移行
- [[HTML]] の [[SGML]] 化
]FIG]

[4] [[セキュリティー]]を目的とした変更は [[Web互換]]でなくても受け入れざるを得ないことがあります。
また圧倒的なシェアを背景に強行される例もあります。

[FIG(list)[
- [[Mixed Content]] 規制の強化
- 旧版 [[WebSocket]] の削除
- [[スマートフォン]]における [[Flash]] の事実上の排除
- [[ポップアップ]]の抑制
- [[SSL 2.0]] の削除
- [[平文]] [[WebDAV]] の[[basic認証]]の排除
]FIG]

* Web の vendor 中立性と Web 互換性

[12] [[Web互換性]]は、 [[Web]] が [[vendor]] 中立であり、
複数の[[相互運用性]]の高い実装が共存していることを前提に成立しています。
[[Webブラウザー]]は複数存在し、それぞれが (大部分で重なりつつも) 異なる [[Web]] 
技術を実装ています。[[著者]]はその差異を認識し、いずれの [[Webブラウザー]]でも意図通りに動作させられる範囲内で
[[Web]] 技術を用いることを (幸か不幸か) 要求されています。

[13] いずれかの [[Webブラウザー]]でしか実装されていない機能や、
[[Webブラウザー]]同士で異なる方法で実装されている機能を用いたとすると、
すべての [[Webブラウザー]]で正しく動作する[[文書]] ([[Webアプリケーション]]) とはなりません。
その場合、仮に特定の [[Webブラウザー]]でのみ正しく動作していたとしても、
[[Web]] 全体として見た時その[[文書]]ははじめから「壊れて」います。
その [[Webブラウザー]]が以後の版でその機能の実装方法を変更したり、
機能自体を削除したりして、その[[文書]]がその [[Webブラウザー]]でさえ正しく動作しなくなったとしても、
元から「壊れて」いたものがより壊れただけです。
[[相互運用性]]の低い機能の変更や削除は、 [[Web非互換]]とは考えられていません。

[EG[
[14] 例えば [[Google]] は [[Chrome]] で [[Web Intents]] を実装しました。
いくつかの [[Webアプリケーション]]はこれを利用しました。その後 [[Chrome]]
は [[Web Intents]] を削除し、そのような [[Webアプリケーション]]は動作しなくなりました。
しかしこれは [[Web非互換]]な変更とは考えられていません。
]EG]

[EG[
[15] [[IE10]] は、 [[IE]] が10年間対応し続けてきた [CODE(CSS)@en[[[filter]]]]
や [[VML]] を削除しました。
[[IE]] 専用のサイトなどでこれらの機能はよく用いられていましたが、
これらは元々 [[IE]] 以外では実装されておらず、
[[Web非互換]]な変更ではありません。
]EG]

* Web 互換性の科学的測定

[6] 元々 [[Web互換性]]は[[Webブラウザー]]開発者と仕様開発者の経験や出荷後の不具合報告などから判断するしかありませんでしたが、
2005年頃に [[Ian Hickson]] が [[Google]] の収集したデータから得られた数値を [[HTML5]]
の開発に取り入れたことを契機に、できるだけ客観的な測定値をもとに議論する試みが広がってゆきました。

[7] [[HTML]] のような静的な対象については、調査の対象となるデータセットを整備し、
そこから機能の利用度を推測する方法が採られています。

[8] [[DOM]] [[API]] のような[[スクリプト]]の機能については、
利用された回数を測定する仕組みが [[Chrome]] や [[Firefox]] の開発版に組み込まれています。

* 歴史

[5] 確証はありませんが、[[Web互換]]という言葉が使われだしたのは00年代末か10年代初め頃ではないでしょうか。